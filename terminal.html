---
layout: vimdoc
helpname: 'terminal'
---
<div id='vimCodeElement'>
<a class="Constant" href="terminal.html" name="terminal.txt">terminal.txt</a>&nbsp;&nbsp;For&nbsp;<span class="Identifier">Vim バージョン 8.1.</span>&nbsp;&nbsp;Last change: 2018 May 17<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Identifier">VIMリファレンスマニュアル&nbsp;&nbsp;&nbsp;&nbsp;by Bram Moolenaar</span><br>
<br>
<br>
端末ウィンドウサポート&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal" name="terminal">terminal</a>&nbsp;<a class="Constant" href="terminal.html#terminal-window" name="terminal-window">terminal-window</a><br>
<br>
<br>
端末機能はオプションなので、あなたのVimが対応しているかは次のコマンドを使って<br>
確認できます:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo has('terminal')</div>
結果が &quot;1&quot; ならば対応しています。<br>
<br>
<br>
1. 基本的な使い方&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-use">terminal-use</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;キー入力&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-typing">terminal-typing</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;サイズと色&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-size-color">terminal-size-color</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;文法&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#:terminal">:terminal</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;サイズ変更&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-resizing">terminal-resizing</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;端末モード&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#Terminal-mode">Terminal-mode</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;カーソルスタイル&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-cursor-style">terminal-cursor-style</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;セッション&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-session">terminal-session</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;特別なキー&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-special-keys">terminal-special-keys</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-unix">terminal-unix</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-ms-windows">terminal-ms-windows</a><br>
2. 端末通信&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-communication">terminal-communication</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vim からジョブへ: term_sendkeys()&nbsp;<a class="Identifier" href="terminal.html#terminal-to-job">terminal-to-job</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ジョブから Vim へ: JSON API&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-api">terminal-api</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;クライアントサーバー機能を使う&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-client-server">terminal-client-server</a><br>
3. リモートテスト&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-testing">terminal-testing</a><br>
4. 画面ダンプの差分&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-diff">terminal-diff</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vimの画面ダンプテストを書く&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-dumptest">terminal-dumptest</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;画面ダンプを作成する&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-screendump">terminal-screendump</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;画面ダンプを比較する&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-diffscreendump">terminal-diffscreendump</a><br>
5. デバッグ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#terminal-debug">terminal-debug</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;はじめに&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#termdebug-starting">termdebug-starting</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;セッション例&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#termdebug-example">termdebug-example</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;コードをステップ実行する&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#termdebug-stepping">termdebug-stepping</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;変数を検査する&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#termdebug-variables">termdebug-variables</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;その他のコマンド&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#termdebug-commands">termdebug-commands</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;プロンプトモード&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#termdebug-prompt">termdebug-prompt</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;通信&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#termdebug-communication">termdebug-communication</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;カスタマイズ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#termdebug-customizing">termdebug-customizing</a><br>
<br>
<span class="Special">{Vi にはこれらのコマンドはありません}</span><br>
<span class="Special">{Vimが&nbsp;</span><a class="Identifier" href="various.html#+terminal">+terminal</a><span class="Special">&nbsp;機能付きでコンパイルされたときのみ有効}</span><br>
<br>
端末機能を使うには&nbsp;<a class="Identifier" href="various.html#+multi_byte">+multi_byte</a>,&nbsp;<a class="Identifier" href="various.html#+job">+job</a>&nbsp;そして&nbsp;<a class="Identifier" href="various.html#+channel">+channel</a>&nbsp;機能が必要です。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
1. 基本的な使い方&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-use" name="terminal-use">terminal-use</a><br>
<br>
これは Vim のウィンドウ内で端末エミュレーターを実行する機能です。端末エミュレー<br>
ターに接続すると1つのジョブが開始されます。例としてシェルを実行するならば以下<br>
のようになります:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp; :term bash</div>
<br>
またビルドコマンドを実行するにはこうなります:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp; :term make myprogram</div>
<br>
ジョブはVimとは非同期的に動作し、他のウィンドウで編集中であってもジョブからの<br>
出力は随時端末ウィンドウに反映されます。<br>
<br>
<br>
<span class="PreProc">キー入力</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-typing" name="terminal-typing">terminal-typing</a><br>
端末ウィンドウにキーボードのフォーカスがある時には、入力したキーはジョブに送ら<br>
れます。これには可能ならば pty を使用します。端末ウィンドウ外をクリックすれば、<br>
キーボードフォーカスを外に動かせます。<br>
<br>
ウィンドウや他の&nbsp;<span class="Special">CTRL-W</span>&nbsp;コマンドを操作するために&nbsp;<span class="Special">CTRL-W</span>&nbsp;を使えます。例えば:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-W</span>&nbsp;<span class="Special">CTRL-W</span>&nbsp;&nbsp; 次のウィンドウにフォーカスを移動する<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-W</span>&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Exコマンドに入る<br>
他のコマンドについては&nbsp;<a class="Identifier" href="vimindex.html#CTRL-W">CTRL-W</a>&nbsp;参照してください。<br>
<br>
<br>
端末ウィンドウでの特別な操作:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#CTRL-W_." name="CTRL-W_.">CTRL-W_.</a>&nbsp;&nbsp;<a class="Constant" href="terminal.html#CTRL-W_N" name="CTRL-W_N">CTRL-W_N</a>&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-W</span>&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;端末内のジョブに&nbsp;<span class="Special">CTRL-W</span>&nbsp;を送る<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-W</span>&nbsp;<span class="Special">CTRL-\</span>&nbsp;&nbsp; 端末内のジョブに&nbsp;<span class="Special">CTRL-\</span>&nbsp;を送る<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-W</span>&nbsp;<span class="Special">N</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;端末ノーマルモードに移行,&nbsp;<a class="Identifier" href="terminal.html#Terminal-mode">Terminal-mode</a>&nbsp;を参照<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-\</span>&nbsp;<span class="Special">CTRL-N</span>&nbsp;&nbsp; 端末ノーマルモードに移行,&nbsp;<a class="Identifier" href="terminal.html#Terminal-mode">Terminal-mode</a>&nbsp;を参照<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-W</span>&nbsp;&quot;&nbsp;<span class="Special">{reg}</span>&nbsp;&nbsp;レジスタ&nbsp;<span class="Special">{reg}</span>&nbsp;の内容を貼り付け&nbsp;<a class="Constant" href="terminal.html#CTRL-W_quote" name="CTRL-W_quote">CTRL-W_quote</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;式の評価結果を挿入するためのレジスタ = も機能する<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-W</span>&nbsp;<span class="Special">CTRL-C</span>&nbsp;&nbsp; ジョブを停止する, 下記の&nbsp;<a class="Identifier" href="terminal.html#t_CTRL-W_CTRL-C">t_CTRL-W_CTRL-C</a>&nbsp;を参照<br>
<br>
<span class="Special">CTRL-W</span>&nbsp;の代わりに別のキーを使うにはオプション&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>&nbsp;を参照してください。<br>
但し&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>&nbsp;を2回タイプすると&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>&nbsp;がジョブへ送信されます。例:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>&nbsp;<span class="Special">CTRL-W</span>&nbsp;&nbsp;&nbsp;&nbsp;次のウィンドウにフォーカスを移動する<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>&nbsp;:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Exコマンドに入る<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>&nbsp;端末内のジョブに&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>&nbsp;を送信する<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 端末内のジョブに&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>&nbsp;を送信する<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>&nbsp;<span class="Special">CTRL-\</span>&nbsp;&nbsp;&nbsp;&nbsp;端末内のジョブに&nbsp;<span class="Special">CTRL-\</span>&nbsp;を送信する<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>&nbsp;<span class="Special">N</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 端末ノーマルモードへ移行する。以下を参照<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>&nbsp;<span class="Special">CTRL-N</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-W</span>&nbsp;<span class="Special">N</span>&nbsp;と同じ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>&nbsp;<span class="Special">CTRL-C</span>&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#t_CTRL-W_CTRL-C">t_CTRL-W_CTRL-C</a>&nbsp;と同じ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#t_CTRL-\_CTRL-N" name="t_CTRL-\_CTRL-N">t_CTRL-\_CTRL-N</a><br>
他のモードと同じように、ノーマルモードへ移行するための特別なキーの組み合わせで<br>
ある&nbsp;<span class="Special">CTRL-\</span>&nbsp;<span class="Special">CTRL-N</span>&nbsp;が利用できます。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#t_CTRL-W_CTRL-C" name="t_CTRL-W_CTRL-C">t_CTRL-W_CTRL-C</a><br>
ジョブを強制停止するのに&nbsp;<span class="Special">CTRL-W</span>&nbsp;<span class="Special">CTRL-C</span>&nbsp;を使えます。MS-Windowsでは&nbsp;<span class="Special">CTRL-B</span>REAK<br>
でも同様にジョブを停止できます。<br>
<br>
<span class="Special">CTRL-C</span>&nbsp;を入力した場合、その効果は pty がどのように構成されているかに従います。<br>
シンプルなコマンドにおいては SIGINT がジョブに送られ、結果的にジョブが停止する<br>
でしょう。中には SIGINT を無視するコマンドもあるでしょうし、また (Vim がそうし<br>
ているように)&nbsp;<span class="Special">CTRL-C</span>&nbsp;をプログラム自身で取り扱うものもあるでしょう。<br>
<br>
入力したキーを別のものに読み返させるには端末モードマッピング、詳細は&nbsp;<a class="Identifier" href="map.html#:tmap">:tmap</a>&nbsp;を<br>
参照してください。これはどのようなマッピングでも定義できますが、端末内で実行さ<br>
れているジョブに送信されるキー入力にのみ作用します。例えば、F1 キーで<br>
端末ノーマルモードに切り替えるには:<br>
<div class="helpExample">&nbsp;&nbsp; tnoremap &lt;F1&gt; &lt;C-W&gt;N</div>
Esc を使うことができますが、他のキーが壊れないようにする必要があります:<br>
<div class="helpExample">&nbsp;&nbsp; tnoremap &lt;Esc&gt; &lt;C-W&gt;N<br>
&nbsp;&nbsp; set notimeout ttimeout timeoutlen=100</div>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#options-in-terminal" name="options-in-terminal">options-in-terminal</a><br>
端末ウィンドウを開いて&nbsp;<a class="Type" href="options.html#'buftype'">'buftype'</a>&nbsp;を &quot;terminal&quot; に設定すると、TerminalOpen 自動<br>
コマンドイベントが発生します。これにより、ウィンドウとバッファ専用のオプション<br>
を設定することが可能です。例:<br>
<div class="helpExample">&nbsp;&nbsp; au TerminalOpen * if &amp;buftype == 'terminal' | setlocal bufhidden=hide | endif</div>
<span class="Special">&lt;abuf&gt;</span>&nbsp;は端末バッファに設定されていますが、ウィンドウが存在しない場合(隠され<br>
た端末)は間違ったバッファにオプションが設定されるため、この例では &amp;buftype の<br>
チェックが行われます。<br>
<br>
マウスイベント (クリックやドラッグ) は端末に渡されます。マウス移動イベントは<br>
Vim 自身が受け取ったときにのみ渡されます。<a class="Type" href="options.html#'balloonevalterm'">'balloonevalterm'</a>&nbsp;が有効になっている<br>
端末の場合です。<br>
<br>
<br>
<span class="PreProc">サイズと色</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-size-color" name="terminal-size-color">terminal-size-color</a><br>
端末ウィンドウのサイズを制御するにはオプション&nbsp;<a class="Type" href="options.html#'termwinsize'">'termwinsize'</a>&nbsp;を参照してくださ<br>
い。<br>
(TODO: 端末がウィンドウよりも大きい場合にはスクロールすることを記述する)<br>
<br>
端末内のジョブは端末の色を変更できます。デフォルトの前景色及び背景色はVimの<br>
Normal ハイライトグループにより決定されます。<br>
<br>
カラー端末を開始する際に、背景に白と黒どちらの系統の色を使用するかは、オプショ<br>
ン&nbsp;<a class="Type" href="options.html#'background'">'background'</a>&nbsp;を用いて決定します。<br>
<br>
異なる色を使う場合には Terminal ハイライトグループを利用できます。例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;hi Terminal ctermbg=lightgrey ctermfg=blue guibg=lightgrey guifg=blue</div>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#g:terminal_ansi_colors" name="g:terminal_ansi_colors">g:terminal_ansi_colors</a><br>
新しい端末ウィンドウでデフォルトで使用される16個のANSI カラーは、変数<br>
<a class="Comment" href="terminal.html#g:terminal_ansi_colors">g:terminal_ansi_colors</a>&nbsp;を使用して設定することができます。これは、16個の色名<br>
または 16進数の色コードのリストでなければなりません。これは、<a class="Identifier" href="syntax.html#highlight-guifg">highlight-guifg</a><br>
で受け入れられるものと同様です。 GUI カラーを使用しない場合、端末ウィンドウは<br>
常に端末基礎の16個の ANSI カラーを使用します。<br>
<a class="Identifier" href="eval.html#term_setansicolors()">term_setansicolors()</a>&nbsp;関数を使用して色を変更したり、<a class="Identifier" href="eval.html#term_getansicolors()">term_getansicolors()</a>&nbsp;を<br>
使用して現在使用されている色を取得することができます。<br>
<br>
<br>
<span class="PreProc">文法</span><br>
<br>
:<span class="Special">[range]</span>ter[minal]&nbsp;<span class="Special">[options]</span>&nbsp;<span class="Special">[command]</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#:ter" name=":ter">:ter</a>&nbsp;<a class="Constant" href="terminal.html#:terminal" name=":terminal">:terminal</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;新しい端末ウィンドウを開きます。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">[command]</span>&nbsp;が指定された場合、それをジョブとして実行し、<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;端末の入出力を接続します。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">[command]</span>&nbsp;が指定されなかった場合、オプション&nbsp;<a class="Type" href="options.html#'shell'">'shell'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;を使用します。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">[command]</span>&nbsp;が NONE の場合ジョブは開始されず、端末の pty<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;は gdb のようなコマンドによって利用できます。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">[command]</span>&nbsp;がない場合、デフォルトの動作はシェルが終了し<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;たときに端末を閉じます。この動作は ++noclose 引数で変<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;更できます。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">[command]</span>&nbsp;が指定されている場合、デフォルトの動作は端末<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;を端末ノーマルモードで開いたままにします。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;この動作は ++close 引数で変更できます。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;新しいバッファが作られ、&nbsp;<span class="Special">[command]</span>&nbsp;もしくは&nbsp;<a class="Type" href="options.html#'shell'">'shell'</a>&nbsp;に<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;!&quot; が前置された名前が与えられます。すでに同じ名前の<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;バッファが存在する場合には、カッコに囲まれた番号が付与<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;されます。例えば &quot;gdb&quot; が存在するなら2つ目の端末には<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;!gdb (1)&quot; という名前が使われます。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">[range]</span>&nbsp;が与えられた場合は、指定された範囲の行がジョブ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;の入力として使われます。その際の端末ウィンドウではキー<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;入力ができなくなります。MS-Windows においては以下の<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++eof オプションも参照してください。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#term++close" name="term++close">term++close</a>&nbsp;<a class="Constant" href="terminal.html#term++open" name="term++open">term++open</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;サポートされる&nbsp;<span class="Special">[options]</span>&nbsp;は以下の通り:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++close&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ジョブが終了した際には自動的に端末ウィ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ンドウを閉じる。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++noclose&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ジョブが終了しても自動的に端末ウィンド<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ウを閉じません。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++open&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ジョブが終了した際にウィンドウが表示さ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;れていない場合に、ウィンドウを表示す<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;る。割り込み的に発生しうることに留意。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++close, ++noclose と ++open は最後に指定され<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;たものが有効です。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++curwin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;現在のウィンドウで端末を開き、現在の<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ウィンドウを分割しない。現在のバッファ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;を放棄(&nbsp;<a class="Identifier" href="editing.html#abandon">abandon</a>&nbsp;)できない場合は失敗<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;する。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++hidden&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;端末を隠しバッファとして開く。ウィンド<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ウは使用されない。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++norestore&nbsp;&nbsp;&nbsp;&nbsp; セッションファイルに端末ウィンドウを含<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;めません。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++kill=<span class="Special">{how}</span>&nbsp;&nbsp;&nbsp;&nbsp;端末ウィンドウを閉じるときに&nbsp;<span class="Special">{how}</span>&nbsp;で<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ジョブを終了させます。値については<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#term_setkill()">term_setkill()</a>&nbsp;を参照してください。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++rows=<span class="Special">{height}</span>&nbsp;端末ウィンドウの高さとして&nbsp;<span class="Special">{height}</span>&nbsp;を<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;使います。もし、端末がVimの完全な高さ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(端末ウィンドウの上や下にウィンドウが<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ない)を使用する場合、必要に応じてコマ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ンドラインの高さが減少します。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++cols=<span class="Special">{width}</span>&nbsp;&nbsp;端末ウィンドウの幅として&nbsp;<span class="Special">{width}</span>&nbsp;を使<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;います。もし、端末がVimの完全な幅 (端<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;末ウィンドウの左か右にウィンドウがな<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;い)を使用する場合、この値は無視されま<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;す。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++eof=<span class="Special">{text}</span>&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">[range]</span>&nbsp;を使った場合: 最後の行を送信し<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;たあとに指定したテキストが送られる。空<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;白を含むことはできない。CR が 1 つ付け<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;加えられる。MS-Windows ではデフォルト<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;では&nbsp;<span class="Special">CTRL-D</span>&nbsp;が送られる。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;例: シェルには &quot;++eof=exit&quot; を、Python<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;には &quot;++eof=exit()&quot; を指定する。特殊<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;コードが&nbsp;<a class="Comment" href="map.html#:map">:map</a>&nbsp;と同様に利用できる。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;例: &quot;<span class="Special">&lt;C-Z&gt;</span>&quot; は&nbsp;<span class="Special">CTRL-Z</span>&nbsp;を示す。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;より詳細なオプションを使いたいならば&nbsp;<a class="Identifier" href="eval.html#term_start()">term_start()</a>&nbsp;関<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;数を使ってください。<br>
<br>
端末に関連付けられたバッファが強制的にアンロードもしくは削除された場合には、<br>
<span class="Comment">job_stop(job, &quot;kill&quot;)</span>&nbsp;を呼んだのと同じようにそのジョブが殺されます。<br>
普通にウィンドウを閉じると&nbsp;<a class="Identifier" href="terminal.html#E947">E947</a>&nbsp;が返ります。killメソッドが &quot;++kill=<span class="Special">{how}</span>&quot; か<br>
<a class="Identifier" href="eval.html#term_setkill()">term_setkill()</a>&nbsp;で設定されている時にウィンドウを閉じると、その方法でジョブを<br>
強制終了または中断します。例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:term ++kill=term tail -f /tmp/log</div>
<br>
ジョブが実行され続けるとウィンドウはそのバッファが変更されたかのように振る舞い<br>
ます。<span class="Comment">CTRL-W :quit</span>&nbsp;でウィンドウを閉じようとしても失敗します。<span class="Comment">CTRL-W :quit!</span><br>
を使うとジョブは終了します。ウィンドウのテキストは失われます。バッファは依然存<br>
在しますが、<a class="Comment" href="windows.html#:buffer">:buffer</a>&nbsp;でウィンドウに割り当てても空のバッファが表示されます。<br>
<br>
<span class="Comment">CTRL-W :close</span>&nbsp;で閉じようとしてもまた失敗します。<span class="Comment">CTRL-W :close!</span>&nbsp;はウィンド<br>
ウを閉じ、バッファを隠し状態にします。<br>
<br>
<span class="Comment">CTRL-W :hide</span>&nbsp;を使うとジョブを実行したまま、端末ウィンドウを閉じバッファを隠<br>
し状態にできます。<a class="Comment" href="windows.html#:buffer">:buffer</a>&nbsp;コマンドで現在のウィンドウを端末ウィンドウにするこ<br>
とができます。未保存の変更があった場合にはこれは失敗しますが、通常と同じように<br>
! で強制できます。<br>
<br>
バックグラウンドジョブをウィンドウ無しで実行し、終了したらウィンドウに表示する<br>
には、次のようにオプションを指定します:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:term ++hidden ++open make</div>
ウィンドウが予期せぬタイミングで開かれ、あなたが行っている操作に割り込む可能性<br>
があることに留意してください。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#E947" name="E947">E947</a>&nbsp;<a class="Constant" href="terminal.html#E948" name="E948">E948</a><br>
ジョブが実行され続けると、バッファが変更されたとみなされ Vim を簡単には終了で<br>
きなくなります。<a class="Identifier" href="editing.html#abandon">abandon</a>&nbsp;を参照してください。<br>
<br>
ジョブが終了しバッファになんの変更も及ぼさなかった場合、そのウィンドウを閉じる<br>
とバッファは削除されます。<br>
<br>
端末バッファを変更するにはオプション&nbsp;<a class="Type" href="options.html#'modifiable'">'modifiable'</a>&nbsp;をセットする必要があります。<br>
これはジョブが終了した後にのみ行なえます。バッファを最初に変更した瞬間に普通の<br>
バッファになりハイライトは削除されます。バッファを保存可能にするために&nbsp;<a class="Identifier" href="editing.html#:file">:file</a><br>
でバッファの名前を、コマンド名から変更することもできます。<br>
<br>
<br>
<span class="PreProc">サイズ変更</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-resizing" name="terminal-resizing">terminal-resizing</a><br>
端末のサイズは3つのモードのいずれか1つで決まります:<br>
<br>
1. オプション&nbsp;<a class="Type" href="options.html#'termwinsize'">'termwinsize'</a>&nbsp;が空の場合: 端末サイズはウィンドウのサイズに従う。<br>
&nbsp;&nbsp; 最小で2行、10桁。<br>
<br>
2. オプション&nbsp;<a class="Type" href="options.html#'termwinsize'">'termwinsize'</a>&nbsp;が &quot;rows*cols&quot; の場合、&quot;rows&quot; を最小行数、&quot;cols&quot;<br>
&nbsp;&nbsp; を最小桁数とする。<br>
<br>
3. オプション&nbsp;<a class="Type" href="options.html#'termwinsize'">'termwinsize'</a>&nbsp;が &quot;rowsXcols&quot; (&quot;X&quot; は大文字小文字を問わない) の場<br>
&nbsp;&nbsp; 合、端末サイズは指定された行数と桁数で固定される。もしもウィンドウがそれよ<br>
&nbsp;&nbsp; りも大きい場合には、使用されない空の領域ができる。<br>
<br>
ウィンドウサイズが端末サイズよりも小さい場合、端末の一部の領域(左下に相当する<br>
部分)のみが描画されます。<br>
<br>
端末の現在のサイズを取得するのに関数&nbsp;<a class="Identifier" href="eval.html#term_getsize()">term_getsize()</a>&nbsp;が使えます。<br>
<a class="Identifier" href="eval.html#term_setsize()">term_setsize()</a>&nbsp;は 1 か 2 のモードの時にだけ、すなわち&nbsp;<a class="Type" href="options.html#'termwinsize'">'termwinsize'</a>&nbsp;が<br>
&quot;rowsXcols&quot; 形式ではない時に使えます。<br>
<br>
<br>
<span class="PreProc">端末ジョブモードと端末ノーマルモード</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#Terminal-mode" name="Terminal-mode">Terminal-mode</a>&nbsp;<a class="Constant" href="terminal.html#Terminal-Job" name="Terminal-Job">Terminal-Job</a><br>
ジョブが実行中には端末の内容はジョブの制御下にあります。それにはカーソルの位置<br>
も含まれます。入力したキーはジョブに送られます。端末の内容はいつでも更新されえ<br>
ます。これを 端末ジョブモードと呼びます。<br>
<br>
<span class="Special">CTRL-W</span>&nbsp;<span class="Special">N</span>&nbsp;(もしくは&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>&nbsp;<span class="Special">N</span>) を入力すると 端末ノーマルモードに遷移しま<br>
す。このモードでは端末ウィンドウのコンテンツはVimの制御下に置かれ、ジョブの出<br>
力は一時保留されます。&nbsp;<span class="Special">CTRL-\</span>&nbsp;<span class="Special">CTRL-N</span>&nbsp;でも同じようになります。<br>
<br>
<a class="Identifier" href="map.html#:tmap">:tmap</a>&nbsp;のマッピングは 端末ジョブモードにおいて作用します。<br>
<a class="Identifier" href="eval.html#term_sendkeys()">term_sendkeys()</a>&nbsp;で送ったキーには tmap は適用されませんが、<a class="Identifier" href="eval.html#feedkeys()">feedkeys()</a>&nbsp;で送っ<br>
たキーには適用されます。<br>
<br>
端末ジョブモードから挿入モードに入ることはできません。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#Terminal-Normal" name="Terminal-Normal">Terminal-Normal</a>&nbsp;<a class="Constant" href="terminal.html#E946" name="E946">E946</a><br>
端末ノーマルモードでは、Vimの普通のコマンドでカーソルを自由に動かせます。<br>
視覚的にテキストをマークしたり、テキストをヤンクしたり思いのままです。しかし<br>
バッファの内容を変更することはできません。 'i' や 'a' など挿入モードを開始する<br>
コマンドを使うと 端末ジョブモードに戻ります。結果としてウィンドウは端末のコ<br>
ンテンツを反映させるために更新されます。<a class="Identifier" href="insert.html#:startinsert">:startinsert</a>&nbsp;は無効です。<br>
<br>
端末ノーマルモードではステータスラインとウィンドウタイトルには &quot;(Terminal)&quot; と<br>
表示されます。端末ノーマルモード中にジョブが終了してしまった場合にはそれが<br>
&quot;(Terminal-finished)&quot; に変わります。<br>
<br>
ジョブが端末内で行を出力し内容が上からスクロールすると、それらの行は記憶され端<br>
末ノーマルモードで表示されます。行数は&nbsp;<a class="Type" href="options.html#'termwinscroll'">'termwinscroll'</a>&nbsp;オプションによって制限<br>
されます。この制限を超えると、スクロールされた行の最初の10％が削除されて失われ<br>
ます。<br>
<br>
<br>
<span class="PreProc">カーソルスタイル</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-cursor-style" name="terminal-cursor-style">terminal-cursor-style</a><br>
デフォルトでは端末ウィンドウのカーソルには点滅しないブロックが使われます。カー<br>
ソルの点滅状態や形を変更するのに、普通の xterm のエスケープシーケンスが使われ<br>
ます。端末ウィンドウからフォーカスが外れる際に Vim は元々のカーソルを復元しま<br>
す。<br>
<br>
xterm を &quot;-bc&quot; 引数で起動した場合、または他の方法でカーソルの点滅を発生させた<br>
場合、が1つの例外となります。それらにより点滅フラグが逆転したことが問題の引き<br>
金となります。なぜなら Vim はその逆転を検出できず、端末ウィンドウのカーソルの<br>
点滅も逆転します。<br>
<br>
<br>
<span class="PreProc">セッション</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-session" name="terminal-session">terminal-session</a><br>
可能かつ必要であれば、セッションファイルを使用する際に端末ウィンドウが復元され<br>
ます。<br>
<br>
&quot;terminal&quot; が&nbsp;<a class="Type" href="options.html#'sessionoptions'">'sessionoptions'</a>&nbsp;から削除された場合、端末ウィンドウは復元されま<br>
せん。<br>
<br>
端末内のジョブが終了した場合、ウィンドウは復元されません。<br>
<br>
端末を復元できる場合は、その端末を開くために使用されたコマンドが再び使われま<br>
す。これを変更するには&nbsp;<a class="Identifier" href="eval.html#term_setrestore()">term_setrestore()</a>&nbsp;関数を使用します。これは、コマンド<br>
を &quot;NONE&quot; に設定して特定の端末を復元しない場合にも使用できます。<br>
<br>
<br>
<span class="PreProc">特別なキー</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-special-keys" name="terminal-special-keys">terminal-special-keys</a><br>
端末エミュレータはxtermをシミュレートするので、Vimとxtermの両方が認識するエス<br>
ケープシーケンスのみが端末ウィンドウで利用可能になります。もし、端末で実行中の<br>
ジョブに他のエスケープシーケンスを渡したい場合は、転送を設定する必要がありま<br>
す。例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tmap &lt;expr&gt; &lt;Esc&gt;]b SendToTerm(&quot;\&lt;Esc&gt;]b&quot;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;func SendToTerm(what)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call term_sendkeys('', a:what)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return ''<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endfunc</div>
<br>
<br>
<span class="PreProc">Unix</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-unix" name="terminal-unix">terminal-unix</a><br>
UNIX ではすべての種類のコマンドを実行可能とするために pty を用いています。端末<br>
内で Vim ですら実行できるのです! これは以下のようにデバッグに利用できます。<br>
<br>
実行中のジョブに情報を伝えるのに以下の環境変数が利用できます:<br>
&nbsp;&nbsp;&nbsp;&nbsp;TERM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;端末の名前、<a class="Type" href="options.html#'term'">'term'</a>&nbsp;オプションまたはGUIでは $TERM から。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;xterm&quot; で始まらなければ &quot;xterm&quot; にフォールバックする<br>
&nbsp;&nbsp;&nbsp;&nbsp;ROWS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;端末の初期行数<br>
&nbsp;&nbsp;&nbsp;&nbsp;LINES&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ROWS と同じ<br>
&nbsp;&nbsp;&nbsp;&nbsp;COLUMNS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 端末の初期桁数<br>
&nbsp;&nbsp;&nbsp;&nbsp;COLORS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;色数&nbsp;<a class="Type" href="term.html#'t_Co'">'t_Co'</a>&nbsp;(GUIでは 256*256*256)<br>
&nbsp;&nbsp;&nbsp;&nbsp;VIM_SERVERNAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v:servername<br>
&nbsp;&nbsp;&nbsp;&nbsp;VIM_TERMINAL&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v:version<br>
<br>
<br>
<span class="PreProc">MS-Windows</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-ms-windows" name="terminal-ms-windows">terminal-ms-windows</a><br>
MS-Windows ではすべての種類のコマンドを実行可能とするために winpty を用いてい<br>
ます。あたりまえのことですが、ここで実行するコマンドは端末の中で動くもので、独<br>
自のウィンドウを開くものであってはいけません。<br>
<br>
winpty 内の以下の2つのファイルが必要です:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;winpty.dll<br>
&nbsp;&nbsp;&nbsp;&nbsp;winpty-agent.exe<br>
<br>
これらは以下のページからダウンロードできます:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Constant"><a href="https://github.com/rprichard/winpty">https://github.com/rprichard/winpty</a></span><br>
<br>
これらのファイルを環境変数 PATH のいずれかに置くだけです。必要ならばオプション<br>
<a class="Type" href="options.html#'winptydll'">'winptydll'</a>&nbsp;でファイルの場所を指定できます。もしも32ビット版と64ビット版を同じ<br>
ディレクトリに置きたいのであれば、Vimのビルドに合わせてそれぞれを winpty32.dll<br>
もしくは winpty64.dll という名前に変更してください。<br>
<br>
環境変数は実行中のジョブに情報を渡すために使用されます:<br>
&nbsp;&nbsp;&nbsp;&nbsp;VIM_SERVERNAME&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v:servername<br>
<br>
<span class="PreProc">==============================================================================</span><br>
2. 端末通信&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-communication" name="terminal-communication">terminal-communication</a><br>
<br>
端末内で実行中のジョブと通信するには、いくつかの方法があります:<br>
-&nbsp;<a class="Identifier" href="eval.html#term_sendkeys()">term_sendkeys()</a>&nbsp;でテキストやエスケープシーケンスをVimからジョブに送信する。<br>
- JSON APIを使用して、エンコードされたコマンドをジョブからVimに送信する。<br>
-&nbsp;<a class="Identifier" href="remote.html#client-server">client-server</a>&nbsp;機構を使う。これは、XサーバーとMS-Windowsのマシンで動作しま<br>
&nbsp;&nbsp;す。<br>
<br>
<br>
<span class="PreProc">Vim からジョブへ: term_sendkeys()</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-to-job" name="terminal-to-job">terminal-to-job</a><br>
これにより、端末内で実行中のジョブをリモート制御することができます。これは一方<br>
向の機構です。ジョブは Vim に合図することで表示を更新することができます。たと<br>
えば、シェルが端末内で実行されている場合、次の操作を実行できます:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call term_sendkeys(buf, &quot;ls *.java\&lt;CR&gt;&quot;)</div>
<br>
これは、キーを受け取ったときに正しいことをする適切な状態になるようなジョブを必<br>
要とします。上記の例では、シェルはコマンドの入力を待つ必要があります。<br>
<br>
この目的のために作成されたジョブでは、JSON APIエスケープシーケンスを別の方向で<br>
使用できます。例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call term_sendkeys(buf, &quot;\&lt;Esc&gt;]51;[&quot;response&quot;]\x07&quot;)</div>
<br>
<br>
<span class="PreProc">ジョブから Vimへ: JSON API</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-api" name="terminal-api">terminal-api</a><br>
ジョブは特殊なエスケープシーケンスを使用してJSONをVimに送ることができます。<br>
JSONは、Vimが理解できるコマンドをエンコードします。そのようなメッセージの例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Esc&gt;]51;[&quot;drop&quot;, &quot;README.md&quot;]&lt;07&gt;</div>
<br>
本体は常にリストになっており、終わりを見つけやすいです: ]<span class="Special">&lt;07&gt;</span><br>
<span class="Special">&lt;Esc&gt;</span>]51;msg<span class="Special">&lt;07&gt;</span>&nbsp;シーケンスは &quot;Emacs shell&quot; のためにxtermによって予約されてい<br>
ます。私たちがここでやっていることに似ています。<br>
<br>
現在サポートされているコマンド:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call&nbsp;<span class="Special">{funcname}</span>&nbsp;<span class="Special">{argument}</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ユーザー定義関数を&nbsp;<span class="Special">{argument}</span>&nbsp;で呼び出します。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;関数は2つの引数で呼び出されます: 端末のバッファ番号とデコード<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;されたJSON引数&nbsp;<span class="Special">{argument}</span>&nbsp;です。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;関数名は、端末API用に意図されていない関数を誤って呼び出すのを<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;避けるため、&quot;Tapi_&quot; で始まる必要があります。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ユーザー関数は引数の正常性チェックをする必要があります。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;関数は&nbsp;<a class="Identifier" href="eval.html#term_sendkeys()">term_sendkeys()</a>&nbsp;を使って返信を送り返すことができます。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JSONでの例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&quot;call&quot;, &quot;Tapi_Impression&quot;, [&quot;play&quot;, 14]]</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 次のように定義された関数を呼び出します:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function Tapi_Impression(bufnum, arglist)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if len(a:arglist) == 2<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echomsg &quot;impression &quot; . a:arglist[0]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echomsg &quot;count &quot; . a:arglist[1]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endif<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endfunc</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="eval.html#:echo">:echo</a>&nbsp;からの出力は、再描画によって消去されるかもしれません。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="eval.html#:echomsg">:echomsg</a>&nbsp;を使い、<a class="Comment" href="message.html#:messages">:messages</a>&nbsp;でそれを見ることができます。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drop&nbsp;<span class="Special">{filename}</span>&nbsp;<span class="Special">[options]</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vimに&nbsp;<span class="Comment">：drop&nbsp;</span>コマンドのようにファイルを開かせます。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;もし、<span class="Special">{filename}</span>&nbsp;が既にウィンドウで開かれていたら、そのウィン<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ドウに切り替えます。それ以外の場合は、<span class="Special">{filename}</span>&nbsp;を編集するた<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;めの新しいウィンドウを開きます。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Todo">Note</span>&nbsp;ジョブとVimの両方がカレントディレクトリを変更する可能性が<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;あるので、フルパスを使用することをお勧めします。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">[options]</span>&nbsp;は新しくウィンドウを開いた時にだけ使われます。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;与える場合、それは辞書でなければなりません。&nbsp;<a class="Identifier" href="editing.html#++opt">++opt</a>&nbsp;と同様に、<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;これらのエントリは認識されます:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ff&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ファイルフォーマット: &quot;dos&quot; か &quot;mac&quot; か &quot;unix&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;fileformat&quot;&nbsp;&nbsp;同上。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;enc&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'fileencoding'">'fileencoding'</a>&nbsp;を上書きします。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;encoding&quot;&nbsp;&nbsp;&nbsp;&nbsp;同上。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;bin&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'binary'">'binary'</a>&nbsp;を設定します。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;binary&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;同上。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;nobin&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'binary'">'binary'</a>&nbsp;をリセットします。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;nobinary&quot;&nbsp;&nbsp;&nbsp;&nbsp;同上。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;bad&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 不正な文字のための振る舞いを指定します。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="editing.html#++bad">++bad</a>&nbsp;を参照してください。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;JSONでの例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&quot;drop&quot;, &quot;path/file.txt&quot;, {&quot;ff&quot;: &quot;dos&quot;}]</div>
<br>
Vimにこのエスケープシーケンスを送信させるトリック:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exe &quot;set t_ts=\&lt;Esc&gt;]51; t_fs=\x07&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let &amp;titlestring = '[&quot;call&quot;,&quot;Tapi_TryThis&quot;,[&quot;hello&quot;,123]]'<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;redraw<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set t_ts&amp; t_fs&amp;</div>
<br>
理論的根拠: コマンドや式を許可しないのはなぜですか？ セキュリティ上の問題が生<br>
じる可能性があるためです。<br>
<br>
<br>
<span class="PreProc">クライアントサーバー機能を使う</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-client-server" name="terminal-client-server">terminal-client-server</a><br>
これは、 v:servername が空でない場合にのみ機能します。必要に応じて、端末を開く<br>
前に次のように設定することができます:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call remote_startserver('vim-server')</div>
<br>
$VIM_SERVERNAME はサーバー名を渡すために端末内に設定されます。<br>
<br>
ジョブでは、次のようなことをおこなうことができます:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim --servername $VIM_SERVERNAME --remote +123 some_file.c</div>
これによりファイル &quot;some_file.c&quot; が開き、123行目にカーソルが置かれます。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
3. リモートテスト&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-testing" name="terminal-testing">terminal-testing</a><br>
<br>
VimのほとんどのテストはVimのなかでスクリプトを実行しています。テスト対象のコー<br>
ドと干渉してしまうような、幾つかのテストではこれは機能しません。これを避けるた<br>
めに端末ウィンドウ内でさらにVimを実行しています。そのテストではキーストローク<br>
を端末に送信し、その結果として端末画面の状態が変わるのを検査します。<br>
<br>
<span class="PreProc">関数</span><br>
<br>
term_sendkeys()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 端末にキーストロークを送信する (tmap の影響を受けない)<br>
term_wait()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 端末画面が更新されるのを待つ<br>
term_scrape()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 端末画面の内容を検査する<br>
<br>
<br>
<span class="PreProc">==============================================================================</span><br>
4. 画面ダンプの差分&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-diff" name="terminal-diff">terminal-diff</a><br>
<br>
場合によっては、Vimが正しい文字を画面に表示するかどうかテストするのは面倒かも<br>
しれません。例えば、構文の強調表示。これを簡単にするために、端末の画面ダンプを<br>
取ってそれを予想される画面ダンプと比較することが可能です。<br>
<br>
Vimはウィンドウのサイズ、テキスト、色、その他の属性を表示します。 Vimの画面サ<br>
イズ、フォント、その他のプロパティは関係ありません。したがって、この機構はシス<br>
テム間で移植可能です。従来のスクリーンショットでは、フォントサイズやフォント<br>
ファミリーなど、すべての違いが反映されます。<br>
<br>
<br>
<span class="PreProc">Vimの画面ダンプテストを書く</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-dumptest" name="terminal-dumptest">terminal-dumptest</a><br>
例については、src/testdir/test_syntax.vim の Test_syntax_c() 関数を参照してく<br>
ださい。主要な部分は:<br>
- テストするファイルを作成します。構文のハイライトをテストするのに便利です。空<br>
&nbsp;&nbsp;のバッファでVimを起動することもできます。<br>
- 特定のサイズの端末でVimを実行します。デフォルトは75桁で20行です。これはダン<br>
&nbsp;&nbsp;プが常にこのサイズであることを確認します。RunVimInTerminal() 関数がこれを処<br>
&nbsp;&nbsp;理します。Vimコマンドの引数を渡します。<br>
- term_sendkeys() を使用して任意のコマンドをVimに送信します。例えば:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call term_sendkeys(buf, &quot;:echo &amp;lines &amp;columns\&lt;CR&gt;&quot;)</div>
- VerifyScreenDump() を使用して、画面が期待どおりの状態になっていることを確認<br>
&nbsp;&nbsp;します。これは、参照する画面ダンプが src/testdir/dumps/ ディレクトリに存在す<br>
&nbsp;&nbsp;ることを前提としています。 &quot;.dump&quot; なしの名前を渡します。テスト関数の名前と<br>
&nbsp;&nbsp;シーケンス番号を使用してファイルがどのようなテストで使用されているかを知るこ<br>
&nbsp;&nbsp;とができます。<br>
- コマンド送信と状態の確認を繰り返します。<br>
- 最後に StopVimInTerminal() を呼び出してVimを停止します。<br>
<br>
初めてこれを行うときにはスクリーンダンプはまだありません。空のファイルを作成し<br>
ます。例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;touch src/testdir/dumps/Test_function_name_01.dump</div>
<br>
テストが失敗したら、参照ダンプと失敗したダンプを比較するコマンドを提供します。<br>
例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call term_dumpdiff(&quot;Test_func.dump.failed&quot;, &quot;dumps/Test_func.dump&quot;)</div>
<br>
カレントディレクトリを src/testdir に設定して、Vimでこのコマンドを使用します。<br>
テストに満足したら、参照の代わりに失敗したダンプを移動します:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:!mv Test_func.dump.failed dumps/Test_func.dump</div>
<br>
<br>
<span class="PreProc">画面ダンプを作成する</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-screendump" name="terminal-screendump">terminal-screendump</a><br>
<br>
画面ダンプを作成するには、端末でVim (または他のプログラム)を実行し、目的の状態<br>
を表示させます。その後、term_dumpwrite() 関数を使用して画面ダンプファイルを作<br>
成します。例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:call term_dumpwrite(77, &quot;mysyntax.dump&quot;)</div>
<br>
この &quot;77&quot; は端末のバッファ番号です。それを見るためには&nbsp;<span class="Comment">:ls!</span>&nbsp;を使用してくださ<br>
い。<br>
<br>
term_dumpload() で画面ダンプを見ることができます:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:call term_dumpload(&quot;mysyntax.dump&quot;)</div>
<br>
Vimがまったく同じ画面を表示していることを確認するには、まったく同じ方法でVimを<br>
再度実行し、目的の状態を表示します。次に、別のファイル名を使用して画面ダンプを<br>
再度作成します:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:call term_dumpwrite(88, &quot;test.dump&quot;)</div>
<br>
ファイルがまったく同じものであることを主張するには assert_equalfile() を使いま<br>
す:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call assert_equalfile(&quot;mysyntax.dump&quot;, &quot;test.dump&quot;)</div>
<br>
違いがある場合、v:errors はエラーメッセージを含みます。<br>
<br>
<br>
<span class="PreProc">画面ダンプを比較する</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-diffscreendump" name="terminal-diffscreendump">terminal-diffscreendump</a><br>
<br>
assert_equalfile() は、何が違うのかを簡単に見分けることはできません。問題を見<br>
つけるには、term_dumpdiff() を使用します:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call term_dumpdiff(&quot;mysyntax.dump&quot;, &quot;test.dump&quot;)</div>
<br>
これで3つの部分からなるウィンドウが開きます:<br>
1.&nbsp;&nbsp;1番目のダンプの内容<br>
2.&nbsp;&nbsp;1番目と2番目のダンプの差<br>
3.&nbsp;&nbsp;2番目のダンプの内容<br>
<br>
通常、2番目の部分で何が違うかを見ることができます。1番目または2番目ダンプの位<br>
置に関連付けるには&nbsp;<a class="Type" href="options.html#'ruler'">'ruler'</a>&nbsp;を使用します。<br>
<br>
あるいは、 &quot;s&quot; を押して、1番目と2番目のダンプを入れ替えます。これを何度か実行<br>
して、テキストの文脈における相違を見つけ出すことができます。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
5. デバッグ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#terminal-debug" name="terminal-debug">terminal-debug</a>&nbsp;<a class="Constant" href="terminal.html#terminal-debugger" name="terminal-debugger">terminal-debugger</a><br>
<br>
Vim のウィンドウでソースコードを表示しながらプログラムを gdb でデバッグするの<br>
に、端末デバッグプラグインが利用できます。これは Vim の中だけで完結するので、<br>
SSH 接続が1つあればリモートで機能します。<br>
<br>
<a class="Identifier" href="various.html#+terminal">+terminal</a>&nbsp;機能がない場合、プラグインは可能であれば &quot;prompt&quot; バッファタイプを<br>
使用します。実行中のプログラムは、新しく開かれた端末ウィンドウを使用します。詳<br>
細は&nbsp;<a class="Identifier" href="terminal.html#termdebug-prompt">termdebug-prompt</a>&nbsp;を参照してください。<br>
<br>
<br>
<span class="PreProc">はじめに</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#termdebug-starting" name="termdebug-starting">termdebug-starting</a><br>
以下のコマンドでプラグインを読み込みます:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;packadd termdebug</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#:Termdebug" name=":Termdebug">:Termdebug</a><br>
デバッグを開始するには&nbsp;<a class="Comment" href="terminal.html#:Termdebug">:Termdebug</a>&nbsp;または&nbsp;<a class="Comment" href="terminal.html#:TermdebugCommand">:TermdebugCommand</a>&nbsp;に続けてコマン<br>
ド名を入力します。例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:Termdebug vim</div>
<br>
これにより2つのウィンドウが開きます:<br>
<br>
gdb のウィンドウ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;gdb vim&quot; を実行した端末ウィンドウ。ここでは直接 gdb とやりと<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;りできる。バッファ名は &quot;!gdb&quot;<br>
<br>
プログラムのウィンドウ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;実行したプログラムの端末ウィンドウ。 gdb 内で &quot;run&quot; をしてプロ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;グラムの I/O が発生するとこのウィンドウに反映される。その内容<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;は gdb の制御下にない。バッファ名は &quot;gdb program&quot;<br>
<br>
現在のウィンドウはソースコードを表示するのに使われます。gdb が一時停止した際<br>
に、可能ならばその場所が表示されます。現在の位置を示すためにハイライトグループ<br>
debugPC を使ってサインが利用されます。<br>
<br>
現在のウィンドウの内容が変更されると、現在の gdb の位置を表示するために別のウィ<br>
ンドウが開きます。<a class="Comment" href="terminal.html#:Winbar">:Winbar</a>&nbsp;を使ってウィンドウツールバーを追加することができま<br>
す。<br>
<br>
実行中のプログラムを操作するにはその端末にフォーカスを合わせます。以降の操作は<br>
普通の端末ウィンドウと同様です。<br>
<br>
デバッガの終了は、通常は gdb のウィンドウで &quot;quit&quot; とタイプすると、開いている<br>
2つのウィンドウが閉じられます。<br>
<br>
一度にアクティブにできるデバッガは1つだけです。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#:TermdebugCommand" name=":TermdebugCommand">:TermdebugCommand</a><br>
デバッグ中のコマンドに特定のコマンドを与える場合は、<a class="Comment" href="terminal.html#:TermdebugCommand">:TermdebugCommand</a>&nbsp;コマン<br>
ドの後にコマンド名と追加パラメータを使用できます。<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:TermdebugCommand vim --clean -c ':set nu'</div>
<br>
<a class="Comment" href="terminal.html#:Termdebug">:Termdebug</a>&nbsp;と<a class="Comment" href="terminal.html#:TermdebugCommand">:TermdebugCommand</a>&nbsp;はオプションの &quot;!&quot; をサポートしています。<br>
gdbウィンドウで一時停止せずにコマンドをすぐに開始します (そしてカーソルはデバッ<br>
グされたウィンドウに表示されます) たとえば:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:TermdebugCommand! vim --clean</div>
<br>
すでに実行中の実行可能ファイルにgdbをアタッチするか、コアファイルを使用するに<br>
は、追加の引数を渡します。例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:Termdebug vim core<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:Termdebug vim 98343</div>
<br>
引数が指定されていない場合、gdbウィンドウが表示されます。このウィンドウでは、<br>
例えばgdbの&nbsp;<a class="Comment" href="editing.html#:file">file</a>&nbsp;コマンドを使って、どのコマンドを実行するか指定する必要があ<br>
ります。<br>
<br>
<br>
<span class="PreProc">セッション例</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#termdebug-example" name="termdebug-example">termdebug-example</a><br>
Vimの &quot;src&quot; ディレクトリを起動して、Vimをビルドします:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;% make</div>
Vimを起動します:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;% ./vim</div>
termdebug プラグインを読み込んで、Vimのデバッグを開始します:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:packadd termdebug<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:Termdebug vim</div>
これで、3つのウィンドウが表示されます:<br>
&nbsp;&nbsp;&nbsp;&nbsp;source&nbsp;&nbsp;- 開始直後はボタン付きウィンドウツールバーがあります<br>
&nbsp;&nbsp;&nbsp;&nbsp;gdb&nbsp;&nbsp;&nbsp;&nbsp; - ここに gdb コマンドを入力できます<br>
&nbsp;&nbsp;&nbsp;&nbsp;program - 実行されたプログラムはこのウィンドウを使用します<br>
<br>
<span class="Special">CTRL-W</span>&nbsp;<span class="Special">CTRL-W</span>&nbsp;またはマウスを使用して、ウィンドウ間でフォーカスを移動できます。<br>
gdbウィンドウにフォーカスを当てて、次のように入力します:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break ex_help<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run</div>
Vim は programウィンドウで実行を開始します。そこにフォーカスを置いて入力しま<br>
す:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:help gui</div>
Gdbはex_helpブレークポイントまで実行します。sourceウィンドウにex_cmds.cファイ<br>
ルが表示されます。ブレークポイントが設定されている目印欄に赤い &quot;1 &quot; のマーカー<br>
が表示されます。デバッガが停止した行が強調表示されます。今すぐプログラムを進め<br>
ることができます。マウスを使いましょう: ウィンドウツールバーの &quot;Next&quot; ボタンを<br>
クリックしてください。デバッガがソースコードの行を実行すると、強調表示されま<br>
す。<br>
<br>
forループが強調表示されるまで、&quot;Next&quot; を数回クリックします。カーソルを<br>
&quot;eap-&gt;arg&quot; の最後に置き、ツールバーの &quot;Eval&quot; をクリックします。これが表示され<br>
ます:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">&quot;eap-&gt;arg&quot;: 0x555555e68855 &quot;gui&quot;</span><br>
こうすることで、ローカル変数の値を調べることができます。また、gdbウィンドウに<br>
フォーカスを当てて、&quot;print&quot; コマンドを使用することもできます。例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print *eap</div>
マウスポインタの動きがうまくいっていれば、マウスがgdbで評価できるテキストの上<br>
に置かれたときにVimはバルーンを表示します。<br>
<br>
次に、sourceウィンドウに戻り、forループの後の最初の行にカーソルを置いて、次の<br>
ように入力します:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:Break</div>
新しいブレークポイントを示す &quot;&gt;&gt;&quot; マーカーが表示されます。ツールバーの &quot;Cont&quot;<br>
をクリックして、コードをブレークポイントまで実行させます。<br>
<br>
より高度なコマンドをgdbウィンドウに入力することができます。たとえば、次のよう<br>
に入力します:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;watch curbuf</div>
ツールバーの &quot;Cont&quot; をクリックします (または、gdbウィンドウで &quot;cont&quot; と入力し<br>
ます)。do_ecmd() にある &quot;curbuf&quot; の値が変更されるまで、実行が継続されます。こ<br>
のウォッチポイントを再度削除するには、gdbウィンドウで次のように入力します:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete 3</div>
<br>
gdbウィンドウに次のように入力すると、スタックが表示されます:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where</div>
スタックフレームを移動します。たとえば:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;frame 3</div>
sourceウィンドウには、より深いレベルに呼び出された時点のコードが表示されます。<br>
<br>
<br>
<span class="PreProc">コードをステップ実行する</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#termdebug-stepping" name="termdebug-stepping">termdebug-stepping</a><br>
gdb ウィンドウにフォーカスを移しコマンドを入力します。一般的なものは以下:<br>
-&nbsp;<span class="Special">CTRL-C</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;プログラムを中断する<br>
- next&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;現在の行を実行し、次の行(の手前)で停止する<br>
- step&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;現在の行を実行し、次の文(の手前)で停止する。関数の内側に入る<br>
- finish&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;現在の関数を抜けるまで実行する<br>
- where&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; スタックを表示する<br>
- frame&nbsp;<span class="Special">N</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">N</span>&nbsp;番目のスタックフレームに移動する<br>
- continue&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;実行を再開する<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#:Run" name=":Run">:Run</a>&nbsp;<a class="Constant" href="terminal.html#:Arguments" name=":Arguments">:Arguments</a><br>
ソースコードを表示するウィンドウで、これらのコマンドをgdbの制御に使用できます:<br>
&nbsp;<a class="Comment" href="terminal.html#:Run">:Run</a>&nbsp;<span class="Special">[args]</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">[args]</span>&nbsp;または以前の引数でプログラムを実行する<br>
&nbsp;<a class="Comment" href="terminal.html#:Arguments">:Arguments</a>&nbsp;<span class="Special">{args}</span>&nbsp;&nbsp;次の&nbsp;<a class="Comment" href="terminal.html#:Run">:Run</a>&nbsp;のために引数を設定する<br>
&nbsp;<a class="Constant" href="terminal.html#:Break" name=":Break">:Break</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 現在の行にブレークポイントを設定する。サインが表示される<br>
&nbsp;<a class="Constant" href="terminal.html#:Clear" name=":Clear">:Clear</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 現在の行のブレークポイントを削除する<br>
&nbsp;<a class="Constant" href="terminal.html#:Step" name=":Step">:Step</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gdb の &quot;step&quot; コマンドを実行する<br>
&nbsp;<a class="Constant" href="terminal.html#:Over" name=":Over">:Over</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gdb の &quot;next&quot; コマンドを実行する<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="Comment" href="editing.html#:Next">:Next</a>&nbsp;だと Vim のコマンドとかぶるので)<br>
&nbsp;<a class="Constant" href="terminal.html#:Finish" name=":Finish">:Finish</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gdb の &quot;finish&quot; コマンドを実行する<br>
&nbsp;<a class="Constant" href="terminal.html#:Continue" name=":Continue">:Continue</a>&nbsp;&nbsp;&nbsp;&nbsp;gdb の &quot;continue&quot; コマンドを実行する<br>
&nbsp;<a class="Constant" href="terminal.html#:Stop" name=":Stop">:Stop</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;プログラムを中断する<br>
<br>
<a class="Type" href="options.html#'mouse'">'mouse'</a>&nbsp;が設定されている場合、プラグインはこれらのエントリを持つウィンドウツー<br>
ルバーを追加します:<br>
&nbsp;&nbsp;Step&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="terminal.html#:Step">:Step</a><br>
&nbsp;&nbsp;Next&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="terminal.html#:Over">:Over</a><br>
&nbsp;&nbsp;Finish&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="terminal.html#:Finish">:Finish</a><br>
&nbsp;&nbsp;Cont&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="terminal.html#:Continue">:Continue</a><br>
&nbsp;&nbsp;Stop&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="terminal.html#:Stop">:Stop</a><br>
&nbsp;&nbsp;Eval&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="terminal.html#:Evaluate">:Evaluate</a><br>
この方法で、マウスを使用して最も一般的なコマンドを実行できます。マウスのクリッ<br>
クを有効にするには、<a class="Type" href="options.html#'mouse'">'mouse'</a>&nbsp;オプションを設定する必要があります。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#:Winbar" name=":Winbar">:Winbar</a><br>
開いている他のウィンドウにウィンドウツールバーを追加することができます:<br>
<div class="helpExample">&nbsp;&nbsp;:Winbar</div>
<br>
gdbがソース行で停止し、現在ソースコードを表示しているウィンドウがない場合、ソー<br>
スコード用の新しいウィンドウが作成されます。これは、ソースコードウィンドウの<br>
バッファが変更され、破棄できない場合でも発生します。<br>
<br>
gdbは各ブレークポイントに番号を与えます。Vim内では、赤い背景で、目印欄に表示さ<br>
れます。次のgdbコマンドを使用できます。<br>
- info break&nbsp;&nbsp;&nbsp;&nbsp;ブレークポイントの一覧<br>
- delete&nbsp;<span class="Special">N</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ブレークポイント&nbsp;<span class="Special">N</span>&nbsp;を削除<br>
また、カーソルがブレークポイントの行にある場合は&nbsp;<a class="Comment" href="terminal.html#:Clear">:Clear</a>&nbsp;コマンドを使うことが<br>
できます。または、右クリックのメニュー項目 &quot;Clear breakpoint&quot; を使用することも<br>
できます。<br>
<br>
<br>
<span class="PreProc">変数を検査する</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#termdebug-variables" name="termdebug-variables">termdebug-variables</a>&nbsp;<a class="Constant" href="terminal.html#:Evaluate" name=":Evaluate">:Evaluate</a><br>
&nbsp;<a class="Comment" href="terminal.html#:Evaluate">:Evaluate</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;カーソルの下の式を評価する<br>
&nbsp;<a class="Comment" href="various.html#K">K</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;上に同じ<br>
&nbsp;<a class="Comment" href="terminal.html#:Evaluate">:Evaluate</a>&nbsp;<span class="Special">{expr}</span>&nbsp;&nbsp;&nbsp;<span class="Special">{expr}</span>&nbsp;を評価する<br>
&nbsp;<span class="Comment">:'&lt;,'&gt;Evaluate</span>&nbsp;&nbsp;&nbsp;&nbsp; ビジュアル選択したテキストを評価する<br>
<br>
これは gdb ウィンドウで &quot;print&quot; コマンドを使ったのに相当します。<br>
<a class="Comment" href="terminal.html#:Evaluate">:Evaluate</a>&nbsp;は&nbsp;<span class="Comment">:Ev</span>&nbsp;に短縮できます。<br>
<br>
<br>
<span class="PreProc">その他のコマンド</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#termdebug-commands" name="termdebug-commands">termdebug-commands</a><br>
&nbsp;<a class="Constant" href="terminal.html#:Gdb" name=":Gdb">:Gdb</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gdb ウィンドウに移動する<br>
&nbsp;<a class="Constant" href="terminal.html#:Program" name=":Program">:Program</a>&nbsp;&nbsp;&nbsp;&nbsp;デバッグ中のプログラムウィンドウに移動する<br>
&nbsp;<a class="Constant" href="terminal.html#:Source" name=":Source">:Source</a>&nbsp;&nbsp;&nbsp;&nbsp; ソースコードウィンドウにジャンプする、ウィンドウがなければ作成する<br>
<br>
<br>
<span class="PreProc">プロンプトモード</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#termdebug-prompt" name="termdebug-prompt">termdebug-prompt</a><br>
<a class="Identifier" href="various.html#+terminal">+terminal</a>&nbsp;機能がサポートされていない場合や MS-Windows上の場合、gdbは<br>
<a class="Type" href="options.html#'buftype'">'buftype'</a>&nbsp;が &quot;prompt&quot; に設定されたバッファで動作します。これは少し違った働きを<br>
します:<br>
- コマンドを入力している間、gdbウィンドウは挿入モードになります。<span class="Special">&lt;Esc&gt;</span>&nbsp;でノー<br>
&nbsp;&nbsp;マルモードにして、バッファ間を移動したり、コピー/ペーストなどをおこなうこと<br>
&nbsp;&nbsp;ができます。<a class="Comment" href="insert.html#a">a</a>&nbsp;や&nbsp;<a class="Comment" href="insert.html#i">i</a>&nbsp;のような挿入モードを開始するコマンドでgdbコマンドの編<br>
&nbsp;&nbsp;集に戻ります。<br>
- デバッグ中のプログラムは別のウィンドウで実行されます。MS-Windowsでは、これは<br>
&nbsp;&nbsp;新しいコンソールウィンドウです。Unixでは、<a class="Identifier" href="various.html#+terminal">+terminal</a>&nbsp;機能が利用可能な場合、<br>
&nbsp;&nbsp;端末ウィンドウが開いてデバッグされたプログラムを実行します。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#termdebug_use_prompt" name="termdebug_use_prompt">termdebug_use_prompt</a><br>
プロンプトモードは、<a class="Identifier" href="various.html#+terminal">+terminal</a>&nbsp;機能が有効な場合でも使用できます:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let g:termdebug_use_prompt = 1</div>
<br>
<br>
<span class="PreProc">通信</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#termdebug-communication" name="termdebug-communication">termdebug-communication</a><br>
Vim が gdb と通信するために他に隠されたバッファを利用します。バッファ名は &quot;gdb<br>
communicate&quot; です。このバッファは消さないでください。消してしまうとデバッガが<br>
動作しなくなってしまうでしょう。<br>
<br>
gdb は奇妙な動作をしていますが、プラグインはその問題を回避するために最善を尽く<br>
しています。<br>
たとえば、gdbウィンドウで &quot;continue&quot; と入力した後に、<span class="Special">CTRL-C</span>&nbsp;を使用して実行中の<br>
プログラムを中断することができます。しかし、MIコマンド &quot;-exec-continue&quot; を使用<br>
した後、<span class="Special">CTRL-C</span>&nbsp;を押しても中断しません。したがって、通信チャネルを使用する代わ<br>
りに、<a class="Comment" href="terminal.html#:Continue">:Continue</a>&nbsp;コマンドに &quot;continue&quot; が使用されていることがわかります。<br>
<br>
<br>
<span class="PreProc">カスタマイズ</span><br>
<br>
GDBコマンド&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#termdebug-customizing" name="termdebug-customizing">termdebug-customizing</a><br>
<br>
gdb コマンド以外のデバッガを使うには、&nbsp;<a class="Comment" href="terminal.html#:Termdebug">:Termdebug</a>&nbsp;を実行する前に<br>
&quot;termdebugger&quot; 変数を変更してください:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let termdebugger = &quot;mygdb&quot;</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#gdb-version" name="gdb-version">gdb-version</a><br>
gdb と完全互換のあるデバッガのみが使えます。Vim は gdb の操作に GDB/MI インター<br>
フェイスを利用しています。 &quot;new-ui&quot; コマンドには、gdbバージョン7.12以降が必要<br>
です。このエラーが発生した場合:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Undefined command: &quot;new-ui&quot;. Try &quot;help&quot;.~</div>
あなたの gdb が古すぎます。<br>
<br>
カラー&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#hl-debugPC" name="hl-debugPC">hl-debugPC</a>&nbsp;<a class="Constant" href="terminal.html#hl-debugBreakpoint" name="hl-debugBreakpoint">hl-debugBreakpoint</a><br>
<br>
サインの色は以下のハイライトグループで調整できます:<br>
- debugPC&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 現在の位置<br>
- debugBreakpoint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ブレークポイント<br>
<br>
<a class="Type" href="options.html#'background'">'background'</a>&nbsp;オプションが &quot;light&quot; の時のデフォルトは以下のとおりです:<br>
&nbsp;&nbsp;hi debugPC term=reverse ctermbg=lightblue guibg=lightblue<br>
&nbsp;&nbsp;hi debugBreakpoint term=reverse ctermbg=red guibg=red<br>
<br>
<a class="Type" href="options.html#'background'">'background'</a>&nbsp;オプションが &quot;dark&quot; の時は以下のとおりです:<br>
&nbsp;&nbsp;hi debugPC term=reverse ctermbg=darkblue guibg=darkblue<br>
&nbsp;&nbsp;hi debugBreakpoint term=reverse ctermbg=red guibg=red<br>
<br>
<br>
ショートカット&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#termdebug_shortcuts" name="termdebug_shortcuts">termdebug_shortcuts</a><br>
<br>
TermDebugSendCommand() 関数を使用して、任意のウィンドウで動作する gdb を制御す<br>
る独自のショートカット(マッピング)を定義できます。例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;map ,w :call TermDebugSendCommand('where')&lt;CR&gt;</div>
引数は gdb コマンドです。<br>
<br>
<br>
ポップアップメニュー&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#termdebug_popup" name="termdebug_popup">termdebug_popup</a><br>
<br>
デフォルトでTermdebugプラグインは&nbsp;<a class="Type" href="options.html#'mousemodel'">'mousemodel'</a>&nbsp;を &quot;popup_setpos&quot; に設定し、こ<br>
れらのエントリをポップアップメニューに追加します:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set breakpoint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="terminal.html#:Break">:Break</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clear breakpoint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="terminal.html#:Clear">:Clear</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Evaluate&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="terminal.html#:Evaluate">:Evaluate</a><br>
あなたがこれを望まないならば、それを無効にしてください:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let g:termdebug_popup = 0</div>
<br>
<br>
Vimのウィンドウ幅&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="terminal.html#termdebug_wide" name="termdebug_wide">termdebug_wide</a><br>
<br>
デバッグを開始した際に Vim のウィンドウ幅を変更し、垂直分割を利用するには次の<br>
ように設定します:<br>
<div class="helpExample">&nbsp;&nbsp;let g:termdebug_wide = 163</div>
これは :Termdebug を実行した際に &amp;columns を 163 に設定します。元の値はデバッ<br>
ガが終了する際に復元されます。<br>
g:termdebug_wide が設定されていて、&amp;columnsがすでに g:termdebug_wide より大き<br>
い場合、&amp;columns を変更せずに垂直分割が使用されます。<br>
&amp;columns を変更せずに垂直分割を行うには、1に設定します。(端末がVimによってサイ<br>
ズ変更できない場合に便利です)<br>
<br>
<br>
<br>
&nbsp;vim:tw=78:ts=8:noet:ft=help:norl:<br>
</div>
