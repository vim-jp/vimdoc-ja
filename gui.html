---
layout: vimdoc
helpname: 'gui'
---
<a class="Constant" href="gui.html" name="gui.txt">*gui.txt*</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; For&nbsp;<span class="Identifier">Vim バージョン 7.3.</span>&nbsp;&nbsp;Last change: 2011 Jul 22<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VIMリファレンスマニュアル&nbsp;&nbsp;&nbsp;&nbsp;by Bram Moolenaar<br>
<br>
<br>
Vimのグラフィカルユーザインタフェース&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui" name="gui">*gui*</a>&nbsp;<a class="Constant" href="gui.html#GUI" name="GUI">*GUI*</a><br>
<br>
1. GUIの開始&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="gui.html#gui-start">|gui-start|</a><br>
2. スクロールバー&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="gui.html#gui-scrollbars">|gui-scrollbars|</a><br>
3. マウス制御&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="gui.html#gui-mouse">|gui-mouse|</a><br>
4. GUI選択の作成&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="gui.html#gui-selections">|gui-selections|</a><br>
5. メニュー&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="gui.html#menus">|menus|</a><br>
6. 付記&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="gui.html#gui-extras">|gui-extras|</a><br>
7. シェルコマンド&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="gui.html#gui-shell">|gui-shell|</a><br>
<br>
他のGUIドキュメント:<br>
<a class="Identifier" href="gui_x11.html">|gui_x11.txt|</a>&nbsp;&nbsp; X11 GUIに特有の項目について。<br>
<a class="Identifier" href="gui_w32.html">|gui_w32.txt|</a>&nbsp;&nbsp; Win32 GUIに特有の項目について。<br>
<br>
<span class="Special">{Vi にはこれらのどのコマンドもない}</span><br>
<br>
<span class="PreProc">==============================================================================</span><br>
1. GUIの開始&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-start" name="gui-start">*gui-start*</a>&nbsp;<a class="Constant" href="gui.html#E229" name="E229">*E229*</a>&nbsp;<a class="Constant" href="gui.html#E233" name="E233">*E233*</a><br>
<br>
まずはVimがGUIに対応したバージョンであるか確認する必要がある。それは &quot;:version&quot;<br>
コマンドで調べることができる。その出力が &quot;with xxx GUI&quot; または &quot;MS-Windows 32<br>
bit GUI version&quot; を含んでいれば問題ない。ここで &quot;xxx&quot; は X11-Motif,<br>
X11-Athena, Photon, GTK, GTK2, などである。<br>
<br>
どのようにGUIで起動するかは使用しているシステムに依存する。たいていはこのよう<br>
にしてGUI版のVimを実行できる:<br>
&nbsp;&nbsp;&nbsp;&nbsp;gvim&nbsp;<span class="Special">[options]</span>&nbsp;[files...]<br>
<br>
VimのX11バージョンはGUIとGUIでないモードの両方で実行することができる。<br>
<a class="Identifier" href="gui_x11.html#gui-x11-start">|gui-x11-start|</a>&nbsp;を参照。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-init" name="gui-init">*gui-init*</a>&nbsp;<a class="Constant" href="gui.html#gvimrc" name="gvimrc">*gvimrc*</a>&nbsp;<a class="Constant" href="gui.html#.gvimrc" name=".gvimrc">*.gvimrc*</a>&nbsp;<a class="Constant" href="gui.html#_gvimrc" name="_gvimrc">*_gvimrc*</a>&nbsp;<a class="Constant" href="gui.html#$MYGVIMRC" name="$MYGVIMRC">*$MYGVIMRC*</a><br>
gvimrc は GUI 固有の初期化コマンドを書くためのファイルである。gvimrc は常に<br>
ファイル&nbsp;<a class="Identifier" href="starting.html#vimrc">|vimrc|</a>&nbsp;の後に読み込まれる。環境変数 $MYGVIMRC があると、その値が<br>
gvimrc の代わりに使われる。<br>
<br>
GUIの初期化は次の順序で行われる:<br>
- オプション&nbsp;<a class="Type" href="options.html#'term'">'term'</a>&nbsp;が &quot;builgin_gui&quot; に設定され、端末の設定がGUI用の初期値に設<br>
&nbsp;&nbsp;定される。<a class="Identifier" href="term.html#terminal-options">|terminal-options|</a><br>
- システムのメニューファイルがあればそれが読み込まれる。このファイルの名前は通<br>
&nbsp;&nbsp;常 &quot;$VIMRUNTIME/menu.vim&quot; である。&quot;:version&quot; でこれを確認できる。<br>
&nbsp;&nbsp;<a class="Identifier" href="starting.html#$VIMRUNTIME">|$VIMRUNTIME|</a>も参照。システムのメニューの読み込みを省略するには&nbsp;<a class="Type" href="options.html#'guioptions'">'guioptions'</a><br>
&nbsp;&nbsp;に 'M' を含める。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#buffers-menu" name="buffers-menu">*buffers-menu*</a>&nbsp;<a class="Constant" href="gui.html#no_buffers_menu" name="no_buffers_menu">*no_buffers_menu*</a><br>
&nbsp;&nbsp;システムのメニューファイルはメニュー項目 &quot;Buffers&quot; (バッファ)の定義も含んで<br>
&nbsp;&nbsp;いる。これを必要としないなら、ユーザーの.vimrc (.gvimrcではない!)で<br>
&nbsp;&nbsp;&quot;no_buffers_menu&quot; を設定する:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:let no_buffers_menu = 1</div>
&nbsp;&nbsp;<span class="Todo">NOTE</span>: 構文強調表示を有効にするとメニューファイルも読み込まれるため、メニュー<br>
&nbsp;&nbsp;項目Buffers(バッファ)を無効にするのは &quot;:syntax on&quot; の前にする。<br>
&nbsp;&nbsp;メニューに表示されるバッファの名前は35文字で切り詰められる。違う長さで切り詰<br>
&nbsp;&nbsp;めるなら、例えば50文字にするなら、次のようにする:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:let bmenu_max_pathlen = 50</div>
- Vimを起動するときのコマンドライン引数に &quot;-U&nbsp;<span class="Special">{gvimrc}</span>&quot; が指定されると、<br>
&nbsp;&nbsp;<span class="Special">{gvimrc}</span>ファイルが初期化のために読み込まれ、以下の初期化処理は省略される。<br>
&nbsp;&nbsp;<span class="Special">{gvimrc}</span>が &quot;NONE&quot; の場合は、どの初期化ファイルも読み込まれない。<br>
- UnixとMS-Windowsでは、システムのgvimrcが存在するなら、それが読み込まれる。こ<br>
&nbsp;&nbsp;のファイルの名前は通常 &quot;$VIM/gvimrc&quot; である。&quot;:version&quot; でこれを確認できる。<br>
&nbsp;&nbsp;<a class="Identifier" href="starting.html#$VIM">|$VIM|</a>も参照。<br>
- 次のものを試して、最初に見つかったものが使用される:<br>
&nbsp;&nbsp;- GVIMINIT環境変数が存在し空でないなら、それがExコマンドとして実行される。<br>
&nbsp;&nbsp;- ユーザのgvimrcファイルが存在するなら、それが読み込まれる。このファイル<br>
&nbsp;&nbsp;&nbsp;&nbsp;の名前は通常 &quot;$HOME/.gvimrc&quot; である。&quot;:version&quot; でこれを確認できる。<br>
&nbsp;&nbsp;- Win32では、$HOMEが設定されていないときは、&quot;$VIM\_gvimrc&quot; が読み込まれる。<br>
&nbsp;&nbsp;- &quot;_gvimrc&quot; ファイルが見つからないときには、&quot;.gvimrc&quot; も試される。逆のときも<br>
&nbsp;&nbsp;&nbsp;&nbsp;同様である。<br>
&nbsp;&nbsp;$MYGVIMRC が設定されていないならば、$MYGVIMRC に最初に見つかったファイルの名<br>
&nbsp;&nbsp;前が代入される。<br>
-&nbsp;<a class="Type" href="options.html#'exrc'">'exrc'</a>&nbsp;オプションが設定されていて(これは標準設定ではない)、./.gvimrcファイル<br>
&nbsp;&nbsp;が存在し、それがシステム、あるいはユーザーのgvimrcファイルではないなら、それ<br>
&nbsp;&nbsp;が読み込まれる。このファイルがユーザーの所有しているものでないなら、いくつか<br>
&nbsp;&nbsp;のセキュリティ上の制限が適用される。&quot;.gvimrc&quot; が見つからないときには、<br>
&nbsp;&nbsp;&quot;_gvimrc&quot; も試される。MacintoshとDOS/Win32では、&quot;_gvimrc&quot; が最初に試される。<br>
<br>
<span class="Todo">NOTE</span>: Vimを起動するときに、&quot;-U&quot; 引数を指定せずに &quot;-u NONE&quot; を指定するか、ある<br>
いは &quot;-U NONE&quot; を指定して起動すると、最初のもの以外は全て実行されない。<br>
<br>
これらは全て、ユーザーの.vimrcファイルを読み込む、というような、通常のVimの初<br>
期化の後に実行される。<a class="Identifier" href="starting.html#initialization">|initialization|</a>を参照。<br>
しかし、GUIウィンドウは全ての初期化が実行された後に開かれる。<br>
GUIウィンドウを開いた直後にいくつかのコマンドを実行したいなら、オートコマンド<br>
の<a class="Identifier" href="autocmd.html#GUIEnter">|GUIEnter|</a>イベントを使用する。例えば:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:autocmd GUIEnter * winpos 100 50</div>
<br>
カスタマイズしたメニュー(<a class="Identifier" href="gui.html#:menu">|:menu|</a>を参照)をセットアップしたり、CUI版とは異なった<br>
初期化をするために、gvimrcファイルを使用することができる。<br>
<br>
ユーザーの個人的なGUI初期化ファイルを置くのに推奨される場所:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unix&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$HOME/.gvimrc<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OS/2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$HOME/.gvimrcあるいは$VIM/.gvimrc<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MS-DOSとWin32&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; $HOME/_gvimrcあるいは$VIM/_gvimrc<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Amiga&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; s:.gvimrcあるいは$VIM/.gvimrc<br>
<br>
GUI版のVimでだけ意味を持つオプションがある。<a class="Type" href="options.html#'guicursor'">'guicursor'</a>、<a class="Type" href="options.html#'guifont'">'guifont'</a>、<a class="Type" href="options.html#'guipty'">'guipty'</a>、<br>
<a class="Type" href="options.html#'guioptions'">'guioptions'</a>&nbsp;である。それらは他の全てのオプションと共に<a class="Identifier" href="options.html">|options.txt|</a>で説明され<br>
ている。<br>
<br>
GUIのMotifかAthenaバージョン(GTK+やWin32バージョンではない)を使用しているなら<br>
ば、多くのXのリソースが有効である。<a class="Identifier" href="gui_x11.html#gui-resources">|gui-resources|</a>を参照。<br>
<br>
<br>
端末の設定をする以外に文字の色を設定する方法はハイライトを設定することである。<br>
ハイライトの &quot;Normal&quot; グループは背景色と前景色を設定するために用いられる。(ナ<br>
イスな)例:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:highlight Normal guibg=grey90</div>
<br>
&quot;guibg&quot; と &quot;guifg&quot; の設定は通常の背景と前景の設定よりも優先される。ハイライト<br>
のNormalグループに対するその他の設定は使用されない。フォントを設定するには<br>
<a class="Type" href="options.html#'guifont'">'guifont'</a>&nbsp;を使用する。<br>
<br>
モード別にカーソルの色を設定するには、<a class="Type" href="options.html#'guicursor'">'guicursor'</a>&nbsp;オプションを参照。<br>
<br>
Vimは起動時に、スクリーンに合わせてウィンドウの位置を調整しようとする。これは<br>
ウィンドウの一部が隠れてしまわないようにするためである。X Window Systemでは、<br>
これは少し憶測を必要とする。<a class="Type" href="options.html#'guiheadroom'">'guiheadroom'</a>&nbsp;オプションでウィンドウタイトルとタス<br>
クバーに用いられる高さを変更することができる。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:winp" name=":winp">*:winp*</a>&nbsp;<a class="Constant" href="gui.html#:winpos" name=":winpos">*:winpos*</a>&nbsp;<a class="Constant" href="gui.html#E188" name="E188">*E188*</a><br>
:winp[os]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GUI vimウィンドウの左上隅の現在の位置をピクセルで表示する。全<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;てのバージョンで機能する訳ではない。<br>
<br>
:winp[os]&nbsp;<span class="Special">{X}</span>&nbsp;<span class="Special">{Y}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#E466" name="E466">*E466*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;与えられた<span class="Special">{X}</span>と<span class="Special">{Y}</span>の座標にGUI vimウィンドウを移動する。座標は<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ウィンドウの左上隅の位置をピクセル単位で指定する。全てのバー<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ジョンで機能する訳ではない。(新しい)xtermで機能する<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="syntax.html#xterm-color">|xterm-color|</a>。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GUIウィンドウがまだ開いていないとき、この値はウィンドウが開か<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;れるまで保留される。位置はスクリーンに合うように調整される(可<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;能なら)。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:win" name=":win">*:win*</a>&nbsp;<a class="Constant" href="gui.html#:winsize" name=":winsize">*:winsize*</a>&nbsp;<a class="Constant" href="gui.html#E465" name="E465">*E465*</a><br>
:win[size]&nbsp;<span class="Special">{width}</span>&nbsp;<span class="Special">{height}</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">{width}</span>(幅)と<span class="Special">{height}</span>(高さ)を指定してウィンドウの大きさを設定<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;する。このコマンドは古いコマンド(Obsolate)なので、<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;:set lines=11 columns=22&quot; を使用するようにすること。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;期待したよりも高さが低くなるなら、<a class="Type" href="options.html#'guiheadroom'">'guiheadroom'</a>&nbsp;オプションを確<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;認すること。<br>
<br>
X Window Systemでは、このコマンドでVimのウィンドウの情報を得ることができる:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:!xwininfo -id $WINDOWID</div>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-IME" name="gui-IME">*gui-IME*</a>&nbsp;<a class="Constant" href="gui.html#iBus" name="iBus">*iBus*</a><br>
X で各国の文字を入力するためのインプットメソッドで XIM フレームワークに依るも<br>
の、特に iBus は、gVim で使用すると不具合が起こることが知られている。スペース<br>
を入力できなかったり、キーを押してからそれがアプリケーションに届くまで大きな遅<br>
延が発生したりする。<br>
<br>
対処療法としては gvim の起動引数に&nbsp;<a class="Identifier" href="starting.html#-f">|-f|</a>&nbsp;を付けてフォークをしないようにすると症<br>
状は出なくなる。理由は不明だが。<br>
<span class="PreProc">==============================================================================</span><br>
2. スクロールバー&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-scrollbars" name="gui-scrollbars">*gui-scrollbars*</a><br>
<br>
垂直スクロールバーと水平スクロールバーがある。<a class="Type" href="options.html#'guioptions'">'guioptions'</a>&nbsp;オプションでどれが<br>
表示されるかを設定することができる。<br>
<br>
このような外観になっている(設定が &quot;:set guioptions=mlrb&quot; のとき):<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +------------------------------+&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | ファイル 編集&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ヘルプ | &lt;- メニューバー(m)&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+--------------------------+-+&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |^|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|^|&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |#| テキストエリア&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |#|&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |v|__________________________|v|&nbsp;<br>
&nbsp;Vimウィンドウ間の&nbsp;&nbsp;-&gt; |-+ File.c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5,2&nbsp;&nbsp;+-|&nbsp;<br>
&nbsp;通常のステータス行&nbsp;&nbsp;&nbsp;&nbsp;|^|&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;&quot;|^|&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | | 別のファイルバッファ&nbsp;&nbsp;&nbsp;&nbsp; | |&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |#|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|#|&nbsp;<br>
&nbsp;左スクロールバー(l)-&gt; |#|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|#| &lt;- 右&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |#|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|#|&nbsp;&nbsp;&nbsp;&nbsp;スクロールバー(r)&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| |&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |v|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|v|&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+--------------------------+-+&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | |&lt; ####&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &gt;| | &lt;- 下&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+--------------------------+-+&nbsp;&nbsp;&nbsp;&nbsp;スクロールバー(b)&nbsp;<br>
<br>
スクロールバーやメニューバーは&nbsp;<a class="Type" href="options.html#'guioptions'">'guioptions'</a>&nbsp;から対応する文字を取り除くことで無<br>
効にできる。下スクロールバーは&nbsp;<a class="Type" href="options.html#'nowrap'">'nowrap'</a>&nbsp;が設定されているときだけ有用である。<br>
<br>
<br>
垂直スクロールバー&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-vert-scroll" name="gui-vert-scroll">*gui-vert-scroll*</a><br>
<br>
各Vimウィンドウはとなりにスクロールバーを持っていて、上下にスクロールしてその<br>
バッファ内のテキストの表示を移動できる。スクロールバーのつまみのサイズはウィン<br>
ドウに見えているバッファの割合を示している。スクロールバーがずっと下方にドラッ<br>
グされると、ファイルの最後の行はウィンドウの最上部に表示される。<br>
<br>
ウィンドウが(他のウィンドウの拡大によって)高さゼロに縮小されると、そのスク<br>
ロールバーは表示されなくなる。それはウィンドウが復元されるときに再び表示され<br>
る。<br>
<br>
ウィンドウを縦分割しているとき、カレントウィンドウだけがスクロールバーを利用で<br>
きる。そして、複数のウィンドウの真ん中のウィンドウを操作しているときは、スク<br>
ロールバーは間のウィンドウを飛び越えて作用する。<br>
両側にスクロールバーがあるときに、複数のウィンドウの真ん中のカレントウィンドウ<br>
が左半分に面していると、右側のスクロールバーは右端のウィンドウに影響する。左右<br>
が逆でも同様。<br>
<br>
<br>
水平スクロールバー&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-horiz-scroll" name="gui-horiz-scroll">*gui-horiz-scroll*</a><br>
<br>
(Vim GUIの最下段の)水平スクロールバーは、<a class="Type" href="options.html#'wrap'">'wrap'</a>&nbsp;オプションがオフのときに、テキ<br>
ストを横にスクロールするために使用する。スクロールバーのつまみのサイズは、左右<br>
にスクロールして一番長い行のテキストを全て表示できるくらいである。必要に応じて<br>
カーソルが移動するとき、カーソルは表示されている文字の上にとどまる<br>
(<a class="Type" href="options.html#'virtualedit'">'virtualedit'</a>&nbsp;が設定されていなければ)。<br>
<br>
一番長い行を計算するのは多少の処理時間を必要とする。そしてそれは何かが変更され<br>
るときに毎回行われる。その時間が多すぎるようだったり、他の行へのカーソルジャン<br>
プを好まないなら、<a class="Type" href="options.html#'guioptions'">'guioptions'</a>&nbsp;に 'h' を含めると、スクロールはカーソルのある行<br>
の長さに制限される。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#athena-intellimouse" name="athena-intellimouse">*athena-intellimouse*</a><br>
インテリマウスを持っていて、Xサーバがホイールをサポートしているなら、gvimでテ<br>
キストを上下にスクロールするのにホイールを使うことができる。これはXFree86 4.0<br>
以降のバージョンで機能する。古いバージョンでもパッチを当てれば利用可能になる。<br>
<a class="Identifier" href="scroll.html#scroll-mouse-wheel">|scroll-mouse-wheel|</a>を参照。<br>
<br>
古いバージョンのXFree86ではXサーバにパッチを当てなくてはならない。以下のページ<br>
にはパッチとXサーバのバイナリへのリンクに加えて、Linux上でインテリマウスを使用<br>
することについて多少の情報がある(けれども必要とするものはないかもしれない):<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Constant"><a href="http://www.inria.fr/koala/colas/mouse-wheel-scroll/">http://www.inria.fr/koala/colas/mouse-wheel-scroll/</a></span><br>
<br>
<span class="PreProc">==============================================================================</span><br>
3. マウス制御&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-mouse" name="gui-mouse">*gui-mouse*</a><br>
<br>
マウスは、<a class="Type" href="options.html#'mouse'">'mouse'</a>&nbsp;オプションに適切なフラグが設定されている場合にだけ機能する。<br>
GUIに切り替わるときに、<a class="Type" href="options.html#'mouse'">'mouse'</a>&nbsp;がまだ設定されていなければ、<a class="Type" href="options.html#'mouse'">'mouse'</a>&nbsp;オプション<br>
は自動的に &quot;a&quot; に設定され、<a class="Identifier" href="message.html#hit-enter">|hit-enter|</a>プロンプトを除いて全てのモードで有効にな<br>
る。これを望まないならば、&quot;gvimrc&quot; ファイルで&nbsp;<a class="Type" href="options.html#'mouse'">'mouse'</a>&nbsp;オプションを変更する。<br>
<br>
関連する他のオプション:<br>
<a class="Type" href="options.html#'mousefocus'">'mousefocus'</a>&nbsp;&nbsp;&nbsp;&nbsp;マウスポインタが乗っているウィンドウをカレントウィンドウにする<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="gui.html#gui-mouse-focus">|gui-mouse-focus|</a><br>
<a class="Type" href="options.html#'mousemodel'">'mousemodel'</a>&nbsp;&nbsp;&nbsp;&nbsp;マウスのボタンがどのような動作をするか<br>
<a class="Type" href="options.html#'mousehide'">'mousehide'</a>&nbsp;&nbsp;&nbsp;&nbsp; テキストを入力している間マウスポインタを隠す<br>
<a class="Type" href="options.html#'selectmode'">'selectmode'</a>&nbsp;&nbsp;&nbsp;&nbsp;選択時に選択モードとビジュアルモードのどちらを使うか<br>
<br>
素早くこれらを設定するには &quot;:behave&quot; コマンドで行う。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:behave" name=":behave">*:behave*</a>&nbsp;<a class="Constant" href="gui.html#:be" name=":be">*:be*</a><br>
:be[have]&nbsp;<span class="Special">{model}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; マウスと選択の動作を設定する。有効な引数は:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mswin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MS-Windowsの動作<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xterm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Xtermの動作<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;:behave&quot; を使用するとこれらのオプションが変更される:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">option&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mswin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xterm</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'selectmode'">'selectmode'</a>&nbsp;&nbsp;&nbsp;&nbsp;&quot;mouse,key&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'mousemodel'">'mousemodel'</a>&nbsp;&nbsp;&nbsp;&nbsp;&quot;popup&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;extend&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'keymodel'">'keymodel'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;startsel,stopsel&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'selection'">'selection'</a>&nbsp;&nbsp;&nbsp;&nbsp; &quot;exclusive&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;inclusive&quot;<br>
<br>
$VIMRUNTIMEディレクトリの中に、MS-Windowsにあるようなcut/copy/paste機能のため<br>
のキーマッピングを設定する<a class="Identifier" href="gui_w32.html#mswin.vim">|mswin.vim|</a>と呼ばれるスクリプトがある。これは、<br>
<span class="Special">CTRL-V</span>、<span class="Special">CTRL-X</span>、<span class="Special">CTRL-C</span>キーを用いるので、標準の操作と互換性がなくなってしまう。<br>
それでも構わないなら、このコマンドで使用する:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:so $VIMRUNTIME/mswin.vim</div>
<br>
マウスのホイールでスクロールするには、<a class="Identifier" href="scroll.html#scroll-mouse-wheel">|scroll-mouse-wheel|</a>を参照。<br>
<br>
<br>
3.1 マウスによるカーソルの移動&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-mouse-move" name="gui-mouse-move">*gui-mouse-move*</a><br>
<br>
カーソルを持って行きたいテキストバッファのどこかでマウスの左ボタンをクリックす<br>
ると、カーソルはそこに行く!<br>
<span class="PreProc">動作するモード&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'mouse'が以下を含んでいるとき</span><br>
ノーマルモード&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'n' or 'a'<br>
ビジュアルモード&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'v' or 'a'<br>
挿入モード&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'i' or 'a'<br>
<br>
選択モードはビジュアルモードのように扱われる。<br>
<br>
現在のカーソル位置からマウスで指示する位置までのテキストを削除するために 'd'<br>
のようなオペレータと共にこれを使用してもよい。つまり、'd' を入力してからどこか<br>
をマウスでクリックする。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-mouse-focus" name="gui-mouse-focus">*gui-mouse-focus*</a><br>
<a class="Type" href="options.html#'mousefocus'">'mousefocus'</a>&nbsp;オプションを設定してキーボードフォーカスがマウスポインタに追従す<br>
るようにできる。これはマウスポインタが乗っているウィンドウがアクティブウィンド<br>
ウになることを意味する。警告: メニューをうまく利用できなくなる。メニューを使用<br>
したときに、そのメニューに設定されたコマンドは常に一番上のウィンドウに適用され<br>
てしまうだろう。<br>
<br>
(<a class="Type" href="options.html#'mouse'">'mouse'</a>&nbsp;が 'c'、'a'、'A' のどれかを含んでいるなら)コマンドラインモードや検索<br>
モード中にマウスの左ボタンか右ボタンをクリックすることで、コマンドラインの行の<br>
クリックした位置にカーソルを移動できる。<br>
<br>
どのような状況でも、マウスの中ボタンをクリックして、現在の選択を貼り付けること<br>
ができる。<br>
<br>
<br>
3.2 マウスによる選択&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-mouse-select" name="gui-mouse-select">*gui-mouse-select*</a><br>
<br>
マウスを使って選択を開始できる。どのように使用するかは&nbsp;<a class="Type" href="options.html#'mousemodel'">'mousemodel'</a>&nbsp;オプション<br>
に依存する:<br>
<a class="Type" href="options.html#'mousemodel'">'mousemodel'</a>&nbsp;が &quot;extend&quot; である: マウスの右ボタンを使用する。<br>
<a class="Type" href="options.html#'mousemodel'">'mousemodel'</a>&nbsp;が &quot;popup&quot; である: Shiftキーを押しながら、マウスの左ボタンを使用<br>
する。<br>
<br>
選択を開始するときには、カーソルの位置からマウスで指示した位置までが選択され<br>
る。すでに選択されている状態で選択の操作をすると、選択範囲が拡張される。<br>
<br>
<a class="Type" href="options.html#'selectmode'">'selectmode'</a>&nbsp;が &quot;mouse&quot; を含んでいるなら、選択モードが使用される。これは選択中<br>
に入力した文字で選択範囲が置き換えられることを意味する。<br>
<a class="Identifier" href="visual.html#Select-mode">|Select-mode|</a>を参照。そうでなければ、ビジュアルモードが使用される。<br>
<br>
ダブルクリックで単語の選択、トリプルクリックで行の選択、クワドルプルクリック<br>
(4回クリック)で矩形ブロックを選択することができる。<br>
<br>
どのように選択が用いられるかに関しては<a class="Identifier" href="gui.html#gui-selections">|gui-selections|</a>を参照。<br>
<br>
<br>
3.3 マウスによる他のテキスト選択&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-mouse-modeless" name="gui-mouse-modeless">*gui-mouse-modeless*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#modeless-selection" name="modeless-selection">*modeless-selection*</a><br>
次のときには異なる選択方法が使われる:<br>
- コマンドラインモード<br>
- コマンドラインウィンドウを使用中に他のウィンドウを指したとき<br>
-&nbsp;<a class="Identifier" href="message.html#hit-enter">|hit-enter|</a>プロンプト<br>
- 現在のモードが&nbsp;<a class="Type" href="options.html#'mouse'">'mouse'</a>&nbsp;オプションで指定されていないときはいつでも<br>
- GUIでCTRLキーとSHIFTキーを同時に押しているとき<br>
<br>
テキストが選択されていても、選択されていないかのように、あるいは、選択に関連し<br>
たモードが存在しないかのように、Vimが通常の動作を継続するので、これはモードレ<br>
ス選択と呼ばれる。Vimウィンドウの中のどんなテキストでも選択することができる。<br>
開始点でマウスの左ボタンを押すことでテキストを選択し、終点までドラッグして離<br>
す。選択を延長するには、<a class="Type" href="options.html#'mousemodel'">'mousemodel'</a>&nbsp;が &quot;extend&quot; のときにはマウスの右ボタンを<br>
使用し、<a class="Type" href="options.html#'mousemodel'">'mousemodel'</a>&nbsp;が &quot;popup&quot; のときにはシフトキーを押しながらマウスの左ボタ<br>
ンを使用する。<br>
選択したテキストが変更されると、選択は解除される。<br>
<br>
コマンドラインでは&nbsp;<span class="Special">CTRL-Y</span>&nbsp;で選択範囲をクリップボードにコピーできる。挿入モード<br>
中にコピーするには&nbsp;<span class="Special">CTRL-O</span>&nbsp;を使い&nbsp;<span class="Special">CTRL-Y</span>&nbsp;<span class="Special">&lt;CR&gt;</span>&nbsp;とする。<a class="Type" href="options.html#'guioptions'">'guioptions'</a>&nbsp;に a か A が<br>
含まれるとき (X11 では既定でそうなっている) は、選択範囲が自動的にレジスタ &quot;*<br>
にコピーされる。<br>
<br>
マウス中ボタンでテキストを貼り付けられる。X11 以外のシステムでは&nbsp;<span class="Special">CTRL-R</span>&nbsp;+ を<br>
使えば貼り付けられる。<br>
<br>
<br>
3.4 ステータス行でのマウスの使用&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-mouse-status" name="gui-mouse-status">*gui-mouse-status*</a><br>
<br>
Vimウィンドウの下のステータス行でマウスの左ボタンか右のボタンをクリックするこ<br>
とでそのウィンドウがカレントウィンドウになる。これはボタンを放したときに起こる<br>
(クリックとドラッグの操作を区別するため)。<br>
<br>
左ボタンを使ってステータス行を上下にドラッグすると、ウィンドウのサイズを上下に<br>
変更できる。この操作ではそのウィンドウはカレントウィンドウにならない。<br>
<br>
ウィンドウの垂直の区切りも同様に機能する。クリックした区切りの左のウィンドウが<br>
カレントウィンドウになる。左右にドラッグするとウィンドウの幅を変更できる。<br>
<br>
<br>
3.5 様々なマウスクリック&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-mouse-various" name="gui-mouse-various">*gui-mouse-various*</a><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;S-LeftMouse&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; マウスクリックで単語を前方検索する。<a class="Type" href="options.html#'mousemodel'">'mousemodel'</a>&nbsp;が<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;popup&quot; のときには、これは選択を開始するか、あるいは延<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;長する。<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;S-RightMouse&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;マウスクリックで単語を後方検索する。<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;C-LeftMouse&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; マウスクリックでタグ名へジャンプする。<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;C-RightMouse&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;直前のタグジャンプの前の位置に戻る(&quot;<span class="Special">CTRL-T</span>&quot; と同じ)。<br>
<br>
<br>
3.6 マウスマッピング&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-mouse-mapping" name="gui-mouse-mapping">*gui-mouse-mapping*</a><br>
<br>
修飾キー付きのマウスイベントをマッピングすることもできる。例えば:<br>
<div class="helpExample">&nbsp;&nbsp; :map &lt;S-LeftMouse&gt;&nbsp;&nbsp;&nbsp;&nbsp; &lt;RightMouse&gt;<br>
&nbsp;&nbsp; :map &lt;S-LeftDrag&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;RightDrag&gt;<br>
&nbsp;&nbsp; :map &lt;S-LeftRelease&gt;&nbsp;&nbsp; &lt;RightRelease&gt;<br>
&nbsp;&nbsp; :map &lt;2-S-LeftMouse&gt;&nbsp;&nbsp; &lt;2-RightMouse&gt;<br>
&nbsp;&nbsp; :map &lt;2-S-LeftDrag&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;2-RightDrag&gt;<br>
&nbsp;&nbsp; :map &lt;2-S-LeftRelease&gt; &lt;2-RightRelease&gt;<br>
&nbsp;&nbsp; :map &lt;3-S-LeftMouse&gt;&nbsp;&nbsp; &lt;3-RightMouse&gt;<br>
&nbsp;&nbsp; :map &lt;3-S-LeftDrag&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;3-RightDrag&gt;<br>
&nbsp;&nbsp; :map &lt;3-S-LeftRelease&gt; &lt;3-RightRelease&gt;<br>
&nbsp;&nbsp; :map &lt;4-S-LeftMouse&gt;&nbsp;&nbsp; &lt;4-RightMouse&gt;<br>
&nbsp;&nbsp; :map &lt;4-S-LeftDrag&gt;&nbsp;&nbsp;&nbsp;&nbsp;&lt;4-RightDrag&gt;<br>
&nbsp;&nbsp; :map &lt;4-S-LeftRelease&gt; &lt;4-RightRelease&gt;</div>
これらのマッピングは、Motifアプリケーションの作法にしたがって、選択領域を拡張<br>
するために、マウスの右ボタンを使わずに、Shiftキーを押しながら左ボタンを押す方<br>
法を設定している。<br>
<br>
修飾キーを使ったマウス操作のマッピングはモードレス選択では機能しない。<br>
<br>
<br>
3.7 ドラッグ&amp;ドロップ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#drag-n-drop" name="drag-n-drop">*drag-n-drop*</a><br>
<br>
Vimウィンドウに1つ、あるいは複数のファイルをドラッグ&amp;ドロップすることができ<br>
る。ファイルは<a class="Identifier" href="windows.html#:drop">|:drop|</a>コマンドを使ったときのように開かれる。<br>
<br>
Shiftキーを同時に押していると、Vimはカレントディレクトリをドロップされた最初の<br>
ファイルがあるディレクトリに変更する。Ctrlキーを同時に押していると、ファイルを<br>
開くためにウィンドウを分割する。押してなければカレントバッファが変更されていな<br>
いときだけファイルは開かれる。<br>
<br>
ディレクトリをVimにドロップすることもできる。この操作はexplorerプラグインでそ<br>
のディレクトリを開く(それが利用可能だと想定している。無理ならエラーが表示され<br>
るだろう)。Shiftキーを同時に押していれば、ディレクトリを開かずに、カレントディ<br>
レクトリをそのディレクトリに変更する。<br>
<br>
コマンドラインを編集中なら、ドロップされたファイルやディレクトリの名前がカーソ<br>
ル位置に挿入される。これはExコマンドでそれらの名前を使うのに便利である。特別な<br>
文字(スペース、タブ、ダブルクォート、'|'、MS-Windows以外ではバックスラッシュ<br>
も)はエスケープされる。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
4. GUI選択の作成&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-selections" name="gui-selections">*gui-selections*</a><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#quotestar" name="quotestar">*quotestar*</a><br>
マウス(<a class="Identifier" href="gui.html#gui-mouse-select">|gui-mouse-select|</a>を参照)か、あるいはVimのビジュアルモード(<a class="Identifier" href="visual.html#v">|v|</a>を参照)を<br>
使用して、選択を作成できる。<a class="Type" href="options.html#'guioptions'">'guioptions'</a>&nbsp;に 'a' が指定されているなら、いつ選択<br>
(ビジュアルモードや選択モード)が開始されるとしても、あるいは選択が変更されると<br>
しても、Vimがウィンドウシステムの主要な選択の所有者になる(MS-Windowsで<br>
は<a class="Identifier" href="gui_w32.html#gui-clipboard">|gui-clipboard|</a>が用いられる。X11では<a class="Identifier" href="gui_x11.html#x11-selection">|x11-selection|</a>が用いられる。ここの説明<br>
は両方に共通している)。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#clipboard" name="clipboard">*clipboard*</a><br>
選択を保存するための特別なレジスタがある。それは &quot;* レジスタである。どのテキス<br>
トが選択されているかという情報が(例えばマウスの左ボタンをクリックするなどして)<br>
変更されるか、あるいは他のアプリケーションが選択されたテキストを貼り付けようと<br>
しない限りここには何も書き出されない。使用されるときにはテキストは &quot;* レジスタ<br>
に書き出される。例えば、行を切り取って、それを現在の選択にして、クリップボード<br>
にそれを書き出すためには次のようにする:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;*dd</div>
<br>
同様に、例えば、マウスの中ボタンをクリックするなどして、他のアプリケーションか<br>
ら選択を貼り付けるときには、選択は始めに &quot;* レジスタに書き出され、それから他の<br>
レジスタと同じように挿入される。例えば、選択(クリップボードの内容)を貼り付ける<br>
には:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;*p</div>
<br>
X11でこのレジスタを使うには、<a class="Identifier" href="gui_x11.html#x11-selection">|x11-selection|</a>も参照。これは深く関連した &quot;+ レジ<br>
スタについても説明している。<br>
<br>
あるVimから他の独立したVimにテキストを貼り付けたいときには、選択のタイプ(文<br>
字、行あるいはブロック)もコピーされることに注意する。他のアプリケーションにつ<br>
いては、タイプは常に文字である。<a class="Identifier" href="gui_x11.html#x11-cut-buffer">|x11-cut-buffer|</a>を介して得たテキストでも、その<br>
選択のタイプは常に失われる。<br>
<br>
<a class="Type" href="options.html#'clipboard'">'clipboard'</a>&nbsp;オプションに &quot;unnamed&quot; 文字列が含まれているときには、無名レジスタ<br>
は &quot;*レ ジスタと同じである。したがってコマンドの前に &quot;* を付けずに選択をコピー<br>
し貼り付けることができる。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
5. メニュー&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#menus" name="menus">*menus*</a><br>
<br>
まずはユーザーマニュアルの<a class="Identifier" href="usr_42.html">|usr_42.txt|</a>を御覧ください。<br>
<br>
5.1 メニューの使用&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#using-menus" name="using-menus">*using-menus*</a><br>
<br>
基本的には、メニューは単にマッピングのように使用することができる。自分のメ<br>
ニューを好きなだけたくさん定義することができる。<br>
長い間Vimユーザーはメニューを十分に使用してこなかった。しかし自分のメニューや<br>
メニュー項目を追加することは大きな力を秘めている。ある一連のキー操作を覚えられ<br>
ないようなときに最も便利である。<br>
<br>
別の言語用にメニューを作成するには、<a class="Identifier" href="mlang.html#:menutrans">|:menutrans|</a>を参照。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#menu.vim" name="menu.vim">*menu.vim*</a><br>
標準のメニューは &quot;$VIMRUNTIME/menu.vim&quot; ファイルから読み込まれる。パスがどこを<br>
指すかについては<a class="Identifier" href="starting.html#$VIMRUNTIME">|$VIMRUNTIME|</a>を参照。ユーザーは自分のメニューを設定することが<br>
できる。その際に標準のメニューを利用するのはいい考えである。メニューに項目を追<br>
加したり、あるいは、標準のメニューが気に入らなければ、全てのメニューを取り除く<br>
ことができる<a class="Identifier" href="gui.html#:unmenu-all">|:unmenu-all|</a>。.vimrcファイル(.gvimrcファイルではない!)にこの行を<br>
追加することで標準のメニューが読み込まれないようにすることもできる:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:let did_install_default_menus = 1</div>
メニュー項目のSyntax(シンタックス)も無効にしたいなら:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:let did_install_syntax_menu = 1</div>
メニュー項目のSyntax(シンタックス)は欲しいが、利用可能なシンタックスファイルの<br>
一覧はいらないなら(これを読み込むのは多少の時間を必要とするので):<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:let skip_syntax_sel_menu = 1</div>
Syntax メニューの最初の項目{訳注:「対応形式をメニューに表示」}を使うと、利用可<br>
能な全てのファイルタイプをメニューに表示できる(読み込みに少し時間がかかるかも<br>
しれない)。起動時に全てのファイルタイプが表示されているようにしたければ次の行<br>
を加える:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:let do_syntax_sel_menu = 1</div>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#console-menus" name="console-menus">*console-menus*</a><br>
このドキュメントはGUIの項目であるけれども、CUI版のVimでも実際にメニューを使用<br>
することができる。そのときには明示的に<a class="Identifier" href="gui.html#menu.vim">|menu.vim|</a>を読み込まなければならないだろ<br>
う。それは標準では設定されない。ほぼ実際のメニューシステムのようにメニューの項<br>
目にアクセスするために&nbsp;<a class="Type" href="options.html#'wildmenu'">'wildmenu'</a>&nbsp;を設定して<a class="Identifier" href="gui.html#:emenu">|:emenu|</a>コマンドの使用時にコマンド<br>
ライン補完を使用することができる。これをするには、.vimrcファイルに次のコマンド<br>
を付加しておく:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:source $VIMRUNTIME/menu.vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set wildmenu<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set cpo-=&lt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set wcm=&lt;C-Z&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:map &lt;F4&gt; :emenu &lt;C-Z&gt;</div>
メニューを開始するには<span class="Special">&lt;F4&gt;</span>を押す。そのときにはメニューのエントリを選択するため<br>
にカーソルキーを使用することができる。それを実行するには<span class="Special">&lt;Enter&gt;</span>を入力する。<br>
キャンセルするには<span class="Special">&lt;Esc&gt;</span>を入力する。これはコンパイル時に<a class="Identifier" href="various.html#+menu">|+menu|</a>機能を有効にする<br>
必要がある。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#tear-off-menus" name="tear-off-menus">*tear-off-menus*</a><br>
GTK+とMotifは切取りメニュー(Tear-offメニュー)をサポートする。これは少し変わっ<br>
たメニューで、ポップアップメニューが常に表示されるようなものである。メニューの<br>
ウィンドウのサイズの変更が正確に機能しないなら、これはリソースに &quot;Vim*geometry&quot;<br>
のように設定していることが原因かもしれない。もしそうなら代わりに &quot;Vim.geometry&quot;<br>
を使用する。<br>
<br>
Win32 GUIバージョンはMotifの切取りメニューをエミュレートする。Motifユーザーな<br>
ら簡単に違いを確認できるだろうが、同じように便利に使えると思う。<a class="Identifier" href="gui_w32.html#:tearoff">|:tearoff|</a>コマ<br>
ンドと<a class="Identifier" href="gui.html#hidden-menus">|hidden-menus|</a>を利用して、メインのメニューバーに項目を作らずに切取りメ<br>
ニューを作ることができる。<br>
<br>
<br>
5.2 新しいメニューの作成&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#creating-menus" name="creating-menus">*creating-menus*</a><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:me" name=":me">*:me*</a>&nbsp;&nbsp;<a class="Constant" href="gui.html#:menu" name=":menu">*:menu*</a>&nbsp;&nbsp;<a class="Constant" href="gui.html#:noreme" name=":noreme">*:noreme*</a>&nbsp;&nbsp;<a class="Constant" href="gui.html#:noremenu" name=":noremenu">*:noremenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:am" name=":am">*:am*</a>&nbsp;&nbsp;<a class="Constant" href="gui.html#:amenu" name=":amenu">*:amenu*</a>&nbsp;<a class="Constant" href="gui.html#:an" name=":an">*:an*</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:anoremenu" name=":anoremenu">*:anoremenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:nme" name=":nme">*:nme*</a>&nbsp;<a class="Constant" href="gui.html#:nmenu" name=":nmenu">*:nmenu*</a>&nbsp;<a class="Constant" href="gui.html#:nnoreme" name=":nnoreme">*:nnoreme*</a>&nbsp;<a class="Constant" href="gui.html#:nnoremenu" name=":nnoremenu">*:nnoremenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:ome" name=":ome">*:ome*</a>&nbsp;<a class="Constant" href="gui.html#:omenu" name=":omenu">*:omenu*</a>&nbsp;<a class="Constant" href="gui.html#:onoreme" name=":onoreme">*:onoreme*</a>&nbsp;<a class="Constant" href="gui.html#:onoremenu" name=":onoremenu">*:onoremenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:vme" name=":vme">*:vme*</a>&nbsp;<a class="Constant" href="gui.html#:vmenu" name=":vmenu">*:vmenu*</a>&nbsp;<a class="Constant" href="gui.html#:vnoreme" name=":vnoreme">*:vnoreme*</a>&nbsp;<a class="Constant" href="gui.html#:vnoremenu" name=":vnoremenu">*:vnoremenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:xme" name=":xme">*:xme*</a>&nbsp;<a class="Constant" href="gui.html#:xmenu" name=":xmenu">*:xmenu*</a>&nbsp;<a class="Constant" href="gui.html#:xnoreme" name=":xnoreme">*:xnoreme*</a>&nbsp;<a class="Constant" href="gui.html#:xnoremenu" name=":xnoremenu">*:xnoremenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:sme" name=":sme">*:sme*</a>&nbsp;<a class="Constant" href="gui.html#:smenu" name=":smenu">*:smenu*</a>&nbsp;<a class="Constant" href="gui.html#:snoreme" name=":snoreme">*:snoreme*</a>&nbsp;<a class="Constant" href="gui.html#:snoremenu" name=":snoremenu">*:snoremenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:ime" name=":ime">*:ime*</a>&nbsp;<a class="Constant" href="gui.html#:imenu" name=":imenu">*:imenu*</a>&nbsp;<a class="Constant" href="gui.html#:inoreme" name=":inoreme">*:inoreme*</a>&nbsp;<a class="Constant" href="gui.html#:inoremenu" name=":inoremenu">*:inoremenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:cme" name=":cme">*:cme*</a>&nbsp;<a class="Constant" href="gui.html#:cmenu" name=":cmenu">*:cmenu*</a>&nbsp;<a class="Constant" href="gui.html#:cnoreme" name=":cnoreme">*:cnoreme*</a>&nbsp;<a class="Constant" href="gui.html#:cnoremenu" name=":cnoremenu">*:cnoremenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#E330" name="E330">*E330*</a>&nbsp;<a class="Constant" href="gui.html#E327" name="E327">*E327*</a>&nbsp;<a class="Constant" href="gui.html#E331" name="E331">*E331*</a>&nbsp;<a class="Constant" href="gui.html#E336" name="E336">*E336*</a>&nbsp;<a class="Constant" href="gui.html#E333" name="E333">*E333*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#E328" name="E328">*E328*</a>&nbsp;<a class="Constant" href="gui.html#E329" name="E329">*E329*</a>&nbsp;<a class="Constant" href="gui.html#E337" name="E337">*E337*</a>&nbsp;<a class="Constant" href="gui.html#E792" name="E792">*E792*</a><br>
新しいメニュー項目を作るには、&quot;:menu&quot; コマンドを使用する。これはほとんど &quot;:map&quot;<br>
のコマンド群と同じだが最初の引数はメニュー項目の名前であり、'.' で区切ったメ<br>
ニューとサブメニューのパスとして与えられる。例えば:<br>
<br>
<div class="helpExample">&nbsp;&nbsp; :menu File.Save&nbsp;&nbsp;:w&lt;CR&gt;<br>
&nbsp;&nbsp; :inoremenu File.Save&nbsp;&nbsp;&lt;C-O&gt;:w&lt;CR&gt;<br>
&nbsp;&nbsp; :menu Edit.Big\ Changes.Delete\ All\ Spaces&nbsp;&nbsp;:%s/[ ^I]//g&lt;CR&gt;</div>
<br>
この最後の1つはメニューバーに &quot;Edit&quot; という新しい項目を作る、そしてその上でマ<br>
ウスのボタンを押すと &quot;Big Changes&quot; という項目を含んだメニューが表示されるだろ<br>
う。&quot;Big Changes&quot; は &quot;Delete All Spaces&quot; という項目を含むサブメニューを持って<br>
いて、その項目を選択すると操作が実行される。<br>
<br>
メニュー名での特殊文字:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; この文字の次の文字はショートカットキーである。どのショートカッ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;トキーも(サブ)メニューの中で1度だけしか使用されていないことを<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;確認すること。メニュー名に &quot;&amp;&quot; を入れるには &quot;&amp;&amp;&quot; とする。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;Tab&gt;</span>&nbsp;&nbsp; メニューの名前をそこで区切って以降を右詰めにする。実行する操作<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;をそろえて表示するのに便利である。使いやすいように文字として<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span class="Special">&lt;Tab&gt;</span>&quot; をそのまま書けばいいようになっている。本当のTab文字を<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;使用するなら、その前にバックスラッシュを付けること!<br>
例:<br>
<br>
<div class="helpExample">&nbsp;&nbsp; :amenu &amp;File.&amp;Open&lt;Tab&gt;:e&nbsp;&nbsp;:browse e&lt;CR&gt;</div>
<br>
[文字通りタイプする]<br>
(<span class="Special">&lt;Alt&gt;</span>キーと同時に)ショートカットキーの &quot;F&quot; を押し、それから &quot;O&quot; を押すと、こ<br>
のメニューを使用できる。Openの項目は &quot;Open&nbsp;&nbsp;&nbsp;&nbsp; :e&quot; のように表示される。&quot;:e&quot; は<br>
右詰めされ、&quot;O&quot; にはショートカットであることを示すために下線が引かれる。<br>
<br>
&quot;:amenu&quot; コマンドは全てのモードで使えるメニューの項目を1度に定義することができ<br>
る。コマンドを正確に機能させるために、いくつかのモード用に自動的に文字が付加さ<br>
れる:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">モード&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;前に付加&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;後ろに付加</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ノーマルモード&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;なし&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;なし<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ビジュアルモード&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;C-C&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;C-\&gt;&lt;C-G&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;挿入モード&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;C-\&gt;&lt;C-O&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;コマンドラインモード&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;C-C&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;C-\&gt;&lt;C-G&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;演算子未解決モード&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;C-C&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;C-\&gt;&lt;C-G&gt;</span><br>
<br>
後ろに付加される<span class="Special">CTRL-\</span>&nbsp;<span class="Special">CTRL-G</span>は&nbsp;<a class="Type" href="options.html#'insertmode'">'insertmode'</a>&nbsp;が設定されているときには挿入モー<br>
ドに戻る。<a class="Identifier" href="intro.html#CTRL-\_CTRL-G">|CTRL-\_CTRL-G|</a>を参照。<br>
<br>
例:<br>
<br>
<div class="helpExample">&nbsp;&nbsp; :amenu File.Next&nbsp;&nbsp;&nbsp;&nbsp; :next^M</div>
<br>
は以下と同じである:<br>
<br>
<div class="helpExample">&nbsp;&nbsp; :nmenu File.Next&nbsp;&nbsp;&nbsp;&nbsp; :next^M<br>
&nbsp;&nbsp; :vmenu File.Next&nbsp;&nbsp;&nbsp;&nbsp; ^C:next^M^\^G<br>
&nbsp;&nbsp; :imenu File.Next&nbsp;&nbsp;&nbsp;&nbsp; ^\^O:next^M<br>
&nbsp;&nbsp; :cmenu File.Next&nbsp;&nbsp;&nbsp;&nbsp; ^C:next^M^\^G<br>
&nbsp;&nbsp; :omenu File.Next&nbsp;&nbsp;&nbsp;&nbsp; ^C:next^M^\^G</div>
<br>
注意: 挿入モードでは1つのノーマルモードのコマンドに対してだけ機能する。これは<br>
<span class="Special">CTRL-O</span>の仕様による。2つ以上のコマンドを使うには、&quot;:imenu&quot; コマンドを使用する必<br>
要がある。どのモードでもテキストを挿入するために式レジスタ('=' レジスタ)を使用<br>
することができる:<br>
<br>
<div class="helpExample">&nbsp;&nbsp; :amenu Insert.foobar&nbsp;&nbsp; &quot;='foobar'&lt;CR&gt;P</div>
<br>
<span class="Todo">Note</span>:&nbsp;<a class="Type" href="options.html#'cpoptions'">'cpoptions'</a>&nbsp;の中の '&lt;' フラグと 'k' フラグが適用される(含まれていたとき<br>
には、&lt;&gt;による特殊キーの書式や生のキーコードは認識されない)。<br>
<br>
<span class="Todo">Note</span>: コマンドラインモードでの<span class="Special">&lt;Esc&gt;</span>はマッピングで使用されたときと同様に(入力を<br>
キャンセルするのではなく)コマンドを実行する。これはVi互換である。コマンドライ<br>
ンモードを終了するには<span class="Special">CTRL-C</span>を使用する。<br>
{訳注:&nbsp;<a class="Identifier" href="cmdline.html#c_<Esc>">|c_&lt;Esc&gt;|</a>を参照}<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:menu-<silent>" name=":menu-&lt;silent&gt;">*:menu-&lt;silent&gt;*</a>&nbsp;<a class="Constant" href="gui.html#:menu-silent" name=":menu-silent">*:menu-silent*</a><br>
実行したコマンドをコマンドラインに表示しないようなメニューを定義するには、最初<br>
の引数に &quot;<span class="Special">&lt;silent&gt;</span>&quot; を加える。例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:menu &lt;silent&gt; Settings.Ignore\ case&nbsp;&nbsp;:set ic&lt;CR&gt;</div>
これでこのメニューを使っても &quot;:set ic&quot; はコマンドラインに表示されない。それで<br>
も実行したコマンドの出力は表示される。それを表示しないようにするには、<br>
&quot;:silent&quot; を付けてコマンドを実行する:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:menu &lt;silent&gt; Search.Header :exe &quot;:silent normal /Header\r&quot;&lt;CR&gt;</div>
&quot;<span class="Special">&lt;silent&gt;</span>&quot; は &quot;<span class="Special">&lt;special&gt;</span>&quot; や &quot;<span class="Special">&lt;script&gt;</span>&quot; の直後に書いてもよい。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:menu-<special>" name=":menu-&lt;special&gt;">*:menu-&lt;special&gt;*</a>&nbsp;<a class="Constant" href="gui.html#:menu-special" name=":menu-special">*:menu-special*</a><br>
<a class="Type" href="options.html#'cpoptions'">'cpoptions'</a>&nbsp;にフラグ &quot;&lt;&quot; が含まれているときでも、メニューを定義する際には &lt;&gt;<br>
記法で特殊なキーを表すことができる。これは&nbsp;<a class="Type" href="options.html#'cpoptions'">'cpoptions'</a>&nbsp;の副作用が望ましくない<br>
場合に便利である。例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:menu &lt;special&gt; Search.Header /Header&lt;CR&gt;</div>
&quot;<span class="Special">&lt;special&gt;</span>&quot; はコマンド :menu の引数の一番最初か、&quot;<span class="Special">&lt;silent&gt;</span>&quot; や &quot;<span class="Special">&lt;script&gt;</span>&quot; の直<br>
後に書かねばならない。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:menu-<script>" name=":menu-&lt;script&gt;">*:menu-&lt;script&gt;*</a>&nbsp;<a class="Constant" href="gui.html#:menu-script" name=":menu-script">*:menu-script*</a><br>
メニューに指定されたコマンドにはマッピングが適用される。適用しないようにするに<br>
は、&quot;:noremenu&quot; コマンド(とそれに類するモード別のコマンド)を使う。スクリプト<br>
ローカルなマッピングを使うには &quot;:menu&quot; コマンドの最初の引数、あるいは<br>
&quot;<span class="Special">&lt;silent&gt;</span>&quot; の次に &quot;<span class="Special">&lt;script&gt;</span>&quot; と書く。<br>
{訳注: これは<span class="Special">&lt;SID&gt;</span>で指定した部分だけがマッピングされる。例:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; nnoremenu&nbsp;<span class="Special">&lt;script&gt;</span>&nbsp;AAA.BBB :echo &quot;<span class="Special">&lt;SID&gt;</span>LM&quot; &quot;LM&quot;<span class="Special">&lt;CR&gt;</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cnoremap&nbsp;<span class="Special">&lt;SID&gt;</span>LM 'This is script-local mapping'<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cnoremap LM 'This is not used'<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; スクリプトファイルでこのように設定し、メニューのAAA.BBBを実行すると<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'This is script-local mapping' LM<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; と表示される。&quot;<span class="Special">&lt;SID&gt;</span>LM&quot; はマッピングされ、&quot;LM&quot; はマッピングされていな<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; い。}<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#menu-priority" name="menu-priority">*menu-priority*</a><br>
メニューに優先度を与えることができる。より高い優先度を与えられたメニューほど右<br>
に配置される。優先度は &quot;:menu&quot; コマンドの前の数字で与えれられる。<br>
例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:80menu Buffer.next :bn&lt;CR&gt;</div>
<br>
標準のメニューはこれらの優先度を持つ:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;File&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;10<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Edit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;20<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tools&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 40<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Syntax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;50<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Buffers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 60<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Window&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;70<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Help&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;9999<br>
<br>
優先度を指定しない、あるいはゼロを指定すると、500が用いられる。<br>
ポップアップメニューに対しては優先度は意味を持たない。<br>
<br>
メニューの「Help」の項目は、それをサポートしているシステム(MotifとGTK+)では、<br>
メニューバーの右端に寄せて置かれる。GTK+ 2では、メニューのHelpを右端に寄せるの<br>
は今のところユーザーインターフェースデザインの妨げになっているので、もはやサ<br>
ポートされない。<br>
<br>
ヘルプメニューの後ろに置くために、9999より高い優先度を使用することができるが、<br>
それは非標準であり、推奨しない。優先度の取り得る値は最高で約32000である。最低<br>
は1である。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#sub-menu-priority" name="sub-menu-priority">*sub-menu-priority*</a><br>
同様にサブメニューも配置を指定できる。優先度は、メニュー名の前に、ドット区切り<br>
の優先度のリストとして指定する:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:menu 80.500 Buffer.next :bn&lt;CR&gt;</div>
サブメニューの優先度を与える必要があるのは、項目を配置する位置を指定したいとき<br>
だけである。例えば、他の項目の前にサブメニューを置くには:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:menu 80.100 Buffer.first :brew&lt;CR&gt;</div>
あるいは他の項目の後にサブメニューを置いて、標準設定の優先度を持つ項目がその前<br>
に置かれるようにするには:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:menu 80.900 Buffer.last :blast&lt;CR&gt;</div>
数字が抜けているときには、標準設定の500が用いられる:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:menu .900 myMenu.test :echo &quot;text&quot;&lt;CR&gt;</div>
メニューの優先度はメニューを新しく生成するときだけ用いられる。すでにあるとき、<br>
例えば、別のモードで定義されていたときには、優先度は変更されない。したがって、<br>
優先度はメニューを最初に定義するときだけ与える必要がある。<br>
例外はポップアップメニューである。各モード(ノーマルモード、演算子未解決モー<br>
ド、ビジュアルモード、挿入モード、コマンドラインモード)に別々のメニューがあ<br>
る。これらのメニューは順序が異なってもよい。これはメニューバーのメニューとは異<br>
なる。メニューバーのメニューは全てのモードで同じ順序である。<br>
<span class="Todo">NOTE</span>: サブメニューの優先度は現在全てのGUIのバージョンで機能する訳ではない。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#menu-separator" name="menu-separator">*menu-separator*</a>&nbsp;<a class="Constant" href="gui.html#E332" name="E332">*E332*</a><br>
メニューの各項目は特殊なメニュー項目を使って区切ることができる。それはシステム<br>
によるが、線や点線として表示される。そのような項目の名前は '-' で始めて '-' で<br>
終わるように定義する。間には一意な名前を挟むことができる。普通のメニュー項目と<br>
同様に優先度を設定することもできる。<br>
例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:menu Example.item1&nbsp;&nbsp;&nbsp;&nbsp; :do something<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:menu Example.-Sep-&nbsp;&nbsp;&nbsp;&nbsp; :<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:menu Example.item2&nbsp;&nbsp;&nbsp;&nbsp; :do something different</div>
<span class="Todo">Note</span>: 区切りの定義にはコマンドの指定が必要である。そのメニュー項目は選択するこ<br>
とができないので、内容はなんでも構わない。ただ単にコロン(:)を1つ書いておくだけ<br>
でいい。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-toolbar" name="gui-toolbar">*gui-toolbar*</a><br>
ツールバーは今のところWin32、Athena、Motif、GTK+ (X11)、Photon GUIで利用可能で<br>
ある。いずれは他のGUIでも使えるようになるだろう。標準のツールバーはmenu.vimで<br>
定義されている。<br>
ツールバーの表示は&nbsp;<a class="Type" href="options.html#'guioptions'">'guioptions'</a>&nbsp;の文字 'T' によって制御される。したがって、メ<br>
ニューとツールバーを同時に、あるいはどちらかだけを表示することもできるし、両方<br>
とも非表示にすることもできる。<br>
表示方法は&nbsp;<a class="Type" href="options.html#'toolbar'">'toolbar'</a>&nbsp;オプションで変更できる。画像かテキスト、もしくは両方を表<br>
示するかを選択できる。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#toolbar-icon" name="toolbar-icon">*toolbar-icon*</a><br>
ツールバーは、1つのレベルだけを持つToolBarと呼ばれる特別なメニューとして定義さ<br>
れている。Vimはこのメニューの項目を以下のように解釈する:<br>
1)&nbsp;&nbsp;&quot;icon=&quot; 引数が与えられたときは、そのファイルが使われる。ファイル名にはフル<br>
&nbsp;&nbsp;&nbsp;&nbsp;パスか、ファイル名のみを指定する。後者の場合には、そのファイルは3)の場合と<br>
&nbsp;&nbsp;&nbsp;&nbsp;同じように&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>&nbsp;の &quot;bitmaps&quot; ディレクトリから検索される。例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:amenu icon=/usr/local/pixmaps/foo_icon.xpm ToolBar.Foo :echo &quot;Foo&quot;&lt;CR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:amenu icon=FooIcon ToolBar.Foo :echo &quot;Foo&quot;&lt;CR&gt;</div>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="Todo">Note</span>: 最初の例では拡張子も含めている。2番目の例では拡張子は省略されてい<br>
&nbsp;&nbsp;&nbsp;&nbsp;る。<br>
&nbsp;&nbsp;&nbsp;&nbsp;ファイルが開けなければ2)を試す。<br>
&nbsp;&nbsp;&nbsp;&nbsp;ファイル名に空白を含めるにはバックスラッシュでエスケープする。<br>
&nbsp;&nbsp;&nbsp;&nbsp;メニューの優先度はiconの引数の後に指定する:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:amenu icon=foo 1.42 ToolBar.Foo :echo &quot;42!&quot;&lt;CR&gt;</div>
2)&nbsp;&nbsp;'BuiltIn##' (##は数字である) という名前の項目はVimで利用可能な組み込みの<br>
&nbsp;&nbsp;&nbsp;&nbsp;ビットマップの番号##を使用するとみなされる。今のところ、0から30までの31個<br>
&nbsp;&nbsp;&nbsp;&nbsp;の一般的な編集操作のものが用意されている<a class="Identifier" href="gui.html#builtin-tools">|builtin-tools|</a>:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:amenu ToolBar.BuiltIn22 :call SearchNext(&quot;back&quot;)&lt;CR&gt;</div>
3)&nbsp;&nbsp;2)以外の名前を持つ項目は最初に&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>&nbsp;の &quot;bitmaps&quot; ディレクトリから<br>
&nbsp;&nbsp;&nbsp;&nbsp;検索される。もしあればそのビットマップファイルがツールバーボタンのイメージ<br>
&nbsp;&nbsp;&nbsp;&nbsp;として用いられる。正確なファイル名はOS特有であることに注意する。例えば、<br>
&nbsp;&nbsp;&nbsp;&nbsp;Win32でのコマンド<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:amenu ToolBar.Hello :echo &quot;hello&quot;&lt;CR&gt;</div>
&nbsp;&nbsp;&nbsp; は、'hello.bmp' ファイルを検索するだろう。GTK+/X11では 'Hello.xpm' である。<br>
&nbsp;&nbsp;&nbsp;&nbsp;GTK+ 2では 'Hello.png'、'Hello.xpm'、'Hello.bmp' がチェックされ、最初に見<br>
&nbsp;&nbsp;&nbsp;&nbsp;つかったものが使われる。<br>
&nbsp;&nbsp;&nbsp;&nbsp;MS-WindowsとGTK+ 2ではビットマップはボタンの大きさに合わせて拡大縮小され<br>
&nbsp;&nbsp;&nbsp;&nbsp;る。MS-Windowsでは縦18横18のサイズがちょうどいいだろう。<br>
&nbsp;&nbsp;&nbsp;&nbsp;MS-Windowsではビットマップは16色の標準パレットを使った物である。明るい灰色<br>
&nbsp;&nbsp;&nbsp;&nbsp;はウィンドウのフレームの色に変更され、暗い灰色はウィンドウの影の色に変更さ<br>
&nbsp;&nbsp;&nbsp;&nbsp;れる。システムに依存するが、16色よりも色が多くても問題ないだろう。<br>
4)&nbsp;&nbsp;ビットマップがまだ見つからないならば、Vimは組み込みの名前のリス<br>
&nbsp;&nbsp;&nbsp;&nbsp;トに対して同等のものを探す。どの組み込みのボタンイメージも名前を持ってい<br>
&nbsp;&nbsp;&nbsp;&nbsp;る。だから、コマンド<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:amenu ToolBar.Open :e</div>
&nbsp;&nbsp;&nbsp; は、open.bmpが存在しなければ、組み込みの &quot;open a file&quot; ボタンイメージを表<br>
&nbsp;&nbsp;&nbsp;&nbsp;示するだろう。全ての組み込みの名前はmenu.vimで用いられているので確認できる。<br>
5)&nbsp;&nbsp;全てが失敗すると、空白だが、ちゃんと機能する、ボタンが表示される。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#builtin-tools" name="builtin-tools">*builtin-tools*</a><br>
<span class="PreProc">番号&nbsp;&nbsp;名前&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;通常の動作&nbsp;</span><br>
00&nbsp;&nbsp;&nbsp;&nbsp;New&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 新しいウィンドウを開く<br>
01&nbsp;&nbsp;&nbsp;&nbsp;Open&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;現在のウィンドウで開くためにファイルをブラウズする<br>
02&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;バッファをファイルに保存する<br>
03&nbsp;&nbsp;&nbsp;&nbsp;Undo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最後の変更を取り消す<br>
04&nbsp;&nbsp;&nbsp;&nbsp;Redo&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最後の取り消した変更をやり直す<br>
05&nbsp;&nbsp;&nbsp;&nbsp;Cut&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 選択されたテキストを削除しクリップボードへ送る<br>
06&nbsp;&nbsp;&nbsp;&nbsp;Copy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;選択されたテキストをクリップボードにコピーする<br>
07&nbsp;&nbsp;&nbsp;&nbsp;Paste&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; クリップボードからテキストをペーストする<br>
08&nbsp;&nbsp;&nbsp;&nbsp;Print&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 現在のバッファを印刷する<br>
09&nbsp;&nbsp;&nbsp;&nbsp;Help&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vimの組み込みのヘルプでバッファを開く<br>
10&nbsp;&nbsp;&nbsp;&nbsp;Find&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;検索コマンドを開始する<br>
11&nbsp;&nbsp;&nbsp;&nbsp;SaveAll&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 全ての修正されたバッファをファイルに保存する<br>
12&nbsp;&nbsp;&nbsp;&nbsp;SaveSesn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;現在の状態をセッションファイルに保存する<br>
13&nbsp;&nbsp;&nbsp;&nbsp;NewSesn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 新しいセッションファイルに保存する<br>
14&nbsp;&nbsp;&nbsp;&nbsp;LoadSesn&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;セッションファイルを読み込む<br>
15&nbsp;&nbsp;&nbsp;&nbsp;RunScript&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Vimスクリプトとして実行するためにファイルをブラウズ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;する<br>
16&nbsp;&nbsp;&nbsp;&nbsp;Replace&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 置換コマンドのためのプロンプト<br>
17&nbsp;&nbsp;&nbsp;&nbsp;WinClose&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;現在のウィンドウを閉じる<br>
18&nbsp;&nbsp;&nbsp;&nbsp;WinMax&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;現在のウィンドウに使用する行数を最大にする<br>
19&nbsp;&nbsp;&nbsp;&nbsp;WinMin&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;現在のウィンドウに使用する行数を最小にする<br>
20&nbsp;&nbsp;&nbsp;&nbsp;WinSplit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;現在のウィンドウを分割する<br>
21&nbsp;&nbsp;&nbsp;&nbsp;Shell&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; シェルを開始する<br>
22&nbsp;&nbsp;&nbsp;&nbsp;FindPrev&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;後方に再検索する<br>
23&nbsp;&nbsp;&nbsp;&nbsp;FindNext&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;前方に再検索する<br>
24&nbsp;&nbsp;&nbsp;&nbsp;FindHelp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ヘルプを検索する単語のためのプロンプト<br>
25&nbsp;&nbsp;&nbsp;&nbsp;Make&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;makeを実行し最初のエラーにジャンプする<br>
26&nbsp;&nbsp;&nbsp;&nbsp;TagJump&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; カーソルの下のtagにジャンプする<br>
27&nbsp;&nbsp;&nbsp;&nbsp;RunCtags&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;現在のディレクトリのファイルに対してtagsを作成する<br>
28&nbsp;&nbsp;&nbsp;&nbsp;WinVSplit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 現在のウィンドウを縦分割する<br>
29&nbsp;&nbsp;&nbsp;&nbsp;WinMaxWidth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 現在のウィンドウの幅を最大化する<br>
30&nbsp;&nbsp;&nbsp;&nbsp;WinMinWidth&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 現在のウィンドウの幅を最小化する<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#hidden-menus" name="hidden-menus">*hidden-menus*</a>&nbsp;<a class="Constant" href="gui.html#win32-hidden-menus" name="win32-hidden-menus">*win32-hidden-menus*</a><br>
Win32とGTK+ GUIでは、']' で始まるメニュー名はメインのメニューバーから除外され<br>
る。それを表示するには<a class="Identifier" href="gui.html#:popup">|:popup|</a>か<a class="Identifier" href="gui_w32.html#:tearoff">|:tearoff|</a>コマンドを使用しなければならない。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#popup-menu" name="popup-menu">*popup-menu*</a><br>
Win32、GTK+、Motif、Athena、Photon GUIでは、特別なメニュー &quot;PopUp&quot; を定義する<br>
ことができる。これは、<a class="Type" href="options.html#'mousemodel'">'mousemodel'</a>&nbsp;がpopupあるいはpopup_setposに設定されている<br>
ときに、マウスの右ボタンが押されると表示されるメニューである。<br>
<br>
<br>
5.3 メニューの定義を表示する&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#showing-menus" name="showing-menus">*showing-menus*</a><br>
<br>
メニューがどのように定義されているかを確認するには、(&quot;:map&quot; コマンドでするのと<br>
全く同様に)menuコマンドの後にたった1つの引数を指定するだけである。指定されたメ<br>
ニューがサブメニューならば、その階層の下の全てのメニューが表示される。:menuの<br>
後に引数を与えなければ、適切なモードに対する全てのメニュー項目が表示される(例<br>
えば、コマンドラインモードに対して:cmenu)。<br>
<br>
メニュー項目の一覧には、指定されたコマンドの前に特別な文字が表示される:<br>
*&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; そのメニュー項目は再マッピングを避けるために &quot;nore&quot; を付けて定義された<br>
&amp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; そのメニュー項目は再マッピングをスクリプトローカルに限定するために<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;<span class="Special">&lt;script&gt;</span>&quot; を付けて定義された<br>
-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; そのメニュー項目は非表示である<br>
<br>
<span class="Todo">NOTE</span>: menuコマンドでメニューの名前を入力しているときに<span class="Special">&lt;Tab&gt;</span>を打つと名前が補完<br>
される(設定による)。<br>
<br>
<br>
5.4 メニューの実行&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#execute-menus" name="execute-menus">*execute-menus*</a><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:em" name=":em">*:em*</a>&nbsp;&nbsp;<a class="Constant" href="gui.html#:emenu" name=":emenu">*:emenu*</a>&nbsp;<a class="Constant" href="gui.html#E334" name="E334">*E334*</a>&nbsp;<a class="Constant" href="gui.html#E335" name="E335">*E335*</a><br>
:<span class="Special">[range]</span>em[enu]&nbsp;<span class="Special">{menu}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;コマンドラインから<span class="Special">{menu}</span>を実行する。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;通常はノーマルモードのメニューを実行する。実行<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;範囲が与えられたときは、ビジュアルモードのメ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ニューを実行する。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;c-o&gt;</span>から実行されたときは、挿入モードのメ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ニューを実行する。例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:emenu File.Exit</div>
<br>
CUI版のvimをWANT_MENUを定義してコンパイルしたなら、:emenuを使ってGUIのときと同<br>
じように便利なメニューを使用できる。その際に&nbsp;<a class="Type" href="options.html#'wildmenu'">'wildmenu'</a>&nbsp;を設定しておくと便利で<br>
ある。使用例は<a class="Identifier" href="gui.html#console-menus">|console-menus|</a>を参照。<br>
<br>
範囲を指定するとき、'&lt;,'&gt; と指定すると、最後にビジュアル選択した範囲に対して実<br>
行される。<br>
<br>
<br>
5.5 メニューの削除&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#delete-menus" name="delete-menus">*delete-menus*</a><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:unme" name=":unme">*:unme*</a>&nbsp;&nbsp;<a class="Constant" href="gui.html#:unmenu" name=":unmenu">*:unmenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:aun" name=":aun">*:aun*</a>&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:aunmenu" name=":aunmenu">*:aunmenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:nunme" name=":nunme">*:nunme*</a>&nbsp;<a class="Constant" href="gui.html#:nunmenu" name=":nunmenu">*:nunmenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:ounme" name=":ounme">*:ounme*</a>&nbsp;<a class="Constant" href="gui.html#:ounmenu" name=":ounmenu">*:ounmenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:vunme" name=":vunme">*:vunme*</a>&nbsp;<a class="Constant" href="gui.html#:vunmenu" name=":vunmenu">*:vunmenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:xunme" name=":xunme">*:xunme*</a>&nbsp;<a class="Constant" href="gui.html#:xunmenu" name=":xunmenu">*:xunmenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:sunme" name=":sunme">*:sunme*</a>&nbsp;<a class="Constant" href="gui.html#:sunmenu" name=":sunmenu">*:sunmenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:iunme" name=":iunme">*:iunme*</a>&nbsp;<a class="Constant" href="gui.html#:iunmenu" name=":iunmenu">*:iunmenu*</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:cunme" name=":cunme">*:cunme*</a>&nbsp;<a class="Constant" href="gui.html#:cunmenu" name=":cunmenu">*:cunmenu*</a><br>
メニュー項目やサブメニュー全体を削除するには、unmapコマンドによく似たunmenuコ<br>
マンドを使用する。例えば:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;:unmenu! Edit.Paste</div>
<br>
これは挿入モードとコマンドラインモードでの操作をEditメニューの項目Pasteから取<br>
り除く。<br>
<br>
<span class="Todo">NOTE</span>: umenuコマンドでメニューの名前を入力しているときに<span class="Special">&lt;Tab&gt;</span>を打つと名前が補完<br>
される(設定による)。<br>
<br>
全てのメニューを取り除くには次のようにする:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:unmenu-all" name=":unmenu-all">*:unmenu-all*</a>&nbsp;<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:unmenu *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot; ノーマルモードとビジュアルモードの全てのメニューを取<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot; り除く<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:unmenu! *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot; 挿入モードとコマンドラインモードの全てのメニューを取<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot; り除く<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:aunmenu *&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot; 全てのモードの全てのメニューを取り除く</div>
<br>
メニューバーを非表示にするには:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set guioptions-=m</div>
<br>
<br>
5.6 メニューを無効にする&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#disable-menus" name="disable-menus">*disable-menus*</a><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:menu-disable" name=":menu-disable">*:menu-disable*</a>&nbsp;<a class="Constant" href="gui.html#:menu-enable" name=":menu-enable">*:menu-enable*</a><br>
メニューを削除するのではなくて、一時的に無効にしたいときは、&quot;:menu&quot; コマンドに<br>
&quot;disable&quot; キーワードを指定する。有効にするには &quot;enable&quot; キーワードを指定する。<br>
例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:menu disable &amp;File.&amp;Open\.\.\.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:amenu enable *<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:amenu disable &amp;Tools.*</div>
<br>
このコマンドはmenuコマンド群が影響する各モードに適用される。&quot;&amp;&quot; は翻訳された名<br>
前にも適用するために必要である。<br>
引数に &quot;*&quot; を使うと、全てのメニューに作用する。そうでなければ、指定したメニュー<br>
項目とそのサブメニューに作用する。<br>
<br>
<br>
5.7 メニューの例&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#menu-examples" name="menu-examples">*menu-examples*</a><br>
<br>
これはメニューを使ってメニュー項目を追加する方法の例である! カーソルの下のキー<br>
ワードをメニュー項目に追加することができる。作業用にレジスタ &quot;z&quot; を使用してい<br>
る。<br>
<br>
<div class="helpExample">&nbsp;&nbsp;:nmenu Words.Add\ Var&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; wb&quot;zye:menu! Words.&lt;C-R&gt;z &lt;C-R&gt;z&lt;CR&gt;<br>
&nbsp;&nbsp;:nmenu Words.Remove\ Var&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wb&quot;zye:unmenu! Words.&lt;C-R&gt;z&lt;CR&gt;<br>
&nbsp;&nbsp;:vmenu Words.Add\ Var&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &quot;zy:menu! Words.&lt;C-R&gt;z &lt;C-R&gt;z &lt;CR&gt;<br>
&nbsp;&nbsp;:vmenu Words.Remove\ Var&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;zy:unmenu! Words.&lt;C-R&gt;z&lt;CR&gt;<br>
&nbsp;&nbsp;:imenu Words.Add\ Var&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;Esc&gt;wb&quot;zye:menu! Words.&lt;C-R&gt;z &lt;C-R&gt;z&lt;CR&gt;a<br>
&nbsp;&nbsp;:imenu Words.Remove\ Var&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;Esc&gt;wb&quot;zye:unmenu! Words.&lt;C-R&gt;z&lt;CR&gt;a</div>
<br>
(指定するコマンドには&lt;&gt;記法を使える。このテキストをそのままコピー/ペーストして<br>
試してみたり、gvimrcに書き加えることができる。&quot;<span class="Special">&lt;C-R&gt;</span>&quot; は&nbsp;<span class="Special">CTRL-R</span>&nbsp;であり、&quot;<span class="Special">&lt;CR&gt;</span>&quot;<br>
は&nbsp;<span class="Special">&lt;CR&gt;</span>&nbsp;キーである。<a class="Identifier" href="intro.html#<>">|&lt;&gt;|</a>)<br>
<br>
<br>
5.8 ツールチップとメニューチップ<br>
<br>
ユーザーマニュアルの<a class="Identifier" href="usr_42.html#42.4">|42.4|</a>を参照すること。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:tmenu" name=":tmenu">*:tmenu*</a>&nbsp;<a class="Constant" href="gui.html#:tm" name=":tm">*:tm*</a><br>
:tm[enu]&nbsp;<span class="Special">{menupath}</span>&nbsp;<span class="Special">{rhs}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; メニューやツールバーにチップを定義する。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{X11とWin32 GUIのみ}<br>
<br>
:tm[enu]&nbsp;<span class="Special">[menupath]</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; メニューチップを一覧表示する。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{X11とWin32 GUIのみ}<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:tunmenu" name=":tunmenu">*:tunmenu*</a>&nbsp;<a class="Constant" href="gui.html#:tu" name=":tu">*:tu*</a><br>
:tu[nmenu]&nbsp;<span class="Special">{menupath}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; メニューやツールバーのチップを削除する。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{X11とWin32 GUIのみ}<br>
<br>
メニューの項目にチップが定義されていて、マウスがその項目の上にあるとき、その<br>
チップがコマンドラインに表示される。それはWindows標準でステータスバーに表示さ<br>
れるメニューヒントに似ている(Vimがコマンドラインモードのときは除く、そのときは<br>
もちろん何も表示されない)。<br>
ツールバーの項目にチップが定義されているときは、慣習にしたがって、マウスがその<br>
ボタンの上で止まったときにツールチップが表示される。その表示に使う色を変更する<br>
にはハイライトグループの<a class="Identifier" href="syntax.html#hl-Tooltip">|hl-Tooltip|</a>を設定する。<br>
<br>
チップはメニューの各項目に定義できる。例えば、次のようにメニュー項目を定義した<br>
とき:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:amenu MyMenu.Hello :echo &quot;Hello&quot;&lt;CR&gt;</div>
次のようにチップを定義する:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:tmenu MyMenu.Hello Displays a greeting.</div>
そして次のように削除する:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:tunmenu MyMenu.Hello</div>
<br>
ツールチップは今のところX11とWin32 GUIでサポートされている。近い内に他のGUI環<br>
境でもサポートされるだろう。<br>
<br>
&quot;:tmenu&quot; コマンドは他のmenuコマンド群と同じように機能し、同じ引数をとる。<br>
&quot;:tunmenu&quot; は他のunmenuコマンド群と同じようにメニューチップを削除する。<br>
<br>
メニュー項目が無効になる(例えば、全てのモードでその動作が削除される)ときには、<br>
Vimはメニューチップ(と項目)を削除する。つまり:aunmenuでメニュー項目を削除する<br>
ときには、:tunmenuする必要はないということである。<br>
<br>
<br>
5.9 ポップアップメニュー<br>
<br>
Win32とGTK+ GUIでは、カーソルの位置にメニューをポップアップ表示することができ<br>
る。これは「PopUp」メニューと同じように動作し、どんなメニューでも表示すること<br>
ができる。<br>
<br>
このコマンドは後方互換性のために残されていて、使用することは推奨されない。なぜ<br>
ならこのコマンドのふるまいは好ましくないからである。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#:popup" name=":popup">*:popup*</a>&nbsp;<a class="Constant" href="gui.html#:popu" name=":popu">*:popu*</a><br>
:popu[p]&nbsp;<span class="Special">{name}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; メニュー項目<span class="Special">{name}</span>をポップアップ表示する。その<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;メニューは少なくとも1つ以上の項目を持っている<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;必要がある。メニューバーに表示されている必要は<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ない。<br>
<br>
:popu[p]!&nbsp;<span class="Special">{name}</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;上記と同様だが、カーソル位置でなくマウスポイン<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;タの位置にメニューを表示する。<br>
<br>
例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:popup File</div>
とすると &quot;File&quot; メニューを(もしあれば)カーソル位置に表示させる。! が使われたと<br>
きはマウスポインタの位置に表示させる。<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:amenu ]Toolbar.Make&nbsp;&nbsp;&nbsp;&nbsp;:make&lt;CR&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:popup ]Toolbar</div>
これはメインのメニューバーにメニュー項目を作らずにポップアップメニューを作成す<br>
る。<br>
<br>
<span class="Todo">Note</span>: ']' で始まるメニュー項目はメニューバーに表示されない。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
6. 付記&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-extras" name="gui-extras">*gui-extras*</a><br>
<br>
このセクションではGUIに関連したその他の特徴を説明する。<br>
<br>
- GUIでは、キーコードは<span class="Special">&lt;Esc&gt;</span>で始まらないため、エスケープを入力した後に1秒待た<br>
&nbsp;&nbsp;なくてよい。<br>
<br>
- GUIで<span class="Special">CTRL-V</span>に続いて特殊なキーを入力すると &quot;<span class="Special">&lt;Key&gt;</span>&quot; のように入力される。そのよ<br>
&nbsp;&nbsp;うな特殊なキーは内部で意味を持たないためである。修飾キーを同時に押して<br>
&nbsp;&nbsp;&quot;<span class="Special">&lt;Modifiers-Key&gt;</span>&quot; を得ることもできる。<br>
{訳注: 例えば、挿入モードで<span class="Special">CTRL-V</span>に続いてDelキーを押すと &quot;<span class="Special">&lt;Del&gt;</span>&quot; (見た通り5文<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 字)が入力される。Alt(META)キーを押しながらDelキーを押すと &quot;<span class="Special">&lt;M-Del&gt;</span>&quot; が<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 入力される。Shiftキーなら &quot;<span class="Special">&lt;S-Del&gt;</span>&quot;。}<br>
<br>
- GUIでは、修飾キーのSHIFT、CTRL、ALT(META)は特殊キーやマウスイベントのマッピ<br>
&nbsp;&nbsp;ングで使用できる。例えば、:map&nbsp;<span class="Special">&lt;M-LeftDrag&gt;</span>&nbsp;<span class="Special">&lt;LeftDrag&gt;</span><br>
<br>
- GUIでは、いくつかの普通のキーにマッピング等で修飾キーを付けて使用できる。そ<br>
&nbsp;&nbsp;のようなキーは<span class="Special">&lt;Space&gt;</span>、<span class="Special">&lt;Tab&gt;</span>、<span class="Special">&lt;NL&gt;</span>、<span class="Special">&lt;CR&gt;</span>、<span class="Special">&lt;Esc&gt;</span>である。<br>
<br>
- GUIが使われているかどうかをVimスクリプト内で調べるには次のようにする:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if has(&quot;gui_running&quot;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;yes, we have a GUI&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; echo &quot;Boring old console&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endif</div>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#setting-guifont" name="setting-guifont">*setting-guifont*</a><br>
- さまざまなシステム上で同一の vimrc ファイルを使うときは、次のようにして各<br>
&nbsp;&nbsp;GUI に対する固有のオプションを設定することができる:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if has(&quot;gui_running&quot;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if has(&quot;gui_gtk2&quot;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set guifont=Luxi\ Mono\ 12<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif has(&quot;x11&quot;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot; Also for GTK 1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set guifont=*-lucidatypewriter-medium-r-normal-*-*-180-*-*-m-*-*<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elseif has(&quot;gui_win32&quot;)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set guifont=Luxi_Mono:h12:cANSI<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endif<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endif</div>
<br>
推奨される日本語フォントは MS Mincho である。MS Mincho についての情報はここで<br>
みつかる:<br>
<span class="Constant"><a href="http://www.lexikan.com/mincho.htm">http://www.lexikan.com/mincho.htm</a></span><br>
<br>
<span class="PreProc">==============================================================================</span><br>
7. シェルコマンド&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="gui.html#gui-shell" name="gui-shell">*gui-shell*</a><br>
<br>
X11 GUIでは外部プログラムはgvimウィンドウの中で実行される。<br>
<a class="Identifier" href="gui_x11.html#gui-pty">|gui-pty|</a>を参照。<br>
<br>
警告: X11 GUIで外部プログラムを実行することは常にうまく動作するとは限らない。<br>
&quot;ls&quot;、&quot;grep&quot;、&quot;make&quot; のような一般的なプログラムはたいていうまく機能する。&quot;less&quot;<br>
や &quot;ispell&quot; のように高度なターミナルを要求するプログラムはうまく機能しないだろ<br>
う。あるものはハングさえするかもしれないし、他のターミナルからkillする必要があ<br>
るかもしれない。だから気を付けて!<br>
<br>
Win32 GUIでは外部プログラムは別のウィンドウで実行される。<br>
<a class="Identifier" href="gui_w32.html#gui-shell-win32">|gui-shell-win32|</a>を参照。<br>
<br>
&nbsp;vim&#0058;tw=78:sw=4:ts=8:ft=help:norl:<br>
