---
layout: vimdoc
helpname: 'ft_hare'
---
<div id='vimCodeElement'>
<a class="Constant" href="ft_hare.html" name="ft_hare.txt">ft_hare.txt</a>&nbsp;&nbsp; Hare プログラミング言語のサポート<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<span class="Statement">内容</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#hare" name="hare">hare</a>&nbsp;<a class="Constant" href="ft_hare.html#hare.vim" name="hare.vim">hare.vim</a><br>
<br>
1. 前書き&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="ft_hare.html#ft-hare-intro">ft-hare-intro</a><br>
2. ファイルタイププラグイン&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="ft_hare.html#ft-hare-plugin">ft-hare-plugin</a><br>
3. Haredoc ファイルタイプ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="ft_hare.html#ft-haredoc-plugin">ft-haredoc-plugin</a><br>
4. インデント設定&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="ft_hare.html#ft-hare-indent">ft-hare-indent</a><br>
5. コンパイラサポート&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="ft_hare.html#compiler-hare">compiler-hare</a><br>
<br>
<span class="PreProc">==============================================================================</span><br>
<span class="Statement">前書き</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#ft-hare-intro" name="ft-hare-intro">ft-hare-intro</a><br>
<br>
このプラグインは、Hare プログラミング言語の構文のハイライト、インデント、およ<br>
びその他のサポート機能を提供する。<br>
<br>
<br>
<span class="Statement">ファイルタイププラグイン</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#ft-hare-plugin" name="ft-hare-plugin">ft-hare-plugin</a><br>
<br>
このプラグインには、動作を微調整するために&nbsp;<a class="Identifier" href="starting.html#vimrc">vimrc</a>&nbsp;内で定義できるいくつかの異<br>
なる変数がある。<br>
<br>
さらに、<span class="Comment">{ }</span>&nbsp;ブロックの折り畳みもサポートされている。折り畳みを有効にするに<br>
は、<a class="Identifier" href="options.html#after-directory">after-directory</a>&nbsp;内のファイル (例えば、~/.vim/after/ftplugin/hare.vim) に<br>
以下のコードを追加する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setlocal foldmethod=syntax</div>
<br>
ブロックベースの折り畳みでは小さな折り畳みが多数作成される傾向があるため、<br>
<a class="Type" href="options.html#'foldminlines'">'foldminlines'</a>&nbsp;や&nbsp;<a class="Type" href="options.html#'foldnestmax'">'foldnestmax'</a>&nbsp;などの関連するオプションをいくつか設定すること<br>
を検討すること。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#g:hare_recommended_style" name="g:hare_recommended_style">g:hare_recommended_style</a><br>
Hare の公式スタイルガイドに従って、次のオプションがデフォルトで設定されている:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setlocal noexpandtab<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setlocal shiftwidth=0<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setlocal softtabstop=0<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setlocal tabstop=8<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setlocal textwidth=80</div>
<br>
この動作を無効にするには、<a class="Identifier" href="starting.html#vimrc">vimrc</a>&nbsp;に次の行を追加する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let g:hare_recommended_style = 0</div>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#g:hare_symbol_operators" name="g:hare_symbol_operators">g:hare_symbol_operators</a><br>
デフォルトでは、記号演算子は特別な構文ハイライト表示を受けない (<a class="Comment" href="change.html#!">!</a>、<a class="Comment" href="pattern.html#?">?</a>、<span class="Comment">::</span><br>
のみ例外)。他のほとんどの演算子の構文ハイライトを有効にするには、<a class="Identifier" href="starting.html#vimrc">vimrc</a>&nbsp;に以<br>
下の行を追加する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let g:hare_symbol_operators = 1</div>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#g:hare_space_error" name="g:hare_space_error">g:hare_space_error</a><br>
デフォルトでは、末尾の空白文字とスペースに続く&nbsp;<span class="Special">&lt;Tab&gt;</span>&nbsp;文字はエラーとしてハイラ<br>
イト表示される。挿入モードでは、このハイライト表示は自動的に無効になる。このハ<br>
イライト表示を完全に無効にするには、<a class="Identifier" href="starting.html#vimrc">vimrc</a>&nbsp;に以下の行を追加する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let g:hare_space_error = 0</div>
<br>
<br>
<span class="Statement">Haredoc ファイルタイプ</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#ft-haredoc-plugin" name="ft-haredoc-plugin">ft-haredoc-plugin</a><br>
<br>
このプラグインは、ディレクトリの再帰検索を使用して、Hare モジュール内の README<br>
ファイルを自動検出し、&quot;haredoc&quot; ファイルタイプを付与する。これは非常に一般的な<br>
ファイル名であるため、このプラグインはデフォルトで同じディレクトリ内の Hare<br>
ソースファイルのみを検索する。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#g:filetype_haredoc" name="g:filetype_haredoc">g:filetype_haredoc</a><br>
<a class="Identifier" href="ft_hare.html#g:filetype_haredoc">g:filetype_haredoc</a>&nbsp;変数を使用すると、この検索の深さを微調整したり、Hare ド<br>
キュメントファイルの検出を完全にバイパスしたりできる:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">値&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;効果</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 自動検出なし<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; カレントディレクトリのみを検索 (これがデフォルト)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; サブディレクトリの 1 階層を検索<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; サブディレクトリの 2 階層を検索<br>
<br>
検索の深さは任意の正の整数にすることができるが、ほとんどの場合、&nbsp;<span class="Comment">2</span>&nbsp;より大き<br>
い値では目に見える利点が得られない可能性がある。<br>
<br>
<br>
<span class="Statement">インデント設定</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#ft-hare-indent" name="ft-hare-indent">ft-hare-indent</a><br>
<br>
このプラグインの他のほとんどの設定とは異なり、インデント設定はバッファごとに設<br>
定でき、既存のグローバル設定を上書きできる。これを行うには、変数の先頭に&nbsp;<a class="Identifier" href="eval.html#g:">g:</a><br>
ではなく&nbsp;<a class="Identifier" href="eval.html#b:">b:</a>&nbsp;を付ける。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#g:hare_indent_match_switch" name="g:hare_indent_match_switch">g:hare_indent_match_switch</a><br>
デフォルトでは、&quot;match&quot; および &quot;switch&quot; 条件の継続行は 1 レベルだけインデント<br>
される: &gt;hare<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const file = match (os::create(path, 0o644,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flag::WRONLY | flag::TRUNC)) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case let file: io::file =&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yield file;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// ...<br>
<br>
代わりに 2 レベルインデントして、&quot;if&quot; 条件と &quot;for&quot; 条件に近づけたい場合<br>
は、<a class="Identifier" href="starting.html#vimrc">vimrc</a>&nbsp;に次の行を追加する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let g:hare_indent_match_switch = 2</div>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#g:hare_indent_case" name="g:hare_indent_case">g:hare_indent_case</a><br>
デフォルトでは、&quot;match&quot; 式と &quot;switch&quot; 式の場合の継続行は 2 レベルインデントさ<br>
れ、case 本体と視覚的に区別される: &gt;hare<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case ltok::I8, ltok::I16, ltok::I32,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ltok::I64, ltok::INT =&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// ...<br>
<br>
インデント量を変更したい場合は、<a class="Identifier" href="ft_hare.html#g:hare_indent_case">g:hare_indent_case</a>&nbsp;を使って調整できる。有効<br>
な値は&nbsp;<a class="Comment" href="motion.html#0">0</a>、<span class="Comment">1</span>、<span class="Comment">2</span>&nbsp;である。<br>
<br>
<br>
<span class="Statement">コンパイラサポート</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#compiler-hare" name="compiler-hare">compiler-hare</a><br>
<br>
このプラグインは、カレントディレクトリに Makefile が存在することを検出した場<br>
合、ビルドシステムに&nbsp;<a class="Comment" href="quickfix.html#:make">make</a>&nbsp;を使用することを想定し、<a class="Type" href="options.html#'makeprg'">'makeprg'</a>&nbsp;はそのまま残す。<br>
それ以外の場合は、<span class="Comment">hare build</span>&nbsp;が使用される。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#g:hare_makeprg_params" name="g:hare_makeprg_params">g:hare_makeprg_params</a><br>
<span class="Comment">hare build</span>&nbsp;を使用する場合、<a class="Identifier" href="ft_hare.html#g:hare_makeprg_params">g:hare_makeprg_params</a>&nbsp;変数を使って&nbsp;<a class="Type" href="options.html#'makeprg'">'makeprg'</a>&nbsp;に<br>
追加のコンパイラオプションを指定できる。また、バッファごとに設定することも可能<br>
である (<a class="Identifier" href="eval.html#g:">g:</a>&nbsp;の代わりに&nbsp;<a class="Identifier" href="eval.html#b:">b:</a>&nbsp;を使用)。その場合、既存のグローバル設定は上書きさ<br>
れる。例:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let b:hare_makeprg_params = '-lc -t o'</div>
<br>
グローバルのデフォルトは &quot;-q&quot; で、ビルド中に標準出力への書き込みを抑制する。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
&nbsp;vim:tw=78:ts=8:noet:ft=help:norl:<br>
</div>
