---
layout: vimdoc
helpname: 'ft_hare'
---
<div id='vimCodeElement'>
<a class="Constant" href="ft_hare.html" name="ft_hare.txt">ft_hare.txt</a>&nbsp;&nbsp; Hare プログラミング言語のサポート<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<span class="Statement">内容</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#hare" name="hare">hare</a>&nbsp;<a class="Constant" href="ft_hare.html#hare.vim" name="hare.vim">hare.vim</a><br>
<br>
1. 前書き&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="ft_hare.html#ft-hare-intro">ft-hare-intro</a><br>
2. ファイルタイププラグイン&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="ft_hare.html#ft-hare-plugin">ft-hare-plugin</a><br>
3. Haredoc ファイルタイプ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="ft_hare.html#ft-haredoc-plugin">ft-haredoc-plugin</a><br>
4. インデント設定&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="ft_hare.html#ft-hare-indent">ft-hare-indent</a><br>
5. コンパイラサポート&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="ft_hare.html#compiler-hare">compiler-hare</a><br>
<br>
<span class="PreProc">==============================================================================</span><br>
<span class="Statement">前書き</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#ft-hare-intro" name="ft-hare-intro">ft-hare-intro</a><br>
<br>
このプラグインは、Hare プログラミング言語の構文のハイライト、インデント、およ<br>
びその他のサポート機能を提供する。<br>
<br>
<br>
<span class="Statement">ファイルタイププラグイン</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#ft-hare-plugin" name="ft-hare-plugin">ft-hare-plugin</a><br>
<br>
このプラグインには、動作を調整するために&nbsp;<a class="Identifier" href="starting.html#vimrc">vimrc</a>&nbsp;内で定義できるいくつかの異な<br>
る変数がある。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#hare-folding" name="hare-folding">hare-folding</a><br>
このプラグインは&nbsp;<span class="Comment">{ }</span>&nbsp;ブロックの折り畳みをサポートしている。折り畳みを有効に<br>
するには、<a class="Identifier" href="options.html#after-directory">after-directory</a>&nbsp;内のファイルに以下のコードを追加する (例えば、<br>
~/.vim/after/ftplugin/hare.vim):<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setlocal foldmethod=syntax</div>
<br>
構文ベースの折り畳みでは小さな折り畳みが多数作成される傾向があるため、<br>
<a class="Type" href="options.html#'foldminlines'">'foldminlines'</a>&nbsp;または&nbsp;<a class="Type" href="options.html#'foldnestmax'">'foldnestmax'</a>&nbsp;などの関連するオプションをいくつか設定する<br>
ことを検討すること。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#hare-symbol-operators" name="hare-symbol-operators">hare-symbol-operators</a><br>
ほとんどの記号演算子は、デフォルトではハイライトされない (&quot;?&quot;、&quot;!&quot;、および<br>
&quot;::&quot; を除く)。すべての演算子をハイライトしたい場合は、<a class="Identifier" href="starting.html#vimrc">vimrc</a>&nbsp;内で、それらを希<br>
望するハイライトグループにリンクすることができる。例:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hi def link hareCast hareSymbolOperator<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hi def link hareSymbolOperator hareOperator</div>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#g:hare_recommended_style" name="g:hare_recommended_style">g:hare_recommended_style</a><br>
Hare の公式スタイルガイドに従って、次のオプションがデフォルトで設定されている:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setlocal noexpandtab<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setlocal shiftwidth=8<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setlocal softtabstop=0<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setlocal tabstop=8<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setlocal textwidth=80</div>
<br>
この動作を無効にするには、<a class="Identifier" href="starting.html#vimrc">vimrc</a>&nbsp;に次の行を追加する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let g:hare_recommended_style = 0</div>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#g:hare_space_error" name="g:hare_space_error">g:hare_space_error</a><br>
デフォルトでは、末尾の空白文字と&nbsp;<span class="Special">&lt;Tab&gt;</span>&nbsp;文字に続くスペースはエラーとしてハイラ<br>
イトされる。挿入モードでは自動的に無効になる。このハイライトを完全に無効にする<br>
には、&nbsp;<a class="Identifier" href="starting.html#vimrc">vimrc</a>&nbsp;に以下の行を追加する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let g:hare_space_error = 0</div>
<br>
<br>
<span class="Statement">Haredoc ファイルタイプ</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#ft-haredoc-plugin" name="ft-haredoc-plugin">ft-haredoc-plugin</a><br>
<br>
このプラグインは、ディレクトリの再帰検索を使用して、Hare モジュール内の README<br>
ファイルを自動検出し、&quot;haredoc&quot; ファイルタイプを付与する。これは非常に一般的な<br>
ファイル名であるため、このプラグインはデフォルトで同じディレクトリ内の Hare<br>
ソースファイルのみを検索する。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#g:filetype_haredoc" name="g:filetype_haredoc">g:filetype_haredoc</a><br>
<a class="Comment" href="ft_hare.html#g:filetype_haredoc">g:filetype_haredoc</a>&nbsp;変数を使用すると、この検索の深さを微調整したり、Hare ド<br>
キュメントファイルの検出を完全にバイパスしたりできる:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">値&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;効果</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 検索無効<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; カレントディレクトリのみを検索 (これがデフォルト)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; サブディレクトリの 1 階層を検索<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; サブディレクトリの 2 階層を検索<br>
<br>
検索の深さは任意の正の整数にすることができるが、2 より大きい値では目に見える利<br>
点が得られず、パフォーマンスに影響を及ぼす可能性がある。<br>
<br>
<br>
<span class="Statement">インデント設定</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#ft-hare-indent" name="ft-hare-indent">ft-hare-indent</a><br>
<br>
他の設定とは異なり、インデント設定はバッファごとに設定でき、既存のグローバル設<br>
定を上書きできる。これを行うには、変数の先頭に&nbsp;<a class="Identifier" href="eval.html#g:">g:</a>&nbsp;ではなく&nbsp;<a class="Identifier" href="eval.html#b:">b:</a>&nbsp;を付けるだけ<br>
である。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#g:hare_indent_match_switch" name="g:hare_indent_match_switch">g:hare_indent_match_switch</a>&nbsp;<a class="Constant" href="ft_hare.html#b:hare_indent_match_switch" name="b:hare_indent_match_switch">b:hare_indent_match_switch</a><br>
デフォルトでは、&quot;match&quot; および &quot;switch&quot; 条件の継続行は 1 レベルだけインデント<br>
される: &gt;hare<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const file = match (os::create(path, 0o644,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flag::WRONLY | flag::TRUNC)) {<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case let file: io::file =&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yield file;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// ...<br>
<br>
2 レベルインデントして、&quot;if&quot; 条件や &quot;for&quot; 条件に近づけたい場合は、次の行を<br>
<a class="Identifier" href="starting.html#vimrc">vimrc</a>&nbsp;に追加する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let g:hare_indent_match_switch = 2</div>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#g:hare_indent_case" name="g:hare_indent_case">g:hare_indent_case</a>&nbsp;<a class="Constant" href="ft_hare.html#b:hare_indent_case" name="b:hare_indent_case">b:hare_indent_case</a><br>
デフォルトでは、&quot;match&quot; および &quot;switch&quot; case の継続行は、case 本体と視覚的に区<br>
別するために 2 レベルインデントされる: &gt;hare<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case ltok::I8, ltok::I16, ltok::I32,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ltok::I64, ltok::INT =&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// ...<br>
<br>
インデントのレベルを変更したい場合は、<a class="Comment" href="ft_hare.html#g:hare_indent_case">g:hare_indent_case</a>&nbsp;を使って調整できる。<br>
指定できる値は 0、1、2 である。<br>
<br>
<br>
<span class="Statement">コンパイラサポート</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#compiler-hare" name="compiler-hare">compiler-hare</a><br>
<br>
カレントディレクトリに Makefile が検出された場合、このプラグインはビルドシステ<br>
ムに&nbsp;<a class="Comment" href="quickfix.html#:make">make</a>&nbsp;を使用していると想定し、<a class="Type" href="options.html#'makeprg'">'makeprg'</a>&nbsp;をそのまま残す。それ以外の場合<br>
は、<span class="Comment">hare build</span>&nbsp;が使用される。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="ft_hare.html#g:hare_makeprg_params" name="g:hare_makeprg_params">g:hare_makeprg_params</a><br>
&quot;hare build&quot; を使用する場合、<a class="Comment" href="ft_hare.html#g:hare_makeprg_params">g:hare_makeprg_params</a>&nbsp;を使って&nbsp;<a class="Type" href="options.html#'makeprg'">'makeprg'</a>&nbsp;に追加<br>
のコンパイラオプションを指定できる。デフォルトは &quot;-q&quot; で、ビルド時に標準出力へ<br>
の出力を抑制する。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
&nbsp;vim:tw=78:ts=8:noet:ft=help:norl:<br>
</div>
