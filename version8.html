---
layout: vimdoc
helpname: 'version8'
---
<div id='vimCodeElement'>
<a class="Constant" href="version8.html" name="version8.txt">version8.txt</a>&nbsp;&nbsp;For&nbsp;<span class="Identifier">Vim バージョン 8.2.</span>&nbsp;&nbsp;Last change: 2020 Jun 08<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Identifier">VIMリファレンスマニュアル&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; by Bram Moolenaar</span><br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#vim8" name="vim8">vim8</a>&nbsp;<a class="Constant" href="version8.html#vim-8" name="vim-8">vim-8</a>&nbsp;<a class="Constant" href="version8.html#version-8.0" name="version-8.0">version-8.0</a>&nbsp;<a class="Constant" href="version8.html#version8.0" name="version8.0">version8.0</a><br>
ようこそ Vim 8 へ! 多数のバグが修正され、いくつかの素敵な機能が追加されていま<br>
す。このファイルは Vim 7.4 以降のすべての新規要素と既存の機能に対する変更に言<br>
及しています。Vim 7.4 までのパッチはここで見られます:&nbsp;<a class="ExternalTaglink" href="https://vim-jp.org/vimdoc-en/version7.html#vim-7.4">vim-7.4</a><br>
<br>
あなたが使用している Vim のバージョンと機能に関する全ての情報を見るには以下の<br>
コマンドを使用してください:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:version</div>
<br>
新機能&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="version8.html#new-8">new-8</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vim script の拡張&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="version8.html#new-vim-script-8">new-vim-script-8</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;さまざまな新要素&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="version8.html#new-items-8">new-items-8</a><br>
<br>
非互換な変更&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="version8.html#incompatible-8">incompatible-8</a><br>
<br>
改善点&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="version8.html#improvements-8">improvements-8</a><br>
<br>
コンパイル時の変更&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="version8.html#compile-changes-8">compile-changes-8</a><br>
<br>
パッチ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="version8.html#patches-8">patches-8</a><br>
<br>
バージョン 8.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="version8.html#version-8.1">version-8.1</a><br>
変更点&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="version8.html#changed-8.1">changed-8.1</a><br>
追加要素&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="version8.html#added-8.1">added-8.1</a><br>
パッチ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="version8.html#patches-8.1">patches-8.1</a><br>
<br>
バージョン 8.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="version8.html#version-8.2">version-8.2</a><br>
変更点&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="version8.html#changed-8.2">changed-8.2</a><br>
追加要素&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="version8.html#added-8.2">added-8.2</a><br>
パッチ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="version8.html#patches-8.2">patches-8.2</a><br>
<br>
<br>
Vi と Vim 8.0 の違いの概要については&nbsp;<a class="Identifier" href="vi_diff.html">vi_diff.txt</a>&nbsp;を参照してください。<br>
他のバージョンとの違いについては&nbsp;<a class="Identifier" href="version4.html">version4.txt</a>,&nbsp;<a class="ExternalTaglink" href="https://vim-jp.org/vimdoc-ja/version5.html">version5.txt</a>,<br>
<a class="ExternalTaglink" href="https://vim-jp.org/vimdoc-ja/version6.html">version6.txt</a>,&nbsp;<a class="ExternalTaglink" href="https://vim-jp.org/vimdoc-ja/version7.html">version7.txt</a>&nbsp;を参照してください。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
新機能&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#new-8" name="new-8">new-8</a><br>
<br>
初めに、より興味深い新機能の概要を示します。包括的な一覧は下にあります。<br>
<br>
<br>
<span class="PreProc">非同期 I/O 対応、チャネル</span><br>
<br>
Vim はバックグラウンドで他のプロセスとメッセージをやり取りすることができるよう<br>
になりました。これにより、サーバーに仕事をさせ、結果を Vim に送り返すことがで<br>
きます。例として&nbsp;<a class="Identifier" href="channel.html#channel-demo">channel-demo</a>&nbsp;を参照してください。これは Python サーバーと通<br>
信するやり方を示しています。<br>
<br>
チャネルと深く関わっているのが JSON 対応です。JSON は広くサポートされており、<br>
簡単にプロセス間通信に使うことができます。これにより、どんな言語でもサーバーを<br>
書くことができます。これに使う関数は、<a class="Identifier" href="eval.html#json_encode()">json_encode()</a>&nbsp;と&nbsp;<a class="Identifier" href="eval.html#json_decode()">json_decode()</a>&nbsp;です。<br>
<br>
これにより、任意の言語で書かれて、別のプロセスで動作する非常に複雑なプラグイン<br>
を作ることができるようになります。<br>
<br>
<br>
<span class="PreProc">ジョブ</span><br>
<br>
Vim はジョブを開始し、それと通信し、そしてそれを停止することができるようになり<br>
ました。これは補完や文法チェックなどのためのプロセスを走らせる際に非常に有用で<br>
す。ジョブと通信するためにチャネルが使われます。ジョブはまた、バッファやファイ<br>
ルから読んだり書いたりすることができます。<a class="Identifier" href="channel.html#job_start()">job_start()</a>&nbsp;を参照してください。<br>
<br>
<br>
<span class="PreProc">タイマー</span><br>
<br>
タイマーもまた非同期です。これは、1 回あるいは周期的に発火し、任意の仕事を行う<br>
関数を呼ぶことができます。例えば:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let tempTimer = timer_start(4000, 'CheckTemp')</div>
これは 4 秒 (4000 ミリ秒) 後に CheckTemp() 関数を呼びます。<a class="Identifier" href="eval.html#timer_start()">timer_start()</a>&nbsp;を<br>
参照してください。<br>
<br>
<br>
<span class="PreProc">部分適用</span><br>
<br>
Vim は既に Funcref、すなわち関数への参照を持っていました。部分適用も関数を参照<br>
しますが、それに加えて引数および/もしくは辞書と結びついています。これは特に<br>
チャネルやタイマーのコールバックに有用です。例えば、上のタイマーの例で、引数を<br>
関数に渡すには:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let tempTimer = timer_start(4000, function('CheckTemp', ['out']))</div>
これは 4 秒後に CheckTemp(<span class="MissingTag">'out'</span>) を呼び出します。<br>
<br>
<br>
<span class="PreProc">ラムダとクロージャ</span><br>
<br>
関数を作成する簡単な方法が追加されました: {args -&gt; expr}。<a class="Identifier" href="eval.html#lambda">lambda</a>&nbsp;を参照して<br>
ください。これは例えば&nbsp;<a class="Comment" href="eval.html#filter()">filter()</a>&nbsp;や&nbsp;<a class="Comment" href="eval.html#map()">map()</a>&nbsp;のような関数に有用です。これらの<br>
関数は関数引数も受け付けるようになりました。例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:call filter(mylist, {idx, val -&gt; val &gt; 20})</div>
<br>
ラムダは、ラムダが定義されたスコープ内で定義されている変数を使用することができ<br>
ます。これは通常、クロージャ (<a class="Identifier" href="eval.html#closure">closure</a>) と呼ばれます。<br>
<br>
ユーザー定義関数も &quot;closure&quot; 引数を追加することでクロージャになることができま<br>
す&nbsp;<a class="Identifier" href="eval.html#:func-closure">:func-closure</a>。<br>
<br>
<br>
<span class="PreProc">パッケージ</span><br>
<br>
プラグインは成長を続け、今まで以上に多くのプラグインが使えるようになっていま<br>
す。プラグインの集合を管理し続けることができるように、パッケージ対応が追加され<br>
ました。これは、1 つまたは複数のプラグインを取得し、ディレクトリに格納し、そし<br>
て更新状態を保てるようにするための便利な方法です。Vim はそれらを自動的にロード<br>
したり、要求された時にロードします。<a class="Identifier" href="repeat.html#packages">packages</a>&nbsp;を参照してください。<br>
<br>
<br>
<span class="PreProc">新スタイルのテスト</span><br>
<br>
これは、Vim 開発者のためのものです。今まで Vim のためのテストを書くのは簡単で<br>
はありませんでした。Vim 8 は assert 関数とテストを実行するためのフレームワーク<br>
を追加しました。これは、テストを書くことを大幅に単純化し、更新された状態が保た<br>
れるようになります。また、テストのための関数もいくつか追加されています。<br>
<a class="Identifier" href="usr_41.html#test-functions">test-functions</a>&nbsp;を参照してください。<br>
<br>
<br>
<span class="PreProc">ウィンドウ ID</span><br>
<br>
以前は、ウィンドウはその番号でのみアクセスすることができました。そして、その番<br>
号はウィンドウを開いたり閉じたり移動するたびに変更されます。それぞれのウィンド<br>
ウは一意な ID を持つようになり、ウィンドウを簡単に見つけることができます。<br>
<a class="Identifier" href="eval.html#win_getid()">win_getid()</a>&nbsp;と&nbsp;<a class="Identifier" href="eval.html#win_id2win()">win_id2win()</a>&nbsp;を参照してください。<br>
<br>
<br>
<span class="PreProc">Viminfo のタイムスタンプ利用</span><br>
<br>
以前は、viminfo に格納される情報はどんなものでも最後の Vim が書いたものでした。<br>
常に最新の要素が保持されるように、タイムスタンプが使用されるようになりました。<br>
<a class="Identifier" href="starting.html#viminfo-timestamp">viminfo-timestamp</a>&nbsp;を参照してください。<br>
<br>
<br>
<span class="PreProc">インデント付きの行折り返し</span><br>
<br>
インデントの量を変更せずに行の折り返しを行えるように、<a class="Type" href="options.html#'breakindent'">'breakindent'</a>&nbsp;オプション<br>
が追加されました。<br>
<br>
<br>
<span class="PreProc">Windows: DirectX 対応</span><br>
<br>
MS-Windows で DirectX (DirectWrite) 対応を有効化できるように、<a class="Type" href="options.html#'renderoptions'">'renderoptions'</a><br>
オプションが追加されました。<br>
<br>
<br>
<span class="PreProc">GTK+ 3 対応</span><br>
<br>
GTK+ 3 GUI は、いくつかのめったに気づかない技術上の差分を除き、GTK+ 2 と同じよ<br>
うに動作します。Configure は、GTK+ 2 と 3 が両方使用可能な場合、引き続き 2 を<br>
選択します。どうやって代わりに GTK+ 3 を使うかは src/Makefile を参照してくださ<br>
い。その他の詳細は&nbsp;<a class="Identifier" href="gui_x11.html#gui-x11-compiling">gui-x11-compiling</a>&nbsp;を参照してください。<br>
<br>
<br>
Vim script の拡張&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#new-vim-script-8" name="new-vim-script-8">new-vim-script-8</a><br>
<span class="PreProc">-----------------</span><br>
<br>
Vim script に以下の型が追加されました:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#Special">Special</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#v:false">v:false</a>,&nbsp;<a class="Identifier" href="eval.html#v:true">v:true</a>,&nbsp;<a class="Identifier" href="eval.html#v:none">v:none</a>&nbsp;と&nbsp;<a class="Identifier" href="eval.html#v:null">v:null</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#Channel">Channel</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 非同期 I/O 用の他のプロセスとの接続<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#Job">Job</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; プロセス制御<br>
<br>
新しい型に対応するため、たくさんの関数とコマンドが追加されました。<br>
<br>
いくつかのシステムでは Vim script で使用する数値が 64 bit になりました。これは<br>
<a class="Identifier" href="various.html#+num64">+num64</a>&nbsp;機能で確認できます。<br>
<br>
新スタイルのテスト(<a class="Identifier" href="testing.html#new-style-testing">new-style-testing</a>)対応のため多数の要素が追加されました。<br>
<br>
printf() は %s の引数として任意の型を受け付けるようになりました。引数は<br>
string() と同じように文字列に変換されます。<br>
<br>
<br>
さまざまな新要素&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#new-items-8" name="new-items-8">new-items-8</a><br>
<span class="PreProc">----------------</span><br>
<br>
<span class="PreProc">ビジュアルモードコマンド:</span><br>
<br>
<a class="Identifier" href="change.html#v_CTRL-A">v_CTRL-A</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;選択範囲の数値を一律に&nbsp;<span class="Special">N</span>&nbsp;ずつ増やす<br>
<a class="Identifier" href="change.html#v_CTRL-X">v_CTRL-X</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-X</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;選択範囲の数値を一律に&nbsp;<span class="Special">N</span>&nbsp;ずつ減らす<br>
<a class="Identifier" href="change.html#v_g_CTRL-A">v_g_CTRL-A</a>&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;<span class="Special">CTRL-A</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;選択範囲の数値を漸増的に&nbsp;<span class="Special">N</span>&nbsp;ずつ増やす<br>
<a class="Identifier" href="change.html#v_g_CTRL-X">v_g_CTRL-X</a>&nbsp;&nbsp;&nbsp;&nbsp;g&nbsp;<span class="Special">CTRL-X</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;選択範囲の数値を漸減的に&nbsp;<span class="Special">N</span>&nbsp;ずつ減らす<br>
<br>
<br>
<span class="PreProc">挿入モードコマンド:</span><br>
<br>
<a class="Identifier" href="insert.html#i_CTRL-G_U">i_CTRL-G_U</a>&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-G</span>&nbsp;U&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;次のカーソル移動でアンドゥを分割しない<br>
<br>
<br>
<span class="PreProc">コマンドラインモードコマンド:</span><br>
<br>
<a class="Identifier" href="cmdline.html#/_CTRL-G">/_CTRL-G</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-G</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;がアクティブならば、次マッチへ移動<br>
<a class="Identifier" href="cmdline.html#/_CTRL-T">/_CTRL-T</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-T</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;がアクティブならば、前マッチへ移動<br>
<br>
<br>
<span class="PreProc">オプション:</span><br>
<br>
<a class="Type" href="options.html#'belloff'">'belloff'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 指定した場合にベルを鳴らさない<br>
<a class="Type" href="options.html#'breakindent'">'breakindent'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 折り返された行でインデントを繰り返す<br>
<a class="Type" href="options.html#'breakindentopt'">'breakindentopt'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'breakindent'">'breakindent'</a>&nbsp;のための設定<br>
<a class="Type" href="options.html#'emoji'">'emoji'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 絵文字を全角として扱う<br>
<a class="Type" href="options.html#'fixendofline'">'fixendofline'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ファイル末尾に&nbsp;<span class="Special">&lt;EOL&gt;</span>&nbsp;を必ずつける<br>
<a class="Type" href="options.html#'langremap'">'langremap'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; マッピングされた文字に&nbsp;<a class="Type" href="options.html#'langmap'">'langmap'</a>&nbsp;を適用する<br>
<a class="Type" href="options.html#'luadll'">'luadll'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lua 動的ライブラリの名前<br>
<a class="Type" href="options.html#'packpath'">'packpath'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;パッケージのために使われるディレクトリのリスト<br>
<a class="Type" href="options.html#'perldll'">'perldll'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Perl 動的ライブラリの名前<br>
<a class="Type" href="options.html#'pythondll'">'pythondll'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Python 2 動的ライブラリの名前<br>
<a class="Type" href="options.html#'pythonthreedll'">'pythonthreedll'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Python 3 動的ライブラリの名前<br>
<a class="Type" href="options.html#'renderoptions'">'renderoptions'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Windows でのテキストレンダリングの設定<br>
<a class="Type" href="options.html#'rubydll'">'rubydll'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ruby 動的ライブラリの名前<br>
<a class="Type" href="options.html#'signcolumn'">'signcolumn'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;目印用の桁をどう表示するか<br>
<a class="Type" href="options.html#'tagcase'">'tagcase'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; タグファイル内検索で大文字小文字の扱いを指定する<br>
<a class="Type" href="options.html#'tcldll'">'tcldll'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tcl 動的ライブラリの名前<br>
<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ターミナルで GUI カラーを使う<br>
<br>
<br>
<span class="PreProc">Ex コマンド:</span><br>
<br>
<a class="Identifier" href="quickfix.html#:cbottom">:cbottom</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quickfixウィンドウの最下へスクロールする<br>
<a class="Identifier" href="quickfix.html#:cdo">:cdo</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quickfixリストの各項目に対してコマンドを実行する<br>
<a class="Identifier" href="quickfix.html#:cfdo">:cfdo</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; quickfixリストの各ファイルに対してコマンドを実行する<br>
<a class="Identifier" href="quickfix.html#:chistory">:chistory</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; エラーリストの一覧を表示する<br>
<a class="Identifier" href="motion.html#:clearjumps">:clearjumps</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ジャンプリストを削除する<br>
<a class="Identifier" href="various.html#:filter">:filter</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; コマンドの出力をフィルターする<br>
<a class="Identifier" href="helphelp.html#:helpclose">:helpclose</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ヘルプウィンドウを1つ閉じる<br>
<a class="Identifier" href="quickfix.html#:lbottom">:lbottom</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;locationウィンドウの最下へスクロールする<br>
<a class="Identifier" href="quickfix.html#:ldo">:ldo</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;locationリストの各項目に対してコマンドを実行する<br>
<a class="Identifier" href="quickfix.html#:lfdo">:lfdo</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; locationリストの各ファイルに対してコマンドを実行する<br>
<a class="Identifier" href="quickfix.html#:lhistory">:lhistory</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; locationリストの一覧を表示する<br>
<a class="Identifier" href="recover.html#:noswapfile">:noswapfile</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; スワップファイルを作らずにコマンドを実行する<br>
<a class="Identifier" href="repeat.html#:packadd">:packadd</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'packpath'">'packpath'</a>&nbsp;からプラグインを追加する<br>
<a class="Identifier" href="repeat.html#:packloadall">:packloadall</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'packpath'">'packpath'</a>&nbsp;下の全プラグインをロードする<br>
<a class="Identifier" href="vimindex.html#:smile">:smile</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ユーザーを幸せにする<br>
<br>
<br>
<span class="PreProc">Ex コマンド修飾子:</span><br>
<br>
<a class="Identifier" href="cmdline.html#:keeppatterns">:keeppatterns</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 検索パターン履歴を変更せずにコマンドを実行する<br>
<a class="Identifier" href="map.html#<mods>">&lt;mods&gt;</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;コマンド修飾子をユーザー定義コマンドに提供する<br>
<br>
<br>
<span class="PreProc">新規および拡張された関数:</span><br>
<br>
<a class="Identifier" href="eval.html#arglistid()">arglistid()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 引数リストのIDを得る<br>
<a class="Identifier" href="testing.html#assert_equal()">assert_equal()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2つの式が等しい事をテストする<br>
<a class="Identifier" href="testing.html#assert_exception()">assert_exception()</a>&nbsp;&nbsp;&nbsp;&nbsp;コマンドが例外を投げる事をテストする<br>
<a class="Identifier" href="testing.html#assert_fails()">assert_fails()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;関数呼び出しが失敗する事をテストする<br>
<a class="Identifier" href="testing.html#assert_false()">assert_false()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;式がfalseかどうかテストする<br>
<a class="Identifier" href="testing.html#assert_inrange()">assert_inrange()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;式が範囲内にある事をテストする<br>
<a class="Identifier" href="testing.html#assert_match()">assert_match()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;値がパターンにマッチする事をテストする<br>
<a class="Identifier" href="testing.html#assert_notequal()">assert_notequal()</a>&nbsp;&nbsp;&nbsp;&nbsp; 2つの式が等しくない事をテストする<br>
<a class="Identifier" href="testing.html#assert_notmatch()">assert_notmatch()</a>&nbsp;&nbsp;&nbsp;&nbsp; 値がパターンにマッチしない事をテストする<br>
<a class="Identifier" href="testing.html#assert_true()">assert_true()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 式がtrueかどうかテストする<br>
<a class="Identifier" href="eval.html#bufwinid()">bufwinid()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;バッファのウィンドウIDを得る<br>
<a class="Identifier" href="eval.html#byteidxcomp()">byteidxcomp()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; byteidx() と同様だが合成文字を数に入れる<br>
<a class="Identifier" href="channel.html#ch_close()">ch_close()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;チャネルを閉じる<br>
<a class="Identifier" href="channel.html#ch_close_in()">ch_close_in()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; チャネルの入力パートを閉じる<br>
<a class="Identifier" href="channel.html#ch_evalexpr()">ch_evalexpr()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; チャネル経由で式を評価する<br>
<a class="Identifier" href="channel.html#ch_evalraw()">ch_evalraw()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;チャネル経由で raw 文字列を評価する<br>
<a class="Identifier" href="channel.html#ch_getbufnr()">ch_getbufnr()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; チャネルのバッファ番号を取得する<br>
<a class="Identifier" href="channel.html#ch_getjob()">ch_getjob()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; チャネルが割り当てられている Job を取得する<br>
<a class="Identifier" href="channel.html#ch_info()">ch_info()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; チャネルの情報を取得する<br>
<a class="Identifier" href="channel.html#ch_log()">ch_log()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;チャネルのログファイルにメッセージを出力する<br>
<a class="Identifier" href="channel.html#ch_logfile()">ch_logfile()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;チャネルのログファイルを設定する<br>
<a class="Identifier" href="channel.html#ch_open()">ch_open()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; チャネルを開く<br>
<a class="Identifier" href="channel.html#ch_read()">ch_read()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; チャネルからメッセージを読み取る<br>
<a class="Identifier" href="channel.html#ch_readraw()">ch_readraw()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;チャネルからrawメッセージを読み取る<br>
<a class="Identifier" href="channel.html#ch_sendexpr()">ch_sendexpr()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; チャネルにJSONメッセージを送る<br>
<a class="Identifier" href="channel.html#ch_sendraw()">ch_sendraw()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;チャネルにrawメッセージを送る<br>
<a class="Identifier" href="channel.html#ch_setoptions()">ch_setoptions()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; チャネルのオプションを設定する<br>
<a class="Identifier" href="channel.html#ch_status()">ch_status()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; チャネルの状態を取得する<br>
<a class="Identifier" href="eval.html#execute()">execute()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ex コマンドを実行し出力を得る<br>
<a class="Identifier" href="eval.html#exepath()">exepath()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 実行ファイルのフルパスを得る<br>
<a class="Identifier" href="eval.html#funcref()">funcref()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 関数&nbsp;<span class="Special">{name}</span>&nbsp;への参照を返す<br>
<a class="Identifier" href="eval.html#getbufinfo()">getbufinfo()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;バッファの情報一覧を得る<br>
<a class="Identifier" href="eval.html#getcharsearch()">getcharsearch()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 文字検索情報を返す<br>
<a class="Identifier" href="eval.html#getcmdwintype()">getcmdwintype()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 現在のコマンドラインウィンドウの種類を返す<br>
<a class="Identifier" href="eval.html#getcompletion()">getcompletion()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; マッチするコマンド補完リストを返す<br>
<a class="Identifier" href="eval.html#getcurpos()">getcurpos()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; カーソルの位置を取得する<br>
<a class="Identifier" href="eval.html#gettabinfo()">gettabinfo()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;タブページの情報一覧を得る<br>
<a class="Identifier" href="eval.html#getwininfo()">getwininfo()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ウィンドウの情報一覧を得る<br>
<a class="Identifier" href="eval.html#glob2regpat()">glob2regpat()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; glob パターンを正規表現に変換する<br>
<a class="Identifier" href="eval.html#isnan()">isnan()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 数値でないかどうかのチェック<br>
<a class="Identifier" href="channel.html#job_getchannel()">job_getchannel()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Job が使用する channel を取得する<br>
<a class="Identifier" href="channel.html#job_info()">job_info()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Job の情報を取得する<br>
<a class="Identifier" href="channel.html#job_setoptions()">job_setoptions()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Job のオプションを設定する<br>
<a class="Identifier" href="channel.html#job_start()">job_start()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Job を開始する<br>
<a class="Identifier" href="channel.html#job_status()">job_status()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Job のステータスを取得する<br>
<a class="Identifier" href="channel.html#job_stop()">job_stop()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Job を停止する<br>
<a class="Identifier" href="eval.html#js_decode()">js_decode()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JSONの文字列をVimの型にデコードする<br>
<a class="Identifier" href="eval.html#js_encode()">js_encode()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 式をJSONの文字列にエンコードする<br>
<a class="Identifier" href="eval.html#json_decode()">json_decode()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; JSONの文字列をVimの型にデコードする<br>
<a class="Identifier" href="eval.html#json_encode()">json_encode()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 式をJSONの文字列にエンコードする<br>
<a class="Identifier" href="eval.html#matchaddpos()">matchaddpos()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 強調表示する位置のリストを定義する<br>
<a class="Identifier" href="eval.html#matchstrpos()">matchstrpos()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 文字列の中でパターンにマッチした文字列と位置<br>
<a class="Identifier" href="eval.html#perleval()">perleval()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perlの式を評価する<br>
<a class="Identifier" href="eval.html#reltimefloat()">reltimefloat()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reltime()の結果を浮動小数点に変換する<br>
<a class="Identifier" href="eval.html#setcharsearch()">setcharsearch()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 文字検索情報を設定する<br>
<a class="Identifier" href="eval.html#setfperm()">setfperm()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ファイルのパーミッションを設定する<br>
<a class="Identifier" href="eval.html#strcharpart()">strcharpart()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 文字のインデックスで指定された部分文字列を得る<br>
<a class="Identifier" href="eval.html#strgetchar()">strgetchar()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;文字のインデックスで指定された文字コードを得る<br>
<a class="Identifier" href="eval.html#systemlist()">systemlist()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;シェルコマンドを実行し、その結果をリストで得る<br>
<a class="Identifier" href="testing.html#test_alloc_fail()">test_alloc_fail()</a>&nbsp;&nbsp;&nbsp;&nbsp; メモリの確保を失敗させる<br>
<a class="Identifier" href="testing.html#test_autochdir()">test_autochdir()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'autochdir'">'autochdir'</a>&nbsp;機能をテストする<br>
<a class="Identifier" href="testing.html#test_garbagecollect_now()">test_garbagecollect_now()</a>&nbsp;直ちにメモリを解放する<br>
<a class="Identifier" href="testing.html#test_null_channel()">test_null_channel()</a>&nbsp;&nbsp; null のチャネルを返す<br>
<a class="Identifier" href="testing.html#test_null_dict()">test_null_dict()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;null の辞書を返す<br>
<a class="Identifier" href="testing.html#test_null_job()">test_null_job()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; null の Job を返す<br>
<a class="Identifier" href="testing.html#test_null_list()">test_null_list()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;null のリストを返す<br>
<a class="Identifier" href="testing.html#test_null_partial()">test_null_partial()</a>&nbsp;&nbsp; null の部分適用を返す<br>
<a class="Identifier" href="testing.html#test_null_string()">test_null_string()</a>&nbsp;&nbsp;&nbsp;&nbsp;null の文字列を返す<br>
<a class="Identifier" href="testing.html#test_settime()">test_settime()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vim が内部的に使用する時間を設定する<br>
<a class="Identifier" href="eval.html#timer_info()">timer_info()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;タイマーの情報を得る<br>
<a class="Identifier" href="eval.html#timer_pause()">timer_pause()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; タイマーを一時停止もしくは再開する<br>
<a class="Identifier" href="eval.html#timer_start()">timer_start()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; タイマーを作る<br>
<a class="Identifier" href="eval.html#timer_stop()">timer_stop()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;タイマーを止める<br>
<a class="Identifier" href="eval.html#timer_stopall()">timer_stopall()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 全てのタイマーを止める<br>
<a class="Identifier" href="eval.html#uniq()">uniq()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;隣接して繰り返される要素のコピーを削除する<br>
<a class="Identifier" href="eval.html#win_findbuf()">win_findbuf()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; バッファが含まれるウィンドウを探す<br>
<a class="Identifier" href="eval.html#win_getid()">win_getid()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ウィンドウのウィンドウIDを得る<br>
<a class="Identifier" href="eval.html#win_gotoid()">win_gotoid()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDで指定されたウィンドウへ移動する<br>
<a class="Identifier" href="eval.html#win_id2tabwin()">win_id2tabwin()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IDで指定されたタブとウィンドウの番号を得る<br>
<a class="Identifier" href="eval.html#win_id2win()">win_id2win()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IDで指定されたウィンドウの番号を得る<br>
<a class="Identifier" href="eval.html#wordcount()">wordcount()</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; バッファ内のバイト数/単語数/文字数などを得る<br>
<br>
<br>
<span class="PreProc">新しい Vim 変数:</span><br>
<br>
<a class="Identifier" href="eval.html#v:beval_winid">v:beval_winid</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; マウスポインタがあるウィンドウのウィンドウID<br>
<a class="Identifier" href="eval.html#v:completed_item">v:completed_item</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最も最近補完された単語用の補完要素<br>
<a class="Identifier" href="eval.html#v:errors">v:errors</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert 関数によって見つかったエラー<br>
<a class="Identifier" href="eval.html#v:false">v:false</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 数値0<br>
<a class="Identifier" href="eval.html#v:hlsearch">v:hlsearch</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;検索による強調表示がオンになっているかどうかを示す<br>
<a class="Identifier" href="eval.html#v:mouse_winid">v:mouse_winid</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#getchar()">getchar()</a>でマウスクリックイベントが発生したときのウィ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ンドウ番号<br>
<a class="Identifier" href="eval.html#v:none">v:none</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;空の文字列、JSONで使われる<br>
<a class="Identifier" href="eval.html#v:null">v:null</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;空の文字列、JSONで使われる<br>
<a class="Identifier" href="eval.html#v:option_new">v:option_new</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;オプションに設定された新しい値。<a class="Identifier" href="autocmd.html#OptionSet">OptionSet</a>&nbsp;で使われる<br>
<a class="Identifier" href="eval.html#v:option_old">v:option_old</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;オプションの以前の値。<a class="Identifier" href="autocmd.html#OptionSet">OptionSet</a>&nbsp;で使われる<br>
<a class="Identifier" href="eval.html#v:option_oldlocal">v:option_oldlocal</a>&nbsp;&nbsp;&nbsp;&nbsp; ローカルオプションの以前の値。<a class="Identifier" href="autocmd.html#OptionSet">OptionSet</a>&nbsp;で使われる<br>
<a class="Identifier" href="eval.html#v:option_oldglobal">v:option_oldglobal</a>&nbsp;&nbsp;&nbsp;&nbsp;グローバルオプションの以前の値。<a class="Identifier" href="autocmd.html#OptionSet">OptionSet</a>&nbsp;で使われる<br>
<a class="Identifier" href="eval.html#v:option_type">v:option_type</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; set コマンドのスコープ。<a class="Identifier" href="autocmd.html#OptionSet">OptionSet</a>&nbsp;で使われる<br>
<a class="Identifier" href="eval.html#v:option_command">v:option_command</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;オプションの設定に使われたコマンド。<a class="Identifier" href="autocmd.html#OptionSet">OptionSet</a>&nbsp;で使わ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;れる<br>
<a class="Identifier" href="eval.html#v:progpath">v:progpath</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vim を起動したときのコマンド<br>
<a class="Identifier" href="eval.html#v:t_bool">v:t_bool</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;真偽値型の値<br>
<a class="Identifier" href="eval.html#v:t_channel">v:t_channel</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; チャネル型の値<br>
<a class="Identifier" href="eval.html#v:t_dict">v:t_dict</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;辞書型の値<br>
<a class="Identifier" href="eval.html#v:t_float">v:t_float</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 浮動小数点数型の値<br>
<a class="Identifier" href="eval.html#v:t_func">v:t_func</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Funcref型の値<br>
<a class="Identifier" href="eval.html#v:t_job">v:t_job</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ジョブ型の値<br>
<a class="Identifier" href="eval.html#v:t_list">v:t_list</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;リスト型の値<br>
<a class="Identifier" href="eval.html#v:t_none">v:t_none</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;特殊値型の値<br>
<a class="Identifier" href="eval.html#v:t_number">v:t_number</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;数値型の値<br>
<a class="Identifier" href="eval.html#v:t_string">v:t_string</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;文字列型の値<br>
<a class="Identifier" href="eval.html#v:testing">v:testing</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="testing.html#test_garbagecollect_now()">test_garbagecollect_now()</a>&nbsp;を使う前に設定する必要がある<br>
<a class="Identifier" href="eval.html#v:true">v:true</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;数値1<br>
<a class="Identifier" href="eval.html#v:vim_did_enter">v:vim_did_enter</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VimEnter 自動コマンドが実行される直前にセットされる<br>
<br>
<br>
<span class="PreProc">新しい自動コマンドイベント:</span><br>
<br>
<a class="Identifier" href="autocmd.html#CmdUndefined">CmdUndefined</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;呼び出そうとしたユーザー定義コマンドが定義されていな<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;かったとき<br>
<a class="Identifier" href="autocmd.html#OptionSet">OptionSet</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; オプションが設定された後<br>
<a class="Identifier" href="autocmd.html#TabClosed">TabClosed</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; タブページを閉じた後<br>
<a class="Identifier" href="autocmd.html#TabNew">TabNew</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;新しいタブページを作成した後<br>
<a class="Identifier" href="autocmd.html#TextChanged">TextChanged</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ノーマルモードでテキストが変更された後<br>
<a class="Identifier" href="autocmd.html#TextChangedI">TextChangedI</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;挿入モードでテキストが変更された後<br>
<a class="Identifier" href="autocmd.html#WinNew">WinNew</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;新しいウィンドウを作成した後<br>
<br>
<br>
<span class="PreProc">新しいハイライトグループ:</span><br>
<br>
EndOfBuffer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; バッファ中で最終行以降の領域を埋めるための行 (~)。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="syntax.html#hl-EndOfBuffer">hl-EndOfBuffer</a><br>
<br>
<br>
<span class="PreProc">検索パターンにおける新要素:</span><br>
<br>
<a class="Identifier" href="pattern.html#/\%C">/\%C</a>&nbsp;&nbsp;\%C&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; すべての合成文字にマッチする<br>
<br>
<br>
<span class="PreProc">新しい Syntax/Indent/FTplugin ファイル:</span><br>
<br>
AVR Assembler (Avra) syntax<br>
Arduino syntax<br>
Bazel syntax and indent and ftplugin<br>
Dockerfile syntax and ftplugin<br>
Eiffel ftplugin<br>
Euphoria 3 and 4 syntax<br>
Go syntax and indent and ftplugin<br>
Godoc syntax<br>
Groovy ftplugin<br>
HGcommit ftplugin<br>
Hog indent and ftplugin<br>
Innovation Data Processing upstream.pt syntax<br>
J syntax and indent and ftplugin<br>
Jproperties ftplugin<br>
Json syntax and indent and ftplugin<br>
Kivy syntax<br>
Less syntax and indent<br>
Mix syntax<br>
Motorola S-Record syntax<br>
R ftplugin<br>
ReStructuredText syntax and indent and ftplugin<br>
Registry ftplugin<br>
Rhelp indent and ftplugin<br>
Rmd (markdown with R code chunks) syntax and indent<br>
Rmd ftplugin<br>
Rnoweb ftplugin<br>
Rnoweb indent<br>
Scala syntax and indent and ftplugin<br>
SystemVerilog syntax and indent and ftplugin<br>
Systemd syntax and indent and ftplugin<br>
Teraterm (TTL) syntax and indent<br>
Text ftplugin<br>
Vroom syntax and indent and ftplugin<br>
<br>
<br>
<span class="PreProc">新しいキーマップ:</span><br>
<br>
Armenian eastern and western<br>
Russian jcukenwintype<br>
Vietnamese telex and vni<br>
<br>
<span class="PreProc">==============================================================================</span><br>
非互換な変更&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#incompatible-8" name="incompatible-8">incompatible-8</a><br>
<br>
これらの変更は以前のリリースとは互換性がありません。もしもあなたが Vim 7.4 か<br>
ら 8.0 に更新した際に問題が起きたなら、この一覧を確認してください。<br>
<br>
<br>
<span class="PreProc">vimrc が無いときのより良い既定値</span><br>
<br>
vimrc ファイルが見つからないとき、新規ユーザーのためにより有用な既定値を設定す<br>
るために&nbsp;<a class="Identifier" href="starting.html#defaults.vim">defaults.vim</a>&nbsp;がロードされます。これは&nbsp;<a class="Type" href="options.html#'nocompatible'">'nocompatible'</a>&nbsp;の設定も含んで<br>
います。そのため、Vim はもはや Vi 互換モードでは起動しません。もしそうしたい場<br>
合は、&quot;set compatible&quot; を行う .vimrc ファイルを作るか、&quot;vim -C&quot; で Vim を開始<br>
してください。<br>
<br>
<br>
<span class="PreProc">対応の削除</span><br>
<br>
MS-DOS 対応は削除されました。それは、(Vim がメモリに収まらないため) しばらく動<br>
いていませんでした。削除によりコードが少しきれいになりました。<br>
<br>
Windows 16 bit (Windows 95 とそれ以前) の対応は削除されました。<br>
<br>
OS/2 の対応は削除されました。それはしばらく誰も使っていなかったため、おそらく<br>
動いていませんでした。<br>
<br>
SNiFF+ 対応は削除されました。<br>
<br>
<br>
<span class="PreProc">小さな非互換点</span><br>
<br>
おそらく……<br>
<br>
<span class="PreProc">==============================================================================</span><br>
改善点&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#improvements-8" name="improvements-8">improvements-8</a><br>
<br>
既存の blowfish 暗号化は想定よりも弱かったことが判明しました。それを修正するた<br>
め、blowfish2 方式が追加されました。これは依然として最先端の暗号化ではないこと<br>
に注意してください。しかし、たいていの用途には十分でしょう。<a class="Type" href="options.html#'cryptmethod'">'cryptmethod'</a>&nbsp;を参<br>
照してください。<br>
<br>
<br>
<span class="PreProc">==============================================================================</span><br>
コンパイル時の変更&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#compile-changes-8" name="compile-changes-8">compile-changes-8</a><br>
<br>
Vim のリポジトリは、Google code が閉鎖されたため、Google code から github に移<br>
動しました。リポジトリは&nbsp;<span class="Constant"><a href="https://github.com/vim/vim">https://github.com/vim/vim</a></span>&nbsp;にあります。<br>
<br>
ANSI-C 関数宣言を使用するようになりました。最低でも C-89 互換のコンパイラが要<br>
求されます。<br>
<br>
常に +visual 機能が含まれるようになりました。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
パッチ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#patches-8" name="patches-8">patches-8</a>&nbsp;<a class="Constant" href="version8.html#bug-fixes-8" name="bug-fixes-8">bug-fixes-8</a><br>
<br>
7.4.0 以降に取り込まれたパッチのリストです。これはすべての新機能を含んでいます<br>
が、ランタイムファイルの変更 (シンタックス、インデント、ヘルプなど) は含んでい<br>
ません。<br>
<br>
Patch 7.4.001<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Character classes such as&nbsp;<span class="Special">[a-z]</span>&nbsp;do not react to&nbsp;<a class="Type" href="options.html#'ignorecase'">'ignorecase'</a>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Breaks man page highlighting. (Mario Grgic)<br>
Solution:&nbsp;&nbsp; Add separate items for classes that react to&nbsp;<a class="Type" href="options.html#'ignorecase'">'ignorecase'</a>.&nbsp;&nbsp;Clean<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;up logic handling character classes.&nbsp;&nbsp;Add more tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok<br>
<br>
Patch 7.4.002<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Pattern with two alternative look-behind matches does not match.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Amadeus Demarzi)<br>
Solution:&nbsp;&nbsp; When comparing PIMs also compare their state ID to see if they are<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;different.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok<br>
<br>
Patch 7.4.003<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory access error in Ruby syntax highlighting. (Christopher Chow)<br>
Solution:&nbsp;&nbsp; Refresh stale pointer. (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.004<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When closing a window fails &quot;:bwipe&quot; may hang.<br>
Solution:&nbsp;&nbsp; Let win_close() return FAIL and break out of the loop.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/proto/window.pro, src/buffer.c<br>
<br>
Patch 7.4.005<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;vaB&quot; while&nbsp;<a class="Type" href="options.html#'virtualedit'">'virtualedit'</a>&nbsp;is set selects the wrong area.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dimitar Dimitrov)<br>
Solution:&nbsp;&nbsp; Reset coladd when finding a match.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 7.4.006<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;mkdir(&quot;foo/bar/&quot;, &quot;p&quot;) gives an error message. (David Barnett)<br>
Solution:&nbsp;&nbsp; Remove the trailing slash. (lcd)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.007<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Creating a preview window on startup leaves the screen layout in a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;messed up state. (Marius Gedminas)<br>
Solution:&nbsp;&nbsp; Don't change firstwin. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 7.4.008<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New regexp engine can't be interrupted.<br>
Solution:&nbsp;&nbsp; Check for&nbsp;<span class="Special">CTRL-C</span>&nbsp;pressed. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/regexp.c<br>
<br>
Patch 7.4.009<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a file was not decrypted (yet), writing it may destroy the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contents.<br>
Solution:&nbsp;&nbsp; Mark the file as readonly until decryption was done. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.010 (after 7.4.006)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash with invalid argument to mkdir().<br>
Solution:&nbsp;&nbsp; Check for empty string. (lcd47)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.011<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot find out if &quot;acl&quot; and &quot;xpm&quot; features are supported.<br>
Solution:&nbsp;&nbsp; Add &quot;acl&quot; and &quot;xpm&quot; to the list of features. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/version.c<br>
<br>
Patch 7.4.012<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: resolving shortcut does not work properly with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;multi-byte characters.<br>
Solution:&nbsp;&nbsp; Use wide system functions. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c<br>
<br>
Patch 7.4.013<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: File name buffer too small for utf-8.<br>
Solution:&nbsp;&nbsp; Use character count instead of byte count. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c<br>
<br>
Patch 7.4.014<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: check for writing to device does not work.<br>
Solution:&nbsp;&nbsp; Fix #ifdefs. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.015<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Detecting node type does not work for multi-byte<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;characters.<br>
Solution:&nbsp;&nbsp; Use wide character function when needed. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.016<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: File name case can be wrong.<br>
Solution:&nbsp;&nbsp; Add fname_casew(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.017<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:help !!&quot; does not find the &quot;!!&quot; tag in the help file. (Ben<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fritz)<br>
Solution:&nbsp;&nbsp; When reading the start of the tags file do parse lines that are<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not header lines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c<br>
<br>
Patch 7.4.018<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When completing item becomes unselected. (Shougo Matsu)<br>
Solution:&nbsp;&nbsp; Revert patch 7.3.1269.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.019<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: File name completion doesn't work properly with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chinese characters. (Yue Wu)<br>
Solution:&nbsp;&nbsp; Take care of multi-byte characters when looking for the start of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the file name. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.020<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;NFA engine matches too much with \@&gt;. (John McGowan)<br>
Solution:&nbsp;&nbsp; When a whole pattern match is found stop searching.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok<br>
<br>
Patch 7.4.021<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;NFA regexp: Using \ze in one branch which doesn't match may cause<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end of another branch to be wrong. (William Fugh)<br>
Solution:&nbsp;&nbsp; Set end position if it wasn't set yet.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok<br>
<br>
Patch 7.4.022<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Deadlock while exiting, because of allocating memory.<br>
Solution:&nbsp;&nbsp; Do not use gettext() in deathtrap(). (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/misc1.c<br>
<br>
Patch 7.4.023<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning on 64 bit windows.<br>
Solution:&nbsp;&nbsp; Add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.024<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When root edits a file the undo file is owned by root while the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edited file may be owned by another user, which is not allowed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(cac2s)<br>
Solution:&nbsp;&nbsp; Accept an undo file owned by the current user.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 7.4.025 (after 7.4.019)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Reading before start of a string.<br>
Solution:&nbsp;&nbsp; Do not call mb_ptr_back() at start of a string. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.026<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clang warning for int shift overflow.<br>
Solution:&nbsp;&nbsp; Use unsigned and cast back to int. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 7.4.027 (after 7.4.025)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Another valgrind error when using&nbsp;<span class="Special">CTRL-X</span>&nbsp;<span class="Special">CTRL-F</span>&nbsp;at the start of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the line. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Don't call mb_ptr_back() at the start of the line.&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test32.in<br>
<br>
Patch 7.4.028<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Equivalence classes are not working for multi-byte characters.<br>
Solution:&nbsp;&nbsp; Copy the rules from the old to the new regexp engine. Add a test<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to check both engines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test44.in, src/testdir/test99.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test99.ok, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile<br>
<br>
Patch 7.4.029<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;An error in a pattern is reported twice.<br>
Solution:&nbsp;&nbsp; Remove the retry with the backtracking engine, it won't work.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 7.4.030<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The -mno-cygwin argument is no longer supported by Cygwin.<br>
Solution:&nbsp;&nbsp; Remove the arguments. (Steve Hall)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/Make_cyg.mak, src/Make_cyg.mak, src/xxd/Make_cyg.mak<br>
<br>
Patch 7.4.031<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:diffoff!&quot; resets options even when&nbsp;<a class="Type" href="options.html#'diff'">'diff'</a>&nbsp;is not set. (Charles<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cooper)<br>
Solution:&nbsp;&nbsp; Only resets related options in a window where&nbsp;<a class="Type" href="options.html#'diff'">'diff'</a>&nbsp;is set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c<br>
<br>
Patch 7.4.032<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;NFA engine does not match the NUL character. (Jonathon Merz)<br>
Solution:&nbsp;&nbsp; Use 0x0a instead of NUL. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok<br>
<br>
Patch 7.4.033<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the terminal has only 20 lines test 92 and 93 overwrite the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input file.<br>
Solution:&nbsp;&nbsp; Explicitly write test.out. Check that the terminal is large enough<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to run the tests.&nbsp;&nbsp;(Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test92.in, src/testdir/test93.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test1.in, src/testdir/Makefile<br>
<br>
Patch 7.4.034<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;p&quot; in Visual block mode only changes the first line.<br>
Solution:&nbsp;&nbsp; Repeat the put in all text in the block. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/change.txt, src/ops.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test20.in, src/testdir/test20.ok<br>
<br>
Patch 7.4.035<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: The mouse pointer flickers when going from command<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line mode to Normal mode.<br>
Solution:&nbsp;&nbsp; Check for WM_NCMOUSEMOVE. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w48.c<br>
<br>
Patch 7.4.036<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;NFA engine does not capture group correctly when using \@&gt;. (ZyX)<br>
Solution:&nbsp;&nbsp; Copy submatches before doing the recursive match.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok<br>
<br>
Patch 7.4.037<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;\ze&quot; in a sub-pattern does not result in the end of the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match to be set. (Axel Bender)<br>
Solution:&nbsp;&nbsp; Copy the end of match position when a recursive match was<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;successful.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok<br>
<br>
Patch 7.4.038<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;zw&quot; and &quot;zg&quot; when&nbsp;<a class="Type" href="options.html#'spell'">'spell'</a>&nbsp;is off give a confusing error<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message. (Gary Johnson)<br>
Solution:&nbsp;&nbsp; Ignore the error when locating the word.&nbsp;&nbsp;Explicitly mention what<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word was added. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/spell.c<br>
<br>
Patch 7.4.039<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: MSVC10 and earlier can't handle symlinks to a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory properly.<br>
Solution:&nbsp;&nbsp; Add stat_symlink_aware() and wstat_symlink_aware(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/os_win32.c, src/os_win32.h<br>
<br>
Patch 7.4.040<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Valgrind error on exit when a script-local variable holds a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reference to the scope of another script.<br>
Solution:&nbsp;&nbsp; First clear all variables, then free the scopes. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.041 (after 7.4.034)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Visual selection does not remain after being copied over. (Axel<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bender)<br>
Solution:&nbsp;&nbsp; Move when VIsual_active is reset. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.042<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using &quot;:setlocal&quot; for&nbsp;<a class="Type" href="options.html#'spell'">'spell'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'spelllang'">'spelllang'</a>&nbsp;then :spelldump<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doesn't work. (Dimitar Dimitrov)<br>
Solution:&nbsp;&nbsp; Copy the option variables to the new window used to show the dump.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c<br>
<br>
Patch 7.4.043<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;VMS can't handle long function names.<br>
Solution:&nbsp;&nbsp; Shorten may_req_ambiguous_character_width. (Samuel Ferencik)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/term.c, src/proto/term.pro<br>
<br>
<br>
Patch 7.4.044 (after 7.4.039)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with old MSVC. (Wang Shoulin)<br>
Solution:&nbsp;&nbsp; Define OPEN_OH_ARGTYPE instead of using intptr_t directly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c<br>
<br>
Patch 7.4.045<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;substitute() does not work properly when the pattern starts with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;\ze&quot;.<br>
Solution:&nbsp;&nbsp; Detect an empty match. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test80.in, src/testdir/test80.ok<br>
<br>
Patch 7.4.046<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't use Tcl 8.6.<br>
Solution:&nbsp;&nbsp; Change how Tcl_FindExecutable is called. (Jan Nijtmans)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_tcl.c<br>
<br>
Patch 7.4.047<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using input() in a function invoked by a mapping it doesn't<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;work.<br>
Solution:&nbsp;&nbsp; Temporarily reset ex_normal_busy. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.048<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Recent clang version complains about -fno-strength-reduce.<br>
Solution:&nbsp;&nbsp; Add a configure check for the clang version. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.049<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In Ex mode, when line numbers are enabled the substitute prompt is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wrong.<br>
Solution:&nbsp;&nbsp; Adjust for the line number size. (Benoit Pierre)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.050<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;gn&quot; selects too much for the pattern &quot;\d&quot; when there are two<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines with a single digit. (Ryan Carney)<br>
Solution:&nbsp;&nbsp; Adjust the logic of is_one_char(). (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test53.in, src/testdir/test53.ok<br>
<br>
Patch 7.4.051<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syntax highlighting a Yaml file causes a crash. (Blake Preston)<br>
Solution:&nbsp;&nbsp; Copy the pim structure before calling addstate() to avoid it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;becoming invalid when the state list is reallocated.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.052<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With&nbsp;<a class="Type" href="options.html#'fo'">'fo'</a>&nbsp;set to &quot;a2&quot; inserting a space in the first column may<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cause the cursor to jump to the previous line.<br>
Solution:&nbsp;&nbsp; Handle the case when there is no comment leader properly. (Tor<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perkins)&nbsp;&nbsp;Also fix that cursor is in the wrong place when spaces<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get replaced with a Tab.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/ops.c, src/testdir/test68.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test68.ok<br>
<br>
Patch 7.4.053<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test75 has a wrong header. (ZyX)<br>
Solution:&nbsp;&nbsp; Fix the text and remove leading &quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test75.in<br>
<br>
Patch 7.4.054<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Reading past end of the&nbsp;<a class="Type" href="options.html#'stl'">'stl'</a>&nbsp;string.<br>
Solution:&nbsp;&nbsp; Don't increment pointer when already at the NUL. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 7.4.055<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mac: Where availability macros are defined depends on the system.<br>
Solution:&nbsp;&nbsp; Add a configure check. (Felix Bünemann)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.h.in, src/configure.in, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mac.h<br>
<br>
Patch 7.4.056<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mac: Compilation problem with OS X 10.9 Mavericks.<br>
Solution:&nbsp;&nbsp; Include AvailabilityMacros.h when available. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.057<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;byteidx() does not work for composing characters.<br>
Solution:&nbsp;&nbsp; Add byteidxcomp().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test69.in, src/testdir/test69.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.058<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings on 64 bit Windows.<br>
Solution:&nbsp;&nbsp; Add type casts. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.059<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;set_last_cursor() may encounter w_buffer being NULL.&nbsp;&nbsp;(Matt<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mkaniaris)<br>
Solution:&nbsp;&nbsp; Check for NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mark.c<br>
<br>
Patch 7.4.060<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Declaration has wrong return type for PyObject_SetAttrString().<br>
Solution:&nbsp;&nbsp; Use int instead of PyObject. (Andreas Schwab)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python.c, src/if_python3.c<br>
<br>
Patch 7.4.061 (after 7.4.055 and 7.4.056)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Availability macros configure check in wrong place.<br>
Solution:&nbsp;&nbsp; Also check when not using Darwin. Remove version check.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure, src/os_unix.c<br>
<br>
Patch 7.4.062 (after 7.4.061)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure check for AvailabilityMacros.h is wrong.<br>
Solution:&nbsp;&nbsp; Use AC_CHECK_HEADERS().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.063<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using invalid key in Python dictionary.<br>
Solution:&nbsp;&nbsp; Check for object to be NULL.&nbsp;&nbsp;Add tests. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/testdir/test86.in, src/testdir/test86.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test87.in, src/testdir/test87.ok<br>
<br>
Patch 7.4.064<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When replacing a character in Visual block mode, entering a CR<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;does not cause a repeated line break.<br>
Solution:&nbsp;&nbsp; Recognize the situation and repeat the line break. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/ops.c, src/testdir/test39.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test39.ok<br>
<br>
Patch 7.4.065<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When recording, the character typed at the hit-enter prompt is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recorded twice. (Urtica Dioica)<br>
Solution:&nbsp;&nbsp; Avoid recording the character twice. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 7.4.066<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: When there is a colon in the file name (sub-stream<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feature) the swap file name is wrong.<br>
Solution:&nbsp;&nbsp; Change the colon to &quot;%&quot;. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/memline.c, src/misc1.c, src/proto/misc1.pro<br>
<br>
Patch 7.4.067<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After inserting comment leader,&nbsp;<span class="Special">CTRL-\</span>&nbsp;<span class="Special">CTRL-O</span>&nbsp;does move the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cursor. (Wiktor Ruben)<br>
Solution:&nbsp;&nbsp; Avoid moving the cursor. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.068<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build Vim on Mac with non-Apple compilers.<br>
Solution:&nbsp;&nbsp; Remove the -no-cpp-precomp flag. (Misty De Meo)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure, src/osdef.sh<br>
<br>
Patch 7.4.069<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot right shift lines starting with #.<br>
Solution:&nbsp;&nbsp; Allow the right shift when&nbsp;<a class="Type" href="options.html#'cino'">'cino'</a>&nbsp;contains #<span class="Special">N</span>&nbsp;with&nbsp;<span class="Special">N</span>&nbsp;&gt; 0.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Refactor parsing&nbsp;<a class="Type" href="options.html#'cino'">'cino'</a>, store the values in the buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/indent.txt, src/buffer.c, src/edit.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/fold.c, src/misc1.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc1.pro, src/proto/option.pro, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.070 (after 7.4.069)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't compile with tiny features. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 7.4.071 (after 7.4.069)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Passing limits around too often.<br>
Solution:&nbsp;&nbsp; Use limits from buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/misc1.c, src/proto/misc1.pro<br>
<br>
Patch 7.4.072<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using Insert mode completion.<br>
Solution:&nbsp;&nbsp; Avoid going past the end of pum_array. (idea by Francisco Lopes)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 7.4.073<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting undolevels for one buffer changes undo in another.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<a class="Type" href="options.html#'undolevels'">'undolevels'</a>&nbsp;a global-local option. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/buffer.c, src/option.c, src/option.h<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/undo.c<br>
<br>
Patch 7.4.074<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When undo'ing all changes and creating a new change the undo<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;structure is incorrect. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; When deleting the branch starting at the old header, delete the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;whole branch, not just the first entry.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 7.4.075<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Locally setting&nbsp;<a class="Type" href="options.html#'undolevels'">'undolevels'</a>&nbsp;is not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test100.in, src/testdir/test100.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile, src/Makefile<br>
<br>
Patch 7.4.076<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;cgn&quot; does not wrap around the end of the file. (Dimitar Dimitrov)<br>
Solution:&nbsp;&nbsp; Restore&nbsp;<a class="Type" href="options.html#'wrapscan'">'wrapscan'</a>&nbsp;earlier. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 7.4.077<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;DOS installer creates shortcut without a path, resulting in the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;current directory to be C:\Windows\system32.<br>
Solution:&nbsp;&nbsp; Use environment variables.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c<br>
<br>
Patch 7.4.078<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MSVC 2013 is not supported.<br>
Solution:&nbsp;&nbsp; Recognize and support MSVC 2013. (Ed Brown)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 7.4.079<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A script cannot detect whether&nbsp;<a class="Type" href="options.html#'hlsearch'">'hlsearch'</a>&nbsp;highlighting is actually<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayed.<br>
Solution:&nbsp;&nbsp; Add the &quot;v:hlsearch&quot; variable. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/screen.c, src/search.c, src/tag.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test101.in, src/testdir/test101.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile<br>
<br>
Patch 7.4.080 (after 7.4.079)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing documentation for v:hlsearch.<br>
Solution:&nbsp;&nbsp; Include the right file in the patch.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.081 (after 7.4.078)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong logic when ANALYZE is &quot;yes&quot;.<br>
Solution:&nbsp;&nbsp; Use or instead of and. (KF Leong)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 7.4.082<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;gf&quot; in a changed buffer suggests adding &quot;!&quot;, which is not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;possible. (Tim Chase)<br>
Solution:&nbsp;&nbsp; Pass a flag to check_changed() whether adding ! make sense.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/ex_cmds2.c, src/proto/ex_cmds2.pro, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_docmd.c<br>
<br>
Patch 7.4.083<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It's hard to avoid adding a used pattern to the search history.<br>
Solution:&nbsp;&nbsp; Add the &quot;:keeppatterns&quot; modifier. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/cmdline.txt, src/ex_cmds.h, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/structs.h<br>
<br>
Patch 7.4.084<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python: interrupt not being properly discarded. (Yggdroot Chen)<br>
Solution:&nbsp;&nbsp; Discard interrupt in VimTryEnd. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/testdir/test86.in, src/testdir/test86.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test87.in, src/testdir/test87.ok<br>
<br>
Patch 7.4.085<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When inserting text in Visual block mode and moving the cursor the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wrong text gets repeated in other lines.<br>
Solution:&nbsp;&nbsp; Use the '[ mark to find the start of the actually inserted text.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test39.in, src/testdir/test39.ok<br>
<br>
Patch 7.4.086<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Skipping over an expression when not evaluating it does not work<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properly for dict members.<br>
Solution:&nbsp;&nbsp; Skip over unrecognized expression. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test34.in, src/testdir/test34.ok<br>
<br>
Patch 7.4.087<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning on 64 bit Windows systems.<br>
Solution:&nbsp;&nbsp; Fix type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.088<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When spell checking is enabled Asian characters are always marked<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as error.<br>
Solution:&nbsp;&nbsp; When&nbsp;<a class="Type" href="options.html#'spelllang'">'spelllang'</a>&nbsp;contains &quot;cjk&quot; do not mark Asian characters as<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/spell.txt, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/spell.c, src/structs.h<br>
<br>
Patch 7.4.089<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When editing a file in a directory mounted through sshfs Vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doesn't set the security context on a renamed file.<br>
Solution:&nbsp;&nbsp; Add mch_copy_sec() to vim_rename(). (Peter Backes)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.090<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: When a directory name contains an exclamation mark,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;completion doesn't complete the contents of the directory.<br>
Solution:&nbsp;&nbsp; Escape the exclamation mark. (Jan Stocker)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test102.in, src/testdir/test102.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile<br>
<br>
Patch 7.4.091 (after 7.4.089)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing semicolon.<br>
Solution:&nbsp;&nbsp; Add the semicolon.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.092 (after 7.4.088)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build small version.<br>
Solution:&nbsp;&nbsp; Add #ifdef where the b_cjk flag is used. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c<br>
<br>
Patch 7.4.093<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure can't use LuaJIT on ubuntu 12.04.<br>
Solution:&nbsp;&nbsp; Adjust the configure regexp that locates the version number.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Charles Strahan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.094<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure may not find that -lint is needed for gettext().<br>
Solution:&nbsp;&nbsp; Check for gettext() with empty $LIBS.&nbsp;&nbsp;(Thomas De Schampheleire)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.095 (after 7.4.093)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Regexp for LuaJIT version doesn't work on BSD.<br>
Solution:&nbsp;&nbsp; Use &quot;*&quot; instead of &quot;\+&quot; and &quot;\?&quot;. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.096<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't change directory to an UNC path.<br>
Solution:&nbsp;&nbsp; Use win32_getattrs() in mch_getperm(). (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.097 (after 7.4.034)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unexpected behavior change related to&nbsp;<a class="Type" href="options.html#'virtualedit'">'virtualedit'</a>. (Ingo Karkat)<br>
Solution:&nbsp;&nbsp; Update the valid cursor position. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.098<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using &quot;:'&lt;,'&gt;del&quot; errors may be given for the visual line<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numbers being out of range.<br>
Solution:&nbsp;&nbsp; Reset Visual mode in &quot;:del&quot;. (Lech Lorens)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test103.in, src/testdir/test103.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile<br>
<br>
Patch 7.4.099<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Append in blockwise Visual mode with &quot;$&quot; is wrong.<br>
Solution:&nbsp;&nbsp; After &quot;$&quot; don't use the code that checks if the cursor was moved.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Hirohito Higashi, Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test39.in, src/testdir/test39.ok<br>
<br>
Patch 7.4.100<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;NFA regexp doesn't handle backreference correctly. (Ryuichi<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hayashida, Urtica Dioica)<br>
Solution:&nbsp;&nbsp; Always add NFA_SKIP, also when it already exists at the start<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok<br>
<br>
Patch 7.4.101<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using \1 in pattern goes one line too far. (Bohr Shaw, John Little)<br>
Solution:&nbsp;&nbsp; Only advance the match end for the matched characters in the last<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/testdir/test64.in, src/testdir/test64.ok<br>
<br>
Patch 7.4.102<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when interrupting &quot;z=&quot;.<br>
Solution:&nbsp;&nbsp; Add safety check for word length. (Christian Brabandt, Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c<br>
<br>
Patch 7.4.103<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dos installer uses an old way to escape spaces in the diff<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;command.<br>
Solution:&nbsp;&nbsp; Adjust the quoting to the new default shellxquote. (Ben Fritz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c<br>
<br>
Patch 7.4.104<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:help s/\_&quot; reports an internal error. (John Beckett)<br>
Solution:&nbsp;&nbsp; Check for NUL and invalid character classes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.105<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completing a tag pattern may give an error for invalid pattern.<br>
Solution:&nbsp;&nbsp; Suppress the error, just return no matches.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c<br>
<br>
Patch 7.4.106<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Ruby using Cygwin.<br>
Solution:&nbsp;&nbsp; Fix library name in makefile. (Steve Hall)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg.mak<br>
<br>
Patch 7.4.107<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python: When vim.eval() encounters a Vim error, a try/catch in the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Python code doesn't catch it. (Yggdroot Chen)<br>
Solution:&nbsp;&nbsp; Throw exceptions on errors in vim.eval(). (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_eval.c, src/if_py_both.h, src/proto/ex_eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test86.in, src/testdir/test86.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test87.in, src/testdir/test87.ok<br>
<br>
Patch 7.4.108<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;zG&quot; and &quot;zW&quot; leave temp files around on MS-Windows.<br>
Solution:&nbsp;&nbsp; Delete the temp files when exiting. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/proto/spell.pro, src/spell.c<br>
<br>
Patch 7.4.109<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ColorScheme autocommand matches with the current buffer name.<br>
Solution:&nbsp;&nbsp; Match with the colorscheme name. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, src/fileio.c, src/syntax.c<br>
<br>
Patch 7.4.110<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;gUgn&quot; cannot be repeated. (Dimitar Dimitrov)<br>
Solution:&nbsp;&nbsp; Don't put &quot;gn&quot; in a different order in the redo buffer.&nbsp;&nbsp;Restore<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'wrapscan'">'wrapscan'</a>&nbsp;when the pattern isn't found. (Christian Wellenbrock)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/search.c, src/test53.in, src/test53.ok<br>
<br>
Patch 7.4.111<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak in Python OptionsAssItem. (Ken Takata)<br>
Solution:&nbsp;&nbsp; Call Py_XDECREF() where needed. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 7.4.112<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The defaults for&nbsp;<a class="Type" href="options.html#'directory'">'directory'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'backupdir'">'backupdir'</a>&nbsp;on MS-Windows do not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;include a directory that exists.<br>
Solution:&nbsp;&nbsp; Use $TEMP.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_dos.h<br>
<br>
Patch 7.4.113<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MSVC static analysis gives warnings.<br>
Solution:&nbsp;&nbsp; Avoid the warnings and avoid possible bugs. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.114<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New GNU make outputs messages about changing directory in another<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;format.<br>
Solution:&nbsp;&nbsp; Recognize the new format.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h<br>
<br>
Patch 7.4.115<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using Zsh expanding ~abc doesn't work when the result<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contains a space.<br>
Solution:&nbsp;&nbsp; Off-by-one error in detecting the NUL. (Pavol Juhas)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.116<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a mapping starts with a space, the typed space does not show<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;up for&nbsp;<a class="Type" href="options.html#'showcmd'">'showcmd'</a>.<br>
Solution:&nbsp;&nbsp; Show &quot;<span class="Special">&lt;20&gt;</span>&quot;. (Brook Hong)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 7.4.117<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Cygwin/MingW and Perl 5.18.<br>
Solution:&nbsp;&nbsp; Add a linker argument for the Perl library. (Cesar Romani)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adjust CFLAGS and LIB. (Cesar Romani)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Move including inline.h further down. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg.mak, src/Make_ming.mak, src/if_perl.xs<br>
<br>
Patch 7.4.118<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It's possible that redrawing the status lines causes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;win_redr_custom() to be called recursively.<br>
Solution:&nbsp;&nbsp; Protect against recursiveness. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.119<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim doesn't work well on OpenVMS.<br>
Solution:&nbsp;&nbsp; Fix various problems. (Samuel Ferencik)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_unix.h, src/os_vms.c<br>
<br>
Patch 7.4.120 (after 7.4.117)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Perl 5.18 on Linux. (Lcd 47)<br>
Solution:&nbsp;&nbsp; Add #ifdef. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 7.4.121<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completion doesn't work for &quot;:py3d&quot; and &quot;:py3f&quot;. (Bohr Shaw)<br>
Solution:&nbsp;&nbsp; Skip over letters after &quot;:py3&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.122<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: When&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;is set to &quot;utf-8&quot; and the active codepage<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is cp932 then &quot;:grep&quot; and other commands don't work for multi-byte<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;characters.<br>
Solution:&nbsp;&nbsp; (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.123<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: Getting user name does not use wide function.<br>
Solution:&nbsp;&nbsp; Use GetUserNameW() if possible. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.124<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: Getting host name does not use wide function.<br>
Solution:&nbsp;&nbsp; Use GetComputerNameW() if possible. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.125<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: Dealing with messages may not work for multi-byte chars.<br>
Solution:&nbsp;&nbsp; Use pDispatchMessage(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.126<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for &quot;const&quot; and incompatible types.<br>
Solution:&nbsp;&nbsp; Remove &quot;const&quot;, add type cast. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.127<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Perl 5.18 on Unix doesn't work.<br>
Solution:&nbsp;&nbsp; Move workaround to after including vim.h. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 7.4.128<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Perl 5.18 for MSVC doesn't work.<br>
Solution:&nbsp;&nbsp; Add check in makefile and define __inline. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/if_perl.xs<br>
<br>
Patch 7.4.129<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getline(-1) returns zero. (mvxxc)<br>
Solution:&nbsp;&nbsp; Return an empty string.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.130<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Relative line numbers mix up windows when using folds.<br>
Solution:&nbsp;&nbsp; Use hasFoldingWin() instead of hasFolding(). (Lech Lorens)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 7.4.131<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syncbind causes E315 errors in some situations. (Liang Li)<br>
Solution:&nbsp;&nbsp; Set and restore curbuf in ex_syncbind(). (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test37.ok<br>
<br>
Patch 7.4.132 (after 7.4.122)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: flags and inherit_handles arguments mixed up.<br>
Solution:&nbsp;&nbsp; Swap the argument. (cs86661)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.133<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clang warns for using NUL.<br>
Solution:&nbsp;&nbsp; Change NUL to NULL. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/misc2.c<br>
<br>
Patch 7.4.134<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Spurious space in MingW Makefile.<br>
Solution:&nbsp;&nbsp; Remove the space. (Michael Soyka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_ming.mak<br>
<br>
Patch 7.4.135<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing dot in MingW test Makefile.<br>
Solution:&nbsp;&nbsp; Add the dot. (Michael Soyka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak<br>
<br>
Patch 7.4.136 (after 7.4.096)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: When saving a file with a UNC path the file becomes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read-only.<br>
Solution:&nbsp;&nbsp; Don't mix up Win32 attributes and Unix attributes. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/os_win32.c<br>
<br>
Patch 7.4.137<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use IME with Windows 8 console.<br>
Solution:&nbsp;&nbsp; Change the user of ReadConsoleInput() and PeekConsoleInput().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Nobuhiro Takasaki)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.138 (after 7.4.114)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Directory change messages are not recognized.<br>
Solution:&nbsp;&nbsp; Fix using a character range literally. (Lech Lorens)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h<br>
<br>
Patch 7.4.139<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using :cd in autocommand. (François Ingelrest)<br>
Solution:&nbsp;&nbsp; Set w_localdir to NULL after freeing it. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/window.c<br>
<br>
Patch 7.4.140<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when wiping out buffer triggers autocommand that wipes out<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;only other buffer.<br>
Solution:&nbsp;&nbsp; Do not delete the last buffer, make it empty. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 7.4.141<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Problems when building with Borland: st_mode is signed short;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can't build with Python; temp files not ignored by Mercurial;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;building with DEBUG doesn't define _DEBUG.<br>
Solution:&nbsp;&nbsp; Fix the problems. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_bc5.mak, src/if_py_both.h, src/os_win32.c<br>
<br>
Patch 7.4.142 (after 7.4.137)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows 8 IME input doesn't work correctly.<br>
Solution:&nbsp;&nbsp; Work around the problem. (Nobuhiro Takasaki)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.143<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;TextChangedI is not triggered.<br>
Solution:&nbsp;&nbsp; Reverse check for &quot;ready&quot;. (lilydjwg)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.144<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MingW also supports intptr_t for OPEN_OH_ARGTYPE.<br>
Solution:&nbsp;&nbsp; Adjust #ifdef. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c<br>
<br>
Patch 7.4.145<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getregtype() does not return zero for unknown register.<br>
Solution:&nbsp;&nbsp; Adjust documentation: return empty string for unknown register.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check the register name to be valid. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/ops.c<br>
<br>
Patch 7.4.146<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When starting Vim with &quot;-u NONE&quot; v:oldfiles is NULL.<br>
Solution:&nbsp;&nbsp; Set v:oldfiles to an empty list. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 7.4.147<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor moves to wrong position when using &quot;gj&quot; after &quot;$&quot; and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;virtual editing is active.<br>
Solution:&nbsp;&nbsp; Make &quot;gj&quot; behave differently when virtual editing is active.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test39.in, src/testdir/test39.ok<br>
<br>
Patch 7.4.148<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with Cygwin and X11.<br>
Solution:&nbsp;&nbsp; Include Xwindows.h instead of windows.h. (Lech Lorens)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 7.4.149<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get E685 error when assigning a function to an autoload variable.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yukihiro Nakadaira)<br>
Solution:&nbsp;&nbsp; Instead of having a global no_autoload variable, pass an autoload<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flag down to where it is used. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test55.in, src/testdir/test55.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test60.in, src/testdir/test60.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/sautest/autoload/footest.vim<br>
<br>
Patch 7.4.150<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:keeppatterns is not respected for :s.<br>
Solution:&nbsp;&nbsp; Check the keeppatterns flag. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test14.in, src/testdir/test14.ok<br>
<br>
Patch 7.4.151<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python: slices with steps are not supported.<br>
Solution:&nbsp;&nbsp; Support slices in Python vim.List. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/if_py_both.h, src/if_python3.c, src/if_python.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/testdir/test86.in, src/testdir/test86.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test87.in, src/testdir/test87.ok<br>
<br>
Patch 7.4.152<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python: Cannot iterate over options.<br>
Solution:&nbsp;&nbsp; Add options iterator. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/option.c, src/proto/option.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test86.in, src/testdir/test86.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test87.in, src/testdir/test87.ok, src/vim.h<br>
<br>
Patch 7.4.153<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for pointer type.<br>
Solution:&nbsp;&nbsp; Add type cast.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/if_python.c, src/if_python3.c<br>
<br>
Patch 7.4.154 (after 7.4.149)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still a problem with auto-loading.<br>
Solution:&nbsp;&nbsp; Pass no_autoload to deref_func_name(). (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.155<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:keeppatterns /pat&quot; does not keep search pattern offset.<br>
Solution:&nbsp;&nbsp; Restore the offset after doing the search.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test14.in, src/testdir/test14.ok<br>
<br>
Patch 7.4.156<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test file missing from distribution.<br>
Solution:&nbsp;&nbsp; Add new directory to file list.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.157<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error number used twice. (Yukihiro Nakadaira)<br>
Solution:&nbsp;&nbsp; Change the one not referred in the docs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 7.4.158 (after 7.4.045)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Pattern containing \zs is not handled correctly by substitute().<br>
Solution:&nbsp;&nbsp; Change how an empty match is skipped. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test80.in, src/testdir/test80.ok<br>
<br>
Patch 7.4.159<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completion hangs when scanning the current buffer after doing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keywords. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Set the first match position when starting to scan the current<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.160<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: Crash when executing external command.<br>
Solution:&nbsp;&nbsp; Only close the handle when it was created. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.161<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash in Python exception handling.<br>
Solution:&nbsp;&nbsp; Only use exception variables if did_throw is set. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 7.4.162<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running tests in shadow dir doesn't work.<br>
Solution:&nbsp;&nbsp; Add testdir/sautest to the shadow target. (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.163 (after 7.4.142)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows input doesn't work properly on Windows 7 and earlier.<br>
Solution:&nbsp;&nbsp; Add a check for Windows 8. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.164 (after 7.4.163)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Problem with event handling on Windows 8.<br>
Solution:&nbsp;&nbsp; Ignore duplicate WINDOW_BUFFER_SIZE_EVENTs. (Nobuhiro Takasaki)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.165<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;By default, after closing a buffer changes can't be undone.<br>
Solution:&nbsp;&nbsp; In the example vimrc file set&nbsp;<a class="Type" href="options.html#'undofile'">'undofile'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/vimrc_example.vim<br>
<br>
Patch 7.4.166<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Auto-loading a function for code that won't be executed.<br>
Solution:&nbsp;&nbsp; Do not auto-load when evaluation is off. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.167 (after 7.4.149)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Fixes are not tested.<br>
Solution:&nbsp;&nbsp; Add a test for not autoloading on assignment. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/sautest/autoload/Test104.vim, src/testdir/test104.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test104.ok<br>
<br>
Patch 7.4.168<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't compile with Ruby 2.1.0.<br>
Solution:&nbsp;&nbsp; Add support for new GC. (Kohei Suzuki)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 7.4.169<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:sleep&quot; puts cursor in the wrong column. (Liang Li)<br>
Solution:&nbsp;&nbsp; Add the window offset. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.170<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some help tags don't work with &quot;:help&quot;. (Tim Chase)<br>
Solution:&nbsp;&nbsp; Add exceptions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.171<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Redo does not set v:count and v:count1.<br>
Solution:&nbsp;&nbsp; Use a separate buffer for redo, so that we can set the counts when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;performing redo.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/globals.h, src/normal.c, src/proto/getchar.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 7.4.172<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The blowfish code mentions output feedback, but the code is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;actually doing cipher feedback.<br>
Solution:&nbsp;&nbsp; Adjust names and comments.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/blowfish.c, src/fileio.c, src/proto/blowfish.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 7.4.173<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using scrollbind the cursor can end up below the last line.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(mvxxc)<br>
Solution:&nbsp;&nbsp; Reset w_botfill when scrolling up. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 7.4.174<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for Python interface. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add type casts, initialize variable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 7.4.175<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a wide library function fails, falling back to the non-wide<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function may do the wrong thing.<br>
Solution:&nbsp;&nbsp; Check the platform, when the wide function is supported don't fall<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;back to the non-wide function. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/os_win32.c<br>
<br>
Patch 7.4.176<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dictionary.update() throws an error when used without arguments.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Python programmers don't expect that.<br>
Solution:&nbsp;&nbsp; Make Dictionary.update() without arguments do nothing. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/testdir/test86.in, src/testdir/test87.in<br>
<br>
Patch 7.4.177<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused variable. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 7.4.178<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The J command does not update '[ and '] marks. (William Gardner)<br>
Solution:&nbsp;&nbsp; Set the marks. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.179<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for type-punned pointer. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Use intermediate variable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 7.4.180 (after 7.4.174)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Older Python versions don't support %ld.<br>
Solution:&nbsp;&nbsp; Use %d instead. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 7.4.181<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using&nbsp;<a class="Type" href="options.html#'pastetoggle'">'pastetoggle'</a>&nbsp;the status lines are not updated. (Samuel<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ferencik, Jan Christoph Ebersbach)<br>
Solution:&nbsp;&nbsp; Update the status lines. (Nobuhiro Takasaki)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 7.4.182<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with mzscheme and racket does not work. (David Chimay)<br>
Solution:&nbsp;&nbsp; Adjust autoconf. (Sergey Khorev)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.183<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MSVC Visual Studio update not supported.<br>
Solution:&nbsp;&nbsp; Add version number. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 7.4.184<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;match() does not work properly with a&nbsp;<span class="Special">{count}</span>&nbsp;argument.<br>
Solution:&nbsp;&nbsp; Compute the length once and update it.&nbsp;&nbsp;Quit the loop when at the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test53.in, src/testdir/test53.ok<br>
<br>
Patch 7.4.185<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clang gives warnings.<br>
Solution:&nbsp;&nbsp; Adjust how bigness is set. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.186 (after 7.4.085)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insert in Visual mode sometimes gives incorrect results.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Remember the original insert start position. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/globals.h, src/ops.c, src/structs.h<br>
<br>
Patch 7.4.187<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Delete that crosses line break splits multi-byte character.<br>
Solution:&nbsp;&nbsp; Advance a character instead of a byte. (Cade Foster)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test69.in, src/testdir/test69.ok<br>
<br>
Patch 7.4.188<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;SIZEOF_LONG clashes with similar defines in header files.<br>
Solution:&nbsp;&nbsp; Rename to a name starting with VIM_.&nbsp;&nbsp;Also for SIZEOF_INT.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c, src/vim.h, src/configure.in, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.h.in, src/fileio.c, src/if_python.c, src/message.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/feature.h, src/os_os2_cfg.h, src/os_vms_conf.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win16.h, src/structs.h<br>
<br>
Patch 7.4.189<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused argument.<br>
Solution:&nbsp;&nbsp; Add UNUSED.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.190<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for using %lld for off_t.<br>
Solution:&nbsp;&nbsp; Add type cast.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.191<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Escaping a file name for shell commands can't be done without a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function.<br>
Solution:&nbsp;&nbsp; Add the :S file name modifier.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test105.in, src/testdir/test105.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/cmdline.txt, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/map.txt, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/quickfix.txt, runtime/doc/usr_30.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_40.txt, runtime/doc/usr_42.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/vi_diff.txt, src/eval.c, src/misc2.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc2.pro<br>
<br>
Patch 7.4.192<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak when giving E853.<br>
Solution:&nbsp;&nbsp; Free the argument. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.193<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typos in messages.<br>
Solution:&nbsp;&nbsp; &quot;then&quot; -&gt; &quot;than&quot;. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/spell.c<br>
<br>
Patch 7.4.194<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build for Android.<br>
Solution:&nbsp;&nbsp; Add #if condition. (Fredrik Fornwall)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 7.4.195 (after 7.4.193)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python tests fail.<br>
Solution:&nbsp;&nbsp; Change &quot;then&quot; to &quot;than&quot; in more places. (Dominique Pelle, Taro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Muraoka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test86.in, src/testdir/test86.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test87.in, src/testdir/test87.ok<br>
<br>
Patch 7.4.196<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests fail on Solaris 9 and 10.<br>
Solution:&nbsp;&nbsp; Use &quot;test -f&quot; instead of &quot;test -e&quot;.&nbsp;&nbsp;(Laurent Blume)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile<br>
<br>
Patch 7.4.197<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various problems on VMS.<br>
Solution:&nbsp;&nbsp; Fix several VMS problems. (Zoltan Arpadffy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/os_vms.txt, src/Make_vms.mms, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_unix.h, src/os_vms.c, src/os_vms_conf.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_vms.pro, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test72.in, src/testdir/test77a.com,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test77a.in, src/testdir/test77a.ok src/undo.c<br>
<br>
Patch 7.4.198<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build Vim with Perl when -Dusethreads is not specified for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;building Perl, and building Vim with --enable-perlinterp=dynamic.<br>
Solution:&nbsp;&nbsp; Adjust #ifdefs. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 7.4.199<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;(issue 197) ]P doesn't paste over Visual selection.<br>
Solution:&nbsp;&nbsp; Handle Visual mode specifically. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 7.4.200<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many #ifdefs in the code.<br>
Solution:&nbsp;&nbsp; Enable FEAT_VISUAL always, await any complaints<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h<br>
<br>
Patch 7.4.201<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'lispwords'">'lispwords'</a>&nbsp;is a global option.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<a class="Type" href="options.html#'lispwords'">'lispwords'</a>&nbsp;global-local. (Sung Pae)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/optwin.vim, src/buffer.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/option.c, src/option.h, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test100.in, src/testdir/test100.ok<br>
<br>
Patch 7.4.202<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: non-ASCII font names don't work.<br>
Solution:&nbsp;&nbsp; Convert between the current code page and&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w48.c, src/os_mswin.c, src/proto/winclip.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/winclip.c<br>
<br>
Patch 7.4.203<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Parsing&nbsp;<a class="Type" href="options.html#'errorformat'">'errorformat'</a>&nbsp;is not correct.<br>
Solution:&nbsp;&nbsp; Reset &quot;multiignore&quot; at the start of a multi-line message. (Lcd)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/test106.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test106.ok<br>
<br>
Patch 7.4.204<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A mapping where the second byte is 0x80 doesn't work.<br>
Solution:&nbsp;&nbsp; Unescape before checking for incomplete multi-byte char. (Nobuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takasaki)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/testdir/test75.in, src/testdir/test75.ok<br>
<br>
Patch 7.4.205<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:mksession&quot; writes command to move to second argument while it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;does not exist.&nbsp;&nbsp;When it does exist the order might be wrong.<br>
Solution:&nbsp;&nbsp; Use &quot;:argadd&quot; for each argument instead of using &quot;:args&quot; with a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list of names. (Nobuhiro Takasaki)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.206<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings on 64 bit Windows.<br>
Solution:&nbsp;&nbsp; Add type casts. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w48.c, src/os_mswin.c<br>
<br>
Patch 7.4.207<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The cursor report sequence is sometimes not recognized and results<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in entering replace mode.<br>
Solution:&nbsp;&nbsp; Also check for the cursor report when not asked for.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.208<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mercurial picks up some files that are not distributed.<br>
Solution:&nbsp;&nbsp; Add patterns to the ignore list. (Cade Forester)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.hgignore<br>
<br>
Patch 7.4.209<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When repeating a filter command &quot;%&quot; and &quot;#&quot; are expanded.<br>
Solution:&nbsp;&nbsp; Escape the command when storing for redo. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.210<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Visual block mode plus virtual edit doesn't work well with tabs.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Liang Li)<br>
Solution:&nbsp;&nbsp; Take coladd into account. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test39.in, src/testdir/test39.ok<br>
<br>
Patch 7.4.211<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:lu&quot; is an abbreviation for &quot;:lua&quot;, but it should be &quot;:lunmap&quot;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ZyX)<br>
Solution:&nbsp;&nbsp; Move &quot;lunmap&quot; to above &quot;lua&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h<br>
<br>
Patch 7.4.212 (after 7.4.200)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Now that the +visual feature is always enabled the #ifdefs for it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;are not useful.<br>
Solution:&nbsp;&nbsp; Remove the checks for FEAT_VISUAL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/charset.c, src/edit.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_docmd.c, src/fold.c, src/getchar.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/gui_mac.c, src/gui_w48.c, src/main.c, src/mark.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/menu.c, src/misc2.c, src/move.c, src/netbeans.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/option.c, src/os_msdos.c, src/os_qnx.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/regexp.c, src/regexp_nfa.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/spell.c, src/syntax.c, src/term.c, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c, src/version.c, src/window.c, src/feature.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/option.h, src/os_win32.h, src/structs.h<br>
<br>
Patch 7.4.213<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It's not possible to open a new buffer without creating a swap<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.<br>
Solution:&nbsp;&nbsp; Add the &quot;:noswapfile&quot; modifier. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/recover.txt, src/ex_cmds.h, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/structs.h<br>
<br>
Patch 7.4.214<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compilation problems on HP_nonStop (Tandem).<br>
Solution:&nbsp;&nbsp; Add #defines. (Joachim Schmitz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 7.4.215<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Inconsistency: &quot;:sp foo&quot; does not reload &quot;foo&quot;, unless &quot;foo&quot; is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the current buffer. (Liang Li)<br>
Solution:&nbsp;&nbsp; Do not reload the current buffer on a split command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/windows.txt, src/ex_docmd.c<br>
<br>
Patch 7.4.216<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Initialize variables, add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/os_unix.h<br>
<br>
Patch 7.4.217<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When src/auto/configure was updated, &quot;make clean&quot; would run<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configure pointlessly.<br>
Solution:&nbsp;&nbsp; Do not run configure for &quot;make clean&quot; and &quot;make distclean&quot; when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the make program supports $MAKECMDGOALS. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.218<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It's not easy to remove duplicates from a list.<br>
Solution:&nbsp;&nbsp; Add the uniq() function. (Lcd)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/change.txt, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_41.txt, runtime/doc/version7.txt, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test55.in, src/testdir/test55.ok<br>
<br>
Patch 7.4.219<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'relativenumber'">'relativenumber'</a>&nbsp;or&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>&nbsp;are set the window is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;redrawn much to often. (Patrick Hemmer, Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Check the VALID_CROW flag instead of VALID_WROW.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 7.4.220<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 105 does not work in a shadow dir. (James McCoy)<br>
Solution:&nbsp;&nbsp; Omit &quot;src/&quot; from the checked path.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test105.in, src/testdir/test105.ok<br>
<br>
Patch 7.4.221<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix doesn't resize on &quot;:copen 20&quot;. (issue 199)<br>
Solution:&nbsp;&nbsp; Resize the window when requested. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.222<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The Ruby directory is constructed from parts.<br>
Solution:&nbsp;&nbsp; Use&nbsp;<span class="MissingTag">'rubyarchhdrdir'</span>&nbsp;if it exists. (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.223<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still using an older autoconf version.<br>
Solution:&nbsp;&nbsp; Switch to autoconf 2.69.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.224<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;/usr/bin/grep on Solaris does not support -F.<br>
Solution:&nbsp;&nbsp; Add configure check to find a good grep. (Danek Duvall)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.225<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dynamic Ruby doesn't work on Solaris.<br>
Solution:&nbsp;&nbsp; Always use the stubs. (Danek Duvall, Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 7.4.226 (after 7.4.219)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursorline highlighting not redrawn when scrolling. (John<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Marriott)<br>
Solution:&nbsp;&nbsp; Check for required redraw in two places.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 7.4.227 (after 7.4.225)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Ruby 1.8.<br>
Solution:&nbsp;&nbsp; Do include a check for the Ruby version. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 7.4.228<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings when building with Python 3.2.<br>
Solution:&nbsp;&nbsp; Make type cast depend on Python version. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/if_python.c, src/if_python3.c<br>
<br>
Patch 7.4.229<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;:let&quot; for listing variables and the second one is a curly<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;braces expression may fail.<br>
Solution:&nbsp;&nbsp; Check for an &quot;=&quot; in a better way. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test104.in, src/testdir/test104.ok<br>
<br>
Patch 7.4.230<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error when using &quot;:options&quot;.<br>
Solution:&nbsp;&nbsp; Fix the entry for&nbsp;<a class="Type" href="options.html#'lispwords'">'lispwords'</a>. (Kenichi Ito)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim<br>
<br>
Patch 7.4.231<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;An error in &quot;:options&quot; is not caught by the tests.<br>
Solution:&nbsp;&nbsp; Add a test for &quot;:options&quot;.&nbsp;&nbsp;Set $VIMRUNTIME for the tests so that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it uses the current runtime files instead of the installed ones.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Makefile, src/testdir/test_options.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.ok, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms<br>
<br>
Patch 7.4.232<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:%s/\n//&quot; uses a lot of memory. (Aidan Marlin)<br>
Solution:&nbsp;&nbsp; Turn this into a join command. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_docmd.c, src/proto/ex_docmd.pro<br>
<br>
Patch 7.4.233<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Escaping special characters for using &quot;%&quot; with a shell command is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inconsistent, parentheses are escaped but spaces are not.<br>
Solution:&nbsp;&nbsp; Only escape &quot;!&quot;. (Gary Johnson)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.234<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't get the command that was used to start Vim.<br>
Solution:&nbsp;&nbsp; Add v:progpath. (Viktor Kojouharov)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/main.c, src/vim.h<br>
<br>
Patch 7.4.235<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not easy to get the full path of a command.<br>
Solution:&nbsp;&nbsp; Add the exepath() function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/misc1.c, src/os_amiga.c, src/os_msdos.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_vms.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_amiga.pro, src/proto/os_msdos.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_unix.pro, src/proto/os_win32.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.236<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It's not that easy to check the Vim patch version.<br>
Solution:&nbsp;&nbsp; Make has(&quot;patch-7.4.123&quot;) work. (partly by Marc Weber)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/testdir/test60.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test60.ok<br>
<br>
Patch 7.4.237 (after 7.4.236)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When some patches were not included has(&quot;patch-7.4.123&quot;) may return<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;true falsely.<br>
Solution:&nbsp;&nbsp; Check for the specific patch number.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c<br>
<br>
Patch 7.4.238<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim does not support the smack library.<br>
Solution:&nbsp;&nbsp; Add smack support (Jose Bollo)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.h.in, src/configure.in, src/fileio.c, src/memfile.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/undo.c, src/auto/configure<br>
<br>
Patch 7.4.239<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:e +&quot; does not position cursor at end of the file.<br>
Solution:&nbsp;&nbsp; Check for &quot;+&quot; being the last character (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.240<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:tjump&quot; shows &quot;\n&quot; as &quot;\\n&quot;.<br>
Solution:&nbsp;&nbsp; Skip over &quot;\&quot; that escapes a backslash. (Gary Johnson)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c<br>
<br>
Patch 7.4.241<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The string returned by submatch() does not distinguish between a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NL from a line break and a NL that stands for a NUL character.<br>
Solution:&nbsp;&nbsp; Add a second argument to return a list. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/proto/regexp.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/testdir/test79.in, src/testdir/test79.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test80.in, src/testdir/test80.ok<br>
<br>
Patch 7.4.242<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getreg() does not distinguish between a NL used for a line break<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and a NL used for a NUL character.<br>
Solution:&nbsp;&nbsp; Add another argument to return a list. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c src/ops.c, src/proto/ops.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/Makefile, src/testdir/test_eval.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_eval.ok, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms<br>
<br>
Patch 7.4.243<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use setreg() to add text that includes a NUL.<br>
Solution:&nbsp;&nbsp; Make setreg() accept a list.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/ops.c, src/proto/ops.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_eval.in, src/testdir/test_eval.ok<br>
<br>
Patch 7.4.244 (after 7.4.238)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The smack feature causes stray error messages.<br>
Solution:&nbsp;&nbsp; Remove the error messages.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.245<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash for &quot;vim -u NONE -<span class="Special">N</span>&nbsp;&nbsp;-c '&amp;&amp;'&quot;.<br>
Solution:&nbsp;&nbsp; Check for the pattern to be NULL. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.246<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure message for detecting smack are out of sequence.<br>
Solution:&nbsp;&nbsp; Put the messages in the right place. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.247<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When passing input to system() there is no way to keep NUL and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NL characters separate.<br>
Solution:&nbsp;&nbsp; Optionally use a list for the system() input. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c<br>
<br>
Patch 7.4.248<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot distinguish between NL and NUL in output of system().<br>
Solution:&nbsp;&nbsp; Add systemlist(). (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/ex_cmds2.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc1.pro<br>
<br>
Patch 7.4.249<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using setreg() with a list of numbers does not work.<br>
Solution:&nbsp;&nbsp; Use a separate buffer for numbers. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok<br>
<br>
Patch 7.4.250<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some test files missing from distribution.<br>
Solution:&nbsp;&nbsp; Add pattern for newly added tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.251<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when BufAdd autocommand wipes out the buffer.<br>
Solution:&nbsp;&nbsp; Check for buffer to still be valid. Postpone freeing the buffer<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;structure. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/ex_cmds.c, src/fileio.c, src/globals.h<br>
<br>
Patch 7.4.252<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Critical error in GTK, removing timer twice.<br>
Solution:&nbsp;&nbsp; Clear the timer after removing it. (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 7.4.253<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using cpp syntax file with pattern using external<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match. (Havard Garnes)<br>
Solution:&nbsp;&nbsp; Discard match when end column is before start column.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp_nfa.c<br>
<br>
Patch 7.4.254<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Smack support detection is incomplete.<br>
Solution:&nbsp;&nbsp; Check for attr/xattr.h and specific macro.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.255<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure check for smack doesn't work with all shells. (David<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Larson)<br>
Solution:&nbsp;&nbsp; Remove spaces in set command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.256 (after 7.4.248)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using systemlist() may cause a crash and does not handle NUL<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;characters properly.<br>
Solution:&nbsp;&nbsp; Increase the reference count, allocate memory by length. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.257<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning, possibly for mismatch in parameter name.<br>
Solution:&nbsp;&nbsp; Rename the parameter in the declaration.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.258<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure fails if $CC contains options.<br>
Solution:&nbsp;&nbsp; Remove quotes around $CC. (Paul Barker)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.259<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for misplaced &quot;const&quot;.<br>
Solution:&nbsp;&nbsp; Move the &quot;const&quot;. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.260<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is possible to define a function with a colon in the name.&nbsp;&nbsp;It<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is possible to define a function with a lower case character if a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;#&quot; appears after the name.<br>
Solution:&nbsp;&nbsp; Disallow using a colon other than with &quot;s:&quot;.&nbsp;&nbsp;Ignore &quot;#&quot; after the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/testdir/test_eval.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_eval.ok<br>
<br>
Patch 7.4.261<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When updating the window involves a regexp pattern, an interactive<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;substitute to replace a &quot;\n&quot; with a line break fails. (Ingo<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Karkat)<br>
Solution:&nbsp;&nbsp; Set reg_line_lbr in vim_regsub() and vim_regsub_multi().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/testdir/test79.in, src/testdir/test79.ok<br>
<br>
Patch 7.4.262<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Duplicate code in regexec().<br>
Solution:&nbsp;&nbsp; Add line_lbr flag to regexec_nl().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp_nfa.c, src/regexp.h<br>
<br>
Patch 7.4.263<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GCC 4.8 compiler warning for hiding a declaration (François Gannaz)<br>
Solution:&nbsp;&nbsp; Remove the second declaration.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.264 (after 7.4.260)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't define a function starting with &quot;g:&quot;.&nbsp;&nbsp;Can't assign a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;funcref to a buffer-local variable.<br>
Solution:&nbsp;&nbsp; Skip &quot;g:&quot; at the start of a function name.&nbsp;&nbsp;Don't check for colons<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when assigning to a variable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok<br>
<br>
Patch 7.4.265 (after 7.4.260)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't call a global function with &quot;g:&quot; in an expression.<br>
Solution:&nbsp;&nbsp; Skip the &quot;g:&quot; when looking up the function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok<br>
<br>
Patch 7.4.266<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 62 fails.<br>
Solution:&nbsp;&nbsp; Set the language to C. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test62.in<br>
<br>
Patch 7.4.267 (after 7.4.178)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The '[ mark is in the wrong position after &quot;gq&quot;. (Ingo Karkat)<br>
Solution:&nbsp;&nbsp; Add the setmark argument to do_join(). (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autoformat_join.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autoformat_join.ok, src/Makefile, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_docmd.c, src/normal.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ops.pro<br>
<br>
Patch 7.4.268<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using exists() on a funcref for a script-local function does not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;work.<br>
Solution:&nbsp;&nbsp; Translate&nbsp;<span class="Special">&lt;SNR&gt;</span>&nbsp;to the special byte sequence.&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_eval_func.vim, Filelist<br>
<br>
Patch 7.4.269<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-U</span>&nbsp;in Insert mode does not work after using a cursor key.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Pine Wu)<br>
Solution:&nbsp;&nbsp; Use the original insert start position. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test29.in, src/testdir/test29.ok<br>
<br>
Patch 7.4.270<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Comparing pointers instead of the string they point to.<br>
Solution:&nbsp;&nbsp; Use strcmp(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 7.4.271<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning on 64 bit windows.<br>
Solution:&nbsp;&nbsp; Add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.272<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using just &quot;$&quot; does not cause an error message.<br>
Solution:&nbsp;&nbsp; Check for empty environment variable name. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok<br>
<br>
Patch 7.4.273<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make autoconf&quot; and &quot;make reconfig&quot; may first run configure and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;then remove the output.<br>
Solution:&nbsp;&nbsp; Add these targets to the exceptions. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.274<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When doing &quot;:update&quot; just before running an external command that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;changes the file, the timestamp may be unchanged and the file<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is not reloaded.<br>
Solution:&nbsp;&nbsp; Also check the file size.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.275<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When changing the type of a sign that hasn't been placed there is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;no error message.<br>
Solution:&nbsp;&nbsp; Add an error message. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.276<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The fish shell is not supported.<br>
Solution:&nbsp;&nbsp; Use begin/end instead of () for fish. (Andy Russell)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/misc1.c, src/option.c, src/proto/misc1.pro<br>
<br>
Patch 7.4.277<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;:sign unplace *&quot; may leave the cursor in the wrong position<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Update the cursor position when removing all signs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 7.4.278<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;list_remove() conflicts with function defined in Sun header file.<br>
Solution:&nbsp;&nbsp; Rename the function. (Richard Palo)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/if_lua.c, src/if_py_both.h, src/proto/eval.pro<br>
<br>
Patch 7.4.279<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;globpath() returns a string, making it difficult to get a list of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches. (Greg Novack)<br>
Solution:&nbsp;&nbsp; Add an optional argument like with glob(). (Adnan Zafar)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/ex_getln.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/proto/ex_getln.pro, src/proto/misc2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test97.in, src/testdir/test97.ok<br>
<br>
Patch 7.4.280<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using a session file the relative position of the cursor is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not restored if there is another tab. (Nobuhiro Takasaki)<br>
Solution:&nbsp;&nbsp; Update w_wrow before calculating the fraction.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.281<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a session file has more than one tabpage and&nbsp;<a class="Type" href="options.html#'showtabline'">'showtabline'</a>&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one the positions may be slightly off.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'showtabline'">'showtabline'</a>&nbsp;to two while positioning windows.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.282 (after 7.4.279)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 97 fails on Mac.<br>
Solution:&nbsp;&nbsp; Do not ignore case in file names. (Jun Takimoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test97.in<br>
<br>
Patch 7.4.283 (after 7.4.276)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning about unused variable. (Charles Cooper)<br>
Solution:&nbsp;&nbsp; Move the variable inside the #if block.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.284<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting&nbsp;<a class="Type" href="options.html#'langmap'">'langmap'</a>&nbsp;in the modeline can cause trouble.&nbsp;&nbsp;E.g. mapping<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;:&quot; breaks many commands. (Jens-Wolfhard Schicke-Uffmann)<br>
Solution:&nbsp;&nbsp; Disallow setting&nbsp;<a class="Type" href="options.html#'langmap'">'langmap'</a>&nbsp;from the modeline.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.285<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'relativenumber'">'relativenumber'</a>&nbsp;is set and deleting lines or undoing that,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line numbers are not always updated. (Robert Arkwright)<br>
Solution:&nbsp;&nbsp; (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.286<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error messages are inconsistent. (ZyX)<br>
Solution:&nbsp;&nbsp; Change &quot;Lists&quot; to &quot;list&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.287<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Patches for .hgignore don't work, since the file is not in the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;distribution.<br>
Solution:&nbsp;&nbsp; Add .hgignore to the distribution.&nbsp;&nbsp;Will be effective with the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next version.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.288<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'spellfile'">'spellfile'</a>&nbsp;is set the screen is not redrawn.<br>
Solution:&nbsp;&nbsp; Redraw when updating the spelling info. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c<br>
<br>
Patch 7.4.289<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Pattern with repeated backreference does not match with new regexp<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;engine. (Urtica Dioica)<br>
Solution:&nbsp;&nbsp; Also check the end of a submatch when deciding to put a state in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the state list.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test64.in, src/testdir/test64.ok, src/regexp_nfa.c<br>
<br>
Patch 7.4.290<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A non-greedy match followed by a branch is too greedy. (Ingo<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Karkat)<br>
Solution:&nbsp;&nbsp; Add NFA_MATCH when it is already in the state list if the position<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;differs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test64.in, src/testdir/test64.ok, src/regexp_nfa.c<br>
<br>
Patch 7.4.291<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for int to pointer of different size when DEBUG<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is defined.<br>
Solution:&nbsp;&nbsp; use smsg() instead of EMSG3().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 7.4.292<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Searching for &quot;a&quot; does not match accented &quot;a&quot; with new regexp<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;engine, does match with old engine. (David Bürgin)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ca&quot; does not match &quot;ca&quot; with accented &quot;a&quot; with either engine.<br>
Solution:&nbsp;&nbsp; Change the old engine, check for following composing character<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;also for single-byte patterns.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/testdir/test95.in, src/testdir/test95.ok<br>
<br>
Patch 7.4.293<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not possible to ignore composing characters at a specific<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;point in a pattern.<br>
Solution:&nbsp;&nbsp; Add the %C item.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp_nfa.c, src/testdir/test95.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test95.ok, runtime/doc/pattern.txt<br>
<br>
Patch 7.4.294 (7.4.293)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test files missing from patch.<br>
Solution:&nbsp;&nbsp; Patch the test files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test95.in, src/testdir/test95.ok<br>
<br>
Patch 7.4.295<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various typos, bad white space and unclear comments.<br>
Solution:&nbsp;&nbsp; Fix typos.&nbsp;&nbsp;Improve white space. Update comments.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test49.in, src/macros.h, src/screen.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/os_unix.c<br>
<br>
Patch 7.4.296<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't run tests on Solaris.<br>
Solution:&nbsp;&nbsp; Change the way VIMRUNTIME is set. (Laurent Blume)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile<br>
<br>
Patch 7.4.297<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak from result of get_isolated_shell_name().<br>
Solution:&nbsp;&nbsp; Free the memory. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/misc1.c<br>
<br>
Patch 7.4.298<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't have a funcref start with &quot;t:&quot;.<br>
Solution:&nbsp;&nbsp; Add &quot;t&quot; to the list of accepted names. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.299<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When running configure twice DYNAMIC_PYTHON_DLL may become empty.<br>
Solution:&nbsp;&nbsp; Use AC_CACHE_VAL. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.300<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The way config.cache is removed doesn't always work.<br>
Solution:&nbsp;&nbsp; Always remove config.cache. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.301 (after 7.4.280)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still a scrolling problem when loading a session file.<br>
Solution:&nbsp;&nbsp; Fix off-by-one mistake. (Nobuhiro Takasaki)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.302<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Signs placed with&nbsp;<a class="Type" href="options.html#'foldcolumn'">'foldcolumn'</a>&nbsp;set don't show up after filler<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines.<br>
Solution:&nbsp;&nbsp; Take filler lines into account. (Olaf Dabrunz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.303<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using double-width characters the text displayed on the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;command line is sometimes truncated.<br>
Solution:&nbsp;&nbsp; Reset the string length. (Nobuhiro Takasaki)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.304<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot always use Python with Vim.<br>
Solution:&nbsp;&nbsp; Add the manifest to the executable. (Jacques Germishuys)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 7.4.305<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Making&nbsp;<a class="Type" href="options.html#'ttymouse'">'ttymouse'</a>&nbsp;empty after the xterm version was requested<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;causes problems. (Elijah Griffin)<br>
Solution:&nbsp;&nbsp; Do not check for DEC mouse sequences when the xterm version was<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;requested.&nbsp;&nbsp;Also don't request the xterm version when DEC mouse<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;was enabled.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/os_unix.c, src/proto/term.pro, src/globals.h<br>
<br>
Patch 7.4.306<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getchar(0) does not return Esc.<br>
Solution:&nbsp;&nbsp; Do not wait for an Esc sequence to be complete.&nbsp;&nbsp;(Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/getchar.c<br>
<br>
Patch 7.4.307 (after 7.4.305)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build without the +termresponse feature.<br>
Solution:&nbsp;&nbsp; Add proper #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/term.c<br>
<br>
Patch 7.4.308<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using &quot;:diffsplit&quot; on an empty file the cursor is displayed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on the command line.<br>
Solution:&nbsp;&nbsp; Limit the value of w_topfill.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c<br>
<br>
Patch 7.4.309<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When increasing the size of the lower window, the upper window<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jumps back to the top. (Ron Aaron)<br>
Solution:&nbsp;&nbsp; Change setting the topline. (Nobuhiro Takasaki)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.310<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getpos()/setpos() don't include curswant.<br>
Solution:&nbsp;&nbsp; Add a fifth number when getting/setting the cursor.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.311<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't use winrestview to only restore part of the view.<br>
Solution:&nbsp;&nbsp; Handle missing items in the dict. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/doc/eval.txt<br>
<br>
Patch 7.4.312<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot figure out what argument list is being used for a window.<br>
Solution:&nbsp;&nbsp; Add the arglistid() function. (Marcin Szamotulski)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/globals.h, src/structs.h, src/main.c<br>
<br>
Patch 7.4.313 (after 7.4.310)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Changing the return value of getpos() causes an error. (Jie Zhu)<br>
Solution:&nbsp;&nbsp; Revert getpos() and add getcurpos().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.314<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completion messages can get in the way of a plugin.<br>
Solution:&nbsp;&nbsp; Add 'c' flag to&nbsp;<a class="Type" href="options.html#'shortmess'">'shortmess'</a>&nbsp;option. (Shougo Matsu)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/edit.c, src/option.h, src/screen.c<br>
<br>
Patch 7.4.315 (after 7.4.309)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Fixes for computation of topline not tested.<br>
Solution:&nbsp;&nbsp; Add test. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test107.in, src/testdir/test107.ok<br>
<br>
Patch 7.4.316<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning from 64-bit compiler.<br>
Solution:&nbsp;&nbsp; Add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.317<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when starting gvim.&nbsp;&nbsp;Issue 230.<br>
Solution:&nbsp;&nbsp; Check for a pointer to be NULL. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.318<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Check for whether a highlight group has settings ignores fg and bg<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color settings.<br>
Solution:&nbsp;&nbsp; Also check cterm and GUI color settings. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 7.4.319<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when putting zero bytes on the clipboard.<br>
Solution:&nbsp;&nbsp; Do not support the utf8_atom target when not using a Unicode<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;encoding. (Naofumi Honda)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 7.4.320<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Possible crash when an BufLeave autocommand deletes the buffer.<br>
Solution:&nbsp;&nbsp; Check for the window pointer being valid.&nbsp;&nbsp;Postpone freeing the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window until autocommands are done. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/fileio.c, src/globals.h, src/window.c<br>
<br>
Patch 7.4.321<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with strawberry perl 5.20 + mingw-w64-4.9.0.<br>
Solution:&nbsp;&nbsp; Define save_strlen. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 7.4.322<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;msgfmt&quot; is hard coded, cannot use &quot;gmsgfmt&quot;.<br>
Solution:&nbsp;&nbsp; Use the msgfmt command found by configure. (Danek Duvall)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.mk.in, src/po/Makefile<br>
<br>
Patch 7.4.323<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;substitute() with zero width pattern breaks multi-byte character.<br>
Solution:&nbsp;&nbsp; Take multi-byte character size into account. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c src/testdir/test69.in, src/testdir/test69.ok<br>
<br>
Patch 7.4.324<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In Ex mode, cyrillic characters are not handled. (Stas Malavin)<br>
Solution:&nbsp;&nbsp; Support multi-byte characters in Ex mode. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.325<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When starting the gui and changing the window size the status line<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;may not be drawn correctly.<br>
Solution:&nbsp;&nbsp; Catch new_win_height() being called recursively. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.326<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build Tiny version. (Elimar Riesebieter)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.327<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'verbose'">'verbose'</a>&nbsp;is set to display the return value of a function,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;may get E724 repeatedly.<br>
Solution:&nbsp;&nbsp; Do not give an error for verbose messages. Abort conversion to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string after an error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.328<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Selection of inner block is inconsistent.<br>
Solution:&nbsp;&nbsp; Skip indent not only for '}' but all parens. (Tom McDonald)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 7.4.329<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When moving the cursor and then switching to another window the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;previous window isn't scrolled. (Yukihiro Nakadaira)<br>
Solution:&nbsp;&nbsp; Call update_topline() before leaving the window. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.330<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using a regexp pattern to highlight a specific position can be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slow.<br>
Solution:&nbsp;&nbsp; Add matchaddpos() to highlight specific positions efficiently.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Alexey Radkov)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/usr_41.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/plugin/matchparen.vim, src/eval.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/window.pro, src/screen.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test63.in, src/testdir/test63.ok, src/window.c<br>
<br>
Patch 7.4.331<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Relative numbering not updated after a linewise yank.&nbsp;&nbsp;Issue 235.<br>
Solution:&nbsp;&nbsp; Redraw after the yank. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.332<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GTK: When a sign icon doesn't fit exactly there can be ugly gaps.<br>
Solution:&nbsp;&nbsp; Scale the sign to fit when the aspect ratio is not too far off.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 7.4.333<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused function.<br>
Solution:&nbsp;&nbsp; Put the function inside the #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.334 (after 7.4.330)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Uninitialized variables, causing some problems.<br>
Solution:&nbsp;&nbsp; Initialize the variables. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/window.c<br>
<br>
Patch 7.4.335<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No digraph for the new rouble sign.<br>
Solution:&nbsp;&nbsp; Add the digraphs =R and =P.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/digraph.c, runtime/doc/digraph.txt<br>
<br>
Patch 7.4.336<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting&nbsp;<a class="Type" href="options.html#'history'">'history'</a>&nbsp;to a big value causes out-of-memory errors.<br>
Solution:&nbsp;&nbsp; Limit the value to 10000. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/option.c<br>
<br>
Patch 7.4.337<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When there is an error preparing to edit the command line, the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;command won't be executed. (Hirohito Higashi)<br>
Solution:&nbsp;&nbsp; Reset did_emsg before editing.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.338<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot wrap lines taking indent into account.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<a class="Type" href="options.html#'breakindent'">'breakindent'</a>&nbsp;option. (many authors, final improvements by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/options.txt, runtime/optwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/charset.c, src/edit.c, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/misc1.c, src/misc2.c, src/ops.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/proto/charset.pro, src/proto/misc1.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/option.pro, src/screen.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_breakindent.in, src/testdir/test_breakindent.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c, src/version.c<br>
<br>
Patch 7.4.339<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Local function is available globally.<br>
Solution:&nbsp;&nbsp; Add &quot;static&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/proto/option.pro<br>
<br>
Patch 7.4.340<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error from sed about illegal bytes when installing Vim.<br>
Solution:&nbsp;&nbsp; Prepend LC_ALL=C. (Itchyny)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/installman.sh<br>
<br>
Patch 7.4.341<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;sort() doesn't handle numbers well.<br>
Solution:&nbsp;&nbsp; Add an argument to specify sorting on numbers. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/testdir/test55.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test55.ok<br>
<br>
Patch 7.4.342<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clang gives warnings.<br>
Solution:&nbsp;&nbsp; Add an else block. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c<br>
<br>
Patch 7.4.343<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;matchdelete() does not always update the right lines.<br>
Solution:&nbsp;&nbsp; Fix off-by-one error.&nbsp;&nbsp;(Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.344<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnecessary initializations and other things related to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matchaddpos().<br>
Solution:&nbsp;&nbsp; Code cleanup. (Alexey Radkov)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/screen.c, src/window.c<br>
<br>
Patch 7.4.345 (after 7.4.338)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Indent is not updated when deleting indent.<br>
Solution:&nbsp;&nbsp; Remember changedtick.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.346 (after 7.4.338)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Indent is not updated when changing&nbsp;<a class="Type" href="options.html#'breakindentopt'">'breakindentopt'</a>. (itchyny)<br>
Solution:&nbsp;&nbsp; Do not cache &quot;brishift&quot;. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.347<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test55 fails on some systems.<br>
Solution:&nbsp;&nbsp; Remove the elements that all result in zero and can end up in an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arbitrary position.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test55.in, src/testdir/test55.ok<br>
<br>
Patch 7.4.348<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using &quot;J1&quot; in&nbsp;<a class="Type" href="options.html#'cinoptions'">'cinoptions'</a>&nbsp;a line below a continuation line<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gets too much indent.<br>
Solution:&nbsp;&nbsp; Fix parentheses in condition.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.349<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When there are matches to highlight the whole window is redrawn,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which is slow.<br>
Solution:&nbsp;&nbsp; Only redraw everything when lines were inserted or deleted.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reset b_mod_xlines when needed.&nbsp;&nbsp;(Alexey Radkov)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/window.c<br>
<br>
Patch 7.4.350<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using C indenting for Javascript does not work well for a {} block<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inside parentheses.<br>
Solution:&nbsp;&nbsp; When looking for a matching paren ignore one that is before the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start of a {} block.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok<br>
<br>
Patch 7.4.351<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;sort() is not stable.<br>
Solution:&nbsp;&nbsp; When the items are identical, compare the pointers.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test55.in, src/testdir/test55.ok<br>
<br>
Patch 7.4.352<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;a tab causes a missing line break.<br>
Solution:&nbsp;&nbsp; Count a tab for what it's worth also for shorter lines.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c<br>
<br>
Patch 7.4.353<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;doesn't work with the&nbsp;<a class="Type" href="options.html#'list'">'list'</a>&nbsp;option.<br>
Solution:&nbsp;&nbsp; Make it work. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/charset.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr.in, src/testdir/test_listlbr.ok<br>
<br>
Patch 7.4.354<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning.<br>
Solution:&nbsp;&nbsp; Change NUL to NULL. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.355<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Several problems with Javascript indenting.<br>
Solution:&nbsp;&nbsp; Improve Javascript indenting.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok<br>
<br>
Patch 7.4.356<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mercurial does not ignore memfile_test. (Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Add memfile_test to ignored files, remove trailing spaces.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.hgignore<br>
<br>
Patch 7.4.357<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After completion some characters are not redrawn.<br>
Solution:&nbsp;&nbsp; Clear the command line unconditionally. (Jacob Niehus)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.358 (after 7.4.351)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sort is not always stable.<br>
Solution:&nbsp;&nbsp; Add an index instead of relying on the pointer to remain the same.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Idea by Jun Takimoto.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.359<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'ttymouse'">'ttymouse'</a>&nbsp;is set to&nbsp;<span class="MissingTag">'uxterm'</span>&nbsp;the xterm version is not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;requested. (Tomas Janousek)<br>
Solution:&nbsp;&nbsp; Do not mark uxterm as a conflict mouse and add<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resume_get_esc_sequence().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/os_unix.c, src/proto/term.pro<br>
<br>
Patch 7.4.360<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In a regexp pattern a &quot;$&quot; followed by \v or \V is not seen as the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end-of-line.<br>
Solution:&nbsp;&nbsp; Handle the situation. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 7.4.361<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Lots of flickering when filling the preview window for&nbsp;<a class="Type" href="options.html#'omnifunc'">'omnifunc'</a>.<br>
Solution:&nbsp;&nbsp; Disable redrawing. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 7.4.362<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When matchaddpos() uses a length smaller than the number of bytes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in the (last) character the highlight continues until the end of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the line.<br>
Solution:&nbsp;&nbsp; Change condition from equal to larger-or-equal.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.363<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In Windows console typing 0xCE does not work.<br>
Solution:&nbsp;&nbsp; Convert 0xCE to K_NUL 3. (Nobuhiro Takasaki et al.)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/term.c<br>
<br>
Patch 7.4.364<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the viminfo file can't be renamed there is no error message.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Vladimir Berezhnoy)<br>
Solution:&nbsp;&nbsp; Check for the rename to fail.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.365<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using &quot;:botright split&quot; when there isn't much space.<br>
Solution:&nbsp;&nbsp; Add a check for the minimum width/height. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.366<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't run the linebreak test on MS-Windows.<br>
Solution:&nbsp;&nbsp; Fix the output file name. (Taro Muraoka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak<br>
<br>
Patch 7.4.367 (after 7.4.357)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Other solution for redrawing after completion.<br>
Solution:&nbsp;&nbsp; Schedule a window redraw instead of just clearing the command<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line. (Jacob Niehus)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.368<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Restoring the window sizes after closing the command line window<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doesn't work properly if there are nested splits.<br>
Solution:&nbsp;&nbsp; Restore the sizes twice. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.369<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory when exiting while compiled with EXITFREE.<br>
Solution:&nbsp;&nbsp; Set curwin to NULL and check for that. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/window.c<br>
<br>
Patch 7.4.370<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Linebreak test fails when encoding is not utf-8. (Danek Duvall)<br>
Solution:&nbsp;&nbsp; Split the test in a single byte one and a utf-8 one. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr.in, src/testdir/test_listlbr.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr_utf8.in, src/testdir/test_listlbr_utf8.ok<br>
<br>
Patch 7.4.371<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;is set control characters are not correctly<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayed. (Kimmy Lindvall)<br>
Solution:&nbsp;&nbsp; Set n_extra. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.372<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'winminheight'">'winminheight'</a>&nbsp;is zero there might not be one line for the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;current window.<br>
Solution:&nbsp;&nbsp; Change the size computations. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.373<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused argument and unused variable.<br>
Solution:&nbsp;&nbsp; Add UNUSED.&nbsp;&nbsp;Move variable inside #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c, src/window.c<br>
<br>
Patch 7.4.374<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Character after &quot;fb&quot; command not mapped if it might be a composing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;character.<br>
Solution:&nbsp;&nbsp; Don't disable mapping when looking for a composing character.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Jacob Niehus)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 7.4.375<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 63 fails when run with GUI-only Vim.<br>
Solution:&nbsp;&nbsp; Add guibg attributes. (suggested by Mike Soyka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test63.in<br>
<br>
Patch 7.4.376 (after 7.4.367)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup menu flickers too much.<br>
Solution:&nbsp;&nbsp; Remove the forced redraw. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.377<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'equalalways'">'equalalways'</a>&nbsp;is set a split may report &quot;no room&quot; even though<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;there is plenty of room.<br>
Solution:&nbsp;&nbsp; Compute the available room properly. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.378<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Title of quickfix list is not kept for setqflist(list, 'r').<br>
Solution:&nbsp;&nbsp; Keep the title.&nbsp;&nbsp;Add a test. (Lcd)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/test_qf_title.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_qf_title.ok<br>
<br>
Patch 7.4.379<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing freed memory after using setqflist(list, 'r'). (Lcd)<br>
Solution:&nbsp;&nbsp; Reset qf_index.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.380<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Loading python may cause Vim to exit.<br>
Solution:&nbsp;&nbsp; Avoid loading the &quot;site&quot; module. (Taro Muraoka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python.c<br>
<br>
Patch 7.4.381<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get u_undo error when backspacing in Insert mode deletes more than<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one line break. (Ayberk Ozgur)<br>
Solution:&nbsp;&nbsp; Also decrement Insstart.lnum.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.382<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mapping characters may not work after typing Esc in Insert mode.<br>
Solution:&nbsp;&nbsp; Fix the noremap flags for inserted characters. (Jacob Niehus)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 7.4.383<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Bad interaction between preview window and omnifunc.<br>
Solution:&nbsp;&nbsp; Avoid redrawing the status line. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 7.4.384<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 102 fails when compiled with small features.<br>
Solution:&nbsp;&nbsp; Source small.vim. (Jacob Niehus)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test102.in<br>
<br>
Patch 7.4.385<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When building with tiny or small features building the .mo files<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fails.<br>
Solution:&nbsp;&nbsp; In autoconf do not setup for building the .mo files when it would<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fail.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.386<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When splitting a window the changelist position is wrong.<br>
Solution:&nbsp;&nbsp; Copy the changelist position. (Jacob Niehus)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/test_changelist.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_changelist.ok<br>
<br>
Patch 7.4.387<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;4gro&quot; replaces one character then executes &quot;ooo&quot;. (Urtica Dioica)<br>
Solution:&nbsp;&nbsp; Write the ESC in the second stuff buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/proto/getchar.pro, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_insertcount.in, src/testdir/test_insertcount.ok<br>
<br>
Patch 7.4.388<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;set and&nbsp;<a class="Type" href="options.html#'list'">'list'</a>&nbsp;unset a Tab is not counted<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properly. (Kent Sibilev)<br>
Solution:&nbsp;&nbsp; Check the&nbsp;<a class="Type" href="options.html#'list'">'list'</a>&nbsp;option. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_listlbr_utf8.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr_utf8.ok<br>
<br>
Patch 7.4.389<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still sometimes Vim enters Replace mode when starting up.<br>
Solution:&nbsp;&nbsp; Use a different solution in detecting the termresponse and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;location response. (Hayaki Saito)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/os_unix.c, src/term.c, src/proto/term.pro<br>
<br>
Patch 7.4.390<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Advancing pointer over end of a string.<br>
Solution:&nbsp;&nbsp; Init quote character to -1 instead of zero. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.391<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>&nbsp;highlighting when the cursor is on a line with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;diff highlighting. (Benjamin Fritz)<br>
Solution:&nbsp;&nbsp; Combine the highlight attributes. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.392<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to detect type of command line window.<br>
Solution:&nbsp;&nbsp; Add the getcmdwintype() function. (Jacob Niehus)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.393<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text drawing on newer MS-Windows systems is suboptimal.&nbsp;&nbsp;Some<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;multi-byte characters are not displayed, even though the same font<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in Notepad can display them. (Srinath Avadhanula)<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<a class="Type" href="options.html#'renderoptions'">'renderoptions'</a>&nbsp;option to enable DirectX drawing. (Taro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Muraoka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/various.txt, src/Make_cyg.mak, src/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/eval.c, src/gui_dwrite.cpp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_dwrite.h, src/gui_w32.c, src/gui_w48.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/version.c, src/vim.h, src/proto/gui_w32.pro<br>
<br>
Patch 7.4.394 (after 7.4.393)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using DirectX last italic character is incomplete.<br>
Solution:&nbsp;&nbsp; Add one to the number of cells. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.395 (after 7.4.355)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;C indent is wrong below an if with wrapped condition followed by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;curly braces. (Trevor Powell)<br>
Solution:&nbsp;&nbsp; Make a copy of tryposBrace.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok<br>
<br>
Patch 7.4.396<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'clipboard'">'clipboard'</a>&nbsp;is &quot;unnamed&quot;, :g/pat/d is very slow. (Praful)<br>
Solution:&nbsp;&nbsp; Only set the clipboard after the last delete. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/proto/ui.pro, src/ui.c<br>
<br>
Patch 7.4.397<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Matchparen only uses the topmost syntax item.<br>
Solution:&nbsp;&nbsp; Go through the syntax stack to find items. (James McCoy)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also use getcurpos() when possible.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/plugin/matchparen.vim<br>
<br>
Patch 7.4.398 (after 7.4.393)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Gcc error for the argument of InterlockedIncrement() and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InterlockedDecrement(). (Axel Bender)<br>
Solution:&nbsp;&nbsp; Remove &quot;unsigned&quot; from the cRefCount_ declaration.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_dwrite.cpp<br>
<br>
Patch 7.4.399<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Encryption implementation is messy.&nbsp;&nbsp;Blowfish encryption has a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;weakness.<br>
Solution:&nbsp;&nbsp; Refactor the encryption, store the state in an allocated struct<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instead of using a save/restore mechanism.&nbsp;&nbsp;Introduce the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;blowfish2&quot; method, which does not have the weakness and encrypts<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the whole undo file. (largely by David Leadbeater)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/editing.txt, runtime/doc/options.txt, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/blowfish.c, src/crypt.c, src/crypt_zip.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/globals.h, src/main.c, src/memline.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/option.c, src/proto.h, src/proto/blowfish.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/crypt.pro, src/proto/crypt_zip.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/fileio.pro, src/proto/misc2.pro, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c, src/testdir/test71.in, src/testdir/test71.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test71a.in, src/testdir/test72.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test72.ok<br>
<br>
Patch 7.4.400<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;List of distributed files is incomplete.<br>
Solution:&nbsp;&nbsp; Add recently added files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.401 (after 7.4.399)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build on MS-Windows.<br>
Solution:&nbsp;&nbsp; Include the new files in all the Makefiles.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_bc3.mak, src/Make_bc5.mak, src/Make_cyg.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_dice.mak, src/Make_djg.mak, src/Make_ivc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_manx.mak, src/Make_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_os2.mak, src/Make_sas.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make_vms.mms<br>
<br>
Patch 7.4.402<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 72 crashes under certain conditions. (Kazunobu Kuriyama)<br>
Solution:&nbsp;&nbsp; Clear the whole bufinfo_T early.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 7.4.403<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Valgrind reports errors when running test 72. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Reset the local&nbsp;<a class="Type" href="options.html#'cryptmethod'">'cryptmethod'</a>&nbsp;option before storing the seed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the seed in the memfile even when there is no block0 yet.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/option.c, src/memline.c<br>
<br>
Patch 7.4.404<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Windows 64 bit compiler warnings.<br>
Solution:&nbsp;&nbsp; Add type casts. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/crypt.c, src/undo.c<br>
<br>
Patch 7.4.405<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Screen updating is slow when using matches.<br>
Solution:&nbsp;&nbsp; Do not use the &quot;&gt;=&quot; as in patch 7.4.362, check the lnum.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test63.in, src/testdir/test63.ok<br>
<br>
Patch 7.4.406<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 72 and 100 fail on MS-Windows.<br>
Solution:&nbsp;&nbsp; Set fileformat to unix in the tests. (Taro Muraoka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test72.in, src/testdir/test100.in<br>
<br>
Patch 7.4.407<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Inserting text for Visual block mode, with cursor movement,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;repeats the wrong text. (Aleksandar Ivanov)<br>
Solution:&nbsp;&nbsp; Reset the update_Insstart_orig flag. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test39.in, src/testdir/test39.ok<br>
<br>
Patch 7.4.408<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Visual block insert breaks a multi-byte character.<br>
Solution:&nbsp;&nbsp; Calculate the position properly. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_utf8.in, src/testdir/test_utf8.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile<br>
<br>
Patch 7.4.409<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Perl on Fedora 20.<br>
Solution:&nbsp;&nbsp; Find xsubpp in another directory. (Michael Henry)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/config.mk.in, src/configure.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/auto/configure<br>
<br>
Patch 7.4.410<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Fold does not open after search when there is a CmdwinLeave<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autocommand.<br>
Solution:&nbsp;&nbsp; Restore KeyTyped. (Jacob Niehus)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.411<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;foo bar&quot; sorts before &quot;foo&quot; with sort(). (John Little)<br>
Solution:&nbsp;&nbsp; Avoid putting quotes around strings before comparing them.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.412<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build on Windows XP with MSVC.<br>
Solution:&nbsp;&nbsp; Add SUBSYSTEM_VER to the Makefile. (Yongwei Wu)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/INSTALLpc.txt<br>
<br>
Patch 7.4.413<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Using US international keyboard layout, inserting dead<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key by pressing space does not always work.&nbsp;&nbsp;Issue 250.<br>
Solution:&nbsp;&nbsp; Let MS-Windows translate the message. (John Wellesz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w48.c<br>
<br>
Patch 7.4.414<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot define a command only when it's used.<br>
Solution:&nbsp;&nbsp; Add the CmdUndefined autocommand event. (partly by Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, src/ex_docmd.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/fileio.pro<br>
<br>
Patch 7.4.415 (after 7.4.414)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build.&nbsp;&nbsp;Warning for shadowed variable. (John Little)<br>
Solution:&nbsp;&nbsp; Add missing change.&nbsp;&nbsp;Remove declaration.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/ex_docmd.c<br>
<br>
Patch 7.4.416<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Problem with breakindent/showbreak and tabs.<br>
Solution:&nbsp;&nbsp; Handle tabs differently. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_breakindent.in, src/testdir/test_breakindent.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c<br>
<br>
Patch 7.4.417<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After splitting a window and setting&nbsp;<a class="Type" href="options.html#'breakindent'">'breakindent'</a>&nbsp;the default<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;minimum with is not respected.<br>
Solution:&nbsp;&nbsp; Call briopt_check() when copying options to a new window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/proto/option.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_breakindent.in<br>
<br>
Patch 7.4.418<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When leaving &quot;:append&quot; the cursor shape is like in Insert mode.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Jacob Niehus)<br>
Solution:&nbsp;&nbsp; Do not have State set to INSERT when calling getline().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.419<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When part of a list is locked it's possible to make changes.<br>
Solution:&nbsp;&nbsp; Check if any of the list items is locked before make a change.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test55.in, src/testdir/test55.ok<br>
<br>
Patch 7.4.420<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It's not obvious how to add a new test.<br>
Solution:&nbsp;&nbsp; Add a README file. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/README.txt<br>
<br>
Patch 7.4.421<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when searching for &quot;\ze*&quot;. (Urtica Dioica)<br>
Solution:&nbsp;&nbsp; Disallow a multi after \ze and \zs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok<br>
<br>
Patch 7.4.422<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using conceal with linebreak some text is not displayed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;correctly. (Grüner Gimpel)<br>
Solution:&nbsp;&nbsp; Check for conceal mode when using linebreak. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_listlbr.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr.ok<br>
<br>
Patch 7.4.423<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;expand(&quot;$shell&quot;) does not work as documented.<br>
Solution:&nbsp;&nbsp; Do not escape the $ when expanding environment variables.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/misc1.c, src/vim.h<br>
<br>
Patch 7.4.424<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get ml_get error when using Python to delete lines in a buffer<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that is not in a window.&nbsp;&nbsp;issue 248.<br>
Solution:&nbsp;&nbsp; Do not try adjusting the cursor for a different buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 7.4.425<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'showbreak'">'showbreak'</a>&nbsp;is used &quot;gj&quot; may move to the wrong position.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Nazri Ramliy)<br>
Solution:&nbsp;&nbsp; Adjust virtcol when&nbsp;<a class="Type" href="options.html#'showbreak'">'showbreak'</a>&nbsp;is set. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 7.4.426<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;README File missing from list of files.<br>
Solution:&nbsp;&nbsp; Update the list of files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.427<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When an InsertCharPre autocommand executes system() typeahead may<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be echoed and messes up the display. (Jacob Niehus)<br>
Solution:&nbsp;&nbsp; Do not set cooked mode when invoked from &quot;:silent&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/doc/eval.txt<br>
<br>
Patch 7.4.428<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;executable() may return a wrong result on MS-Windows.<br>
Solution:&nbsp;&nbsp; Change the way SearchPath() is called. (Yasuhiro Matsumoto, Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.429<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails with fewer features. (Elimar Riesebieter)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 7.4.430<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_listlbr fails when compiled with normal features.<br>
Solution:&nbsp;&nbsp; Check for the +conceal feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr.in<br>
<br>
Patch 7.4.431<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning.<br>
Solution:&nbsp;&nbsp; Add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.432<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the startup code expands command line arguments, setting<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;will not properly convert the arguments.<br>
Solution:&nbsp;&nbsp; Call get_cmd_argsW() early in main(). (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/main.c, src/os_mswin.c<br>
<br>
Patch 7.4.433<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 75 fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use &quot;:normal&quot; instead of feedkeys(). (Michael Soyka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test75.in<br>
<br>
Patch 7.4.434<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;gettabvar() is not consistent with getwinvar() and getbufvar().<br>
Solution:&nbsp;&nbsp; Return a dict with all variables when the varname is empty.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/doc/eval.txt, src/testdir/test91.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test91.ok<br>
<br>
Patch 7.4.435<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Line formatting behaves differently when&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;is set.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(mvxxc)<br>
Solution:&nbsp;&nbsp; Disable&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;temporarily. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.436<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ml_get error for autocommand that moves the cursor of the current<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.<br>
Solution:&nbsp;&nbsp; Check the cursor position after switching back to the current<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.437<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New and old regexp engine are not consistent.<br>
Solution:&nbsp;&nbsp; Also give an error for &quot;\ze*&quot; for the old regexp engine.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp_nfa.c<br>
<br>
Patch 7.4.438<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cached values for&nbsp;<a class="Type" href="options.html#'cino'">'cino'</a>&nbsp;not reset for &quot;:set all&amp;&quot;.<br>
Solution:&nbsp;&nbsp; Call parse_cino(). (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.439<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Duplicate message in message history.&nbsp;&nbsp;Some quickfix messages<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;appear twice. (Gary Johnson)<br>
Solution:&nbsp;&nbsp; Do not reset keep_msg too early. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 7.4.440<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Omni complete popup drawn incorrectly.<br>
Solution:&nbsp;&nbsp; Call validate_cursor() instead of check_cursor(). (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.441<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Endless loop and other problems when&nbsp;<a class="Type" href="options.html#'cedit'">'cedit'</a>&nbsp;is set to&nbsp;<span class="Special">CTRL-C</span>.<br>
Solution:&nbsp;&nbsp; Do not call ex_window() when ex_normal_busy or got_int was set.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.442 (after 7.4.434)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using uninitialized variable.<br>
Solution:&nbsp;&nbsp; Pass the first window of the tabpage.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.443<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error reported by ubsan when running test 72.<br>
Solution:&nbsp;&nbsp; Add type cast to unsigned. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 7.4.444<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Reversed question mark not recognized as punctuation. (Issue 258)<br>
Solution:&nbsp;&nbsp; Add the Supplemental Punctuation range.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 7.4.445<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clipboard may be cleared on startup.<br>
Solution:&nbsp;&nbsp; Set clip_did_set_selection to -1 during startup. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/ui.c<br>
<br>
Patch 7.4.446<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In some situations, when setting up an environment to trigger an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autocommand, the environment is not properly restored.<br>
Solution:&nbsp;&nbsp; Check the return value of switch_win() and call restore_win()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;always.&nbsp;&nbsp;(Daniel Hahler)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/misc2.c, src/window.c<br>
<br>
Patch 7.4.447<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Spell files from Hunspell may generate a lot of errors.<br>
Solution:&nbsp;&nbsp; Add the IGNOREEXTRA flag.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, runtime/doc/spell.txt<br>
<br>
Patch 7.4.448<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using ETO_IGNORELANGUAGE causes problems.<br>
Solution:&nbsp;&nbsp; Remove this flag. (Paul Moore)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.449<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't easily close the help window. (Chris Gaal)<br>
Solution:&nbsp;&nbsp; Add &quot;:helpclose&quot;. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/helphelp.txt, runtime/doc/index.txt, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/proto/ex_cmds.pro<br>
<br>
Patch 7.4.450<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all commands that edit another buffer support the +cmd<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;argument.<br>
Solution:&nbsp;&nbsp; Add the +cmd argument to relevant commands. (Marcin Szamotulski)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/windows.txt, src/ex_cmds.h, src/ex_docmd.c<br>
<br>
Patch 7.4.451<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Calling system() with empty input gives an error for writing the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temp file.<br>
Solution:&nbsp;&nbsp; Do not try writing if the string length is zero. (Olaf Dabrunz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.452<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with tiny features. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Use &quot;return&quot; instead of &quot;break&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.453<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still can't build with tiny features.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.454<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using a Visual selection of multiple words and doing&nbsp;<span class="Special">CTRL-W</span>_]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it jumps to the tag matching the word under the cursor, not the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;selected text.&nbsp;&nbsp;(Patrick hemmer)<br>
Solution:&nbsp;&nbsp; Do not reset Visual mode. (idea by Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.455<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completion for :buf does not use&nbsp;<a class="Type" href="options.html#'wildignorecase'">'wildignorecase'</a>. (Akshay H)<br>
Solution:&nbsp;&nbsp; Pass the&nbsp;<a class="Type" href="options.html#'wildignorecase'">'wildignorecase'</a>&nbsp;flag around.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 7.4.456<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'backupcopy'">'backupcopy'</a>&nbsp;is global, cannot write only some files in a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;different way.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<a class="Type" href="options.html#'backupcopy'">'backupcopy'</a>&nbsp;global-local. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/buffer.c, src/fileio.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/proto/option.pro, src/structs.h<br>
<br>
Patch 7.4.457<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using getchar() in an expression mapping may result in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;K_CURSORHOLD, which can't be recognized.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<span class="Special">&lt;CursorHold&gt;</span>&nbsp;key.&nbsp;&nbsp;(Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 7.4.458<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Issue 252: Cursor moves in a zero-height window.<br>
Solution:&nbsp;&nbsp; Check for zero height. (idea by Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 7.4.459<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't change the icon after building Vim.<br>
Solution:&nbsp;&nbsp; Load the icon from a file on startup. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/os_mswin.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_mswin.pro<br>
<br>
Patch 7.4.460 (after 7.4.454)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build without the quickfix feature. (Erik Falor)<br>
Solution:&nbsp;&nbsp; Add a #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.461<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: When collate is on the number of copies is too high.<br>
Solution:&nbsp;&nbsp; Only set the collated/uncollated count when collate is on.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c<br>
<br>
Patch 7.4.462<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting the local value of&nbsp;<a class="Type" href="options.html#'backupcopy'">'backupcopy'</a>&nbsp;empty gives an error.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Peter Mattern)<br>
Solution:&nbsp;&nbsp; When using an empty value set the flags to zero. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.463<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 86 and 87 may hang on MS-Windows.<br>
Solution:&nbsp;&nbsp; Call inputrestore() after inputsave(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test86.in, src/testdir/test87.in<br>
<br>
Patch 7.4.464 (after 7.4.459)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning.<br>
Solution:&nbsp;&nbsp; Add type cast. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.465 (after 7.4.016)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when expanding a very long string.<br>
Solution:&nbsp;&nbsp; Use wcsncpy() instead of wcscpy(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.466 (after 7.4.460)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-W</span>&nbsp;} does not open preview window. (Erik Falor)<br>
Solution:&nbsp;&nbsp; Don't set g_do_tagpreview for&nbsp;<span class="Special">CTRL-W</span>&nbsp;}.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.467<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;does not work well together with Visual mode.<br>
Solution:&nbsp;&nbsp; Disable&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;while applying an operator.&nbsp;&nbsp;Fix the test.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/screen.c, src/testdir/test_listlbr.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr.ok<br>
<br>
Patch 7.4.468<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Issue 26:&nbsp;<span class="Special">CTRL-C</span>&nbsp;does not interrupt after it was mapped and then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unmapped.<br>
Solution:&nbsp;&nbsp; Reset mapped_ctrl_c. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 7.4.469 (after 7.4.467)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with MSVC. (Ken Takata)<br>
Solution:&nbsp;&nbsp; Move the assignment after the declarations.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 7.4.470<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 11 and 100 do not work properly on Windows.<br>
Solution:&nbsp;&nbsp; Avoid using feedkeys(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/test11.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test100.in<br>
<br>
Patch 7.4.471<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: When printer name contains multi-byte, the name is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayed as ???.<br>
Solution:&nbsp;&nbsp; Convert the printer name from the active codepage to&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c<br>
<br>
Patch 7.4.472<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The &quot;precedes&quot; entry in&nbsp;<span class="MissingTag">'listchar'</span>&nbsp;will be drawn when&nbsp;<a class="Type" href="options.html#'showbreak'">'showbreak'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is set and&nbsp;<a class="Type" href="options.html#'list'">'list'</a>&nbsp;is not.<br>
Solution:&nbsp;&nbsp; Only draw this character when&nbsp;<a class="Type" href="options.html#'list'">'list'</a>&nbsp;is on. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.473<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor movement is incorrect when there is a number/sign/fold<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column and&nbsp;<a class="Type" href="options.html#'sbr'">'sbr'</a>&nbsp;is displayed.<br>
Solution:&nbsp;&nbsp; Adjust the column for&nbsp;<a class="Type" href="options.html#'sbr'">'sbr'</a>. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c<br>
<br>
Patch 7.4.474<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;AIX compiler can't handle // comment.&nbsp;&nbsp;Issue 265.<br>
Solution:&nbsp;&nbsp; Remove that line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.475<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't compile on a system where Xutf8SetWMProperties() is not in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the X11 library.&nbsp;&nbsp;Issue 265.<br>
Solution:&nbsp;&nbsp; Add a configure check.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure, src/config.h.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.476<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MingW: compiling with &quot;XPM=no&quot; doesn't work.<br>
Solution:&nbsp;&nbsp; Check for the &quot;no&quot; value. (KF Leong)&nbsp;&nbsp;Also for Cygwin. (Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_ming.mak, src/Make_cyg.mak<br>
<br>
Patch 7.4.477<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using &quot;:%diffput&quot; and the other file is empty an extra empty<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line remains.<br>
Solution:&nbsp;&nbsp; Set the buf_empty flag.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c<br>
<br>
Patch 7.4.478<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using byte length instead of character length for&nbsp;<a class="Type" href="options.html#'showbreak'">'showbreak'</a>.<br>
Solution:&nbsp;&nbsp; Compute the character length. (Marco Hinz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c<br>
<br>
Patch 7.4.479<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: The console title can be wrong.<br>
Solution:&nbsp;&nbsp; Take the encoding into account. When restoring the title use the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;right function. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/os_win32.c<br>
<br>
Patch 7.4.480 (after 7.4.479)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Can't build.<br>
Solution:&nbsp;&nbsp; Remove goto, use a flag instead.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.481 (after 7.4.471)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add type casts. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c<br>
<br>
Patch 7.4.482<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'balloonexpr'">'balloonexpr'</a>&nbsp;results in a list, the text has a trailing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newline. (Lcd)<br>
Solution:&nbsp;&nbsp; Remove one trailing newline.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c<br>
<br>
Patch 7.4.483<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A 0x80 byte is not handled correctly in abbreviations.<br>
Solution:&nbsp;&nbsp; Unescape special characters. Add a test. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/test_mapping.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.ok<br>
<br>
Patch 7.4.484 (after 7.4.483)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning on MS-Windows. (Ken Takata)<br>
Solution:&nbsp;&nbsp; Add type cast.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 7.4.485 (after 7.4.484)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Abbreviations don't work. (Toothpik)<br>
Solution:&nbsp;&nbsp; Move the length computation inside the for loop.&nbsp;&nbsp;Compare against<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the unescaped key.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 7.4.486<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Check for writing to a yank register is wrong.<br>
Solution:&nbsp;&nbsp; Negate the check. (Zyx).&nbsp;&nbsp;Also clean up the #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/ex_cmds.h<br>
<br>
Patch 7.4.487<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:sign jump&quot; may use another window even though the file is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;already edited in the current window.<br>
Solution:&nbsp;&nbsp; First check if the file is in the current window. (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/test_signs.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signs.ok<br>
<br>
Patch 7.4.488<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_mapping fails for some people.<br>
Solution:&nbsp;&nbsp; Set the&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;option. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.in<br>
<br>
Patch 7.4.489<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor movement still wrong when&nbsp;<a class="Type" href="options.html#'lbr'">'lbr'</a>&nbsp;is set and there is a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number column. (Hirohito Higashi)<br>
Solution:&nbsp;&nbsp; Add correction for number column. (Hiroyuki Takagi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c<br>
<br>
Patch 7.4.490<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot specify the buffer to use for &quot;do&quot; and &quot;dp&quot;, making them<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;useless for three-way diff.<br>
Solution:&nbsp;&nbsp; Use the count as the buffer number. (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/diff.txt, src/diff.c, src/normal.c, src/proto/diff.pro<br>
<br>
Patch 7.4.491<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When winrestview() has a negative &quot;topline&quot; value there are<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;display errors.<br>
Solution:&nbsp;&nbsp; Correct a negative value to 1. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.492<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In Insert mode, after inserting a newline that inserts a comment<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;leader,&nbsp;<span class="Special">CTRL-O</span>&nbsp;moves to the right. (ZyX) Issue 57.<br>
Solution:&nbsp;&nbsp; Correct the condition for moving the cursor back to the NUL.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test4.in, src/testdir/test4.ok<br>
<br>
Patch 7.4.493<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A TextChanged autocommand is triggered when saving a file.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(William Gardner)<br>
Solution:&nbsp;&nbsp; Update last_changedtick after calling unchanged(). (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.494<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor shape is wrong after a CompleteDone autocommand.<br>
Solution:&nbsp;&nbsp; Update the cursor and mouse shape after &quot;:normal&quot; restores the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state. (Jacob Niehus)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.495<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;XPM isn't used correctly in the Cygwin Makefile.<br>
Solution:&nbsp;&nbsp; Include the rules like in Make_ming.mak. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg.mak<br>
<br>
Patch 7.4.496<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Many lines are both in Make_cyg.mak and Make_ming.mak<br>
Solution:&nbsp;&nbsp; Move the common parts to one file. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLpc.txt, src/Make_cyg.mak, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_ming.mak, src/Make_mvc.mak, Filelist<br>
<br>
Patch 7.4.497<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With some regexp patterns the NFA engine uses many states and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;becomes very slow.&nbsp;&nbsp;To the user it looks like Vim freezes.<br>
Solution:&nbsp;&nbsp; When the number of states reaches a limit fall back to the old<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;engine. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/Makefile, src/regexp.c, src/regexp.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/samples/re.freeze.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/bench_re_freeze.in, src/testdir/bench_re_freeze.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.498 (after 7.4.497)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in DOS makefile.<br>
Solution:&nbsp;&nbsp; Change exists to exist. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak<br>
<br>
Patch 7.4.499<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;substitute() can be slow with long strings.<br>
Solution:&nbsp;&nbsp; Store a pointer to the end, instead of calling strlen() every<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.500<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 72 still fails once in a while.<br>
Solution:&nbsp;&nbsp; Don't set&nbsp;<a class="Type" href="options.html#'fileformat'">'fileformat'</a>&nbsp;to unix, reset it. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test72.in<br>
<br>
Patch 7.4.501 (after 7.4.497)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in file pattern.<br>
Solution:&nbsp;&nbsp; Insert a slash and remove a dot.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.502<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Language mapping also applies to mapped characters.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<a class="Type" href="options.html#'langnoremap'">'langnoremap'</a>&nbsp;option, when on&nbsp;<a class="Type" href="options.html#'langmap'">'langmap'</a>&nbsp;does not apply to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapped characters. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/vimrc_example.vim, src/macros.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/option.h<br>
<br>
Patch 7.4.503<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot append a list of lines to a file.<br>
Solution:&nbsp;&nbsp; Add the append option to writefile(). (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/Makefile, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_writefile.in, src/testdir/test_writefile.ok<br>
<br>
Patch 7.4.504<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Restriction of the MS-Windows installer that the path must end in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Vim&quot; prevents installing more than one version.<br>
Solution:&nbsp;&nbsp; Remove the restriction. (Tim Lebedkov)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/gvim.nsi<br>
<br>
Patch 7.4.505<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows when&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;is a double-byte encoding a file<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name longer than MAX_PATH bytes but shorter than that in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;characters causes problems.<br>
Solution:&nbsp;&nbsp; Fail on file names longer than MAX_PATH bytes. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.506<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Cannot open a file with 259 characters.<br>
Solution:&nbsp;&nbsp; Fix off-by-one error. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c<br>
<br>
Patch 7.4.507 (after 7.4.496)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with MingW and Perl.<br>
Solution:&nbsp;&nbsp; Remove quotes. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.508<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When generating ja.sjis.po the header is not correctly adjusted.<br>
Solution:&nbsp;&nbsp; Check for the right header string. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/sjiscorr.c<br>
<br>
Patch 7.4.509<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Users are not aware their encryption is weak.<br>
Solution:&nbsp;&nbsp; Give a warning when prompting for the key.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/crypt.c, src/ex_docmd.c, src/fileio.c, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/crypt.pro<br>
<br>
Patch 7.4.510<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;-fwrapv&quot; argument breaks use of cproto.<br>
Solution:&nbsp;&nbsp; Remove the alphabetic arguments in a drastic way.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.511<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Generating proto for if_ruby.c uses type not defined elsewhere.<br>
Solution:&nbsp;&nbsp; Do not generate a prototype for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rb_gc_writebarrier_unprotect_promoted()<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 7.4.512<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot generate prototypes for Win32 files and VMS.<br>
Solution:&nbsp;&nbsp; Add typedefs and #ifdef<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/gui_w32.c, src/os_vms.c<br>
<br>
Patch 7.4.513<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash because reference count is wrong for list returned by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getreg().<br>
Solution:&nbsp;&nbsp; Increment the reference count. (Kimmy Lindvall)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.514 (after 7.4.492)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory access error. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Update tpos. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.515<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In a help buffer the global&nbsp;<a class="Type" href="options.html#'foldmethod'">'foldmethod'</a>&nbsp;is used.&nbsp;&nbsp;(Paul Marshall)<br>
Solution:&nbsp;&nbsp; Reset&nbsp;<a class="Type" href="options.html#'foldmethod'">'foldmethod'</a>&nbsp;when starting to edit a help file.&nbsp;&nbsp;Move the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code to a separate function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.516<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completing a function name containing a # does not work.&nbsp;&nbsp;Issue<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;253.<br>
Solution:&nbsp;&nbsp; Recognize the # character. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.517<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With a wrapping line the cursor may not end up in the right place.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Nazri Ramliy)<br>
Solution:&nbsp;&nbsp; Adjust n_extra for a Tab that wraps. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.518<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using status line height in width computations.<br>
Solution:&nbsp;&nbsp; Use one instead. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.519 (after 7.4.497)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using syntax highlighting.<br>
Solution:&nbsp;&nbsp; When regprog is freed and replaced, store the result.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/regexp.c, src/syntax.c, src/spell.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/fileio.c, src/proto/fileio.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/regexp.pro, src/os_unix.c<br>
<br>
Patch 7.4.520<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sun PCK locale is not recognized.<br>
Solution:&nbsp;&nbsp; Add PCK in the table. (Keiichi Oono)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 7.4.521<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using &quot;vep&quot; a mark is moved to the next line. (Maxi Padulo,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Issue 283)<br>
Solution:&nbsp;&nbsp; Decrement the line number. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.522<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Specifying wrong buffer size for GetLongPathName().<br>
Solution:&nbsp;&nbsp; Use the actual size. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.523<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the X11 server is stopped and restarted, while Vim is kept in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the background, copy/paste no longer works. (Issue 203)<br>
Solution:&nbsp;&nbsp; Setup the clipboard again. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.524<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using &quot;:ownsyntax&quot; spell checking is messed up. (Issue 78)<br>
Solution:&nbsp;&nbsp; Use the window-local option values. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/syntax.c<br>
<br>
Patch 7.4.525<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;map() leaks memory when there is an error in the expression.<br>
Solution:&nbsp;&nbsp; Call clear_tv(). (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.526<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;matchstr() fails on long text. (Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Return NFA_TOO_EXPENSIVE from regexec_nl(). (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 7.4.527<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still confusing regexp failure and NFA_TOO_EXPENSIVE.<br>
Solution:&nbsp;&nbsp; NFA changes equivalent of 7.4.526.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.528<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using matchadd() (Yasuhiro Matsumoto)<br>
Solution:&nbsp;&nbsp; Copy the match regprog.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.529<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for what 7.4.517 fixes.<br>
Solution:&nbsp;&nbsp; Adjust the tests for breakindent. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_breakindent.in, src/testdir/test_breakindent.ok<br>
<br>
Patch 7.4.530<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Many commands take a count or range that is not using line<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numbers.<br>
Solution:&nbsp;&nbsp; For each command specify what kind of count it uses.&nbsp;&nbsp;For windows,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffers and arguments have &quot;$&quot; and &quot;.&quot; have a relevant meaning.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Marcin Szamotulski)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/editing.txt, runtime/doc/tabpage.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/windows.txt, src/Makefile, src/ex_cmds.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/Make_amiga.mak<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/test_argument_count.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_argument_count.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_close_count.in, src/testdir/test_close_count.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.531<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Comments about parsing an Ex command are wrong.<br>
Solution:&nbsp;&nbsp; Correct the step numbers.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.532<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;&quot;2/pattern/e&quot; highlights the first match.<br>
Solution:&nbsp;&nbsp; Move the code to set extra_col inside the loop for count.&nbsp;&nbsp;(Ozaki<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 7.4.533<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:hardcopy&quot; leaks memory in case of errors.<br>
Solution:&nbsp;&nbsp; Free memory in all code paths. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hardcopy.c<br>
<br>
Patch 7.4.534<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings when compiling if_ruby.c.<br>
Solution:&nbsp;&nbsp; Avoid the warnings. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 7.4.535 (after 7.4.530)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with tiny features.<br>
Solution:&nbsp;&nbsp; Add #ifdefs and skip a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_argument_count.in<br>
<br>
Patch 7.4.536<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 63 fails when using a black&amp;white terminal.<br>
Solution:&nbsp;&nbsp; Add attributes for a non-color terminal. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test63.in<br>
<br>
Patch 7.4.537<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Value of v:hlsearch reflects an internal variable.<br>
Solution:&nbsp;&nbsp; Make the value reflect whether search highlighting is actually<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayed. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/testdir/test101.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test101.ok, src/vim.h<br>
<br>
Patch 7.4.538<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests fail with small features plus Python.<br>
Solution:&nbsp;&nbsp; Disallow weird combination of options.&nbsp;&nbsp;Do not set &quot;fdm&quot; when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;folding is disabled.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/ex_cmds.c, src/configure.in, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h<br>
<br>
Patch 7.4.539 (after 7.4.530)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when computing buffer count.&nbsp;&nbsp;Problem with range for user<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commands.&nbsp;&nbsp;Line range wrong in Visual area.<br>
Solution:&nbsp;&nbsp; Avoid segfault in compute_buffer_local_count().&nbsp;&nbsp;Check for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CMD_USER when checking type of range. (Marcin Szamotulski)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/windows.txt, src/ex_docmd.c<br>
<br>
Patch 7.4.540 (after 7.4.539)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with tiny and small features. (Taro Muraoka)<br>
Solution:&nbsp;&nbsp; Add #ifdef around CMD_USER.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.541<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when doing a range assign.<br>
Solution:&nbsp;&nbsp; Check for NULL pointer. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test55.in, src/testdir/test55.ok<br>
<br>
Patch 7.4.542<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using a range for window and buffer commands has a few problems.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cannot specify the type of range for a user command.<br>
Solution:&nbsp;&nbsp; Add the -addr argument for user commands.&nbsp;&nbsp;Fix problems. (Marcin<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Szamotulski)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_command_count.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_command_count.ok src/testdir/Make_amiga.mak<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, runtime/doc/map.txt, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/ex_docmd.c, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_docmd.pro, src/vim.h,<br>
<br>
Patch 7.4.543<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Since patch 7.4.232 &quot;1,3s/\n//&quot; joins two lines instead of three.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Eliseo Martínez)&nbsp;&nbsp;Issue 287<br>
Solution:&nbsp;&nbsp; Correct the line count. (Christian Brabandt)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also set the last used search pattern.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/search.c, src/proto/search.pro<br>
<br>
Patch 7.4.544<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings for unused arguments when compiling with a combination of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;features.<br>
Solution:&nbsp;&nbsp; Add &quot;UNUSED&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c<br>
<br>
Patch 7.4.545<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Highlighting for multi-line matches is not correct.<br>
Solution:&nbsp;&nbsp; Stop highlight at the end of the match. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.546<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Repeated use of vim_snprintf() with a number.<br>
Solution:&nbsp;&nbsp; Move these vim_snprintf() calls into a function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.547<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;vit&quot; does not select a multi-byte character at the end<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;correctly.<br>
Solution:&nbsp;&nbsp; Advance the cursor over the multi-byte character. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 7.4.548<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compilation fails with native version of MinGW-w64, because<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it doesn't have x86_64-w64-mingw32-windres.exe.<br>
Solution:&nbsp;&nbsp; Use windres instead. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.549<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Function name not recognized correctly when inside a function.<br>
Solution:&nbsp;&nbsp; Don't check for an alpha character. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_nested_function.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_nested_function.ok, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile<br>
<br>
Patch 7.4.550<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;curs_rows() function is always called with the second argument<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;false.<br>
Solution:&nbsp;&nbsp; Remove the argument. (Christian Brabandt)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;validate_botline_win() can then also be removed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 7.4.551<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;ygn&quot; may yank too much. (Fritzophrenic)&nbsp;&nbsp;Issue 295.<br>
Solution:&nbsp;&nbsp; Check the width of the next match. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test53.in, src/testdir/test53.ok<br>
<br>
Patch 7.4.552<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Langmap applies to Insert mode expression mappings.<br>
Solution:&nbsp;&nbsp; Check for Insert mode. (Daniel Hahler)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/testdir/test_mapping.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.ok<br>
<br>
Patch 7.4.553<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various small issues.<br>
Solution:&nbsp;&nbsp; Fix those issues.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/gui.h, src/message.c, src/testdir/test39.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/proto/misc1.pro, src/proto/ops.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/screen.pro, src/proto/window.pro. src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms, src/proto/os_vms.pro, src/INSTALL<br>
<br>
Patch 7.4.554<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing part of patch 7.4.519.<br>
Solution:&nbsp;&nbsp; Copy back regprog after calling vim_regexec.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.555<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_close_count may fail for some combination of features.<br>
Solution:&nbsp;&nbsp; Require normal features.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_close_count.in<br>
<br>
Patch 7.4.556<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Failed commands in Python interface not handled correctly.<br>
Solution:&nbsp;&nbsp; Restore window and buffer on failure.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 7.4.557<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;One more small issue.<br>
Solution:&nbsp;&nbsp; Update function proto.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/window.pro<br>
<br>
Patch 7.4.558<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the X server restarts Vim may get stuck.<br>
Solution:&nbsp;&nbsp; Destroy the application context and create it again.&nbsp;&nbsp;(Issue 203)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.559<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Appending a block in the middle of a tab does not work correctly<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when virtualedit is set.<br>
Solution:&nbsp;&nbsp; Decrement spaces and count, don't reset them. (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test39.in, src/testdir/test39.ok<br>
<br>
Patch 7.4.560<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak using :wviminfo. Issue 296.<br>
Solution:&nbsp;&nbsp; Free memory when needed. (idea by Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.561<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ex range handling is wrong for buffer-local user commands.<br>
Solution:&nbsp;&nbsp; Check for CMD_USER_BUF. (Marcin Szamotulski)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_command_count.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_command_count.ok<br>
<br>
Patch 7.4.562<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Segfault with wide screen and error in&nbsp;<a class="Type" href="options.html#'rulerformat'">'rulerformat'</a>. (Ingo Karkat)<br>
Solution:&nbsp;&nbsp; Check there is enough space. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/screen.c<br>
<br>
Patch 7.4.563<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for replacing on a tab in Virtual replace mode.<br>
Solution:&nbsp;&nbsp; Add a test. (Elias Diem)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test48.in, src/testdir/test48.ok<br>
<br>
Patch 7.4.564<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;FEAT_OSFILETYPE is used even though it's never defined.<br>
Solution:&nbsp;&nbsp; Remove the code. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.565<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ranges for arguments, buffers, tabs, etc. are not checked to be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;valid but limited to the maximum.&nbsp;&nbsp;This can cause the wrong thing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to happen.<br>
Solution:&nbsp;&nbsp; Give an error for an invalid value. (Marcin Szamotulski)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use windows range for &quot;:wincmd&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/ex_cmds.h, src/testdir/test62.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_argument_count.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_argument_count.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_close_count.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_command_count.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_command_count.ok<br>
<br>
Patch 7.4.566<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:argdo, :bufdo, :windo and :tabdo don't take a range.<br>
Solution:&nbsp;&nbsp; Support the range. (Marcin Szamotulski)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/editing.txt, runtime/doc/tabpage.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/windows.txt, src/ex_cmds.h, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_command_count.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_command_count.ok<br>
<br>
Patch 7.4.567<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Non-ascii vertical separator characters are always redrawn.<br>
Solution:&nbsp;&nbsp; Compare only the one byte that's stored. (Thiago Padilha)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.568<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Giving an error for &quot;:0wincmd w&quot; is a problem for some plugins.<br>
Solution:&nbsp;&nbsp; Allow the zero in the range. (Marcin Szamotulski)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_command_count.ok<br>
<br>
Patch 7.4.569 (after 7.4.468)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Having&nbsp;<span class="Special">CTRL-C</span>&nbsp;interrupt or not does not check the mode of the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping. (Ingo Karkat)<br>
Solution:&nbsp;&nbsp; Use a bitmask with the map mode. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/structs.h, src/testdir/test_mapping.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.ok, src/ui.c, src/globals.h<br>
<br>
Patch 7.4.570<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with dynamic library does not work for Ruby 2.2.0<br>
Solution:&nbsp;&nbsp; Change #ifdefs and #defines. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 7.4.571 (after 7.4.569)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with tiny features. (Ike Devolder)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 7.4.572<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Address type of :wincmd depends on the argument.<br>
Solution:&nbsp;&nbsp; Check the argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/window.c, src/proto/window.pro<br>
<br>
Patch 7.4.573 (after 7.4.569)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mapping&nbsp;<span class="Special">CTRL-C</span>&nbsp;in Visual mode doesn't work. (Ingo Karkat)<br>
Solution:&nbsp;&nbsp; Call get_real_state() instead of using State directly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c, src/testdir/test_mapping.in, src/testdir/test_mapping.ok<br>
<br>
Patch 7.4.574<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No error for eval('$').<br>
Solution:&nbsp;&nbsp; Check for empty name. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.575<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unicode character properties are outdated.<br>
Solution:&nbsp;&nbsp; Update the tables with the latest version.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 7.4.576<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Redrawing problem with&nbsp;<a class="Type" href="options.html#'relativenumber'">'relativenumber'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>.<br>
Solution:&nbsp;&nbsp; Temporarily reset&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;and restore it in more places.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 7.4.577<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Matching with a virtual column has a lot of overhead on very long<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lines. (Issue 310)<br>
Solution:&nbsp;&nbsp; Bail out early if there can't be a match. (Christian Brabandt)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also check for&nbsp;<span class="Special">CTRL-C</span>&nbsp;at every position.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.578<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using getcurpos() after &quot;$&quot; in an empty line returns a negative<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number.<br>
Solution:&nbsp;&nbsp; Don't add one when this would overflow. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.579<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong cursor positioning when&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;is set and lines wrap.<br>
Solution:&nbsp;&nbsp; Fix it. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c, src/screen.c<br>
<br>
Patch 7.4.580<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:52wincmd v&quot; still gives an invalid range error. (Charles<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Campbell)<br>
Solution:&nbsp;&nbsp; Skip over white space.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.581<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for uninitialized variables. (John Little)<br>
Solution:&nbsp;&nbsp; Initialize the variables.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.582 (after 7.4.577)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't match &quot;%&gt;80v&quot; properly. (Axel Bender)<br>
Solution:&nbsp;&nbsp; Correctly handle &quot;&gt;&quot;. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok<br>
<br>
Patch 7.4.583<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With tiny features test 16 may fail.<br>
Solution:&nbsp;&nbsp; Source small.vim. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test16.in<br>
<br>
Patch 7.4.584<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With tiny features test_command_count may fail.<br>
Solution:&nbsp;&nbsp; Source small.vim. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_command_count.in<br>
<br>
Patch 7.4.585<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Range for :bdelete does not work. (Ronald Schild)<br>
Solution:&nbsp;&nbsp; Also allow unloaded buffers.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/testdir/test_command_count.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_command_count.ok<br>
<br>
Patch 7.4.586<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Parallel building of the documentation html files is not reliable.<br>
Solution:&nbsp;&nbsp; Remove a cyclic dependency. (Reiner Herrmann)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/Makefile<br>
<br>
Patch 7.4.587<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Conceal does not work properly with&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>. (cs86661)<br>
Solution:&nbsp;&nbsp; Save and restore boguscols. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_listlbr_utf8.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr_utf8.ok<br>
<br>
Patch 7.4.588<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:0argedit foo&quot; puts the new argument in the second place instead<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of the first.<br>
Solution:&nbsp;&nbsp; Adjust the range type. (Ingo Karkat)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/test_argument_0count.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_argument_0count.ok<br>
<br>
Patch 7.4.589<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In the MS-Windows console Vim can't handle greek characters when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;encoding is utf-8.<br>
Solution:&nbsp;&nbsp; Escape K_NUL. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.590<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using ctrl_x_mode as if it contains flags.<br>
Solution:&nbsp;&nbsp; Don't use AND with CTRL_X_OMNI. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.591 (after 7.4.587)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_listlbr_utf8 fails when the conceal feature is not available.<br>
Solution:&nbsp;&nbsp; Check for the conceal feature. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr_utf8.in<br>
<br>
Patch 7.4.592<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When doing &quot;:e foobar&quot; when already editing &quot;foobar&quot; and&nbsp;<a class="Type" href="options.html#'buftype'">'buftype'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is &quot;nofile&quot; the buffer is cleared. (Xavier de Gaye)<br>
Solution:&nbsp;&nbsp; Do no clear the buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.593<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when searching for &quot;x\<span class="Special">{0,90000}</span>&quot;. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Bail out from the NFA engine when the max limit is much higher<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;than the min limit.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/regexp.c, src/vim.h<br>
<br>
Patch 7.4.594<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using a block delete while&nbsp;<a class="Type" href="options.html#'breakindent'">'breakindent'</a>&nbsp;is set does not work<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properly.<br>
Solution:&nbsp;&nbsp; Use &quot;line&quot; instead of &quot;prev_pend&quot; as the first argument to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lbr_chartabsize_adv().&nbsp;&nbsp;(Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_breakindent.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_breakindent.ok<br>
<br>
Patch 7.4.595<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The test_command_count test fails when using Japanese.<br>
Solution:&nbsp;&nbsp; Force the language to C. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_command_count.in<br>
<br>
Patch 7.4.596 (after 7.4.592)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tiny build doesn't compile.&nbsp;&nbsp;(Ike Devolder)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.597<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot change the result of systemlist().<br>
Solution:&nbsp;&nbsp; Initialize v_lock. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.598<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:tabdo windo echo&nbsp;<a class="Type" href="options.html#'hi'">'hi'</a>&quot; causes &quot;* register not to be changed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Salman Halim)<br>
Solution:&nbsp;&nbsp; Change how clip_did_set_selection is used and add<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clipboard_needs_update and global_change_count.&nbsp;&nbsp;(Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/ui.c, src/testdir/test_eval.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_eval.ok<br>
<br>
Patch 7.4.599<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Out-of-memory error.<br>
Solution:&nbsp;&nbsp; Avoid trying to allocate a negative amount of memory, use size_t<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instead of int. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.600<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory wasted in struct because of aligning.<br>
Solution:&nbsp;&nbsp; Split pos in lnum and col. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.601<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not possible to have feedkeys() insert characters.<br>
Solution:&nbsp;&nbsp; Add the 'i' flag.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/doc/eval.txt<br>
<br>
Patch 7.4.602<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:set&quot; does not accept hex numbers as documented.<br>
Solution:&nbsp;&nbsp; Use vim_str2nr(). (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, runtime/doc/options.txt<br>
<br>
Patch 7.4.603<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'foldcolumn'">'foldcolumn'</a>&nbsp;may be set such that it fills the whole window, not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;leaving space for text.<br>
Solution:&nbsp;&nbsp; Reduce the foldcolumn width when there is not sufficient room.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(idea by Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.604<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running tests changes viminfo.<br>
Solution:&nbsp;&nbsp; Disable viminfo.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_breakindent.in<br>
<br>
Patch 7.4.605<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The # register is not writable, it cannot be restored after<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jumping around.<br>
Solution:&nbsp;&nbsp; Make the # register writable. (Marcin Szamotulski)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/change.txt, src/ops.c, src/buffer.c, src/globals.h<br>
<br>
Patch 7.4.606<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May crash when using a small window.<br>
Solution:&nbsp;&nbsp; Avoid dividing by zero. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 7.4.607 (after 7.4.598)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for unused variables.<br>
Solution:&nbsp;&nbsp; Move them inside #ifdef. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 7.4.608 (after 7.4.598)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_eval fails when the clipboard feature is missing.<br>
Solution:&nbsp;&nbsp; Skip part of the test. Reduce the text used.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_eval.in, src/testdir/test_eval.ok<br>
<br>
Patch 7.4.609<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;For complicated list and dict use the garbage collector can run<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out of stack space.<br>
Solution:&nbsp;&nbsp; Use a stack of dicts and lists to be marked, thus making it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;iterative instead of recursive. (Ben Fritz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/if_lua.c, src/if_py_both.h, src/if_python.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python3.c, src/proto/eval.pro, src/proto/if_lua.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/if_python.pro, src/proto/if_python3.pro, src/structs.h<br>
<br>
Patch 7.4.610<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some function headers may be missing from generated .pro files.<br>
Solution:&nbsp;&nbsp; Add PROTO to the #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/syntax.c<br>
<br>
Patch 7.4.611 (after 7.4.609)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syntax error.<br>
Solution:&nbsp;&nbsp; Change statement to return.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python3.c<br>
<br>
Patch 7.4.612<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_eval fails on Mac.<br>
Solution:&nbsp;&nbsp; Use the * register instead of the + register. (Jun Takimoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_eval.in, src/testdir/test_eval.ok<br>
<br>
Patch 7.4.613<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The NFA engine does not implement the&nbsp;<a class="Type" href="options.html#'redrawtime'">'redrawtime'</a>&nbsp;time limit.<br>
Solution:&nbsp;&nbsp; Implement the time limit.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.614<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no test for what patch 7.4.601 fixes.<br>
Solution:&nbsp;&nbsp; Add a test. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.in, src/testdir/test_mapping.ok<br>
<br>
Patch 7.4.615<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim hangs when freeing a lot of objects.<br>
Solution:&nbsp;&nbsp; Do not go back to the start of the list every time.&nbsp;&nbsp;(Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto and Ariya Mizutani)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.616<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot insert a tab in front of a block.<br>
Solution:&nbsp;&nbsp; Correctly compute aop-&gt;start. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test39.in, src/testdir/test39.ok<br>
<br>
Patch 7.4.617<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong &quot;:argdo&quot; range does not cause an error.<br>
Solution:&nbsp;&nbsp; Reset &quot;cmd&quot; to NULL. (Marcin Szamotulski, Ingo Karkat)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.618 (after 7.4.609)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;luaV_setref() is missing a return statement. (Ozaki Kiichi)<br>
Solution:&nbsp;&nbsp; Put the return statement back.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c<br>
<br>
Patch 7.4.619 (after 7.4.618)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;luaV_setref() not returning the correct value.<br>
Solution:&nbsp;&nbsp; Return one.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c<br>
<br>
Patch 7.4.620<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for uninitialized variable. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Initialize &quot;did_free&quot;. (Ben Fritz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.621 (after 7.4.619)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Returning 1 in the wrong function. (Raymond Ko)<br>
Solution:&nbsp;&nbsp; Return 1 in the right function (hopefully).<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c<br>
<br>
Patch 7.4.622<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused argument.<br>
Solution:&nbsp;&nbsp; Add UNUSED.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.623<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash with pattern: \(\)\<span class="Special">{80000}</span>&nbsp;&nbsp;(Dominique Pelle)<br>
Solution:&nbsp;&nbsp; When the max limit is large fall back to the old engine.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.624<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May leak memory or crash when vim_realloc() returns NULL.<br>
Solution:&nbsp;&nbsp; Handle a NULL value properly. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c, src/memline.c, src/misc1.c, src/netbeans.c<br>
<br>
Patch 7.4.625<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Possible NULL pointer dereference.<br>
Solution:&nbsp;&nbsp; Check for NULL before using it. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 7.4.626<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MSVC with W4 gives useless warnings.<br>
Solution:&nbsp;&nbsp; Disable more warnings. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 7.4.627<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The last screen cell is not updated.<br>
Solution:&nbsp;&nbsp; Respect the &quot;tn&quot; termcap feature. (Hayaki Saito)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/term.txt, src/option.c, src/screen.c, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.h<br>
<br>
Patch 7.4.628<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for variable might be clobbered by longjmp.<br>
Solution:&nbsp;&nbsp; Add volatile. (Michael Jarvis)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 7.4.629<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warning for Out-of-bounds read.<br>
Solution:&nbsp;&nbsp; Increase MAXWLEN to 254. (Eliseo Martínez)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c<br>
<br>
Patch 7.4.630<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using Insert mode completion combined with autocommands the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;redo command may not work.<br>
Solution:&nbsp;&nbsp; Do not save the redo buffer when executing autocommands. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.631<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The default conceal character is documented to be a space but it's<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initially a dash. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Make the initial value a space.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h<br>
<br>
Patch 7.4.632 (after 7.4.592)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;7.4.592 breaks the netrw plugin, because the autocommands are<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;skipped.<br>
Solution:&nbsp;&nbsp; Roll back the change.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.633<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After 7.4.630 the problem persists.<br>
Solution:&nbsp;&nbsp; Also skip redo when calling a user function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.634<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Marks are not restored after redo + undo.<br>
Solution:&nbsp;&nbsp; Fix the way marks are restored. (Olaf Dabrunz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c, src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_marks.in, src/testdir/test_marks.ok<br>
<br>
Patch 7.4.635<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If no NL or CR is found in the first block of a file then the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'fileformat'">'fileformat'</a>&nbsp;may be set to &quot;mac&quot;. (Issue 77)<br>
Solution:&nbsp;&nbsp; Check if a CR was found. (eswald)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.636<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A search with end offset gets stuck at end of file. (Gary Johnson)<br>
Solution:&nbsp;&nbsp; When a search doesn't move the cursor repeat it with a higher<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test44.in, src/testdir/test44.ok<br>
<br>
Patch 7.4.637<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Incorrectly read the number of buffer for which an autocommand<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;should be registered.<br>
Solution:&nbsp;&nbsp; Reverse check for &quot;&lt;buffer=abuf&gt;&quot;. (Lech Lorens)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.638<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Lua 5.3 on Windows.<br>
Solution:&nbsp;&nbsp; use luaL_optinteger() instead of LuaL_optlong(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c<br>
<br>
Patch 7.4.639<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Combination of linebreak and conceal doesn't work well.<br>
Solution:&nbsp;&nbsp; Fix the display problems. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test88.in, src/testdir/test88.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr_utf8.in, src/testdir/test_listlbr_utf8.ok<br>
<br>
Patch 7.4.640<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After deleting characters in Insert mode such that lines are<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;joined undo does not work properly. (issue 324)<br>
Solution:&nbsp;&nbsp; Use Insstart instead of Insstart_orig. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.641<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The tabline menu was using &quot;:999tabnew&quot; which is now invalid.<br>
Solution:&nbsp;&nbsp; Use &quot;:$tabnew&quot; instead. (Florian Degner)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 7.4.642<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using &quot;gf&quot; escaped spaces are not handled.<br>
Solution:&nbsp;&nbsp; Recognize escaped spaces.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/window.c, src/misc2.c<br>
<br>
Patch 7.4.643<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using the default file format for Mac files. (Issue 77)<br>
Solution:&nbsp;&nbsp; Reset the try_mac counter in the right place. (Oswald)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/testdir/test30.in, src/testdir/test30.ok<br>
<br>
Patch 7.4.644<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Stratus VOS doesn't have sync().<br>
Solution:&nbsp;&nbsp; Use fflush(). (Karli Aurelia)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memfile.c<br>
<br>
Patch 7.4.645<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When splitting the window in a BufAdd autocommand while still in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the first, empty buffer the window count is wrong.<br>
Solution:&nbsp;&nbsp; Do not reset b_nwindows to zero and don't increment it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/ex_cmds.c<br>
<br>
Patch 7.4.646<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:bufdo&quot; may start at a deleted buffer.<br>
Solution:&nbsp;&nbsp; Find the first not deleted buffer. (Shane Harper)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_command_count.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_command_count.ok<br>
<br>
Patch 7.4.647<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After running the tests on MS-Windows many files differ from their<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;originals as they were checked out.<br>
Solution:&nbsp;&nbsp; Use a temp directory for executing the tests. (Ken Takata, Taro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Muraoka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak<br>
<br>
Patch 7.4.648 (after 7.4.647)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests broken on MS-Windows.<br>
Solution:&nbsp;&nbsp; Delete wrong copy line. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak<br>
<br>
Patch 7.4.649<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler complains about ignoring return value of fwrite().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Michael Jarvis)<br>
Solution:&nbsp;&nbsp; Add (void).<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 7.4.650<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure check may fail because the dl library is not used.<br>
Solution:&nbsp;&nbsp; Put &quot;-ldl&quot; in LIBS rather than LDFLAGS. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.651 (after 7.4.582)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't match &quot;%&gt;80v&quot; properly for multi-byte characters.<br>
Solution:&nbsp;&nbsp; Multiply the character number by the maximum number of bytes in a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;character. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.652<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Xxd lacks a few features.<br>
Solution:&nbsp;&nbsp; Use 8 characters for the file position.&nbsp;&nbsp;Add the -e and -o<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arguments. (Vadim Vygonets)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xxd/xxd.c, runtime/doc/xxd.1<br>
<br>
Patch 7.4.653<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insert mode completion with complete() may have&nbsp;<span class="Special">CTRL-L</span>&nbsp;work like<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-P</span>.<br>
Solution:&nbsp;&nbsp; Handle completion with complete() differently. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, Christian Brabandt, Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.654<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;glob() and globpath() cannot include links to non-existing files.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Charles Campbell)<br>
Solution:&nbsp;&nbsp; Add an argument to include all links with glob(). (James McCoy)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also for globpath().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/eval.c, src/ex_getln.c<br>
<br>
Patch 7.4.655<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text deleted by &quot;dit&quot; depends on indent of closing tag.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Jan Parthey)<br>
Solution:&nbsp;&nbsp; Do not adjust oap-&gt;end in do_pending_operator(). (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/search.c, src/testdir/test53.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test53.ok<br>
<br>
Patch 7.4.656 (after 7.4.654)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing changes for glob() in one file.<br>
Solution:&nbsp;&nbsp; Add the missing changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.657 (after 7.4.656)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for pointer mismatch.<br>
Solution:&nbsp;&nbsp; Add a typecast. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.658<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'formatexpr'">'formatexpr'</a>&nbsp;is evaluated too often.<br>
Solution:&nbsp;&nbsp; Only invoke it when beyond the&nbsp;<a class="Type" href="options.html#'textwidth'">'textwidth'</a>&nbsp;column, as it is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;documented. (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.659<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'ruler'">'ruler'</a>&nbsp;is set the preferred column is reset. (Issue 339)<br>
Solution:&nbsp;&nbsp; Don't set curswant when redrawing the status lines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.660<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory when g:colors_name is changed in the colors<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;script. (oni-link)<br>
Solution:&nbsp;&nbsp; Make a copy of the variable value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 7.4.661<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;0&nbsp;<span class="Special">CTRL-D</span>&quot; in Insert mode may have CursorHoldI interfere.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Gary Johnson)<br>
Solution:&nbsp;&nbsp; Don't store K_CURSORHOLD as the last character. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.662<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When 'M' is in the&nbsp;<a class="Type" href="options.html#'cpo'">'cpo'</a>&nbsp;option then selecting a text object in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;parentheses does not work correctly.<br>
Solution:&nbsp;&nbsp; Keep 'M' in&nbsp;<a class="Type" href="options.html#'cpo'">'cpo'</a>&nbsp;when finding a match. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/test_textobjects.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textobjects.ok<br>
<br>
Patch 7.4.663<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using netbeans a buffer is not found in another tab.<br>
Solution:&nbsp;&nbsp; When&nbsp;<a class="Type" href="options.html#'switchbuf'">'switchbuf'</a>&nbsp;is set to &quot;usetab&quot; then switch to another tab<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when possible. (Xavier de Gaye)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c<br>
<br>
Patch 7.4.664<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'compatible'">'compatible'</a>&nbsp;is reset&nbsp;<a class="Type" href="options.html#'numberwidth'">'numberwidth'</a>&nbsp;is set to 4, but the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effect doesn't show until a change is made.<br>
Solution:&nbsp;&nbsp; Check if&nbsp;<a class="Type" href="options.html#'numberwidth'">'numberwidth'</a>&nbsp;changed. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/structs.h<br>
<br>
Patch 7.4.665<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;does not work properly with multi-byte characters.<br>
Solution:&nbsp;&nbsp; Compute the pointer offset with mb_head_off().&nbsp;&nbsp;(Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.666<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is a chance that Vim may lock up.<br>
Solution:&nbsp;&nbsp; Handle timer events differently. (Aaron Burrow)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.667<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'colorcolumn'">'colorcolumn'</a>&nbsp;isn't drawn in a closed fold while&nbsp;<a class="Type" href="options.html#'cursorcolumn'">'cursorcolumn'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is. (Carlos Pita)<br>
Solution:&nbsp;&nbsp; Make it consistent. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.668<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't use a glob pattern as a regexp pattern.<br>
Solution:&nbsp;&nbsp; Add glob2regpat(). (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/doc/eval.txt<br>
<br>
Patch 7.4.669<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When netbeans is active the sign column always shows up.<br>
Solution:&nbsp;&nbsp; Only show the sign column once a sign has been added. (Xavier de<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gaye)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/edit.c, src/move.c, src/netbeans.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/structs.h<br>
<br>
Patch 7.4.670<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;<a class="Type" href="options.html#'cindent'">'cindent'</a>&nbsp;for Javascript is less than perfect.<br>
Solution:&nbsp;&nbsp; Improve indenting of continuation lines. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok<br>
<br>
Patch 7.4.671 (after 7.4.665)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for shadowing a variable.<br>
Solution:&nbsp;&nbsp; Rename off to mb_off. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.672<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When completing a shell command, directories in the current<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory are not listed.<br>
Solution:&nbsp;&nbsp; When &quot;.&quot; is not in $PATH also look in the current directory for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directories.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/vim.h, src/misc1.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_amiga.c, src/os_msdos.c, src/os_unix.c, src/os_vms.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_amiga.pro, src/proto/os_msdos.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_unix.pro, src/proto/os_win32.pro<br>
<br>
Patch 7.4.673<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The first syntax entry gets sequence number zero, which doesn't<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;work. (Clinton McKay)<br>
Solution:&nbsp;&nbsp; Start at number one. (Bjorn Linse)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 7.4.674 (after 7.4.672)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing changes in one file.<br>
Solution:&nbsp;&nbsp; Also change the win32 file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.675<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a FileReadPost autocommand moves the cursor inside a line it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gets moved back.<br>
Solution:&nbsp;&nbsp; When checking whether an autocommand moved the cursor store the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column as well. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.676<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On Mac, when not using the default Python framework configure<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doesn't do the right thing.<br>
Solution:&nbsp;&nbsp; Use a linker search path. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.677 (after 7.4.676)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure fails when specifying a python-config-dir. (Lcd)<br>
Solution:&nbsp;&nbsp; Check if PYTHONFRAMEWORKPREFIX is set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.678<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using --remote the directory may end up being wrong.<br>
Solution:&nbsp;&nbsp; Use localdir() to find out what to do. (Xaizek)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 7.4.679<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Color values greater than 255 cause problems on MS-Windows.<br>
Solution:&nbsp;&nbsp; Truncate to 255 colors. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.680<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-W</span>&nbsp;in Insert mode does not work well for multi-byte<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;characters.<br>
Solution:&nbsp;&nbsp; Use mb_get_class(). (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_erasebackword.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_erasebackword.ok,<br>
<br>
Patch 7.4.681<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: When Vim is minimized the window height is computed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;incorrectly.<br>
Solution:&nbsp;&nbsp; When minimized use the previously computed size. (Ingo Karkat)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.682<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The search highlighting and match highlighting replaces the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cursorline highlighting, this doesn't look good.<br>
Solution:&nbsp;&nbsp; Combine the highlighting. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.683<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in the vimtutor command.<br>
Solution:&nbsp;&nbsp; Fix the typo. (Corey Farwell, github pull 349)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vimtutor.com<br>
<br>
Patch 7.4.684<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When starting several Vim instances in diff mode, the temp files<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;used may not be unique. (Issue 353)<br>
Solution:&nbsp;&nbsp; Add an argument to vim_tempname() to keep the file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/eval.c, src/ex_cmds.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hardcopy.c, src/proto/fileio.pro, src/if_cscope.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/misc1.c, src/os_unix.c, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c<br>
<br>
Patch 7.4.685<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When there are illegal utf-8 characters the old regexp engine may<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;go past the end of a string.<br>
Solution:&nbsp;&nbsp; Only advance to the end of the string. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 7.4.686<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;zr&quot; and &quot;zm&quot; do not take a count.<br>
Solution:&nbsp;&nbsp; Implement the count, restrict the fold level to the maximum<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nesting depth.&nbsp;&nbsp;(Marcin Szamotulski)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/fold.txt, src/normal.c<br>
<br>
Patch 7.4.687<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no way to use a different in Replace mode for a terminal.<br>
Solution:&nbsp;&nbsp; Add t_SR. (Omar Sandoval)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/term.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/syntax/vim.vim, src/option.c, src/term.c, src/term.h<br>
<br>
Patch 7.4.688<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When &quot;$&quot; is in&nbsp;<a class="Type" href="options.html#'cpo'">'cpo'</a>&nbsp;the popup menu isn't undrawn correctly.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Issue 166)<br>
Solution:&nbsp;&nbsp; When using the popup menu remove the &quot;$&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.689<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows, when&nbsp;<a class="Type" href="options.html#'autochdir'">'autochdir'</a>&nbsp;is set, diff mode with files in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;different directories does not work. (Axel Bender)<br>
Solution:&nbsp;&nbsp; Remember the current directory and use it where needed. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 7.4.690<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory access errors when changing indent in Ex mode. Also missing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;redraw when using&nbsp;<span class="Special">CTRL-U</span>. (Knil Ino)<br>
Solution:&nbsp;&nbsp; Update pointers after calling ga_grow().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.691 (after 7.4.689)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with MzScheme.<br>
Solution:&nbsp;&nbsp; Change &quot;cwd&quot; into the global variable &quot;start_dir&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 7.4.692<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Defining SOLARIS for no good reason. (Danek Duvall)<br>
Solution:&nbsp;&nbsp; Remove it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.h<br>
<br>
Patch 7.4.693<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Session file is not correct when there are multiple tab pages.<br>
Solution:&nbsp;&nbsp; Reset the current window number for each tab page. (Jacob Niehus)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.694<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running tests changes the .viminfo file.<br>
Solution:&nbsp;&nbsp; Disable viminfo in the text objects test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textobjects.in<br>
<br>
Patch 7.4.695<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Out-of-bounds read, detected by Coverity.<br>
Solution:&nbsp;&nbsp; Remember the value of cmap for the first matching encoding.&nbsp;&nbsp;Reset<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmap to that value if first matching encoding is going to be used.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Eliseo Martínez)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hardcopy.c<br>
<br>
Patch 7.4.696<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not freeing memory when encountering an error.<br>
Solution:&nbsp;&nbsp; Free the stack before returning. (Eliseo Martínez)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.697<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The filename used for &quot;:profile&quot; must be given literally.<br>
Solution:&nbsp;&nbsp; Expand &quot;~&quot; and environment variables. (Marco Hinz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.698<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various problems with locked and fixed lists and dictionaries.<br>
Solution:&nbsp;&nbsp; Disallow changing locked items, fix a crash, add tests. (Olaf<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dabrunz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/eval.c, src/testdir/test55.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test55.ok<br>
<br>
Patch 7.4.699<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;E315 when trying to delete a fold. (Yutao Yuan)<br>
Solution:&nbsp;&nbsp; Make sure the fold doesn't go beyond the last buffer line.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c<br>
<br>
Patch 7.4.700<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Fold can't be opened after &quot;:move&quot;. (Ein Brown)<br>
Solution:&nbsp;&nbsp; Delete the folding information and update it afterwards.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/fold.c, src/testdir/test45.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test45.ok<br>
<br>
Patch 7.4.701<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for using uninitialized variable. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Solution:&nbsp;&nbsp; Initialize it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hardcopy.c<br>
<br>
Patch 7.4.702<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Joining an empty list does unnecessary work.<br>
Solution:&nbsp;&nbsp; Let join() return early. (Marco Hinz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.703<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for start_dir unused when building unittests.<br>
Solution:&nbsp;&nbsp; Move start_dir inside the #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 7.4.704<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Searching for a character matches an illegal byte and causes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invalid memory access. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Do not match an invalid byte when search for a character in a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string.&nbsp;&nbsp;Fix equivalence classes using negative numbers, which<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result in illegal bytes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/regexp.c, src/testdir/test44.in<br>
<br>
Patch 7.4.705<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Ruby 2.2.<br>
Solution:&nbsp;&nbsp; Add #ifdefs to handle the incompatible change. (Andrei Olsen)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 7.4.706<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Window drawn wrong when&nbsp;<a class="Type" href="options.html#'laststatus'">'laststatus'</a>&nbsp;is zero and there is a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;command-line window. (Yclept Nemo)<br>
Solution:&nbsp;&nbsp; Set the status height a bit later. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.707<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Undo files can have their executable bit set.<br>
Solution:&nbsp;&nbsp; Strip of the executable bit. (Mikael Berthe)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 7.4.708<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;gettext() is called too often.<br>
Solution:&nbsp;&nbsp; Do not call gettext() for messages until they are actually used.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(idea by Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.709<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:tabmove&quot; does not work as documented.<br>
Solution:&nbsp;&nbsp; Make it work consistently.&nbsp;&nbsp;Update documentation and add tests.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, runtime/doc/tabpage.txt, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test62.in, src/testdir/test62.ok<br>
<br>
Patch 7.4.710<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not possible to make spaces visible in list mode.<br>
Solution:&nbsp;&nbsp; Add the &quot;space&quot; item to&nbsp;<a class="Type" href="options.html#'listchars'">'listchars'</a>. (David Bürgin, issue 350)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/globals.h, src/message.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_listchars.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listchars.ok, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile<br>
<br>
Patch 7.4.711 (after 7.4.710)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing change in one file.<br>
Solution:&nbsp;&nbsp; Also change option.c<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.712 (after 7.4.710)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing change in another file.<br>
Solution:&nbsp;&nbsp; Also change message.c<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 7.4.713<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong condition for #ifdef.<br>
Solution:&nbsp;&nbsp; Change USR_EXRC_FILE2 to USR_VIMRC_FILE2. (Mikael Fourrier)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.h<br>
<br>
Patch 7.4.714<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access when there are illegal bytes.<br>
Solution:&nbsp;&nbsp; Check the byte length of the character. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 7.4.715<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access when there are illegal bytes.<br>
Solution:&nbsp;&nbsp; Get the length from the text, not from the character. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.716<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using the 'c' flag of &quot;:substitute&quot; and selecting &quot;a&quot; or &quot;l&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at the prompt the flags are not remembered for &quot;:&amp;&amp;&quot;. (Ingo<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Karkat)<br>
Solution:&nbsp;&nbsp; Save the flag values and restore them. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.717<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:let list += list&quot; can change a locked list.<br>
Solution:&nbsp;&nbsp; Check for the lock earlier. (Olaf Dabrunz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test55.in, src/testdir/test55.ok<br>
<br>
Patch 7.4.718<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Autocommands triggered by quickfix cannot get the current title<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value.<br>
Solution:&nbsp;&nbsp; Set w:quickfix_title earlier. (Yannick)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also move the check for a title into the function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.719<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Overflow when adding MAXCOL to a pointer.<br>
Solution:&nbsp;&nbsp; Subtract pointers instead. (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.720<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Visual Studio 2015.<br>
Solution:&nbsp;&nbsp; Recognize the &quot;version 14&quot; numbers and omit /nodefaultlib when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;appropriate. (Paul Moore)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 7.4.721<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'list'">'list'</a>&nbsp;is set Visual mode does not highlight anything in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;empty lines. (mgaleski)<br>
Solution:&nbsp;&nbsp; Check the value of lcs_eol in another place. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.722<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;0x202f is not recognized as a non-breaking space character.<br>
Solution:&nbsp;&nbsp; Add 0x202f to the list. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/message.c, src/screen.c<br>
<br>
Patch 7.4.723<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;For indenting, finding the C++ baseclass can be slow.<br>
Solution:&nbsp;&nbsp; Cache the result. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.724<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim icon does not show in Windows context menu. (issue 249)<br>
Solution:&nbsp;&nbsp; Load the icon in GvimExt.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/gvimext.cpp, src/GvimExt/gvimext.h<br>
<br>
Patch 7.4.725<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:call setreg('&quot;', [])&quot; reports an internal error.<br>
Solution:&nbsp;&nbsp; Make the register empty. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.726 (after 7.4.724)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build GvimExt.<br>
Solution:&nbsp;&nbsp; Set APPVER to 5.0.&nbsp;&nbsp;(KF Leong)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/Makefile<br>
<br>
Patch 7.4.727 (after 7.4.724)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build GvimExt with MingW.<br>
Solution:&nbsp;&nbsp; Add -lgdi32.&nbsp;&nbsp;(KF Leong)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/Make_ming.mak<br>
<br>
Patch 7.4.728<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with some version of Visual Studio 2015.<br>
Solution:&nbsp;&nbsp; Recognize another version 14 number. (Sinan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 7.4.729 (after 7.4.721)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Occasional crash with&nbsp;<a class="Type" href="options.html#'list'">'list'</a>&nbsp;set.<br>
Solution:&nbsp;&nbsp; Fix off-by-one error. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.730<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When setting the crypt key and using a swap file, text may be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;encrypted twice or unencrypted text remains in the swap file.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Issue 369)<br>
Solution:&nbsp;&nbsp; Call ml_preserve() before re-encrypting.&nbsp;&nbsp;Set correct index for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;next pointer block.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memfile.c, src/memline.c, src/proto/memline.pro, src/option.c<br>
<br>
Patch 7.4.731<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The tab menu shows &quot;Close tab&quot; even when it doesn't work.<br>
Solution:&nbsp;&nbsp; Don't show &quot;Close tab&quot; for the last tab. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w48.c, src/gui_gtk_x11.c, src/gui_mac.c, src/gui_motif.c<br>
<br>
Patch 7.4.732<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The cursor line is not always updated for the &quot;O&quot; command.<br>
Solution:&nbsp;&nbsp; Reset the VALID_CROW flag. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 7.4.733<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_listchars breaks on MS-Windows. (Kenichi Ito)<br>
Solution:&nbsp;&nbsp; Set fileformat to &quot;unix&quot;. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listchars.in<br>
<br>
Patch 7.4.734<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ml_get error when using &quot;p&quot; in a Visual selection in the last<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line.<br>
Solution:&nbsp;&nbsp; Change the behavior at the last line. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/ops.c, src/testdir/test94.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test94.ok<br>
<br>
Patch 7.4.735<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong argument for sizeof().<br>
Solution:&nbsp;&nbsp; Use a pointer argument. (Chris Hall)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.736<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access.<br>
Solution:&nbsp;&nbsp; Avoid going over the end of a NUL terminated string. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 7.4.737<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows vimgrep over arglist doesn't work (Issue 361)<br>
Solution:&nbsp;&nbsp; Only escape backslashes in ## expansion when it is not used as the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path separator. (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.738 (after 7.4.732)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't compile without the syntax highlighting feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef around use of w_p_cul. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/screen.c<br>
<br>
Patch 7.4.739<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In a string &quot;\U&quot; only takes 4 digits, while after&nbsp;<span class="Special">CTRL-V</span>&nbsp;U eight<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;digits can be used.<br>
Solution:&nbsp;&nbsp; Make &quot;\U&quot; also take eight digits. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.740<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:1quit&quot; works like &quot;:.quit&quot;. (Bohr Shaw)<br>
Solution:&nbsp;&nbsp; Don't exit Vim when a range is specified. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test13.in, src/testdir/test13.ok<br>
<br>
Patch 7.4.741<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using += with &quot;:set&quot; a trailing comma is not recognized.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Issue 365)<br>
Solution:&nbsp;&nbsp; Don't add a second comma. Add a test. (partly by Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_set.in, src/testdir/test_set.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile<br>
<br>
Patch 7.4.742<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot specify a vertical split when loading a buffer for a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quickfix command.<br>
Solution:&nbsp;&nbsp; Add the &quot;vsplit&quot; value to&nbsp;<a class="Type" href="options.html#'switchbuf'">'switchbuf'</a>. (Brook Hong)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/buffer.c, src/option.h<br>
<br>
Patch 7.4.743<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;p&quot; in Visual mode causes an unexpected line split.<br>
Solution:&nbsp;&nbsp; Advance the cursor first. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test94.in, src/testdir/test94.ok<br>
<br>
Patch 7.4.744<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for Ruby and Perl.<br>
Solution:&nbsp;&nbsp; Add minimal tests. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_perl.in, src/testdir/test_perl.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ruby.in, src/testdir/test_ruby.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile<br>
<br>
Patch 7.4.745<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The entries added by matchaddpos() are returned by getmatches()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;but can't be set with setmatches(). (Lcd)<br>
Solution:&nbsp;&nbsp; Fix setmatches(). (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test63.in, src/testdir/test63.ok<br>
<br>
Patch 7.4.746<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:<span class="Special">[count]</span>tag&quot; is not always working. (cs86661)<br>
Solution:&nbsp;&nbsp; Set cur_match a bit later. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c,<br>
<br>
Patch 7.4.747<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:cnext&quot; may jump to the wrong column when setting<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'virtualedit=all' (cs86661)<br>
Solution:&nbsp;&nbsp; Reset the coladd field. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.748 (after 7.4.745)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Buffer overflow.<br>
Solution:&nbsp;&nbsp; Make the buffer larger. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.749 (after 7.4.741)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;For some options two consecutive commas are OK. (Nikolai Pavlov)<br>
Solution:&nbsp;&nbsp; Add the P_ONECOMMA flag.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.750<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with clang 3.5 on Cygwin with perl enabled.<br>
Solution:&nbsp;&nbsp; Strip &quot;-fdebug-prefix-map&quot; in configure. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.751<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not obvious how to enable the address sanitizer.<br>
Solution:&nbsp;&nbsp; Add commented-out flags in the Makefile. (Dominique Pelle)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also add missing test targets.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.752<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unicode 8.0 not supported.<br>
Solution:&nbsp;&nbsp; Update tables for Unicode 8.0.&nbsp;&nbsp;Avoid E36 when running the script.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/tools/unicode.vim, src/mbyte.c<br>
<br>
Patch 7.4.753<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Appending in Visual mode with&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;set does not work<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properly.&nbsp;&nbsp;Also when&nbsp;<a class="Type" href="options.html#'selection'">'selection'</a>&nbsp;is &quot;exclusive&quot;. (Ingo Karkat)<br>
Solution:&nbsp;&nbsp; Recalculate virtual columns. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_listlbr.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr.ok, src/testdir/test_listlbr_utf8.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr_utf8.ok<br>
<br>
Patch 7.4.754<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;<span class="Special">CTRL-A</span>&nbsp;in Visual mode does not work well. (Gary Johnson)<br>
Solution:&nbsp;&nbsp; Make it increment all numbers in the Visual area. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/change.txt, src/normal.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ops.pro, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/test_increment.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment.ok<br>
<br>
Patch 7.4.755<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not easy to count the number of characters.<br>
Solution:&nbsp;&nbsp; Add the skipcc argument to strchars(). (Hirohito Higashi, Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/testdir/test_utf8.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_utf8.ok<br>
<br>
Patch 7.4.756<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't use strawberry Perl 5.22 x64 on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add new defines and #if. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak, src/if_perl.xs<br>
<br>
Patch 7.4.757<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot detect the background color of a terminal.<br>
Solution:&nbsp;&nbsp; Add T_RBG to request the background color if possible. (Lubomir<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rintel)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/term.c, src/term.h, src/proto/term.pro<br>
<br>
Patch 7.4.758<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'conceallevel'">'conceallevel'</a>&nbsp;is 1 and quitting the command-line window with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-C</span>&nbsp;the first character ':' is erased.<br>
Solution:&nbsp;&nbsp; Reset&nbsp;<a class="Type" href="options.html#'conceallevel'">'conceallevel'</a>&nbsp;in the command-line window. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.759<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with Lua 5.3 doesn't work, symbols have changed.<br>
Solution:&nbsp;&nbsp; Use the new names for the new version. (Felix Schnizlein)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c<br>
<br>
Patch 7.4.760<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Spelling mistakes are not displayed after &quot;:syn spell&quot;.<br>
Solution:&nbsp;&nbsp; Force a redraw after &quot;:syn spell&quot; command. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 7.4.761 (after 7.4.757)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The request-background termcode implementation is incomplete.<br>
Solution:&nbsp;&nbsp; Add the missing pieces.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/term.c<br>
<br>
Patch 7.4.762 (after 7.4.757)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Comment for may_req_bg_color() is wrong. (Christ van Willegen)<br>
Solution:&nbsp;&nbsp; Rewrite the comment.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.763 (after 7.4.759)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with Lua 5.1 doesn't work.<br>
Solution:&nbsp;&nbsp; Define lua_replace and lua_remove. (KF Leong)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c<br>
<br>
Patch 7.4.764 (after 7.4.754)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_increment fails on MS-Windows. (Ken Takata)<br>
Solution:&nbsp;&nbsp; Clear Visual mappings. (Taro Muraoka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment.in<br>
<br>
Patch 7.4.765 (after 7.4.754)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-A</span>&nbsp;and&nbsp;<span class="Special">CTRL-X</span>&nbsp;in Visual mode do not always work well.<br>
Solution:&nbsp;&nbsp; Improvements for increment and decrement. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/ops.c, src/testdir/test_increment.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment.ok<br>
<br>
Patch 7.4.766 (after 7.4.757)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Background color check does not work on Tera Term.<br>
Solution:&nbsp;&nbsp; Also recognize ST as a termination character. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.767<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;--remote-tab-silent can fail on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use single quotes to avoid problems with backslashes. (Idea by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Weiyong Mao)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 7.4.768<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:diffoff only works properly once.<br>
Solution:&nbsp;&nbsp; Also make :diffoff work when used a second time. (Olaf Dabrunz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c<br>
<br>
Patch 7.4.769 (after 7.4 768)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Behavior of :diffoff is not tested.<br>
Solution:&nbsp;&nbsp; Add a bit of testing. (Olaf Dabrunz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test47.in, src/testdir/test47.ok<br>
<br>
Patch 7.4.770 (after 7.4.766)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Background color response with transparency is not ignored.<br>
Solution:&nbsp;&nbsp; Change the way escape sequences are recognized. (partly by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ascii.h, src/term.c<br>
<br>
Patch 7.4.771<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Search does not handle multi-byte character at the start position<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;correctly.<br>
Solution:&nbsp;&nbsp; Take byte size of character into account. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/test_search_mbyte.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search_mbyte.ok<br>
<br>
Patch 7.4.772<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Racket 6.2 is not supported on MS-Windows.<br>
Solution:&nbsp;&nbsp; Check for the &quot;racket&quot; subdirectory. (Weiyong Mao)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/if_mzsch.c<br>
<br>
Patch 7.4.773<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'langmap'">'langmap'</a>&nbsp;is used in command-line mode when checking for mappings.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Issue 376.<br>
Solution:&nbsp;&nbsp; Do not use&nbsp;<a class="Type" href="options.html#'langmap'">'langmap'</a>&nbsp;in command-line mode. (Larry Velazquez)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/testdir/test_mapping.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.ok<br>
<br>
Patch 7.4.774<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using the CompleteDone autocommand event it's difficult to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get to the completed items.<br>
Solution:&nbsp;&nbsp; Add the v:completed_items variable. (Shougo Matsu)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, runtime/doc/eval.txt, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/macros.h, src/proto/eval.pro, src/vim.h<br>
<br>
Patch 7.4.775<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not possible to avoid using the first item of completion.<br>
Solution:&nbsp;&nbsp; Add the &quot;noinsert&quot; and &quot;noselect&quot; values to&nbsp;<a class="Type" href="options.html#'completeopt'">'completeopt'</a>. (Shougo<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsu)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/edit.c, src/option.c<br>
<br>
Patch 7.4.776<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Equivalence class for 'd' does not work correctly.<br>
Solution:&nbsp;&nbsp; Fix 0x1e0f and 0x1d0b. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp_nfa.c<br>
<br>
Patch 7.4.777<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The README file doesn't look nice on github.<br>
Solution:&nbsp;&nbsp; Add a markdown version of the README file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, README.md<br>
<br>
Patch 7.4.778<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for uninitialized variable.<br>
Solution:&nbsp;&nbsp; Change condition of assignment.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.779<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;<span class="Special">CTRL-A</span>&nbsp;in a line without a number moves the cursor. May<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cause a crash when at the start of the line. (Urtica Dioica)<br>
Solution:&nbsp;&nbsp; Do not move the cursor if no number was changed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.780<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler complains about uninitialized variable and clobbered<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables.<br>
Solution:&nbsp;&nbsp; Add Initialization.&nbsp;&nbsp;Make variables static.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/main.c<br>
<br>
Patch 7.4.781<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;line2byte() returns one less when&nbsp;<a class="Type" href="options.html#'bin'">'bin'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'noeol'">'noeol'</a>&nbsp;are set.<br>
Solution:&nbsp;&nbsp; Only adjust the size for the last line. (Rob Wu)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 7.4.782<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still a few problems with&nbsp;<span class="Special">CTRL-A</span>&nbsp;and&nbsp;<span class="Special">CTRL-X</span>&nbsp;in Visual mode.<br>
Solution:&nbsp;&nbsp; Fix the reported problems. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c, src/eval.c, src/ex_cmds.c, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/normal.c, src/ops.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/charset.pro, src/testdir/test_increment.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment.ok<br>
<br>
Patch 7.4.783<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;copy_chars() and copy_spaces() are inefficient.<br>
Solution:&nbsp;&nbsp; Use memset() instead. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/misc2.c, src/ops.c, src/proto/misc2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.784<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using both &quot;noinsert&quot; and &quot;noselect&quot; in&nbsp;<a class="Type" href="options.html#'completeopt'">'completeopt'</a>&nbsp;does not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;work properly.<br>
Solution:&nbsp;&nbsp; Change the ins_complete() calls. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.785<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On some systems automatically adding the missing EOL causes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;problems. Setting&nbsp;<a class="Type" href="options.html#'binary'">'binary'</a>&nbsp;has too many side effects.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<a class="Type" href="options.html#'fixeol'">'fixeol'</a>&nbsp;option, default on. (Pavel Samarkin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/fileio.c, src/memline.c, src/netbeans.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/option.c, src/option.h, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/structs.h, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/test_fixeol.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fixeol.ok, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim<br>
<br>
Patch 7.4.786<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not possible for a plugin to adjust to a changed setting.<br>
Solution:&nbsp;&nbsp; Add the OptionSet autocommand event. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, runtime/doc/eval.txt, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/option.c, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd_option.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd_option.ok, src/vim.h<br>
<br>
Patch 7.4.787 (after 7.4.786)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;snprintf() isn't available everywhere.<br>
Solution:&nbsp;&nbsp; Use vim_snprintf(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.788 (after 7.4.787)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build without the crypt feature. (John Marriott)<br>
Solution:&nbsp;&nbsp; Add #ifdef's.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.789 (after 7.4.788)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory and crash. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Correct use of pointers. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.790 (after 7.4.786)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test fails when the autochdir feature is not available.&nbsp;&nbsp;Test<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output contains the test script.<br>
Solution:&nbsp;&nbsp; Check for the autochdir feature. (Kazunobu Kuriyama)&nbsp;&nbsp;Only write<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the relevant test output.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd_option.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd_option.ok<br>
<br>
Patch 7.4.791<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The buffer list can be very long.<br>
Solution:&nbsp;&nbsp; Add an argument to &quot;:ls&quot; to specify the type of buffer to list.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Marcin Szamotulski)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/windows.txt, src/buffer.c, src/ex_cmds.h<br>
<br>
Patch 7.4.792<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can only conceal text by defining syntax items.<br>
Solution:&nbsp;&nbsp; Use matchadd() to define concealing. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/window.pro, src/screen.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/test_match_conceal.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_match_conceal.ok, src/window.c<br>
<br>
Patch 7.4.793<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't specify when not to ring the bell.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<a class="Type" href="options.html#'belloff'">'belloff'</a>&nbsp;option. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/edit.c, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hangulin.c, src/if_lua.c, src/if_mzsch.c, src/if_tcl.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/misc1.c, src/normal.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/proto/misc1.pro, src/search.c, src/spell.c<br>
<br>
Patch 7.4.794<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Visual Studio 2015 is not recognized.<br>
Solution:&nbsp;&nbsp; Add the version numbers to the makefile. (Taro Muraoka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 7.4.795<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;<a class="Type" href="options.html#'fixeol'">'fixeol'</a>&nbsp;option is not copied to a new window.<br>
Solution:&nbsp;&nbsp; Copy the option value. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.796<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning from 64 bit compiler.<br>
Solution:&nbsp;&nbsp; Add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.797<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using more lines for the command line than<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'maxcombine'">'maxcombine'</a>.<br>
Solution:&nbsp;&nbsp; Use the correct array index.&nbsp;&nbsp;Also, do not try redrawing when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exiting.&nbsp;&nbsp;And use screen_Columns instead of Columns.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.798 (after 7.4.753)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Repeating a change in Visual mode does not work as expected.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Urtica Dioica)<br>
Solution:&nbsp;&nbsp; Make redo in Visual mode work better. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_listlbr.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr.ok<br>
<br>
Patch 7.4.799<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing memory before an allocated block.<br>
Solution:&nbsp;&nbsp; Check for not going before the start of a pattern. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.800<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory when triggering CmdUndefined autocommands.<br>
Solution:&nbsp;&nbsp; Set pointer to NULL. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.801 (after 7.4.769)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for &quot;:diffoff&quot; doesn't catch all potential problems.<br>
Solution:&nbsp;&nbsp; Add a :diffthis and a :diffoff command. (Olaf Dabrunz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test47.in<br>
<br>
Patch 7.4.802<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;A&quot; in Visual mode while&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;is set is not tested.<br>
Solution:&nbsp;&nbsp; Add a test for this, verifies the problem is fixed. (Ingo Karkat)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test39.in, src/testdir/test39.ok<br>
<br>
Patch 7.4.803<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;C indent does not support C11 raw strings. (Mark Lodato)<br>
Solution:&nbsp;&nbsp; Do not change indent inside the raw string.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/misc1.c, src/edit.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test3.in, src/testdir/test3.ok<br>
<br>
Patch 7.4.804<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Xxd doesn't have a license notice.<br>
Solution:&nbsp;&nbsp; Add license as indicated by Juergen.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xxd/xxd.c<br>
<br>
Patch 7.4.805<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The ruler shows &quot;Bot&quot; even when there are only filler lines<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;missing. (Gary Johnson)<br>
Solution:&nbsp;&nbsp; Use &quot;All&quot; when the first line and one filler line are visible.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 7.4.806<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-A</span>&nbsp;in Visual mode doesn't work properly with &quot;alpha&quot; in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'nrformats'">'nrformats'</a>.<br>
Solution:&nbsp;&nbsp; Make it work. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_increment.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment.ok<br>
<br>
Patch 7.4.807 (after 7.4.798)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After&nbsp;<span class="Special">CTRL-V</span>&nbsp;<span class="Special">CTRL-A</span>&nbsp;mode isn't updated. (Hirohito Higashi)<br>
Solution:&nbsp;&nbsp; Clear the command line or update the displayed command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 7.4.808<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows 8 IME input doesn't work correctly.<br>
Solution:&nbsp;&nbsp; Read console input before calling MsgWaitForMultipleObjects().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(vim-jp, Nobuhiro Takasaki)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.809 (after 7.4.802)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test is duplicated.<br>
Solution:&nbsp;&nbsp; Roll back 7.4.802.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test39.in, src/testdir/test39.ok<br>
<br>
Patch 7.4.810<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With a sequence of commands using buffers in diff mode E749 is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;given. (itchyny)<br>
Solution:&nbsp;&nbsp; Skip unloaded buffer. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c<br>
<br>
Patch 7.4.811<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access when using &quot;exe&nbsp;<a class="Type" href="options.html#'sc'">'sc'</a>&quot;.<br>
Solution:&nbsp;&nbsp; Avoid going over the end of the string. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.812<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Gcc sanitizer complains about using a NULL pointer to memmove().<br>
Solution:&nbsp;&nbsp; Only call memmove when there is something to move. (Vittorio<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Zecca)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 7.4.813<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not possible to save and restore character search state.<br>
Solution:&nbsp;&nbsp; Add getcharsearch() and setcharsearch().&nbsp;&nbsp;(James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/proto/search.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_charsearch.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_charsearch.ok, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms<br>
<br>
Patch 7.4.814<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access with &quot;sy match a fold&quot;.<br>
Solution:&nbsp;&nbsp; Check for empty string. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 7.4.815<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access when doing &quot;:call g:&quot;.<br>
Solution:&nbsp;&nbsp; Check for an empty name. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.816<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access when doing &quot;:fun X(&quot;.<br>
Solution:&nbsp;&nbsp; Check for missing ')'. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.817<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access in file_pat_to_reg_pat().<br>
Solution:&nbsp;&nbsp; Use vim_isspace() instead of checking for a space only. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.818<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;breaks c% if the last Visual selection was block.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Chris Morganiser, Issue 389)<br>
Solution:&nbsp;&nbsp; Handle Visual block mode differently. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_listlbr.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr.ok<br>
<br>
Patch 7.4.819<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Beeping when running the tests.<br>
Solution:&nbsp;&nbsp; Fix 41 beeps. (Roland Eggner)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test17.in, src/testdir/test29.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test4.in, src/testdir/test61.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test82.in, src/testdir/test83.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test90.in, src/testdir/test95.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autoformat_join.in<br>
<br>
Patch 7.4.820<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access in file_pat_to_reg_pat.<br>
Solution:&nbsp;&nbsp; Avoid looking before the start of a string. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.821<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity reports a few problems.<br>
Solution:&nbsp;&nbsp; Avoid the warnings. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/option.c, src/screen.c<br>
<br>
Patch 7.4.822<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More problems reported by coverity.<br>
Solution:&nbsp;&nbsp; Avoid the warnings. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/eval.c, src/ex_cmds.c, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/fold.c, src/gui.c, src/gui_w16.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/if_cscope.c, src/if_xcmdsrv.c, src/move.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/regexp.c, src/syntax.c, src/ui.c, src/window.c<br>
<br>
Patch 7.4.823<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor moves after&nbsp;<span class="Special">CTRL-A</span>&nbsp;on alphabetic character.<br>
Solution:&nbsp;&nbsp; (Hirohito Higashi, test by Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment.in, src/testdir/test_increment.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.824 (after 7.4.813)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't compile without the multi-byte feature. (John Marriott)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.825<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access for &quot;:syn keyword x a[&quot;.<br>
Solution:&nbsp;&nbsp; Do not skip over the NUL. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 7.4.826<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings and errors.<br>
Solution:&nbsp;&nbsp; Make it build properly without the multi-byte feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/search.c<br>
<br>
Patch 7.4.827<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all test targets are in the Makefile.<br>
Solution:&nbsp;&nbsp; Add the missing targets.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.828<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using &quot;syn keyword x c&quot;. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Initialize the keyword table. (Raymond Ko, PR 397)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 7.4.829<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when clicking in beval balloon. (Travis Lebsock)<br>
Solution:&nbsp;&nbsp; Use PostMessage() instead of DestroyWindow(). (Raymond Ko, PR 298)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.830<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Resetting&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;when doing &quot;:set all&amp;&quot; causes problems.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Bjorn Linse) Display is not updated.<br>
Solution:&nbsp;&nbsp; Do not reset&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>. Do a full redraw.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.831<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When expanding&nbsp;<span class="Comment">=expr</span>&nbsp;on the command line and encountering an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error, the command is executed anyway.<br>
Solution:&nbsp;&nbsp; Bail out when an error is detected.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.832<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;$HOME in&nbsp;<span class="Comment">=$HOME . '/.vimrc'</span>&nbsp;is expanded too early.<br>
Solution:&nbsp;&nbsp; Skip over&nbsp;<span class="Comment">=expr</span>&nbsp;when expanding environment names.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.833<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More side effects of &quot;:set all&amp;&quot; are missing. (Björn Linse)<br>
Solution:&nbsp;&nbsp; Call didset_options() and add didset_options2() to collect more<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;side effects to take care of.&nbsp;&nbsp;Still not everything...<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.834<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;gettabvar() doesn't work after Vim start. (Szymon Wrozynski)<br>
Solution:&nbsp;&nbsp; Handle first window in tab still being NULL. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test91.in, src/testdir/test91.ok<br>
<br>
Patch 7.4.835<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Comparing utf-8 sequences does not handle different byte sizes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;correctly.<br>
Solution:&nbsp;&nbsp; Get the byte size of each character. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 7.4.836<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing uninitialized memory.<br>
Solution:&nbsp;&nbsp; Add missing calls to init_tv(). (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.837<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning with MSVC compiler when using +sniff.<br>
Solution:&nbsp;&nbsp; Use Sleep() instead of _sleep(). (Tux)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_sniff.c<br>
<br>
Patch 7.4.838 (after 7.4.833)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't compile without the crypt feature. (John Marriott)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.839<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning on 64-bit system.<br>
Solution:&nbsp;&nbsp; Add cast to int. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 7.4.840 (after 7.4.829)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tooltip window stays open.<br>
Solution:&nbsp;&nbsp; Send a WM_CLOSE message. (Jurgen Kramer)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.841<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't compile without the multi-byte feature. (John Marriott)<br>
Solution:&nbsp;&nbsp; Add more #ifdef's.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.842 (after 7.4.840)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sending too many messages to close the balloon.<br>
Solution:&nbsp;&nbsp; Only send a WM_CLOSE message. (Jurgen Kramer)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.843 (after 7.4.835)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still possible to go beyond the end of a string.<br>
Solution:&nbsp;&nbsp; Check for NUL also in second string. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 7.4.844<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When '#' is in&nbsp;<a class="Type" href="options.html#'isident'">'isident'</a>&nbsp;the is# comparator doesn't work.<br>
Solution:&nbsp;&nbsp; Don't use vim_isIDc(). (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_comparators.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_comparators.ok, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms<br>
<br>
Patch 7.4.845<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for possible loss of data.<br>
Solution:&nbsp;&nbsp; Add a type cast. (Erich Ritz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.846<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some GitHub users don't know how to use issues.<br>
Solution:&nbsp;&nbsp; Add a file that explains the basics of contributing.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, CONTRIBUTING.md<br>
<br>
Patch 7.4.847<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;vi)d&quot; may leave a character behind.<br>
Solution:&nbsp;&nbsp; Skip over multi-byte character. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 7.4.848<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-A</span>&nbsp;on hex number in Visual block mode is incorrect.<br>
Solution:&nbsp;&nbsp; Account for the &quot;0x&quot;. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c, src/testdir/test_increment.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment.ok<br>
<br>
Patch 7.4.849<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Moving the cursor in Insert mode starts new undo sequence.<br>
Solution:&nbsp;&nbsp; Add&nbsp;<span class="Special">CTRL-G</span>&nbsp;U to keep the undo sequence for the following cursor<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;movement command. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/insert.txt, src/edit.c, src/testdir/test_mapping.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.ok<br>
<br>
Patch 7.4.850 (after 7.4.846)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;Esc&gt;</span>&nbsp;does not show up.<br>
Solution:&nbsp;&nbsp; Use &amp;gt; and &amp;lt;. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CONTRIBUTING.md<br>
<br>
Patch 7.4.851<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Saving and restoring the console buffer does not work properly.<br>
Solution:&nbsp;&nbsp; Instead of ReadConsoleOutputA/WriteConsoleOutputA use<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CreateConsoleScreenBuffer and SetConsoleActiveScreenBuffer.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.852<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows console Vim uses ANSI APIs for keyboard input and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;console output, it cannot input/output Unicode characters.<br>
Solution:&nbsp;&nbsp; Use Unicode APIs for console I/O. (Ken Takata, Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/ui.c, runtime/doc/options.txt<br>
<br>
Patch 7.4.853<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;zt&quot; in diff mode does not always work properly. (Gary Johnson)<br>
Solution:&nbsp;&nbsp; Don't count filler lines twice. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 7.4.854 (after 7.4.850)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing information about runtime files.<br>
Solution:&nbsp;&nbsp; Add section about runtime files. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CONTRIBUTING.md<br>
<br>
Patch 7.4.855<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GTK: font glitches for combining characters<br>
Solution:&nbsp;&nbsp; Use pango_shape_full() instead of pango_shape(). (luchr, PR #393)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 7.4.856<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;zt&quot; still doesn't work well with filler lines. (Gary Johnson)<br>
Solution:&nbsp;&nbsp; Check for filler lines above the cursor. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 7.4.857<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dragging the current tab with the mouse doesn't work properly.<br>
Solution:&nbsp;&nbsp; Take the current tabpage index into account. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 7.4.858<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It's a bit clumsy to execute a command on a list of matches.<br>
Solution:&nbsp;&nbsp; Add the &quot;:ldo&quot;, &quot;:lfdo&quot;, &quot;:cdo&quot; and &quot;:cfdo&quot; commands. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/cmdline.txt, runtime/doc/editing.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/index.txt, runtime/doc/quickfix.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/tabpage.txt, runtime/doc/windows.txt, src/ex_cmds.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/ex_docmd.c, src/proto/quickfix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_os2.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/test_cdo.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cdo.ok<br>
<br>
Patch 7.4.859<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim doesn't recognize all htmldjango files.<br>
Solution:&nbsp;&nbsp; Recognize a comment. (Daniel Hahler, PR #410)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim<br>
<br>
Patch 7.4.860<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Filetype detection is outdated.<br>
Solution:&nbsp;&nbsp; Include all recent and not-so-recent changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim<br>
<br>
Patch 7.4.861 (after 7.4.855)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;pango_shape_full() is not always available.<br>
Solution:&nbsp;&nbsp; Add a configure check.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure, src/config.h.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 7.4.862 (after 7.4.861)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still problems with pango_shape_full() not available.<br>
Solution:&nbsp;&nbsp; Change AC_TRY_COMPILE to AC_TRY_LINK.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.863 (after 7.4.856)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;plines_nofill() used without the diff feature.<br>
Solution:&nbsp;&nbsp; Define PLINES_NOFILL().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h, src/move.c<br>
<br>
Patch 7.4.864 (after 7.4.858)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tiny build fails.<br>
Solution:&nbsp;&nbsp; Put qf_ items inside #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.865<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for uninitialized variable.<br>
Solution:&nbsp;&nbsp; Initialize.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.866<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when changing the&nbsp;<a class="Type" href="options.html#'tags'">'tags'</a>&nbsp;option from a remote command.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Benjamin Fritz)<br>
Solution:&nbsp;&nbsp; Instead of executing messages immediately, use a queue, like for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;netbeans. (James Kolb)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/getchar.c, src/gui_gtk_x11.c, src/gui_w48.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c, src/if_xcmdsrv.c, src/misc2.c, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/if_xcmdsrv.pro, src/proto/misc2.pro, src/macros.h<br>
<br>
Patch 7.4.867 (after 7.4.866)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build on MS-Windows. (Taro Muraoka)<br>
Solution:&nbsp;&nbsp; Adjust #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 7.4.868<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'smarttab'">'smarttab'</a>&nbsp;is also effective when&nbsp;<a class="Type" href="options.html#'paste'">'paste'</a>&nbsp;is enabled. (Alexander<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Monakov)<br>
Solution:&nbsp;&nbsp; Disable&nbsp;<a class="Type" href="options.html#'smarttab'">'smarttab'</a>&nbsp;when&nbsp;<a class="Type" href="options.html#'paste'">'paste'</a>&nbsp;is set. (Christian Brabandt)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do the same for&nbsp;<a class="Type" href="options.html#'expandtab'">'expandtab'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/structs.h<br>
<br>
Patch 7.4.869<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: scrolling may cause text to disappear when using an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Intel GPU.<br>
Solution:&nbsp;&nbsp; Call GetPixel(). (Yohei Endo)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w48.c<br>
<br>
Patch 7.4.870<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May get into an invalid state when using getchar() in an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression mapping.<br>
Solution:&nbsp;&nbsp; Anticipate mod_mask to change. (idea by Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 7.4.871<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim leaks memory, when&nbsp;<a class="Type" href="options.html#'wildignore'">'wildignore'</a>&nbsp;filters out all matches.<br>
Solution:&nbsp;&nbsp; Free the files array when it becomes empty.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.872<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not using CI services available.<br>
Solution:&nbsp;&nbsp; Add configuration files for travis and appveyor. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim-jp, PR #401)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml, appveyor.yml, Filelist<br>
<br>
Patch 7.4.873 (after 7.4.866)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused variable. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Remove the variable.&nbsp;&nbsp;Also fix int vs long_u mixup.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_xcmdsrv.c<br>
<br>
Patch 7.4.874<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: When Vim runs inside another application, the size<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isn't right.<br>
Solution:&nbsp;&nbsp; When in child mode compute the size differently. (Agorgianitis<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loukas)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w48.c<br>
<br>
Patch 7.4.875<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not obvious how to contribute.<br>
Solution:&nbsp;&nbsp; Add a remark about CONTRIBUTING.md to README.md<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.md<br>
<br>
Patch 7.4.876<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Windows7: when using vim.exe with msys or msys2, conhost.exe<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(console window provider on Windows7) will freeze or crash.<br>
Solution:&nbsp;&nbsp; Make original screen buffer active, before executing external<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;program.&nbsp;&nbsp;And when the program is finished, revert to vim's one.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Taro Muraoka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.877 (after 7.4.843)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:find&quot; sometimes fails. (Excanoe)<br>
Solution:&nbsp;&nbsp; Compare current characters instead of previous ones.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 7.4.878<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity error for clearing only one byte of struct.<br>
Solution:&nbsp;&nbsp; Clear the whole struct. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.879<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't see line numbers in nested function calls.<br>
Solution:&nbsp;&nbsp; Add line number to the file name. (Alberto Fanjul)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.880<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No build and coverage status.<br>
Solution:&nbsp;&nbsp; Add links to the README file. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.md<br>
<br>
Patch 7.4.881 (after 7.4.879)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 49 fails.<br>
Solution:&nbsp;&nbsp; Add line number to check of call stack.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test49.vim<br>
<br>
Patch 7.4.882<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When leaving the command line window with&nbsp;<span class="Special">CTRL-C</span>&nbsp;while a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;completion menu is displayed the menu isn't removed.<br>
Solution:&nbsp;&nbsp; Force a screen update. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.883 (after 7.4.818)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Block-mode replace works characterwise instead of blockwise after<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column 147. (Issue #422)<br>
Solution:&nbsp;&nbsp; Set Visual mode. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_listlbr.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr.ok<br>
<br>
Patch 7.4.884<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Travis also builds on a tag push.<br>
Solution:&nbsp;&nbsp; Filter out tag pushes. (Kenichi Ito)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 7.4.885<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When doing an upwards search without wildcards the search fails if<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the initial directory doesn't exist.<br>
Solution:&nbsp;&nbsp; Fix the non-wildcard case. (Stefan Kempf)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 7.4.886 (after 7.4.876)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Windows7: Switching screen buffer causes flicker when using<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;system().<br>
Solution:&nbsp;&nbsp; Instead of actually switching screen buffer, duplicate the handle.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.887<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using uninitialized memory for regexp with back reference.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Initialize end_lnum.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.888<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The OptionSet autocommands are not triggered from setwinvar().<br>
Solution:&nbsp;&nbsp; Do not use switch_win() when not needed. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.889<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Triggering OptionSet from setwinvar() isn't tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd_option.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd_option.ok<br>
<br>
Patch 7.4.890<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure when using dynamic python but not python3.<br>
Solution:&nbsp;&nbsp; Adjust the #if to also include DYNAMIC_PYTHON3 and UNIX.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python3.c<br>
<br>
Patch 7.4.891<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Indentation of array initializer is wrong.<br>
Solution:&nbsp;&nbsp; Avoid that calling find_start_rawstring() changes the position<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned by find_start_comment(), add a test. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok<br>
<br>
Patch 7.4.892<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows the iconv DLL may have a different name.<br>
Solution:&nbsp;&nbsp; Also try libiconv2.dll and libiconv-2.dll. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 7.4.893<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;C indenting is wrong below a &quot;case (foo):&quot; because it is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recognized as a C++ base class construct.&nbsp;&nbsp;Issue #38.<br>
Solution:&nbsp;&nbsp; Check for the case keyword.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok<br>
<br>
Patch 7.4.894<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;vimrun.exe is picky about the number of spaces before -s.<br>
Solution:&nbsp;&nbsp; Skip all spaces. (Cam Sinclair)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vimrun.c<br>
<br>
Patch 7.4.895<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Custom command line completion does not work for a command<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containing digits.<br>
Solution:&nbsp;&nbsp; Skip over the digits. (suggested by Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.896<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Editing a URL, which netrw should handle, doesn't work.<br>
Solution:&nbsp;&nbsp; Avoid changing slashes to backslashes. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/os_mswin.c<br>
<br>
Patch 7.4.897<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Freeze and crash when there is a sleep in a remote command.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Karl Yngve Lervåg)<br>
Solution:&nbsp;&nbsp; Remove a message from the queue before dealing with it. (James<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kolb)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_xcmdsrv.c<br>
<br>
Patch 7.4.898<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;<a class="Type" href="options.html#'fixendofline'">'fixendofline'</a>&nbsp;option is set on with &quot;:edit&quot;.<br>
Solution:&nbsp;&nbsp; Don't set the option when clearing a buffer. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 7.4.899<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;README file is not optimal.<br>
Solution:&nbsp;&nbsp; Move buttons, update some text. (closes #460)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.txt, README.md<br>
<br>
Patch 7.4.900 (after 7.4.899)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;README file can still be improved<br>
Solution:&nbsp;&nbsp; Add a couple of links. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.md<br>
<br>
Patch 7.4.901<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a BufLeave autocommand changes folding in a way it syncs<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;undo, undo can be corrupted.<br>
Solution:&nbsp;&nbsp; Prevent undo sync. (Jacob Niehus)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 7.4.902<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Problems with using the MS-Windows console.<br>
Solution:&nbsp;&nbsp; Revert patches 7.4.851, 7.4.876 and 7.4.886 until we find a better<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;solution. (suggested by Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.903<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: When&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;differs from the current code page,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expanding wildcards may cause illegal memory access.<br>
Solution:&nbsp;&nbsp; Allocate a longer buffer. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.904<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim does not provide .desktop files.<br>
Solution:&nbsp;&nbsp; Include and install .desktop files. (James McCoy, closes #455)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, runtime/vim.desktop, runtime/gvim.desktop, src/Makefile<br>
<br>
Patch 7.4.905<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python interface can produce error &quot;vim.message' object has no<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attribute&nbsp;<span class="MissingTag">'isatty'</span>&quot;.<br>
Solution:&nbsp;&nbsp; Add dummy isatty(), readable(), etc. (closes #464)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/testdir/test86.in, src/testdir/test86.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test87.in, src/testdir/test87.ok<br>
<br>
Patch 7.4.906<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows the viminfo file is (always) given the hidden<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attribute. (raulnac)<br>
Solution:&nbsp;&nbsp; Check the hidden attribute in a different way. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/os_win32.c, src/os_win32.pro<br>
<br>
Patch 7.4.907<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Libraries for dynamically loading interfaces can only be defined<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at compile time.<br>
Solution:&nbsp;&nbsp; Add options to specify the dll names. (Kazuki Sakamoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #452)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_lua.txt, runtime/doc/if_perl.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_pyth.txt, runtime/doc/if_ruby.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/if_lua.c, src/if_perl.xs,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python.c, src/if_python3.c, src/if_ruby.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h<br>
<br>
Patch 7.4.908 (after 7.4.907)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build error with MingW compiler. (Cesar Romani)<br>
Solution:&nbsp;&nbsp; Change #if into #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 7.4.909 (after 7.4.905)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make install&quot; fails.<br>
Solution:&nbsp;&nbsp; Only try installing desktop files if the destination directory<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exists.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.910 (after 7.4.905)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler complains about type punned pointer.<br>
Solution:&nbsp;&nbsp; Use another way to increment the ref count.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 7.4.911<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;t_Ce and t_Cs are documented but not supported. (Hirohito Higashi)<br>
Solution:&nbsp;&nbsp; Define the options.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.912<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong indenting for C++ constructor.<br>
Solution:&nbsp;&nbsp; Recognize ::.&nbsp;&nbsp;(Anhong)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok<br>
<br>
Patch 7.4.913<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No utf-8 support for the hangul input feature.<br>
Solution:&nbsp;&nbsp; Add utf-8 support. (Namsh)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/hangulin.c, src/proto/hangulin.pro, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c, runtime/doc/hangulin.txt, src/feature.h<br>
<br>
Patch 7.4.914<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New compiler warning: logical-not-parentheses<br>
Solution:&nbsp;&nbsp; Silence the warning.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.915<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When removing from&nbsp;<a class="Type" href="options.html#'path'">'path'</a>&nbsp;and then adding, a comma may go missing.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Malcolm Rowe)<br>
Solution:&nbsp;&nbsp; Fix the check for P_ONECOMMA. (closes #471)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_options.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.ok<br>
<br>
Patch 7.4.916<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When running out of memory while copying a dict memory may be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;freed twice. (ZyX)<br>
Solution:&nbsp;&nbsp; Do not call the garbage collector when running out of memory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 7.4.917<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for comparing signed and unsigned.<br>
Solution:&nbsp;&nbsp; Add a type cast.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hangulin.c<br>
<br>
Patch 7.4.918<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A digit in an option name has problems.<br>
Solution:&nbsp;&nbsp; Rename 'python3dll' to&nbsp;<a class="Type" href="options.html#'pythonthreedll'">'pythonthreedll'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/option.h, runtime/doc/options.txt<br>
<br>
Patch 7.4.919<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The dll options are not in the options window.<br>
Solution:&nbsp;&nbsp; Add the dll options.&nbsp;&nbsp;And other fixes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim<br>
<br>
Patch 7.4.920<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The rubydll option is not in the options window.<br>
Solution:&nbsp;&nbsp; Add the rubydll option.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim<br>
<br>
Patch 7.4.921 (after 7.4.906)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing proto file update. (Randall W. Morris)<br>
Solution:&nbsp;&nbsp; Add the missing line for mch_ishidden.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_win32.pro<br>
<br>
Patch 7.4.922<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory with &quot;:helpt&nbsp;<span class="Special">{dir-not-exists}</span>&quot;.<br>
Solution:&nbsp;&nbsp; Free dirname. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.923<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Prototypes not always generated.<br>
Solution:&nbsp;&nbsp; Change #if to OR with PROTO.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.924<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;DEVELOPER_DIR gets reset by configure.<br>
Solution:&nbsp;&nbsp; Do not reset DEVELOPER_DIR when there is no --with-developer-dir<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;argument. (Kazuki Sakamoto, closes #482)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.925<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;User may yank or put using the register being recorded in.<br>
Solution:&nbsp;&nbsp; Add the recording register in the message. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #470)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/repeat.txt, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/screen.c<br>
<br>
Patch 7.4.926<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completing the longest match doesn't work properly with multi-byte<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;characters.<br>
Solution:&nbsp;&nbsp; When using multi-byte characters use another way to find the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;longest match. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_utf8.in, src/testdir/test_utf8.ok<br>
<br>
Patch 7.4.927<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ruby crashes when there is a runtime error.<br>
Solution:&nbsp;&nbsp; Use ruby_options() instead of ruby_process_options(). (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 7.4.928<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A clientserver message interrupts handling keys of a mapping.<br>
Solution:&nbsp;&nbsp; Have mch_inchar() send control back to WaitForChar when it is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interrupted by server message. (James Kolb)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.929<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;gv&quot; after paste selects one character less if&nbsp;<a class="Type" href="options.html#'selection'">'selection'</a>&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;exclusive&quot;.<br>
Solution:&nbsp;&nbsp; Increment the end position. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test94.in, src/testdir/test94.ok<br>
<br>
Patch 7.4.930<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Most users appear not to like the window border.<br>
Solution:&nbsp;&nbsp; Remove WS_EX_CLIENTEDGE. (Ian Halliday)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.931 (after 7.4.929)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 94 fails on some systems.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;to utf-8.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test94.in<br>
<br>
Patch 7.4.932 (after 7.4.926)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_utf8 has confusing dummy command.<br>
Solution:&nbsp;&nbsp; Use a real command instead of a colon.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_utf8.in<br>
<br>
Patch 7.4.933 (after 7.4.926)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using longest completion match.<br>
Solution:&nbsp;&nbsp; Fix array index.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.934<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Appveyor also builds on a tag push.<br>
Solution:&nbsp;&nbsp; Add a skip_tags line. (Kenichi Ito, closes #489)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;appveyor.yml<br>
<br>
Patch 7.4.935 (after 7.4.932)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_utf8 fails on MS-Windows when executed with gvim.<br>
Solution:&nbsp;&nbsp; Use the insert flag on feedkeys() to put the string before the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;:&quot; that was already read when checking for available chars.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_utf8.in<br>
<br>
Patch 7.4.936<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when dragging with the mouse.<br>
Solution:&nbsp;&nbsp; Add safety check for NULL pointer. Check mouse position for valid<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/term.c<br>
<br>
Patch 7.4.937<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Segfault reading uninitialized memory.<br>
Solution:&nbsp;&nbsp; Do not read match \z0, it does not exist. (Marius Gedminas, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#497)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.938<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;X11 and GTK have more mouse buttons than Vim supports.<br>
Solution:&nbsp;&nbsp; Recognize more mouse buttons. (Benoit Pierre, closes #498)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/gui_x11.c<br>
<br>
Patch 7.4.939<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak when encountering a syntax error.<br>
Solution:&nbsp;&nbsp; Free the memory. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.940<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;vt52 terminal codes are not correct.<br>
Solution:&nbsp;&nbsp; Move entries outside of #if. (Random)&nbsp;&nbsp;Adjustments based on<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;documented codes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.941<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no way to ignore case only for tag searches.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<a class="Type" href="options.html#'tagcase'">'tagcase'</a>&nbsp;option. (Gary Johnson)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/quickref.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/tagsrch.txt, runtime/doc/usr_29.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim, src/Makefile, src/buffer.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/structs.h, src/tag.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tagcase.in, src/testdir/test_tagcase.ok<br>
<br>
Patch 7.4.942 (after 7.4.941)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_tagcase breaks for small builds.<br>
Solution:&nbsp;&nbsp; Bail out of the test early. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tagcase.in<br>
<br>
Patch 7.4.943<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests are not run.<br>
Solution:&nbsp;&nbsp; Add test_writefile to makefiles. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile<br>
<br>
Patch 7.4.944<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Writing tests for Vim script is hard.<br>
Solution:&nbsp;&nbsp; Add assertEqual(), assertFalse() and assertTrue() functions.&nbsp;&nbsp;Add<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the v:errors variable.&nbsp;&nbsp;Add the runtest script. Add a first new<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style test script.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/vim.h, src/misc2.c, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/testdir/test_assert.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.945 (after 7.4.944)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New style testing is incomplete.<br>
Solution:&nbsp;&nbsp; Add the runtest script to the list of distributed files.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add the new functions to the function overview.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rename the functions to match Vim function style.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Move undolevels testing into a new style test script.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, runtime/doc/usr_41.txt, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_assert.vim, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_undolevels.vim, src/testdir/test100.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test100.ok<br>
<br>
Patch 7.4.946 (after 7.4.945)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing changes in source file.<br>
Solution:&nbsp;&nbsp; Include changes to the eval.c file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.947<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_listchars fails with MingW. (Michael Soyka)<br>
Solution:&nbsp;&nbsp; Add the test to the ones that need the fileformat fixed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak<br>
<br>
Patch 7.4.948<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build when the insert_expand feature is disabled.<br>
Solution:&nbsp;&nbsp; Add #ifdefs. (Dan Pasanen, closes #499)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/fileio.c<br>
<br>
Patch 7.4.949<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using&nbsp;<a class="Type" href="options.html#'colorcolumn'">'colorcolumn'</a>&nbsp;and there is a sign with a fullwidth<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;character the highlighting is wrong. (Andrew Stewart)<br>
Solution:&nbsp;&nbsp; Only increment vcol when in the right state. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_listlbr_utf8.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr_utf8.ok<br>
<br>
Patch 7.4.950<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;v:errors is not initialized.<br>
Solution:&nbsp;&nbsp; Initialize it to an empty list. (Thinca)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.951<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sorting number strings does not work as expected. (Luc Hermitte)<br>
Solution:&nbsp;&nbsp; Add the &quot;<span class="Special">N</span>&quot; argument to sort()<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/doc/eval.txt, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_sort.vim, src/testdir/Makefile<br>
<br>
Patch 7.4.952<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'lispwords'">'lispwords'</a>&nbsp;is tested in the old way.<br>
Solution:&nbsp;&nbsp; Make a new style test for&nbsp;<a class="Type" href="options.html#'lispwords'">'lispwords'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/test_lispwords.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test100.in, src/testdir/test100.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile<br>
<br>
Patch 7.4.953<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a test script navigates to another buffer the .res file is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;created with the wrong name.<br>
Solution:&nbsp;&nbsp; Use the &quot;testname&quot; for the .res file. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 7.4.954<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using Lua there may be a crash. (issue #468)<br>
Solution:&nbsp;&nbsp; Avoid using an uninitialized tv. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c<br>
<br>
Patch 7.4.955<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim doesn't recognize .pl6 and .pod6 files.<br>
Solution:&nbsp;&nbsp; Recognize them as perl6 and pod6. (Mike Eve, closes #511)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim<br>
<br>
Patch 7.4.956<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A few more file name extensions not recognized.<br>
Solution:&nbsp;&nbsp; Add .asciidoc, .bzl, .gradle, etc.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim<br>
<br>
Patch 7.4.957<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_tagcase fails when using another language than English.<br>
Solution:&nbsp;&nbsp; Set the messages language to C. (Kenichi Ito)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tagcase.in<br>
<br>
Patch 7.4.958<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim checks if the directory &quot;$TMPDIR&quot; exists.<br>
Solution:&nbsp;&nbsp; Do not check if the name starts with &quot;$&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.959<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When setting&nbsp;<a class="Type" href="options.html#'term'">'term'</a>&nbsp;the clipboard ownership is lost.<br>
Solution:&nbsp;&nbsp; Do not call clip_init(). (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.960<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Detecting every version of nmake is clumsy.<br>
Solution:&nbsp;&nbsp; Use a tiny C program to get the version of _MSC_VER. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 7.4.961<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test107 fails in some circumstances.<br>
Solution:&nbsp;&nbsp; When using &quot;zt&quot;, &quot;zb&quot; and &quot;z=&quot; recompute the fraction.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/window.c, src/proto/window.pro<br>
<br>
Patch 7.4.962<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot run the tests with gvim.&nbsp;&nbsp;Cannot run individual new tests.<br>
Solution:&nbsp;&nbsp; Add the -f flag. Add new test targets in Makefile.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Makefile<br>
<br>
Patch 7.4.963<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_listlbr_utf8 sometimes fails.<br>
Solution:&nbsp;&nbsp; Don't use a literal multibyte character but&nbsp;<span class="Special">&lt;C-V&gt;</span>uXXXX. Do not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dump the screen highlighting. (Christian Brabandt, closes #518)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr_utf8.in, src/testdir/test_listlbr_utf8.ok<br>
<br>
Patch 7.4.964<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 87 doesn't work in a shadow directory.<br>
Solution:&nbsp;&nbsp; Handle the extra subdirectory. (James McCoy, closes #515)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test87.in<br>
<br>
Patch 7.4.965<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On FreeBSD /dev/fd/ files are special.<br>
Solution:&nbsp;&nbsp; Use is_dev_fd_file() also for FreeBSD. (Derek Schrock, closes #521)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.966<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure doesn't work with a space in a path.<br>
Solution:&nbsp;&nbsp; Put paths in quotes. (James McCoy, closes #525)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.967<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cross compilation on MS-windows doesn't work well.<br>
Solution:&nbsp;&nbsp; Tidy up cross compilation across architectures with Visual Studio.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 7.4.968<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test86 and test87 are flaky in Appveyor.<br>
Solution:&nbsp;&nbsp; Reduce the count from 8 to 7. (suggested by ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test86.in, src/testdir/test87.in<br>
<br>
Patch 7.4.969<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings on Windows x64 build.<br>
Solution:&nbsp;&nbsp; Add type casts. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.970<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Rare crash in getvcol(). (Timo Mihaljov)<br>
Solution:&nbsp;&nbsp; Check for the buffer being NULL in init_preedit_start_col.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Hirohito Higashi, Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 7.4.971<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The asin() function can't be used.<br>
Solution:&nbsp;&nbsp; Sort the function table properly. (Watiko)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.972<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak when there is an error in setting an option.<br>
Solution:&nbsp;&nbsp; Free the saved value (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.973<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When pasting on the command line line breaks result in literal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;CR&gt;</span>&nbsp;characters. This makes pasting a long file name difficult.<br>
Solution:&nbsp;&nbsp; Skip the characters.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/ops.c<br>
<br>
Patch 7.4.974<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using :diffsplit the cursor jumps to the first line.<br>
Solution:&nbsp;&nbsp; Put the cursor on the line related to where the cursor was before<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the split.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c<br>
<br>
Patch 7.4.975<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;:sort&quot; on a very big file sometimes causes text to be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corrupted. (John Beckett)<br>
Solution:&nbsp;&nbsp; Copy the line into a buffer before calling ml_append().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.976<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When compiling Vim for MSYS2 (linked with msys-2.0.dll), the Win32<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clipboard is not enabled.<br>
Solution:&nbsp;&nbsp; Recognize MSYS like CYGWIN. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.977<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;does not work properly when using &quot;space&quot; in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'listchars'">'listchars'</a>.<br>
Solution:&nbsp;&nbsp; (Hirohito Higashi, Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_listlbr.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr.ok<br>
<br>
Patch 7.4.978<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_cdo fails when using another language than English.<br>
Solution:&nbsp;&nbsp; Set the language to C. (Dominique Pelle, Kenichi Ito)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cdo.in<br>
<br>
Patch 7.4.979<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When changing the crypt key the blocks read from disk are not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decrypted.<br>
Solution:&nbsp;&nbsp; Also call ml_decrypt_data() when mf_old_key is set. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memfile.c<br>
<br>
Patch 7.4.980<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests for :cdo, :ldo, etc. are outdated.<br>
Solution:&nbsp;&nbsp; Add new style tests for these commands. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cdo.in, src/testdir/test_cdo.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cdo.vim<br>
<br>
Patch 7.4.981<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;An error in a test script goes unnoticed.<br>
Solution:&nbsp;&nbsp; Source the test script inside try/catch. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 7.4.982<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Keeping the list of tests updated is a hassle.<br>
Solution:&nbsp;&nbsp; Move the list to a separate file, so that it only needs to be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;updated in one place.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 7.4.983<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Executing one test after &quot;make testclean&quot; doesn't work.<br>
Solution:&nbsp;&nbsp; Add a dependency on test1.out.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 7.4.984<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;searchpos() always starts searching in the first column, which is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not what some people expect. (Brett Stahlman)<br>
Solution:&nbsp;&nbsp; Add the 'z' flag: start at the specified column.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/eval.c, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_searchpos.vim, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.985<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Ruby 2.3.0.<br>
Solution:&nbsp;&nbsp; Use the new TypedData_XXX macro family instead of Data_XXX. Use<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TypedData. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 7.4.986<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test49 doesn't work on MS-Windows.&nbsp;&nbsp;test70 is listed twice.<br>
Solution:&nbsp;&nbsp; Move test49 to the group not used on Amiga and MS-Windows.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove test70 from SCRIPTS_WIN32.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/Make_dos.mak<br>
<br>
Patch 7.4.987 (after 7.4.985)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Ruby 1.9.2.<br>
Solution:&nbsp;&nbsp; Require Rub 2.0 for defining USE_TYPEDDATA.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 7.4.988 (after 7.4.982)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Default test target is test49.out.<br>
Solution:&nbsp;&nbsp; Add a build rule before including Make_all.mak.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_os2.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile<br>
<br>
Patch 7.4.989<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory when hash_add() fails. Coverity error 99126.<br>
Solution:&nbsp;&nbsp; When hash_add() fails free the memory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.990<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 86 fails on AppVeyor.<br>
Solution:&nbsp;&nbsp; Do some registry magic. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;appveyor.yml<br>
<br>
Patch 7.4.991<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When running new style tests the output is not visible.<br>
Solution:&nbsp;&nbsp; Add the testdir/messages file and show it.&nbsp;&nbsp;Update the list of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test names.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Makefile, src/testdir/runtest.vim<br>
<br>
Patch 7.4.992<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Makefiles for MS-Windows in src/po are outdated.<br>
Solution:&nbsp;&nbsp; Make them work. (Ken Takata, Taro Muraoka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Make_cyg.mak, src/po/Make_ming.mak, src/po/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/README_mingw.txt, src/po/README_mvc.txt<br>
<br>
Patch 7.4.993<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 87 is flaky on AppVeyor.<br>
Solution:&nbsp;&nbsp; Reduce the minimum background thread count.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test86.in, src/testdir/test87.in<br>
<br>
Patch 7.4.994<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New style tests are not run on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add the new style tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak<br>
<br>
Patch 7.4.995<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;gdk_pixbuf_new_from_inline() is deprecated.<br>
Solution:&nbsp;&nbsp; Generate auto/gui_gtk_gresources.c. (Kazunobu Kuriyama,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #507)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/auto/configure, src/config.h.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.mk.in, src/configure.in, src/gui_gtk.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_gresources.xml, src/gui_gtk_x11.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_gtk_gresources.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixmaps/stock_vim_build_tags.png, pixmaps/stock_vim_find_help.png,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixmaps/stock_vim_save_all.png,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixmaps/stock_vim_session_load.png,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixmaps/stock_vim_session_new.png,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixmaps/stock_vim_session_save.png, pixmaps/stock_vim_shell.png,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixmaps/stock_vim_window_maximize.png,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixmaps/stock_vim_window_maximize_width.png,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixmaps/stock_vim_window_minimize.png,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixmaps/stock_vim_window_minimize_width.png,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixmaps/stock_vim_window_split.png,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pixmaps/stock_vim_window_split_vertical.png<br>
<br>
Patch 7.4.996<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New GDK files and testdir/Make_all.mak missing from distribution.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PC build instructions are outdated.<br>
Solution:&nbsp;&nbsp; Add the file to the list.&nbsp;&nbsp;Update PC build instructions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, Makefile<br>
<br>
Patch 7.4.997<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make shadow&quot; was sometimes broken.<br>
Solution:&nbsp;&nbsp; Add a test for it. (James McCoy, closes #520)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 7.4.998<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running tests in shadow directory fails.&nbsp;&nbsp;Test 49 fails.<br>
Solution:&nbsp;&nbsp; Link more files for the shadow directory. Make test 49 ends up in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the right buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/test49.in<br>
<br>
Patch 7.4.999<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make shadow&quot; creates a broken link. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Remove vimrc.unix from the list.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.1000<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 49 is slow and doesn't work on MS-Windows.<br>
Solution:&nbsp;&nbsp; Start moving parts of test 49 to test_viml.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/runtest.vim, src/testdir/test_viml.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test49.vim, src/testdir/test49.ok<br>
<br>
Patch 7.4.1001 (after 7.4.1000)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_viml isn't run.<br>
Solution:&nbsp;&nbsp; Include change in makefile.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 7.4.1002<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot run an individual test on MS-Windows.<br>
Solution:&nbsp;&nbsp; Move the rule to run test1 downwards. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak<br>
<br>
Patch 7.4.1003<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Travis could check a few more things.<br>
Solution:&nbsp;&nbsp; Run autoconf on one of the builds. (James McCoy, closes #510)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also build with normal features.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 7.4.1004<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using Makefile when auto/config.mk does not exist results in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warnings.<br>
Solution:&nbsp;&nbsp; Use default values for essential variables.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.1005<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim users are not always happy.<br>
Solution:&nbsp;&nbsp; Make them happy.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/ex_cmds.c, src/proto/ex_cmds.pro<br>
<br>
Patch 7.4.1006<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The fix in patch 7.3.192 is not tested.<br>
Solution:&nbsp;&nbsp; Add a test, one for each regexp engine. (Elias Diem)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test44.in, src/testdir/test44.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test99.in, src/testdir/test99.ok<br>
<br>
Patch 7.4.1007<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a symbolic link points to a file in the root directory, the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;swapfile is not correct.<br>
Solution:&nbsp;&nbsp; Do not try getting the full name of a file in the root directory.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Milly, closes #501)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1008<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The OS/2 code pollutes the source while nobody uses it these days.<br>
Solution:&nbsp;&nbsp; Drop the support for OS/2.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/globals.h, src/macros.h, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_unix.h, src/proto/os_unix.pro, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/digraph.c, src/eval.c, src/ex_cmds.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/fileio.c, src/getchar.c, src/memline.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/misc2.c, src/netbeans.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/ui.c, src/window.c, src/os_os2_cfg.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_os2.mak, src/testdir/Make_os2.mak, src/testdir/os2.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALL, runtime/doc/os_os2.txt<br>
<br>
Patch 7.4.1009<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There are still #ifdefs for ARCHIE.<br>
Solution:&nbsp;&nbsp; Remove references to ARCHIE, the code was removed in Vim 5.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_docmd.c, src/fileio.c, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/option.c, src/term.c<br>
<br>
Patch 7.4.1010<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some developers are unhappy while running tests.<br>
Solution:&nbsp;&nbsp; Add a test and some color.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_assert.vim<br>
<br>
Patch 7.4.1011<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Strawberry Perl.<br>
Solution:&nbsp;&nbsp; Include stdbool.h. (Ken Takata, closes #328)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_mvc.mak, src/if_perl_msvc/stdbool.h<br>
<br>
Patch 7.4.1012<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim overwrites the value of $PYTHONHOME.<br>
Solution:&nbsp;&nbsp; Do not set $PYTHONHOME if it is already set. (Kazuki Sakamoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #500)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python.c, src/if_python3.c<br>
<br>
Patch 7.4.1013<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The local value of&nbsp;<a class="Type" href="options.html#'errorformat'">'errorformat'</a>&nbsp;is not used for &quot;:lexpr&quot; and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;:cexpr&quot;.<br>
Solution:&nbsp;&nbsp; Use the local value if it exists. (Christian Brabandt) Adjust the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;help for this.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/quickfix.txt, src/quickfix.c<br>
<br>
Patch 7.4.1014<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Comment">fnamemodify('.', ':.')</span>&nbsp;returns an empty string in Cygwin.<br>
Solution:&nbsp;&nbsp; Use CCP_RELATIVE in the call to cygwin_conv_path. (Jacob Niehus,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #505)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1015<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The column is not restored properly when the matchparen plugin is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;used in Insert mode and the cursor is after the end of the line.<br>
Solution:&nbsp;&nbsp; Set the curswant flag. (Christian Brabandt).&nbsp;&nbsp;Also fix<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;highlighting the match of the character before the cursor.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/plugin/matchparen.vim<br>
<br>
Patch 7.4.1016<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still a few OS/2 pieces remain.<br>
Solution:&nbsp;&nbsp; Delete more.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, README_os2.txt, testdir/todos.vim, src/xxd/Make_os2.mak<br>
<br>
Patch 7.4.1017<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When there is a backslash in an option &quot;:set -=&quot; doesn't work.<br>
Solution:&nbsp;&nbsp; Handle a backslash better. (Jacob Niehus)&nbsp;&nbsp;Add a new test, merge<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in old test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cdo.vim, src/testdir/test_set.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/option.c, src/testdir/test_set.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_set.ok, src/Makefile<br>
<br>
Patch 7.4.1018 (after 7.4.1017)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Failure running tests.<br>
Solution:&nbsp;&nbsp; Add missing change to list of old style tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 7.4.1019<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Directory listing of &quot;src&quot; is too long.<br>
Solution:&nbsp;&nbsp; Rename the resources file to make it shorter.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_gresources.xml, src/gui_gtk_res.xml, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.1020<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows there is no target to run tests with gvim.<br>
Solution:&nbsp;&nbsp; Add the testgvim target.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 7.4.1021<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some makefiles are outdated.<br>
Solution:&nbsp;&nbsp; Add a&nbsp;<span class="Todo">note</span>&nbsp;to warn developers.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_manx.mak, src/Make_bc3.mak, src/Make_bc5.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_djg.mak, src/Make_w16.mak<br>
<br>
Patch 7.4.1022<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The README file contains some outdated information.<br>
Solution:&nbsp;&nbsp; Update the information about supported systems.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.txt, README.md<br>
<br>
Patch 7.4.1023<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The distribution files for MS-Windows use CR-LF, which is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inconsistent with what one gets from github.<br>
Solution:&nbsp;&nbsp; Use LF in the distribution files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makefile<br>
<br>
Patch 7.4.1024<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Interfaces for MS-Windows are outdated.<br>
Solution:&nbsp;&nbsp; Use Python 2.7.10, Python 3.4.4, Perl 5.22, TCL 8.6.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/bigvim.bat<br>
<br>
Patch 7.4.1025<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Version in installer needs to be updated manually.<br>
Solution:&nbsp;&nbsp; Generate a file with the version number. (Guopeng Wen)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makefile, nsis/gvim.nsi, nsis/gvim_version.nsh<br>
<br>
Patch 7.4.1026<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using MingW the tests do not clean up all files.&nbsp;&nbsp;E.g. test<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;17 leaves Xdir1 behind. (Michael Soyka)<br>
Solution:&nbsp;&nbsp; Also delete directories, like Make_dos.mak.&nbsp;&nbsp;Delete files after<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directories to reduce warnings.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_dos.mak<br>
<br>
Patch 7.4.1027<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No support for binary numbers.<br>
Solution:&nbsp;&nbsp; Add &quot;bin&quot; to&nbsp;<a class="Type" href="options.html#'nrformats'">'nrformats'</a>. (Jason Schulz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/change.txt, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/version7.txt, src/charset.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_getln.c, src/misc2.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/proto/charset.pro, src/spell.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test57.in, src/testdir/test57.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test58.in, src/testdir/test58.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment.in, src/testdir/test_increment.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 7.4.1028<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Nsis version file missing from the distribution.<br>
Solution:&nbsp;&nbsp; Add the file to the list.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.1029 (after 7.4.1027)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_increment fails on systems with 32 bit long.<br>
Solution:&nbsp;&nbsp; Only test with 32 bits.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment.in, src/testdir/test_increment.ok<br>
<br>
Patch 7.4.1030<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test49 is still slow.<br>
Solution:&nbsp;&nbsp; Move more tests from old to new style.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viml.vim, src/testdir/test49.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test49.ok, src/testdir/runtest.vim<br>
<br>
Patch 7.4.1031<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Python interface using MingW.<br>
Solution:&nbsp;&nbsp; Update the Makefile. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLpc.txt, src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.1032<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;message from assert_false() does not look nice.<br>
Solution:&nbsp;&nbsp; Handle missing sourcing_name. Use right number of spaces. (Watiko)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Don't use line number if it's zero.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1033<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory use on MS-Windows is very conservative.<br>
Solution:&nbsp;&nbsp; Use the global memory status to estimate amount of memory.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/os_win32.h, src/proto/os_win32.pro<br>
<br>
Patch 7.4.1034<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no test for the&nbsp;<a class="Type" href="options.html#'backspace'">'backspace'</a>&nbsp;option behavior.<br>
Solution:&nbsp;&nbsp; Add a test. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/test_backspace_opt.vim<br>
<br>
Patch 7.4.1035<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;An Ex range gets adjusted for folded lines even when the range is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not using line numbers.<br>
Solution:&nbsp;&nbsp; Only adjust line numbers for folding. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/fold.txt, src/ex_docmd.c<br>
<br>
Patch 7.4.1036<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Only terminals with up to 256 colors work properly.<br>
Solution:&nbsp;&nbsp; Use the 256 color behavior for all terminals with 256 or more<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colors. (Robert de Bath, closes #504)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 7.4.1037<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;q!&quot; when there is a modified hidden buffer does not unload<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the current buffer, resulting in the need to abandon it again.<br>
Solution:&nbsp;&nbsp; When using &quot;q!&quot; unload the current buffer when needed. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test31.in, src/testdir/test31.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/editing.txt, src/ex_cmds2.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/gui_gtk_x11.c, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds2.pro<br>
<br>
Patch 7.4.1038<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still get a warning for a deprecated function with gdk-pixbuf<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2.31.<br>
Solution:&nbsp;&nbsp; Change minimum minor version from 32 to 31.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.1039 (after 7.4.1037)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 31 fails with small build.<br>
Solution:&nbsp;&nbsp; Bail out for small build. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test31.in<br>
<br>
Patch 7.4.1040<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The tee command is not available on MS-Windows.<br>
Solution:&nbsp;&nbsp; Adjust tee.c for MSVC and add a makefile. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tee/tee.c, src/tee/Make_mvc.mak, src/Make_mvc.mak<br>
<br>
Patch 7.4.1041<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various small things.<br>
Solution:&nbsp;&nbsp; Add file to list of distributed files.&nbsp;&nbsp;Adjust README.&nbsp;&nbsp;Fix typo.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/testdir/README.txt, src/testdir/test_charsearch.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLmac.txt<br>
<br>
Patch 7.4.1042<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;g-<span class="Special">CTRL-G</span>&nbsp;shows the word count, but there is no way to get the word<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count in a script.<br>
Solution:&nbsp;&nbsp; Add the wordcount() function. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/editing.txt, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_41.txt, src/eval.c, src/normal.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ops.pro, src/testdir/test_wordcount.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_wordcount.ok, src/testdir/Make_all.mak<br>
<br>
Patch 7.4.1043<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Another small thing.<br>
Solution:&nbsp;&nbsp; Now really update the Mac install text.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLmac.txt<br>
<br>
Patch 7.4.1044 (after 7.4.1042)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build without the +eval feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.1045<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Having shadow and coverage on the same build results in the source<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;files not being available in the coverage view.<br>
Solution:&nbsp;&nbsp; Move using shadow to the normal build.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 7.4.1046<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test coverage for menus.<br>
Solution:&nbsp;&nbsp; Load the standard menus and check there is no error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_menu.vim, src/testdir/test_alot.vim<br>
<br>
Patch 7.4.1047 (after patch 7.4.1042)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests fail on MS-Windows.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'selection'">'selection'</a>&nbsp;to inclusive.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_wordcount.in<br>
<br>
Patch 7.4.1048 (after patch 7.4.1047)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wordcount test still fail on MS-Windows.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'fileformat'">'fileformat'</a>&nbsp;to &quot;unix&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_wordcount.in<br>
<br>
Patch 7.4.1049 (after patch 7.4.1048)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wordcount test still fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'fileformats'">'fileformats'</a>&nbsp;to &quot;unix&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_wordcount.in<br>
<br>
Patch 7.4.1050<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for unused var with tiny features. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add #ifdef.&nbsp;&nbsp;Use vim_snprintf().&nbsp;&nbsp;Reduce number of statements.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.1051<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Segfault when unletting &quot;count&quot;.<br>
Solution:&nbsp;&nbsp; Check for readonly and locked first. (Dominique Pelle)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_alot.vim, src/testdir/test_unlet.vim<br>
<br>
Patch 7.4.1052<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access with weird syntax command. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Check for column past end of line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 7.4.1053<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insufficient testing for quickfix commands.<br>
Solution:&nbsp;&nbsp; Add a new style quickfix test. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1054<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access.<br>
Solution:&nbsp;&nbsp; Check for missing pattern. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 7.4.1055<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running &quot;make newtests&quot; in src/testdir has no output.<br>
Solution:&nbsp;&nbsp; List the messages file when a test fails. (Christian Brabandt)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update the list of tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Makefile<br>
<br>
Patch 7.4.1056<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Don't know why finding spell suggestions is slow.<br>
Solution:&nbsp;&nbsp; Add some code to gather profiling information.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c<br>
<br>
Patch 7.4.1057<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typos in the :options window.<br>
Solution:&nbsp;&nbsp; Fix the typos. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim<br>
<br>
Patch 7.4.1058<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not possible to test code that is only reached when memory<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allocation fails.<br>
Solution:&nbsp;&nbsp; Add the alloc_fail() function.&nbsp;&nbsp;Try it out with :vimgrep.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/globals.h, src/eval.c, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/proto/misc2.pro, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1059<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code will never be executed.<br>
Solution:&nbsp;&nbsp; Remove the code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.1060<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Instructions for writing tests are outdated.<br>
Solution:&nbsp;&nbsp; Mention Make_all.mak.&nbsp;&nbsp;Add steps for new style tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/README.txt<br>
<br>
Patch 7.4.1061<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for ignoring return value of fwrite().<br>
Solution:&nbsp;&nbsp; Do use the return value. (idea: Charles Campbell)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/proto/misc2.pro<br>
<br>
Patch 7.4.1062<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with Ruby on MS-Windows requires a lot of arguments.<br>
Solution:&nbsp;&nbsp; Make it simpler. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 7.4.1063<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;TCL_VER_LONG and DYNAMIC_TCL_VER are not set when building with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cygwin and MingW.<br>
Solution:&nbsp;&nbsp; Add TCL_VER_LONG and DYNAMIC_TCL_VER to the makefile. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.1064<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a spell file has single letter compounding creating<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;suggestions takes an awful long time.<br>
Solution:&nbsp;&nbsp; Add the NOCOMPOUNDSUGS flag.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/spell.txt, src/spell.c<br>
<br>
Patch 7.4.1065<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use the &quot;dll&quot; options on MS-Windows.<br>
Solution:&nbsp;&nbsp; Support the options on all platforms.&nbsp;&nbsp;Use the built-in name as<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the default, so that it's clear what Vim is looking for.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python.c, src/if_python3.c, src/if_lua.c, src/if_perl.xs,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c, src/option.c, runtime/doc/options.txt, src/Makefile<br>
<br>
Patch 7.4.1066 (after 7.4.1065)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Adjust the #ifdefs for &quot;dll&quot; options.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h<br>
<br>
Patch 7.4.1067 (after 7.4.1065)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with MingW and Python on MS-Windows.<br>
Solution:&nbsp;&nbsp; Move the build flags to CFLAGS.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.1068<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong way to check for unletting internal variables.<br>
Solution:&nbsp;&nbsp; Use a better way. (Olaf Dabrunz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_unlet.c, src/eval.c<br>
<br>
Patch 7.4.1069<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused argument.<br>
Solution:&nbsp;&nbsp; Add UNUSED.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 7.4.1070<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The Tcl interface can't be loaded dynamically on Unix.<br>
Solution:&nbsp;&nbsp; Make it possible to load it dynamically. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_tcl.txt, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/quickref.txt, runtime/optwin.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.h.in, src/configure.in, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_tcl.c, src/option.c, src/option.h<br>
<br>
Patch 7.4.1071<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New style tests are executed in arbitrary order.<br>
Solution:&nbsp;&nbsp; Sort the test function names. (Hirohito Higashi)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fix the quickfix test that depended on the order.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1072<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Increment test is old style.<br>
Solution:&nbsp;&nbsp; Make the increment test a new style test. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment.in, src/testdir/test_increment.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment.vim<br>
<br>
Patch 7.4.1073<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Alloc_id depends on numbers, may use the same one twice.&nbsp;&nbsp;It's not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clear from the number what it's for.<br>
Solution:&nbsp;&nbsp; Use an enum.&nbsp;&nbsp;Add a function to lookup the enum value from the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/vim.h, src/alloc.h, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/proto/misc2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1074<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning from VC2015 compiler.<br>
Solution:&nbsp;&nbsp; Add a type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_dwrite.cpp<br>
<br>
Patch 7.4.1075<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using an invalid command.<br>
Solution:&nbsp;&nbsp; Fix generating the error message. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.1076<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-A</span>&nbsp;does not work well in right-left mode.<br>
Solution:&nbsp;&nbsp; Remove reversing the line, add a test. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_increment.vim<br>
<br>
Patch 7.4.1077<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The build instructions for MS-Windows are incomplete.<br>
Solution:&nbsp;&nbsp; Add explanations for how to build with various interfaces. (Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLpc.txt<br>
<br>
Patch 7.4.1078<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MSVC: &quot;make clean&quot; doesn't cleanup in the tee directory.<br>
Solution:&nbsp;&nbsp; Add the commands to cleanup tee. (Erich Ritz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 7.4.1079 (after 7.4.1073)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New include file missing from distribution.&nbsp;&nbsp;Missing changes to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quickfix code.<br>
Solution:&nbsp;&nbsp; Add alloc.h to the list of distributed files. Use the enum in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quickfix code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/quickfix.c<br>
<br>
Patch 7.4.1080<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;VS2015 has a function HandleToLong() that is shadowed by the macro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that Vim defines.<br>
Solution:&nbsp;&nbsp; Do not define HandleToLong() for MSVC version 1400 and later.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.1081<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for what previously caused a crash.<br>
Solution:&nbsp;&nbsp; Add test for unletting errmsg.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_unlet.vim<br>
<br>
Patch 7.4.1082<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The Tcl interface is always skipping memory free on exit.<br>
Solution:&nbsp;&nbsp; Only skip for dynamically loaded Tcl.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_tcl.c<br>
<br>
Patch 7.4.1083<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building GvimExt with VS2015 may fail.<br>
Solution:&nbsp;&nbsp; Adjust the makefile. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/Makefile<br>
<br>
Patch 7.4.1084<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;.&quot; to repeat&nbsp;<span class="Special">CTRL-A</span>&nbsp;in Visual mode increments the wrong<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numbers.<br>
Solution:&nbsp;&nbsp; Append right size to the redo buffer. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_increment.vim<br>
<br>
Patch 7.4.1085<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;<span class="Special">CTRL-A</span>&nbsp;and&nbsp;<span class="Special">CTRL-X</span>&nbsp;commands do not update the '[ and '] marks.<br>
Solution:&nbsp;&nbsp; (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_marks.in, src/testdir/test_marks.ok<br>
<br>
Patch 7.4.1086<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash with an extremely long buffer name.<br>
Solution:&nbsp;&nbsp; Limit the return value of vim_snprintf(). (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 7.4.1087<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-A</span>&nbsp;and&nbsp;<span class="Special">CTRL-X</span>&nbsp;do not work properly with blockwise visual<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;selection if there is a mix of Tab and spaces.<br>
Solution:&nbsp;&nbsp; Add OP_NR_ADD and OP_NR_SUB. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment.vim, src/normal.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ops.pro, src/vim.h<br>
<br>
Patch 7.4.1088<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for uninitialized variables.&nbsp;&nbsp;Only one is an actual<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;problem.<br>
Solution:&nbsp;&nbsp; Move the conditions.&nbsp;&nbsp;Don't use endpos if handling an error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.1089<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Repeating&nbsp;<span class="Special">CTRL-A</span>&nbsp;doesn't work.<br>
Solution:&nbsp;&nbsp; Call prep_redo_cmd(). (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_increment.vim<br>
<br>
Patch 7.4.1090<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for :hardcopy and related options.<br>
Solution:&nbsp;&nbsp; Add test_hardcopy.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_hardcopy.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 7.4.1091<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When making a change while need_wait_return is set there is a two<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;second delay.<br>
Solution:&nbsp;&nbsp; Do not assume the ATTENTION prompt was given when need_wait_return<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;was set already.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.1092<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not simple to test for an exception and give a proper error<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message.<br>
Solution:&nbsp;&nbsp; Add assert_exception().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1093<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in test goes unnoticed.<br>
Solution:&nbsp;&nbsp; Fix the typo. Give error for wrong arguments to cursor().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(partly by Hirohito Higashi) Add a test for cursor().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_searchpos.vim, src/testdir/test_cursor_func.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_alot.vim<br>
<br>
Patch 7.4.1094<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for :hardcopy fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Check for the +postscript feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_hardcopy.vim<br>
<br>
Patch 7.4.1095<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build GvimExt with SDK 7.1.<br>
Solution:&nbsp;&nbsp; Support using setenv.bat instead of vcvars32.bat. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/GvimExt/Makefile<br>
<br>
Patch 7.4.1096<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Need several lines to verify a command produces an error.<br>
Solution:&nbsp;&nbsp; Add assert_fails(). (suggested by Nikolai Pavlov)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make the quickfix alloc test actually work.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim, src/eval.c, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/alloc.h<br>
<br>
Patch 7.4.1097<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Looking up the alloc ID for tests fails.<br>
Solution:&nbsp;&nbsp; Fix the line computation.&nbsp;&nbsp;Use assert_fails() for unlet test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/testdir/test_unlet.vim<br>
<br>
Patch 7.4.1098<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still using old style C function declarations.<br>
Solution:&nbsp;&nbsp; Always define __ARGS() to include types.&nbsp;&nbsp;Turn a few functions<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;into ANSI style to find out if this causes problems for anyone.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/os_unix.h, src/eval.c, src/main.c<br>
<br>
Patch 7.4.1099<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It's not easy to know if Vim supports blowfish. (Smu Johnson)<br>
Solution:&nbsp;&nbsp; Add has('crypt-blowfish') and has('crypt-blowfish2').<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1100<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cygwin makefiles are unused.<br>
Solution:&nbsp;&nbsp; Remove them.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/Make_ming.mak, src/GvimExt/Make_cyg.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xxd/Make_ming.mak, src/xxd/Make_cyg.mak<br>
<br>
Patch 7.4.1101<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With&nbsp;<a class="Type" href="options.html#'rightleft'">'rightleft'</a>&nbsp;and concealing the cursor may move to the wrong<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position.<br>
Solution:&nbsp;&nbsp; Compute the column differently when&nbsp;<a class="Type" href="options.html#'rightleft'">'rightleft'</a>&nbsp;is set. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.1102<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Debugger has no stack backtrace support.<br>
Solution:&nbsp;&nbsp; Add &quot;backtrace&quot;, &quot;frame&quot;, &quot;up&quot; and &quot;down&quot; commands. (Alberto<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fanjul, closes #433)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/repeat.txt, src/eval.c, src/ex_cmds2.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test108.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test108.ok<br>
<br>
Patch 7.4.1103 (after 7.4.1100)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Removed file still in distribution.<br>
Solution:&nbsp;&nbsp; Remove Make_cyg.mak from the list of files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.1104<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various problems building with MzScheme/Racket.<br>
Solution:&nbsp;&nbsp; Make it work with new versions of Racket. (Yukihiro Nakadaira, Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_mzsch.txt, src/INSTALLpc.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/if_mzsch.c<br>
<br>
Patch 7.4.1105<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using slices there is a mixup of variable name and namespace.<br>
Solution:&nbsp;&nbsp; Recognize variables that can't be a namespace. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_eval.in, src/testdir/test_eval.ok<br>
<br>
Patch 7.4.1106<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The nsis script can't be used from the appveyor build.<br>
Solution:&nbsp;&nbsp; Add &quot;ifndef&quot; to allow for variables to be set from the command<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line. Remove duplicate SetCompressor command. Support using other<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gettext binaries. (Ken Takata)&nbsp;&nbsp;Update build instructions to use<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;libintl-8.dll.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makefile, nsis/gvim.nsi, src/os_win32.c, src/proto/os_win32.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, os_w32exe.c<br>
<br>
Patch 7.4.1107<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim can create a directory but not delete it.<br>
Solution:&nbsp;&nbsp; Add an argument to delete() to make it possible to delete a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory, also recursively.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/eval.c, src/proto/fileio.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_delete.vim, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.1108<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Expanding &quot;~&quot; halfway a file name.<br>
Solution:&nbsp;&nbsp; Handle the file name as one name. (Marco Hinz)&nbsp;&nbsp;Add a test.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Closes #564.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test27.in, src/testdir/test27.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expand.vim, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/misc2.c<br>
<br>
Patch 7.4.1109 (after 7.4.1107)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows doesn't have rmdir().<br>
Solution:&nbsp;&nbsp; Add mch_rmdir().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/proto/os_win32.pro<br>
<br>
Patch 7.4.1110<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 108 fails when language is French.<br>
Solution:&nbsp;&nbsp; Force English messages. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test108.in<br>
<br>
Patch 7.4.1111<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_expand fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Always use forward slashes.&nbsp;&nbsp;Remove references to test27.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/testdir/test_expand.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_ming.mak<br>
<br>
Patch 7.4.1112<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using &quot;:next&quot; with an illegal file name no error is reported.<br>
Solution:&nbsp;&nbsp; Give an error message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.1113 (after 7.4.1105)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;<span class="Special">{ns}</span>&nbsp;in variable name does not work. (lilydjwg)<br>
Solution:&nbsp;&nbsp; Fix recognizing colon.&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_viml.vim<br>
<br>
Patch 7.4.1114 (after 7.4.1107)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;delete() does not work well with symbolic links.<br>
Solution:&nbsp;&nbsp; Recognize symbolic links.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/fileio.c, src/os_unix.c, src/proto/os_unix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_delete.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1115<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: make clean in testdir doesn't clean everything.<br>
Solution:&nbsp;&nbsp; Add command to delete X* directories. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak<br>
<br>
Patch 7.4.1116<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;delete(x,&nbsp;<span class="MissingTag">'rf'</span>) does not delete files starting with a dot.<br>
Solution:&nbsp;&nbsp; Also delete files starting with a dot.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/fileio.c, src/vim.h<br>
<br>
Patch 7.4.1117 (after 7.4.1116)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No longer get &quot;.&quot; and &quot;..&quot; in directory list.<br>
Solution:&nbsp;&nbsp; Do not skip &quot;.&quot; and &quot;..&quot; unless EW_DODOT is set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.1118<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests hang in 24 line terminal.<br>
Solution:&nbsp;&nbsp; Set the&nbsp;<a class="Type" href="options.html#'more'">'more'</a>&nbsp;option off.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 7.4.1119<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;argidx() has a wrong value after &quot;:%argdelete&quot;. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan)<br>
Solution:&nbsp;&nbsp; Correct the value of w_arg_idx.&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_arglist.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 7.4.1120<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;delete(x,&nbsp;<span class="MissingTag">'rf'</span>) fails if a directory is empty. (Lcd)<br>
Solution:&nbsp;&nbsp; Ignore not finding matches in an empty directory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/misc1.c, src/vim.h, src/testdir/test_delete.vim<br>
<br>
Patch 7.4.1121<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_expand leaves files behind.<br>
Solution:&nbsp;&nbsp; Edit another file before deleting, otherwise the swap file<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remains.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expand.vim<br>
<br>
Patch 7.4.1122<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 92 and 93 fail when using gvim on a system with a non utf-8<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;locale.<br>
Solution:&nbsp;&nbsp; Avoid using .gvimrc by adding -U NONE. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/Makefile<br>
<br>
Patch 7.4.1123<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;:argadd&quot; when there are no arguments results in the second<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;argument to be the current one. (Yegappan Lakshmanan)<br>
Solution:&nbsp;&nbsp; Correct the w_arg_idx value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_arglist.vim<br>
<br>
Patch 7.4.1124<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: dead key behavior is not ideal.<br>
Solution:&nbsp;&nbsp; Handle dead keys differently when not in Insert or Select mode.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(John Wellesz, closes #399)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w48.c<br>
<br>
Patch 7.4.1125<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no perleval().<br>
Solution:&nbsp;&nbsp; Add perleval(). (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs, src/proto/if_perl.pro, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_perl.vim<br>
<br>
Patch 7.4.1126<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can only get the directory of the current window.<br>
Solution:&nbsp;&nbsp; Add window and tab arguments to getcwd() and haslocaldir().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Thinca, Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_getcwd.in, src/testdir/test_getcwd.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, patching file src/eval.c<br>
<br>
Patch 7.4.1127<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Both old and new style tests for Perl.<br>
Solution:&nbsp;&nbsp; Merge the old tests with the new style tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/test_perl.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_perl.ok, src/testdir/test_perl.vim<br>
<br>
Patch 7.4.1128<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: delete() does not recognize junctions.<br>
Solution:&nbsp;&nbsp; Add mch_isrealdir() for MS-Windows. Update mch_is_symbolic_link().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/os_win32.c, src/proto/os_win32.pro<br>
<br>
Patch 7.4.1129<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python None value can't be converted to a Vim value.<br>
Solution:&nbsp;&nbsp; Just use zero. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/testdir/test86.in, src/testdir/test86.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test87.in, src/testdir/test87.ok,<br>
<br>
Patch 7.4.1130<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak in :vimgrep.<br>
Solution:&nbsp;&nbsp; Call FreeWild(). (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.1131<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New lines in the viminfo file are dropped.<br>
Solution:&nbsp;&nbsp; Copy lines starting with &quot;|&quot;.&nbsp;&nbsp;Fix that when using :rviminfo in a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function global variables were restored as function-local<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/structs.h, src/ex_cmds.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc2.pro, src/testdir/test_viminfo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test74.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test74.ok<br>
<br>
Patch 7.4.1132<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old style tests for the argument list.<br>
Solution:&nbsp;&nbsp; Add more new style tests. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim, src/testdir/test_argument_0count.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_argument_0count.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_argument_count.in, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_argument_count.ok, src/testdir/Make_all.mak<br>
<br>
Patch 7.4.1133<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Generated function prototypes still have __ARGS().<br>
Solution:&nbsp;&nbsp; Generate function prototypes without __ARGS().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/if_ruby.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/blowfish.pro, src/proto/buffer.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/charset.pro, src/proto/crypt.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/crypt_zip.pro, src/proto/diff.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/digraph.pro, src/proto/edit.pro, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds2.pro, src/proto/ex_cmds.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_docmd.pro, src/proto/ex_eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_getln.pro, src/proto/fileio.pro, src/proto/fold.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/getchar.pro, src/proto/gui_athena.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_beval.pro, src/proto/gui_gtk_gresources.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_gtk.pro, src/proto/gui_gtk_x11.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_mac.pro, src/proto/gui_motif.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_photon.pro, src/proto/gui.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_w16.pro, src/proto/gui_w32.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_x11.pro, src/proto/gui_xmdlg.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/hangulin.pro, src/proto/hardcopy.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/hashtab.pro, src/proto/if_cscope.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/if_lua.pro, src/proto/if_mzsch.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/if_ole.pro, src/proto/if_perl.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/if_perlsfio.pro, src/proto/if_python3.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/if_python.pro, src/proto/if_ruby.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/if_tcl.pro, src/proto/if_xcmdsrv.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/main.pro, src/proto/mark.pro, src/proto/mbyte.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/memfile.pro, src/proto/memline.pro, src/proto/menu.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/message.pro, src/proto/misc1.pro, src/proto/misc2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/move.pro, src/proto/netbeans.pro, src/proto/normal.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ops.pro, src/proto/option.pro, src/proto/os_amiga.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_beos.pro, src/proto/os_mac_conv.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_msdos.pro, src/proto/os_mswin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_qnx.pro, src/proto/os_unix.pro, src/proto/os_vms.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_win16.pro, src/proto/os_win32.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupmnu.pro, src/proto/pty.pro, src/proto/quickfix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/regexp.pro, src/proto/screen.pro, src/proto/search.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/sha256.pro, src/proto/spell.pro, src/proto/syntax.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/tag.pro, src/proto/termlib.pro, src/proto/term.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ui.pro, src/proto/undo.pro, src/proto/version.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/winclip.pro, src/proto/window.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/workshop.pro<br>
<br>
Patch 7.4.1134<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The arglist test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Only check for failure of argedit on Unix.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim<br>
<br>
Patch 7.4.1135<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;One more arglist test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Don't edit &quot;Y&quot; after editing &quot;y&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim<br>
<br>
Patch 7.4.1136<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong argument to assert_exception() causes a crash. (reported by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Coverity)<br>
Solution:&nbsp;&nbsp; Check for NULL pointer.&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_assert.vim<br>
<br>
Patch 7.4.1137<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access when using :copen and :cclose.<br>
Solution:&nbsp;&nbsp; Avoid that curbuf is invalid. (suggestion by Justin M. Keyes)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1138<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When running gvim in the foreground some icons are missing.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Taylor Venable)<br>
Solution:&nbsp;&nbsp; Move the call to gui_gtk_register_resource(). (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 7.4.1139<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: getftype() returns &quot;file&quot; for symlink to directory.<br>
Solution:&nbsp;&nbsp; Make it return &quot;dir&quot;. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c<br>
<br>
Patch 7.4.1140<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Recognizing&nbsp;<span class="Special">&lt;sid&gt;</span>&nbsp;does not work when the language is Turkish.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Use MB_STNICMP() instead of STNICMP().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1141<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using searchpair() with a skip expression that uses syntax<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;highlighting sometimes doesn't work. (David Fishburn)<br>
Solution:&nbsp;&nbsp; Reset next_match_idx. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 7.4.1142<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot define keyword characters for a syntax file.<br>
Solution:&nbsp;&nbsp; Add the &quot;:syn iskeyword&quot; command. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/syntax.txt, src/buffer.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/structs.h, src/syntax.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_syntax.vim<br>
<br>
Patch 7.4.1143<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't sort on floating point numbers.<br>
Solution:&nbsp;&nbsp; Add the &quot;f&quot; flag to &quot;:sort&quot;.&nbsp;&nbsp;(Alex Jakushev)&nbsp;&nbsp;Also add the &quot;f&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flag to sort().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/change.txt, src/ex_cmds.c, src/testdir/test_sort.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test57.in, src/testdir/test57.ok, src/eval.c<br>
<br>
Patch 7.4.1144 (after 7.4.1143)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build on several systems.<br>
Solution:&nbsp;&nbsp; Include float.h. (Christian Robinson, closes #570 #571)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.1145<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Default features are conservative.<br>
Solution:&nbsp;&nbsp; Make the default feature set for most of today's systems &quot;huge&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.1146<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Python 3 interface using MingW.<br>
Solution:&nbsp;&nbsp; Update the Makefile. (Yasuhiro Matsumoto, Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.1147<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Conflict for &quot;chartab&quot;. (Kazunobu Kuriyama)<br>
Solution:&nbsp;&nbsp; Rename the global one to something less obvious.&nbsp;&nbsp;Move it into<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/chartab.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h, src/globals.h, src/charset.c, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/screen.c, src/vim.h<br>
<br>
Patch 7.4.1148<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Default for MingW and Cygwin is still &quot;normal&quot;.<br>
Solution:&nbsp;&nbsp; Use &quot;huge&quot; as default. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 7.4.1149 (after 7.4.1013)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using the local value of&nbsp;<a class="Type" href="options.html#'errorformat'">'errorformat'</a>&nbsp;causes more problems than<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it solves.<br>
Solution:&nbsp;&nbsp; Revert 7.4.1013.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/quickfix.txt, src/quickfix.c<br>
<br>
Patch 7.4.1150<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'langmap'">'langmap'</a>&nbsp;applies to the first character typed in Select mode.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(David Watson)<br>
Solution:&nbsp;&nbsp; Check for SELECTMODE. (Christian Brabandt, closes #572)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add the 'x' flag to feedkeys().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/normal.c, src/testdir/test_langmap.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/proto/ex_docmd.pro, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.1151 (after 7.4.1150)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing change to eval.c<br>
Solution:&nbsp;&nbsp; Also change feedkeys().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1152<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Langmap test fails with normal build.<br>
Solution:&nbsp;&nbsp; Check for +langmap feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_langmap.vim<br>
<br>
Patch 7.4.1153<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Autocommands triggered by quickfix cannot always get the current<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;title value.<br>
Solution:&nbsp;&nbsp; Call qf_fill_buffer() later. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1154<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No support for JSON.<br>
Solution:&nbsp;&nbsp; Add jsonencode() and jsondecode().&nbsp;&nbsp;Also add v:false, v:true,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v:null and v:none.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/eval.c, src/proto.h, src/structs.h, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c, src/if_mzsch.c, src/if_ruby.c, src/if_py_both.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/Makefile, src/Make_bc3.mak, src/Make_bc5.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_dice.mak, src/Make_ivc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_manx.mak, src/Make_morph.mak, src/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_sas.mak, src/Make_vms.mms, src/proto/json.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/testdir/test_json.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, Filelist, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1155<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build with normal features fails.<br>
Solution:&nbsp;&nbsp; Always define dict_lookup().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1156<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for NULL pointer and ignoring return value.<br>
Solution:&nbsp;&nbsp; Check for NULL pointer. When dict_add() returns FAIL free the item.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c<br>
<br>
Patch 7.4.1157<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;type() does not work for v:true, v:none, etc.<br>
Solution:&nbsp;&nbsp; Add new type numbers.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_json.vim, src/testdir/test_viml.vim<br>
<br>
Patch 7.4.1158<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still using __ARGS().<br>
Solution:&nbsp;&nbsp; Remove __ARGS() from eval.c<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1159<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Automatically generated function prototypes use __ARGS.<br>
Solution:&nbsp;&nbsp; Remove __ARGS from osdef.sh.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/osdef.sh, src/osdef1.h.in, src/osdef2.h.in<br>
<br>
Patch 7.4.1160<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No error for jsondecode('&quot;').<br>
Solution:&nbsp;&nbsp; Give an error message for missing double quote.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c<br>
<br>
Patch 7.4.1161<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:argadd&quot; without argument is supposed to add the current buffer<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name to the arglist.<br>
Solution:&nbsp;&nbsp; Make it work as documented. (Coot, closes #577)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/ex_cmds2.c, src/testdir/test_arglist.vim<br>
<br>
Patch 7.4.1162<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing error number in MzScheme. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Add a proper error number.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.c<br>
<br>
Patch 7.4.1163<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Expressions &quot;0 + v:true&quot; and &quot;'' . v:true&quot; cause an error.<br>
Solution:&nbsp;&nbsp; Return something sensible when using a special variable as a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number or as a string. (suggested by Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_viml.vim<br>
<br>
Patch 7.4.1164<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for comparing special variables.&nbsp;&nbsp;Error in jsondecode()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not reported.&nbsp;&nbsp;test_json does not work with Japanese system.<br>
Solution:&nbsp;&nbsp; Set scriptencoding. (Ken Takata) Add a few more tests. Add error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/testdir/test_viml.vim, src/testdir/test_json.vim<br>
<br>
Patch 7.4.1165<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When defining DYNAMIC_ICONV_DLL in the makefile, the build fails.<br>
Solution:&nbsp;&nbsp; Add #ifdef's. (Taro Muraoka)&nbsp;&nbsp;Try the newer version first.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/os_win32.c<br>
<br>
Patch 7.4.1166<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't encode a Funcref into JSON.&nbsp;&nbsp;jsonencode() doesn't handle the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;same list or dict twice properly.&nbsp;&nbsp;(Nikolai Pavlov)<br>
Solution:&nbsp;&nbsp; Give an error.&nbsp;&nbsp;Reset copyID when the list or dict is finished.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/proto/json.pro, src/testdir/test_json.vim<br>
<br>
Patch 7.4.1167<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for &quot;is&quot; and &quot;isnot&quot; with the new variables.<br>
Solution:&nbsp;&nbsp; Add tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viml.vim<br>
<br>
Patch 7.4.1168<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;This doesn't give the right result: eval(string(v:true)). (Nikolai<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pavlov)<br>
Solution:&nbsp;&nbsp; Make the string &quot;v:true&quot; instead of &quot;true&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_viml.vim<br>
<br>
Patch 7.4.1169<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The socket I/O is intertwined with the netbeans code.<br>
Solution:&nbsp;&nbsp; Start refactoring the netbeans communication to split off the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;socket I/O.&nbsp;&nbsp;Add the +channel feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/netbeans.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/netbeans.pro, src/proto/gui_w32.pro, src/gui_w32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/os_mswin.c, src/ui.c, src/macros.h, Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto.h, src/feature.h, src/os_unix.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure, src/config.mk.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.aap.in, src/config.h.in, src/Make_bc5.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 7.4.1170 (after 7.4.1169)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing changes in src/Makefile, Filelist.<br>
Solution:&nbsp;&nbsp; Add the missing changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Makefile<br>
<br>
Patch 7.4.1171<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Makefile dependencies are outdated.<br>
Solution:&nbsp;&nbsp; Run &quot;make depend&quot;. Add GTK resource dependencies.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.1172 (after 7.4.1169)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure is overly positive.<br>
Solution:&nbsp;&nbsp; Insert &quot;test&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.1173 (after 7.4.1168)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for new behavior of v:true et al.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viml.vim<br>
<br>
Patch 7.4.1174<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Netbeans contains dead code inside #ifndef INIT_SOCKETS.<br>
Solution:&nbsp;&nbsp; Remove the dead code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c<br>
<br>
Patch 7.4.1175 (after 7.4.1169)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Mingw and Cygwin.<br>
Solution:&nbsp;&nbsp; Remove extra &quot;endif&quot;. (Christian J. Robinson)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.1176<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing change to proto file.<br>
Solution:&nbsp;&nbsp; Update the proto file. (Charles Cooper)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_w32.pro<br>
<br>
Patch 7.4.1177<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The +channel feature is not in :version output. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add the feature string.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c<br>
<br>
Patch 7.4.1178<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;empty() doesn't work for the new special variables.<br>
Solution:&nbsp;&nbsp; Make empty() work. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_viml.vim<br>
<br>
Patch 7.4.1179<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_writefile and test_viml do not delete the tempfile.<br>
Solution:&nbsp;&nbsp; Delete the tempfile. (Charles Cooper)&nbsp;&nbsp;Add DeleteTheScript().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_writefile.in, src/testdir/test_viml.vim<br>
<br>
Patch 7.4.1180<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash with invalid argument to glob2regpat().<br>
Solution:&nbsp;&nbsp; Check for NULL. (Justin M. Keyes, closes #596)&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_glob2regpat.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim<br>
<br>
Patch 7.4.1181<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;free_tv() can't handle special variables. (Damien)<br>
Solution:&nbsp;&nbsp; Add the variable type.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_viml.vim<br>
<br>
Patch 7.4.1182<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still socket code intertwined with netbeans.<br>
Solution:&nbsp;&nbsp; Move code from netbeans.c to channel.c<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/netbeans.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/netbeans.pro, src/gui.c, src/gui_w48.c<br>
<br>
Patch 7.4.1183 (after 7.4.1182)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows build is broken.<br>
Solution:&nbsp;&nbsp; Remove init in wrong place.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1184 (after 7.4.1182)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows build is still broken.<br>
Solution:&nbsp;&nbsp; Change nbsock to ch_fd.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1185<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with TCL on some systems.<br>
Solution:&nbsp;&nbsp; Rename the channel_ functions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_tcl.c<br>
<br>
Patch 7.4.1186<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error messages for security context are hard to translate.<br>
Solution:&nbsp;&nbsp; Use one string with %s. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1187<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows channel code only supports one channel.&nbsp;&nbsp;Doesn't build<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;without netbeans support.<br>
Solution:&nbsp;&nbsp; Get the channel index from the socket in the message. Closes #600.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/netbeans.c, src/gui_w48.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/channel.pro, src/proto/netbeans.pro<br>
<br>
Patch 7.4.1188<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using older JSON standard.<br>
Solution:&nbsp;&nbsp; Update the link.&nbsp;&nbsp;Adjust the text a bit.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1189 (after 7.4.1165)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using another language on MS-Windows does not work. (Yongwei Wu)<br>
Solution:&nbsp;&nbsp; Undo the change to try loading libintl-8.dll first.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.1190<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On OSX the default flag for dlopen() is different.<br>
Solution:&nbsp;&nbsp; Add RTLD_LOCAL in the configure check. (sv99, closes #604)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.1191<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The channel feature isn't working yet.<br>
Solution:&nbsp;&nbsp; Add the connect(), disconnect(), sendexpr() and sendraw()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions.&nbsp;&nbsp;Add initial documentation.&nbsp;&nbsp;Add a demo server.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, runtime/doc/channel.txt, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/Makefile, runtime/tools/demoserver.py<br>
<br>
Patch 7.4.1192<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with FEAT_EVAL but without FEAT_MBYTE. (John<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Marriott)<br>
Solution:&nbsp;&nbsp; Add #ifdef for FEAT_MBYTE.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c<br>
<br>
Patch 7.4.1193<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build the channel feature on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add #ifdef HAVE_POLL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1194<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for not using return value of fwrite().<br>
Solution:&nbsp;&nbsp; Return OK/FAIL. (Charles Campbell)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro<br>
<br>
Patch 7.4.1195<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The channel feature does not work in the MS-Windows console.<br>
Solution:&nbsp;&nbsp; Add win32 console support. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/gui_w32.c, src/os_mswin.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_w32.pro, src/proto/os_mswin.pro, src/vim.h<br>
<br>
Patch 7.4.1196<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still using __ARGS.<br>
Solution:&nbsp;&nbsp; Remove __ARGS in several files. (script by Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/arabic.c, src/buffer.c, src/charset.c, src/crypt_zip.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/digraph.c, src/edit.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/ex_docmd.c<br>
<br>
Patch 7.4.1197<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still using __ARGS.<br>
Solution:&nbsp;&nbsp; Remove __ARGS in several files. (script by Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_eval.c, src/ex_getln.c, src/farsi.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c, src/getchar.c, src/gui.c, src/gui_at_fs.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_at_sb.c, src/gui_athena.c, src/gui_beval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_motif.c, src/gui_w32.c, src/gui_w48.c<br>
<br>
Patch 7.4.1198<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still using __ARGS.<br>
Solution:&nbsp;&nbsp; Remove __ARGS in several files. (script by Hirohito Higashi)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also remove use of HAVE_STDARG_H.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c, src/hangulin.c, src/hardcopy.c, src/hashtab.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c, src/if_python3.c, src/if_sniff.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_xcmdsrv.c, src/main.c, src/mark.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memfile.c, src/memfile_test.c, src/memline.c, src/menu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/misc1.c, src/misc2.c, src/move.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c, src/normal.c<br>
<br>
Patch 7.4.1199<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still using __ARGS.<br>
Solution:&nbsp;&nbsp; Remove __ARGS in several files. (script by Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/option.c, src/os_amiga.c, src/os_mac_conv.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_vms.c, src/os_w32exe.c, src/popupmnu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/pty.c, src/quickfix.c, src/regexp.c, src/regexp_nfa.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/search.c, src/sha256.c, src/spell.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/tag.c, src/term.c, src/termlib.c, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c, src/version.c, src/window.c<br>
<br>
Patch 7.4.1200<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still using __ARGS.<br>
Solution:&nbsp;&nbsp; Remove __ARGS in several files. (script by Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/blowfish.c, src/ex_cmds2.c, src/ex_getln.c, src/fold.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c, src/gui_w32.c, src/os_unix.c, src/os_win16.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/pty.c, src/regexp.c, src/syntax.c, src/xpm_w32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/globals.h, src/gui_at_sb.h, src/gui_beval.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.h, src/if_sniff.h, src/nbdebug.h, src/os_unix.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto.h, src/structs.h, src/vim.h, src/xpm_w32.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs, src/proto/if_lua.pro, src/proto/pty.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/tools/xcmdsrv_client.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.1201<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;One more file still using __ARGS.<br>
Solution:&nbsp;&nbsp; Remove __ARGS in the last file. (script by Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_at_sb.c<br>
<br>
Patch 7.4.1202<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still one more file still using __ARGS.<br>
Solution:&nbsp;&nbsp; Remove __ARGS in the last file. (script by Hirohito Higashi)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #612)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_mac_conv.pro, src/os_mac_conv.c, src/Makefile<br>
<br>
Patch 7.4.1203<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still more files still using __ARGS.<br>
Solution:&nbsp;&nbsp; Remove __ARGS in really the last files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/if_mzsch.pro, src/if_mzsch.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_gtk_gresources.pro, src/proto/gui_mac.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/if_ole.pro, src/proto/os_qnx.pro, src/Makefile<br>
<br>
Patch 7.4.1204<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Latin1 characters cause encoding conversion.<br>
Solution:&nbsp;&nbsp; Remove the characters.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_motif.c<br>
<br>
Patch 7.4.1205<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old style function declarations.<br>
Solution:&nbsp;&nbsp; Change to new style function declarations. (script by Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/arabic.c, src/blowfish.c, src/buffer.c, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c, src/crypt.c, src/crypt_zip.c, src/diff.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/digraph.c, src/edit.c, src/eval.c<br>
<br>
Patch 7.4.1206<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old style function declarations.<br>
Solution:&nbsp;&nbsp; Change to new style function declarations. (script by Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/ex_eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/farsi.c, src/fileio.c<br>
<br>
Patch 7.4.1207<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old style function declarations.<br>
Solution:&nbsp;&nbsp; Change to new style function declarations. (script by Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c, src/getchar.c, src/gui_at_fs.c, src/gui_athena.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_at_sb.c, src/gui_beval.c, src/gui.c, src/gui_gtk.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/gui_mac.c, src/gui_motif.c<br>
<br>
Patch 7.4.1208<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old style function declarations.<br>
Solution:&nbsp;&nbsp; Change to new style function declarations. (script by Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_photon.c, src/gui_w32.c, src/gui_w48.c, src/gui_x11.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hangulin.c, src/hardcopy.c, src/hashtab.c, src/if_cscope.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.c, src/if_perlsfio.c, src/if_python.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python3.c, src/if_ruby.c, src/if_sniff.c, src/if_tcl.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_xcmdsrv.c, src/integration.c<br>
<br>
Patch 7.4.1209 (after 7.4.1207)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Athena. (Elimar Riesebieter)<br>
Solution:&nbsp;&nbsp; Fix function declarations.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_athena.c, src/gui_x11.c, src/gui_at_sb.c, src/gui_at_fs.c<br>
<br>
Patch 7.4.1210<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old style function declarations.<br>
Solution:&nbsp;&nbsp; Change to new style function declarations. (script by Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/mark.c, src/mbyte.c, src/memfile.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memfile_test.c, src/memline.c, src/menu.c, src/message.c<br>
<br>
Patch 7.4.1211<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old style function declarations.<br>
Solution:&nbsp;&nbsp; Change to new style function declarations. (script by Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/misc2.c, src/move.c, src/netbeans.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/ops.c, src/option.c<br>
<br>
Patch 7.4.1212 (after 7.4.1207)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Motif.<br>
Solution:&nbsp;&nbsp; Fix function declaration.(Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_motif.c<br>
<br>
Patch 7.4.1213<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old style function declarations.<br>
Solution:&nbsp;&nbsp; Change to new style function declarations. (script by Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_amiga.c, src/os_mac_conv.c, src/os_msdos.d, src/os_mswin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_qnx.c, src/os_unix.c, src/os_vms.c, src/os_win16.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/popupmnu.c, src/pty.c, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp_nfa.c, src/screen.c<br>
<br>
Patch 7.4.1214<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old style function declarations.<br>
Solution:&nbsp;&nbsp; Change to new style function declarations. (script by Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/sha256.c, src/spell.c, src/syntax.c, src/tag.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/termlib.c, src/ui.c, src/undo.c<br>
<br>
Patch 7.4.1215<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old style function declarations.<br>
Solution:&nbsp;&nbsp; Change to new style function declarations. (script by Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/winclip.c, src/window.c, src/workshop.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xpm_w32.c, runtime/doc/doctags.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/tools/xcmdsrv_client.c, src/po/sjiscorr.c, src/xxd/xxd.c<br>
<br>
Patch 7.4.1216<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still using HAVE_STDARG_H.<br>
Solution:&nbsp;&nbsp; Assume it's always defined.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/misc2.c, src/vim.h, src/proto.h, src/configure.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/auto/configure, config.h.in, src/os_amiga.h, src/os_msdos.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_vms_conf.h, src/os_win32.h<br>
<br>
Patch 7.4.1217<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Execution of command on channel doesn't work yet.<br>
Solution:&nbsp;&nbsp; Implement the &quot;ex&quot; and &quot;normal&quot; commands.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro, src/misc2.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/proto/ex_docmd.pro, src/feature.h<br>
<br>
Patch 7.4.1218<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing change in configure.&nbsp;&nbsp;More changes for function style.<br>
Solution:&nbsp;&nbsp; Avoid the typos.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/config.h.in, runtime/tools/ccfilter.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_msdos.c<br>
<br>
Patch 7.4.1219<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails with +channel but without +float.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.1220<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings for unused variables in tiny build. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Move declarations inside #ifdef. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.1221<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Including netbeans and channel support in small and tiny builds.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Build fails with some interfaces.<br>
Solution:&nbsp;&nbsp; Only include these features in small build and above.&nbsp;&nbsp;Let<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configure fail if trying to enable an interface that won't build.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.1222<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:normal&quot; command and others missing in tiny build.<br>
Solution:&nbsp;&nbsp; Graduate FEAT_EX_EXTRA.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/charset.c, src/eval.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c, src/getchar.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/ui.c, src/version.c, src/globals.h<br>
<br>
Patch 7.4.1223<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when setting v:errors to a number.<br>
Solution:&nbsp;&nbsp; Free the typval without assuming its type. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_assert.vim<br>
<br>
Patch 7.4.1224<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build problems with GTK on BSD. (Mike Williams)<br>
Solution:&nbsp;&nbsp; Don't use &quot;$&lt;&quot;. Skip building gui_gtk_gresources.h when it doesn't<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;work. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.1225<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still a few old style function declarations.<br>
Solution:&nbsp;&nbsp; Make them new style. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/tools/blink.c, src/eval.c, src/ex_cmds2.c, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/gui_w32.c, src/gui_x11.c, src/if_perl.xs,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/po/sjiscorr.c, src/pty.c<br>
<br>
Patch 7.4.1226<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GRESOURCE_HDR is unused.<br>
Solution:&nbsp;&nbsp; Remove it. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure, src/config.mk.in<br>
<br>
Patch 7.4.1227<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings.<br>
Solution:&nbsp;&nbsp; Add UNUSED.&nbsp;&nbsp;Add type cast. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/os_macosx.m<br>
<br>
Patch 7.4.1228<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;copy() and deepcopy() fail with special variables. (Nikolai<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pavlov)<br>
Solution:&nbsp;&nbsp; Make it work.&nbsp;&nbsp;Add a test.&nbsp;&nbsp;Closes #614.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_viml.vim<br>
<br>
Patch 7.4.1229<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;eval&quot; and &quot;expr&quot; channel commands don't work yet.<br>
Solution:&nbsp;&nbsp; Implement them.&nbsp;&nbsp;Update the error numbers.&nbsp;&nbsp;Also add &quot;redraw&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/json.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/channel.pro, src/proto/json.pro, src/proto/ex_docmd.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/channel.txt<br>
<br>
Patch 7.4.1230<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: opening a channel may hang.&nbsp;&nbsp;Not checking for messages<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;while waiting for characters.<br>
Solution:&nbsp;&nbsp; Add a zero timeout.&nbsp;&nbsp;Call parse_queued_messages(). (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.1231<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;JSON messages are not parsed properly.<br>
Solution:&nbsp;&nbsp; Queue received messages.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c src/channel.c, src/json.c, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/channel.pro, src/proto/json.pro, src/structs.h<br>
<br>
Patch 7.4.1232<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings when the Sniff feature is enabled.<br>
Solution:&nbsp;&nbsp; Add UNUSED.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 7.4.1233<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel command may cause a crash.<br>
Solution:&nbsp;&nbsp; Check for NULL argument. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1234<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Demo server only runs with Python 2.<br>
Solution:&nbsp;&nbsp; Make it run with Python 3 as well. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/tools/demoserver.py<br>
<br>
Patch 7.4.1235 (after 7.4.1231)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing change to eval.c.<br>
Solution:&nbsp;&nbsp; Include that change.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1236<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When &quot;syntax manual&quot; was used switching between buffers removes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the highlighting.<br>
Solution:&nbsp;&nbsp; Set the syntax option without changing the value. (Anton<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lindqvist)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/syntax/manual.vim<br>
<br>
Patch 7.4.1237<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't translate message without adding a line break.<br>
Solution:&nbsp;&nbsp; Join the two parts of the message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 7.4.1238<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't handle two messages right after each other.<br>
Solution:&nbsp;&nbsp; Find the end of the JSON.&nbsp;&nbsp;Read more when incomplete.&nbsp;&nbsp;Add a C<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test for the JSON decoding.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/json.c, src/proto/json.pro, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/json_test.c, src/memfile_test.c, src/structs.h<br>
<br>
Patch 7.4.1239<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;JSON message after the first one is dropped.<br>
Solution:&nbsp;&nbsp; Put remainder of message back in the queue.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1240<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Visual studio tools are noisy.<br>
Solution:&nbsp;&nbsp; Suppress startup info. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/Makefile, src/Make_mvc.mak, src/tee/Make_mvc.mak<br>
<br>
Patch 7.4.1241 (after 7.4.1238)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing change in Makefile due to diff mismatch<br>
Solution:&nbsp;&nbsp; Update the list of object files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.1242 (after 7.4.1238)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;json_test fails without the eval feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json_test.c<br>
<br>
Patch 7.4.1243<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for uninitialized variable.<br>
Solution:&nbsp;&nbsp; Initialize it. (Elias Diem)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c<br>
<br>
Patch 7.4.1244<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The channel functions don't sort together.<br>
Solution:&nbsp;&nbsp; Use a common &quot;ch_&quot; prefix.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/doc/eval.txt, runtime/tools/demoserver.py<br>
<br>
Patch 7.4.1245<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;File missing from distribution.<br>
Solution:&nbsp;&nbsp; Add json_test.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.1246<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The channel functionality isn't tested.<br>
Solution:&nbsp;&nbsp; Add a test using a Python test server.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_channel.py,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 7.4.1247<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The channel test doesn't run on MS-Windows.<br>
Solution:&nbsp;&nbsp; Make it work on the MS-Windows console. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1248<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't reliably stop the channel test server.&nbsp;&nbsp;Can't start the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;server if the python file is not executable.<br>
Solution:&nbsp;&nbsp; Use &quot;pkill&quot; instead of &quot;killall&quot;.&nbsp;&nbsp;Run the python file as an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;argument instead of as an executable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1249<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when the process a channel is connected to exits.<br>
Solution:&nbsp;&nbsp; Use the file descriptor properly.&nbsp;&nbsp;Add a test. (Damien)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also add a test for eval().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.py,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1250<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running tests in shadow directory fails.<br>
Solution:&nbsp;&nbsp; Also link testdir/*.py<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.1251<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New test file missing from distribution.<br>
Solution:&nbsp;&nbsp; Add src/testdir/*.py.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.1252<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The channel test server may receive two messages concatenated.<br>
Solution:&nbsp;&nbsp; Split the messages.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py<br>
<br>
Patch 7.4.1253<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python test server not displaying second of two commands.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Solaris doesn't have &quot;pkill --full&quot;.<br>
Solution:&nbsp;&nbsp; Also echo the second command. Use &quot;pkill -f&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1254<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Opening a second channel causes a crash. (Ken Takata)<br>
Solution:&nbsp;&nbsp; Don't re-allocate the array with channels.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py<br>
<br>
Patch 7.4.1255<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash for channel &quot;eval&quot; command without third argument.<br>
Solution:&nbsp;&nbsp; Check for missing argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py<br>
<br>
Patch 7.4.1256<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On Mac sys.exit(0) doesn't kill the test server.<br>
Solution:&nbsp;&nbsp; Use self.server.shutdown(). (Jun Takimoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py<br>
<br>
Patch 7.4.1257<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test fails in some configurations.<br>
Solution:&nbsp;&nbsp; Add check for the +channel feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1258<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The channel test can fail if messages arrive later.<br>
Solution:&nbsp;&nbsp; Add a short sleep. (Jun Takimoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1259<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for what patch 7.3.414 fixed.<br>
Solution:&nbsp;&nbsp; Add a test. (Elias Diem)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment.vim<br>
<br>
Patch 7.4.1260<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The channel feature doesn't work on Win32 GUI.<br>
Solution:&nbsp;&nbsp; Use WSAGetLastError(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim, src/vim.h<br>
<br>
Patch 7.4.1261<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Pending channel messages are garbage collected. Leaking memory in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ch_sendexpr().&nbsp;&nbsp;Leaking memory for a decoded JSON string.<br>
Solution:&nbsp;&nbsp; Mark the message list as used. Free the encoded JSON.&nbsp;&nbsp;Don't save<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the JSON string.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c, src/json.c, src/proto/channel.pro<br>
<br>
Patch 7.4.1262<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The channel callback is not invoked.<br>
Solution:&nbsp;&nbsp; Make a list of pending callbacks.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1263<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ch_open() hangs when the server isn't running.<br>
Solution:&nbsp;&nbsp; Add a timeout. Use a dict to pass arguments. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/channel.txt, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/netbeans.c, src/os_win32.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1264<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when receiving an empty array.<br>
Solution:&nbsp;&nbsp; Check for array with wrong number of arguments. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/testdir/test_channel.py,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1265<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all channel commands are tested.<br>
Solution:&nbsp;&nbsp; Add a test for &quot;normal&quot;, &quot;expr&quot; and &quot;redraw&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1266<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A BufAdd autocommand may cause an ml_get error (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Solution:&nbsp;&nbsp; Increment RedrawingDisabled earlier.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.1267<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Easy to miss handling all types of variables.<br>
Solution:&nbsp;&nbsp; Change the variable type into an enum.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/eval.c<br>
<br>
Patch 7.4.1268<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Waittime is used as seconds instead of milliseconds. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Solution:&nbsp;&nbsp; Divide by 1000.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1269<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Encoding&nbsp;<span class="Special">{'key':v:none}</span>&nbsp;to JSON doesn't give an error (Tyru)<br>
Solution:&nbsp;&nbsp; Give an error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/testdir/test_json.vim<br>
<br>
Patch 7.4.1270<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings for missing values in switch.<br>
Solution:&nbsp;&nbsp; Change switch to if-else or add values.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/if_python.c, src/if_python3.c<br>
<br>
Patch 7.4.1271<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;assert_false(v:false) reports an error. (Nikolai Pavlov)<br>
Solution:&nbsp;&nbsp; Recognize v:true and v:false. (Closes #625)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_assert.vim<br>
<br>
Patch 7.4.1272 (after 7.4.1270)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using future enum value.<br>
Solution:&nbsp;&nbsp; Remove it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python.c, src/if_python3.c<br>
<br>
Patch 7.4.1273 (after 7.4.1271)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;assert_false(v:false) still fails.<br>
Solution:&nbsp;&nbsp; Fix the typo.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1274<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot run a job.<br>
Solution:&nbsp;&nbsp; Add job_start(), job_status() and job_stop(). Currently only works<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for Unix.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/structs.h, runtime/doc/eval.txt, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_unix.pro, src/feature.h, src/version.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1275 (after 7.4.1274)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Fix wrong #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1276<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for not using return value of fcntl().<br>
Solution:&nbsp;&nbsp; Explicitly ignore the return value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/channel.c, src/memfile.c, src/memline.c<br>
<br>
Patch 7.4.1277<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler can complain about missing enum value in switch with some<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combination of features.<br>
Solution:&nbsp;&nbsp; Remove #ifdefs around case statements.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1278<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When jsonencode() fails it still returns something.<br>
Solution:&nbsp;&nbsp; Return an empty string on failure.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/channel.c, src/testdir/test_json.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_channel.py<br>
<br>
Patch 7.4.1279<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;jsonencode() is not producing strict JSON.<br>
Solution:&nbsp;&nbsp; Add jsencode() and jsdecode().&nbsp;&nbsp;Make jsonencode() and jsondecode()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strict.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/json_test.c, src/proto/json.pro, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/channel.pro, src/eval.c, src/vim.h, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/channel.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_json.vim<br>
<br>
Patch 7.4.1280<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing case value.<br>
Solution:&nbsp;&nbsp; Add VAR_JOB.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python.c, src/if_python3.c<br>
<br>
Patch 7.4.1281<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for skipping over code that isn't evaluated.<br>
Solution:&nbsp;&nbsp; Add a test with code that would fail when not skipped.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viml.vim<br>
<br>
Patch 7.4.1282<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when evaluating the pattern of &quot;:catch&quot; causes an error.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Block error messages at this point.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_eval.c<br>
<br>
Patch 7.4.1283<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The job feature isn't available on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add the job feature.&nbsp;&nbsp;Fix argument of job_stop(). (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/feature.h, src/os_win32.c, src/proto/os_win32.pro<br>
<br>
Patch 7.4.1284 (after 7.4.1282)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 49 fails.<br>
Solution:&nbsp;&nbsp; Check for a different error message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test49.vim<br>
<br>
Patch 7.4.1285<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot measure elapsed time.<br>
Solution:&nbsp;&nbsp; Add reltimefloat().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/eval.c, src/proto/ex_cmds2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_reltime.vim, src/testdir/test_alot.vim<br>
<br>
Patch 7.4.1286<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ch_open() with a timeout doesn't work correctly.<br>
Solution:&nbsp;&nbsp; Change how select() is used.&nbsp;&nbsp;Don't give an error on timeout.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a test for ch_open() failing.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1287 (after 7.4.1286)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test fails.<br>
Solution:&nbsp;&nbsp; Use reltimefloat().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1288<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ch_sendexpr() does not use JS encoding.<br>
Solution:&nbsp;&nbsp; Use the encoding that fits the channel mode.&nbsp;&nbsp;Refuse using<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ch_sendexpr() on a raw channel.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro, src/eval.c<br>
<br>
Patch 7.4.1289<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test fails on MS-Windows, connect() takes too long.<br>
Solution:&nbsp;&nbsp; Adjust the test for MS-Windows using &quot;waittime&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1290<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity complains about unnecessary check for NULL.<br>
Solution:&nbsp;&nbsp; Remove the check.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1291<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows the channel test server doesn't quit.<br>
Solution:&nbsp;&nbsp; Use return instead of break. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py<br>
<br>
Patch 7.4.1292<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some compilers complain about uninitialized variable, even though<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all possible cases are handled. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Add a default initialization.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1293<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sometimes a channel may hang waiting for a message that was<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;already discarded. (Ken Takata)<br>
Solution:&nbsp;&nbsp; Store the ID of the message blocking on in the channel.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1294<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;job_stop() only kills the started process.<br>
Solution:&nbsp;&nbsp; Send the signal to the process group. (Olaf Dabrunz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1295<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;string(job) doesn't work well on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use the process ID. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1296<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor changes column with up motion when the matchparen plugin<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saves and restores the cursor position. (Martin Kunev)<br>
Solution:&nbsp;&nbsp; Make sure curswant is updated before invoking the autocommand.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.1297<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On Mac test_channel leaves python instances running.<br>
Solution:&nbsp;&nbsp; Use a small waittime to make ch_open() work. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1298<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the channel test fails in an unexpected way the server keeps<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;running.<br>
Solution:&nbsp;&nbsp; Use try/catch. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1299<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the server sends a message with ID zero the channel handler<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is not invoked. (Christian J. Robinson)<br>
Solution:&nbsp;&nbsp; Recognize zero value for the request ID.&nbsp;&nbsp;Add a test for invoking<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the channel handler.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py<br>
<br>
Patch 7.4.1300<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot test CursorMovedI because there is typeahead.<br>
Solution:&nbsp;&nbsp; Add disable_char_avail_for_testing().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/getchar.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cursor_func.vim, src/testdir/README.txt<br>
<br>
Patch 7.4.1301<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing options in ch_open().<br>
Solution:&nbsp;&nbsp; Add s:chopt like in the other calls. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1302<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in struct field name. (Ken Takata)<br>
Solution:&nbsp;&nbsp; Rename jf_pi to jv_pi.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/os_win32.c, src/structs.h<br>
<br>
Patch 7.4.1303<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A Funcref is not accepted as a callback.<br>
Solution:&nbsp;&nbsp; Make a Funcref work. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1304<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Function names are difficult to read.<br>
Solution:&nbsp;&nbsp; Rename jsonencode to json_encode, jsondecode to json_decode,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jsencode to js_encode and jsdecode to js_decode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/doc/eval.txt, src/testdir/test_json.vim<br>
<br>
Patch 7.4.1305<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;\%1l^#.*&quot; does not match on a line starting with &quot;#&quot;.<br>
Solution:&nbsp;&nbsp; Do not clear the start-of-line flag. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp_nfa.c, src/testdir/test36.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test36.ok<br>
<br>
Patch 7.4.1306<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Job control doesn't work well on MS-Windows.<br>
Solution:&nbsp;&nbsp; Various fixes. (Ken Takata, Ozaki Kiichi, Yukihiro Nakadaira,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/eval.c, src/os_unix.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_unix.pro, src/proto/os_win32.pro, src/structs.h<br>
<br>
Patch 7.4.1307<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some channel tests fail on MS-Windows.<br>
Solution:&nbsp;&nbsp; Disable the failing tests temporarily.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1308 (after 7.4.1307)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in test.<br>
Solution:&nbsp;&nbsp; Change endf to endif.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1309<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a test fails not all relevant info is listed.<br>
Solution:&nbsp;&nbsp; Add the errors to the messages.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 7.4.1310<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Jobs don't open a channel.<br>
Solution:&nbsp;&nbsp; Create pipes and add them to the channel.&nbsp;&nbsp;Add ch_logfile().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Only Unix for now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/os_unix.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w48.c, src/proto/channel.pro, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel_pipe.py, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1311 (after 7.4.1310)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;sock_T is defined too late.<br>
Solution:&nbsp;&nbsp; Move it up.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 7.4.1312 (after 7.4.1311)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;sock_T is not defined without the +channel feature.<br>
Solution:&nbsp;&nbsp; Always define it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 7.4.1313<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Using socket after it was closed causes an exception.<br>
Solution:&nbsp;&nbsp; Don't give an error when handling WM_NETBEANS.&nbsp;&nbsp;Re-enable tests<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for MS-Windows.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w48.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1314<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for uninitialized variable.<br>
Solution:&nbsp;&nbsp; Initialize it. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1315<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using a channel handle does not allow for freeing it when unused.<br>
Solution:&nbsp;&nbsp; Add the Channel variable type.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/channel.c, src/misc2.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python.c, src/if_python3.c, src/json.c, src/gui_w48.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c, src/proto/channel.pro, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1316<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build MS-Windows console version. (Tux)<br>
Solution:&nbsp;&nbsp; Add #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1317<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: channel test fails.<br>
Solution:&nbsp;&nbsp; Temporarily disable Test_connect_waittime().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1318<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel with pipes doesn't work in GUI.<br>
Solution:&nbsp;&nbsp; Register input handlers for pipes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/feature.h, src/channel.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_win32.c, src/gui_w48.c, src/proto/channel.pro<br>
<br>
Patch 7.4.1319 (after 7.4.1318)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests fail on MS-Windows and on Unix with GUI.<br>
Solution:&nbsp;&nbsp; Fix unregistering.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/channel.c, src/os_unix.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/channel.pro<br>
<br>
Patch 7.4.1320<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with Cygwin or MingW with channel but without Netbeans<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doesn't work.<br>
Solution:&nbsp;&nbsp; Set NETBEANS to &quot;no&quot; when not used.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.1321<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler complains about missing statement.<br>
Solution:&nbsp;&nbsp; Add an empty statement. (Andrei Olsen)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.1322<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when unletting the variable that holds the channel in a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callback function.&nbsp;&nbsp;(Christian Robinson)<br>
Solution:&nbsp;&nbsp; Increase the reference count while invoking the callback.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1323<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Do not get warnings when building with MingW.<br>
Solution:&nbsp;&nbsp; Remove the -w flag. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.1324<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channels with pipes don't work on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add pipe I/O support. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/os_win32.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/vim.h, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1325<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test fails on difference between Unix and DOS line endings.<br>
Solution:&nbsp;&nbsp; Strip off CR.&nbsp;&nbsp;Make assert show difference better.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c<br>
<br>
Patch 7.4.1326<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build rules are bit too complicated.<br>
Solution:&nbsp;&nbsp; Remove -lwsock32 from Netbeans, it's already added for the channel<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feature that it depends on. (Tony Mechelynck)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.1327<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test doesn't work if Python executable is python.exe.<br>
Solution:&nbsp;&nbsp; Find py.exe or python.exe. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1328<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't compile with +job but without +channel. (John Marriott)<br>
Solution:&nbsp;&nbsp; Add more #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1329<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using channel that failed to open.<br>
Solution:&nbsp;&nbsp; Check for NULL.&nbsp;&nbsp;Update messages. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1330<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;fd_read() has an unused argument.<br>
Solution:&nbsp;&nbsp; Remove the timeout. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1331<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when closing the channel in a callback. (Christian J.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Robinson)<br>
Solution:&nbsp;&nbsp; Take the callback out of the list before invoking it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1332<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Problem using Python3 when compiled with MingW.<br>
Solution:&nbsp;&nbsp; Define PYTHON3_HOME as a wide character string. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.1333<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test fails on non-darwin builds.<br>
Solution:&nbsp;&nbsp; Add the &quot;osx&quot; feature and test for that. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1334<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Many compiler warnings with MingW.<br>
Solution:&nbsp;&nbsp; Add type casts. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/dosinst.h, src/eval.c, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/fileio.c, src/if_cscope.c, src/if_perl.xs,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python.c, src/if_python3.c, src/if_ruby.c, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/misc1.c, src/option.c, src/os_mswin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.1335<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build on MS-Windows with +job but without +channel. (Cesar<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Romani)<br>
Solution:&nbsp;&nbsp; Add #ifdefs. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.1336<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel NL mode is not supported yet.<br>
Solution:&nbsp;&nbsp; Add NL mode support to channels.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/netbeans.c, src/structs.h, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/channel.pro, src/proto/os_unix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_win32.pro, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel_pipe.py<br>
<br>
Patch 7.4.1337 (after 7.4.1336)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Part of the change is missing.<br>
Solution:&nbsp;&nbsp; Add changes to eval.c<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
<br>
Patch 7.4.1338 (after 7.4.1336)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Another part of the change is missing.<br>
Solution:&nbsp;&nbsp; Type os_unix.c right this time.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1339<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings when building the GUI with MingW. (Cesar Romani)<br>
Solution:&nbsp;&nbsp; Add type casts. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/gui_w32.c, src/gui_w48.c, src/os_mswin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.1340 (after 7.4.1339)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Merge left extra #endif behind.<br>
Solution:&nbsp;&nbsp; Remove the #endif<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.1341<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It's difficult to add more arguments to ch_sendraw() and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ch_sendexpr().<br>
Solution:&nbsp;&nbsp; Make the third option a dictionary.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/structs.h, src/channel.c, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1342<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On Mac OS/X the waittime must be &gt; 0 for connect to work.<br>
Solution:&nbsp;&nbsp; Use select() in a different way. (partly by Kazunobu Kuriyama)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Always use a waittime of 1 or more.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1343<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't compile with +job but without +channel. (Andrei Olsen)<br>
Solution:&nbsp;&nbsp; Move get_job_options up and adjust #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1344<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't compile Win32 GUI with tiny features.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.1345<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A few more compiler warnings. (Axel Bender)<br>
Solution:&nbsp;&nbsp; Add type casts.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/gui_w48.c<br>
<br>
Patch 7.4.1346<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings in build with -O2.<br>
Solution:&nbsp;&nbsp; Add initializations.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1347<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When there is any error Vim will use a non-zero exit code.<br>
Solution:&nbsp;&nbsp; When using &quot;:silent!&quot; do not set the exit code. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 7.4.1348<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More compiler warnings. (John Marriott)<br>
Solution:&nbsp;&nbsp; Add type casts, remove unused variable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.1349<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;And some more MingW compiler warnings. (Cesar Romani)<br>
Solution:&nbsp;&nbsp; Add type casts.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.c<br>
<br>
Patch 7.4.1350<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the test server fails to start Vim hangs.<br>
Solution:&nbsp;&nbsp; Check that there is actually something to read from the tty fd.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1351<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the port isn't opened yet when ch_open() is called it may<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fail instead of waiting for the specified time.<br>
Solution:&nbsp;&nbsp; Loop when select() succeeds but when connect() failed. Also use<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;channel logging for jobs.&nbsp;&nbsp;Add ch_log().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/netbeans.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_channel.py<br>
<br>
Patch 7.4.1352<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The test script lists all functions before executing them.<br>
Solution:&nbsp;&nbsp; Only list the function currently being executed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 7.4.1353<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_connect_waittime is skipped for MS-Windows.<br>
Solution:&nbsp;&nbsp; Add the test back, it works now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1354<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Mismatch between default compile options and what the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code expects.<br>
Solution:&nbsp;&nbsp; Change the default WINVER from 0x0500 to 0x0501. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 7.4.1355<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32 console and GUI handle channels differently.<br>
Solution:&nbsp;&nbsp; Consolidate code between Win32 console and GUI.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/gui_w48.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/channel.pro<br>
<br>
Patch 7.4.1356<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Job and channel options parsing is scattered.<br>
Solution:&nbsp;&nbsp; Move all option value parsing to get_job_options();<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/structs.h, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1357 (after 7.4.1356)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error for returning value from void function.<br>
Solution:&nbsp;&nbsp; Don't do that.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1358<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning when not building with +crypt.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 7.4.1359 (after 7.4.1356)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test ch_sendexpr() times out.<br>
Solution:&nbsp;&nbsp; Increase the timeout<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1360<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't remove a callback with ch_setoptions().<br>
Solution:&nbsp;&nbsp; When passing zero or an empty string remove the callback.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1361<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test fails on Solaris.<br>
Solution:&nbsp;&nbsp; Use the 1 msec waittime for all systems.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1362 (after 7.4.1356)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using uninitialized value.<br>
Solution:&nbsp;&nbsp; Initialize jo_set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1363<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings with tiny build.<br>
Solution:&nbsp;&nbsp; Add #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w48.c, src/gui_w32.c<br>
<br>
Patch 7.4.1364<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The Win 16 code is not maintained and unused.<br>
Solution:&nbsp;&nbsp; Remove the Win 16 support.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w16.c, src/gui_w32.c, src/gui_w48.c, src/Make_w16.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/Make_cyg_ming.mak, src/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_w16.pro, src/proto/os_win16.pro, src/guiw16rc.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim16.rc, src/vim16.def, src/tools16.bmp, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/misc2.c, src/option.c, src/os_msdos.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/os_win16.c, src/os_win16.h, src/version.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/winclip.c, src/feature.h, src/proto.h, src/vim.h, Filelist<br>
<br>
Patch 7.4.1365<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot execute a single test function.<br>
Solution:&nbsp;&nbsp; Add an argument to filter the functions with. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 7.4.1366<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in test and resulting error in test result.<br>
Solution:&nbsp;&nbsp; Fix the typo and correct the result. (James McCoy, closes #650)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_charsearch.in, src/testdir/test_charsearch.ok<br>
<br>
Patch 7.4.1367<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unreachable code.<br>
Solution:&nbsp;&nbsp; Remove a &quot;break&quot;. (Danek Duvall)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c<br>
<br>
Patch 7.4.1368<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;One more Win16 file remains.<br>
Solution:&nbsp;&nbsp; Delete it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_win16.pro<br>
<br>
Patch 7.4.1369<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channels don't have a queue for stderr.<br>
Solution:&nbsp;&nbsp; Have a queue for each part of the channel.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/structs.h, src/netbeans.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/proto/channel.pro<br>
<br>
Patch 7.4.1370<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The Python test script may keep on running.<br>
Solution:&nbsp;&nbsp; Join the threads. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py<br>
<br>
Patch 7.4.1371<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;X11 GUI callbacks don't specify the part of the channel.<br>
Solution:&nbsp;&nbsp; Pass the fd instead of the channel ID.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1372<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;channel read implementation is incomplete.<br>
Solution:&nbsp;&nbsp; Add ch_read() and options for ch_readraw().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/structs.h, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1373<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Calling a Vim function over a channel requires turning the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arguments into a string.<br>
Solution:&nbsp;&nbsp; Add the &quot;call&quot; command. (Damien)&nbsp;&nbsp;Also merge &quot;expr&quot; and &quot;eval&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;into one.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.py,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1374<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test hangs on MS-Windows.<br>
Solution:&nbsp;&nbsp; Disable the ch_read() that is supposed to time out.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1375<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still some Win16 code.<br>
Solution:&nbsp;&nbsp; Remove FEAT_GUI_W16.(Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/ex_cmds.h, src/feature.h, src/gui.h, src/menu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/option.c, src/proto.h, src/structs.h, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, runtime/doc/gui_w16.txt<br>
<br>
Patch 7.4.1376<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ch_setoptions() cannot set all options.<br>
Solution:&nbsp;&nbsp; Support more options.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/structs.h, runtime/doc/channel.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1377<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_connect_waittime() is flaky.<br>
Solution:&nbsp;&nbsp; Ignore the &quot;Connection reset by peer&quot; error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1378<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't change job settings after it started.<br>
Solution:&nbsp;&nbsp; Add job_setoptions() with the &quot;stoponexit&quot; flag.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/main.c, src/structs.h, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1379<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test fails on Win32 console.<br>
Solution:&nbsp;&nbsp; Don't sleep when timeout is zero. Call channel_wait() before<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;channel_read(). Channels are not polled during &quot;:sleep&quot;. (Yukihiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/misc2.c, src/gui_w32.c, src/os_win32.c<br>
<br>
Patch 7.4.1380<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The job exit callback is not implemented.<br>
Solution:&nbsp;&nbsp; Add the &quot;exit-cb&quot; option.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/eval.c, src/channel.c, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/macros.h, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1381 (after 7.4.1380)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Exit value not available on MS-Windows.<br>
Solution:&nbsp;&nbsp; Set the exit value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/os_win32.c<br>
<br>
Patch 7.4.1382<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't get the job of a channel.<br>
Solution:&nbsp;&nbsp; Add ch_getjob().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/doc/channel.txt, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1383<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GvimExt only loads the old libintl.dll.<br>
Solution:&nbsp;&nbsp; Also try loading libint-8.dll. (Ken Takata, closes #608)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/gvimext.cpp, src/GvimExt/gvimext.h<br>
<br>
Patch 7.4.1384<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not easy to use a set of plugins and their dependencies.<br>
Solution:&nbsp;&nbsp; Add packages, &quot;:loadplugin&quot;,&nbsp;<a class="Type" href="options.html#'packpath'">'packpath'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/ex_cmds2.c, src/option.c, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/eval.c, src/version.c, src/proto/ex_cmds2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/repeat.txt, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim<br>
<br>
Patch 7.4.1385<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for using array.<br>
Solution:&nbsp;&nbsp; Use the right member name. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1386<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the Job exit callback is invoked, the job may be freed too<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;soon. (Yasuhiro Matsumoto)<br>
Solution:&nbsp;&nbsp; Increase refcount.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1387<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win16 docs still referenced.<br>
Solution:&nbsp;&nbsp; Remove Win16 files from the docs Makefile. (Kenichi Ito)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/Makefile<br>
<br>
Patch 7.4.1388<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning. (Cesar Romani)<br>
Solution:&nbsp;&nbsp; Initialize variable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.1389<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Incomplete function declaration.<br>
Solution:&nbsp;&nbsp; Add &quot;void&quot;. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1390<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When building with GTK and glib-compile-resources cannot be found<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;building Vim fails. (Michael Gehring)<br>
Solution:&nbsp;&nbsp; Make GLIB_COMPILE_RESOURCES empty instead of leaving it at &quot;no&quot;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(nuko8, closes #655)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.1391<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for uninitialized variable.<br>
Solution:&nbsp;&nbsp; Set it to zero. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1392<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some tests fail for Win32 console version.<br>
Solution:&nbsp;&nbsp; Move the tests to SCRIPTS_MORE2.&nbsp;&nbsp;Pass VIMRUNTIME. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 7.4.1393<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Starting a job hangs in the GUI. (Takuya Fujiwara)<br>
Solution:&nbsp;&nbsp; Don't check if ch_job is NULL when checking for an error.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1394<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't sort inside a sort function.<br>
Solution:&nbsp;&nbsp; Use a struct to store the sort parameters. (Jacob Niehus)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_sort.vim<br>
<br>
Patch 7.4.1395<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using DETACH in quotes is not compatible with the Netbeans<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interface. (Xavier de Gaye)<br>
Solution:&nbsp;&nbsp; Remove the quotes, only use them for JSON and JS mode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c, src/channel.c<br>
<br>
Patch 7.4.1396<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for conversions.<br>
Solution:&nbsp;&nbsp; Add type cast.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.1397<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sort test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Correct the compare function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_sort.vim<br>
<br>
Patch 7.4.1398<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The close-cb option is not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement close-cb. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/structs.h, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1399<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The MS-DOS code does not build.<br>
Solution:&nbsp;&nbsp; Remove the old MS-DOS code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_bc3.mak, src/Make_bc5.mak, src/Make_djg.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/blowfish.c, src/buffer.c, src/diff.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/digraph.c, src/dosinst.h, src/eval.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c, src/feature.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/getchar.c, src/globals.h, src/macros.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/mbyte.c, src/memfile.c, src/memline.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/misc2.c, src/netbeans.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/os_msdos.c, src/os_msdos.h, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_msdos.pro, src/regexp.c, src/screen.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/term.c, src/undo.c, src/uninstal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/vim.h, src/window.c, src/xxd/Make_bc3.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xxd/Make_djg.mak<br>
<br>
<br>
Patch 7.4.1400<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Perl eval doesn't work properly on 64-bit big-endian machine.<br>
Solution:&nbsp;&nbsp; Use 32 bit type for the key. (Danek Duvall)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 7.4.1401<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Having&nbsp;<a class="Type" href="options.html#'autochdir'">'autochdir'</a>&nbsp;set during startup and using diff mode doesn't<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;work. (Axel Bender)<br>
Solution:&nbsp;&nbsp; Don't use&nbsp;<a class="Type" href="options.html#'autochdir'">'autochdir'</a>&nbsp;while still starting up. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 7.4.1402<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GTK 3 is not supported.<br>
Solution:&nbsp;&nbsp; Add GTK 3 support. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/gui.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/gui_x11.txt, src/auto/configure, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.h.in, src/configure.in, src/eval.c, src/gui.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c, src/gui_beval.h, src/gui_gtk.c, src/gui_gtk_f.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_f.h, src/gui_gtk_x11.c, src/if_mzsch.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c, src/structs.h, src/version.c<br>
<br>
Patch 7.4.1403<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build without the quickfix feature.<br>
Solution:&nbsp;&nbsp; Add #ifdefs. Call ex_ni() for unimplemented commands. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/popupmnu.c<br>
<br>
Patch 7.4.1404<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ch_read() doesn't time out on MS-Windows.<br>
Solution:&nbsp;&nbsp; Instead of WM_NETBEANS use select(). (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/gui_w32.c, src/os_win32.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/vim.h<br>
<br>
Patch 7.4.1405<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completion menu flickers.<br>
Solution:&nbsp;&nbsp; Delay showing the popup menu. (Shougo Matsu, Justin M. Keyes,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #656)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.1406<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory in cs_print_tags_priv().<br>
Solution:&nbsp;&nbsp; Free tbuf. (idea by Forrest Fleming)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c<br>
<br>
Patch 7.4.1407<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;json_encode() does not handle NaN and inf properly. (David<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Barnett)<br>
Solution:&nbsp;&nbsp; For JSON turn them into &quot;null&quot;.&nbsp;&nbsp;For JS use &quot;NaN&quot; and &quot;Infinity&quot;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add isnan().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/json.c, src/testdir/test_json.vim<br>
<br>
Patch 7.4.1408<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows doesn't have isnan() and isinf().<br>
Solution:&nbsp;&nbsp; Use _isnan() and _isinf().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/json.c<br>
<br>
Patch 7.4.1409 (after 7.4.1402)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure includes GUI despite --disable-gui flag.<br>
Solution:&nbsp;&nbsp; Add SKIP_GTK3. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.1410<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory in cscope interface.<br>
Solution:&nbsp;&nbsp; Free memory when no tab is found. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c<br>
<br>
Patch 7.4.1411<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for indent. (Ajit Thakkar)<br>
Solution:&nbsp;&nbsp; Indent normally.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 7.4.1412<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for indent. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Fix the indent.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/farsi.c<br>
<br>
Patch 7.4.1413<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When calling ch_close() the close callback is invoked, even though<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the docs say it isn't. (Christian J. Robinson)<br>
Solution:&nbsp;&nbsp; Don't call the close callback.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c, src/netbeans.c, src/proto/channel.pro<br>
<br>
Patch 7.4.1414<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Appveyor only builds one feature set.<br>
Solution:&nbsp;&nbsp; Build a combination of features and GUI/console. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;appveyor.yml, src/appveyor.bat<br>
<br>
Patch 7.4.1415 (after 7.4.1414)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dropped the skip-tags setting.<br>
Solution:&nbsp;&nbsp; Put it back.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;appveyor.yml<br>
<br>
Patch 7.4.1416<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;u_char&quot; instead of &quot;char_u&quot;, which doesn't work everywhere.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Jörg Plate)<br>
Solution:&nbsp;&nbsp; Use &quot;char_u&quot; always.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/integration.c, src/macros.h<br>
<br>
Patch 7.4.1417 (after 7.4.1414)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing appveyor.bat from the distribution.<br>
Solution:&nbsp;&nbsp; Add it to the list of files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.1418<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;job_stop() on MS-Windows does not really stop the job.<br>
Solution:&nbsp;&nbsp; Make the default to stop the job forcefully. (Ken Takata)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make MS-Windows and Unix more similar.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/os_unix.c, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1419<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests slowed down because of the &quot;not a terminal&quot; warning.<br>
Solution:&nbsp;&nbsp; Add the --not-a-term command line argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/testdir/Makefile, src/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/starting.txt<br>
<br>
Patch 7.4.1420 (after 7.4.1419)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing makefile.<br>
Solution:&nbsp;&nbsp; Type the path correctly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 7.4.1421<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May free a channel when a callback may need to be invoked.<br>
Solution:&nbsp;&nbsp; Keep the channel when refcount is zero.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c, src/proto/channel.pro<br>
<br>
Patch 7.4.1422<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error when reading fails uses wrong errno.&nbsp;&nbsp;Keeping channel open<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;after job stops results in test failing.<br>
Solution:&nbsp;&nbsp; Move the error up.&nbsp;&nbsp;Add ch_job_killed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/structs.h<br>
<br>
Patch 7.4.1423<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Do not give an error message when reading fails, assume the other<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end exited.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1424<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not using --not-a-term when running tests on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use NO_PLUGIN. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak<br>
<br>
Patch 7.4.1425<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There are still references to MS-DOS support.<br>
Solution:&nbsp;&nbsp; Remove most of the help txt and install instructions. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLpc.txt, runtime/doc/os_msdos.txt, csdpmi4b.zip,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.1426<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The &quot;out-io&quot; option for jobs is not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement the &quot;buffer&quot; value: append job output to a buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c, src/structs.h, src/netbeans.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/channel.txt<br>
<br>
Patch 7.4.1427<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Trailing comma in enums is not ANSI C.<br>
Solution:&nbsp;&nbsp; Remove the trailing commas.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/alloc.h, src/gui_mac.c<br>
<br>
Patch 7.4.1428<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for non-virtual destructor.<br>
Solution:&nbsp;&nbsp; Make it virtual. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_dwrite.cpp<br>
<br>
Patch 7.4.1429<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows, when not use renderoptions=type:directx, drawing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;emoji will be broken.<br>
Solution:&nbsp;&nbsp; Fix usage of unicodepdy. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.1430<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When encoding JSON, turning NaN and Infinity into null without<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;giving an error is not useful.<br>
Solution:&nbsp;&nbsp; Pass NaN and Infinity on.&nbsp;&nbsp;If the receiver can't handle them it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will generate the error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/testdir/test_json.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1431<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Including header files twice.<br>
Solution:&nbsp;&nbsp; Remove the extra includes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.h<br>
<br>
Patch 7.4.1432<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in button text.<br>
Solution:&nbsp;&nbsp; Fix the typo. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk.c<br>
<br>
Patch 7.4.1433<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The Sniff interface is no longer useful, the tool has not been<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;available for may years.<br>
Solution:&nbsp;&nbsp; Delete the Sniff interface and related code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_sniff.c, src/if_sniff.h, src/charset.c, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/gui_w32.c, src/gui_x11.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_win32.c, src/term.c, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/ex_cmds.h, src/feature.h, src/keymap.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/vim.h, src/Make_mvc.mak, src/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/configure.in, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.h.in, src/config.mk.in, runtime/doc/if_sniff.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.aap.in, src/main.aap<br>
<br>
Patch 7.4.1434<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;JSON encoding doesn't handle surrogate pair.<br>
Solution:&nbsp;&nbsp; Improve multi-byte handling of JSON. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/testdir/test_json.vim<br>
<br>
Patch 7.4.1435<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is confusing that ch_sendexpr() and ch_sendraw() wait for a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response.<br>
Solution:&nbsp;&nbsp; Add ch_evalexpr() and ch_evalraw().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/doc/channel.txt, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1436 (after 7.4.1433)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sniff files still referenced in distribution.<br>
Solution:&nbsp;&nbsp; Remove sniff files from distribution.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.1437<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old system doesn't have isinf() and NAN. (Ben Fritz)<br>
Solution:&nbsp;&nbsp; Adjust #ifdefs.&nbsp;&nbsp;Detect isnan() and isinf() functions with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configure. Use a replacement when missing. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/json.c, src/macros.h, src/message.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.h.in, src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.1438<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't get buffer number of a channel.<br>
Solution:&nbsp;&nbsp; Add ch_getbufnr().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/channel.txt, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1439 (after 7.4.1434)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using uninitialized variable.<br>
Solution:&nbsp;&nbsp; Initialize vc_type.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c<br>
<br>
Patch 7.4.1440 (after 7.4.1437)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build on Windows.<br>
Solution:&nbsp;&nbsp; Change #ifdefs.&nbsp;&nbsp;Only define isnan when used.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h, src/eval.c, src/json.c<br>
<br>
Patch 7.4.1441<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using empty name instead of no name for channel buffer.<br>
Solution:&nbsp;&nbsp; Remove the empty name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1442<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: more compilation warnings for destructor.<br>
Solution:&nbsp;&nbsp; Add &quot;virtual&quot;. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ole.cpp<br>
<br>
Patch 7.4.1443<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build GTK3 with small features.<br>
Solution:&nbsp;&nbsp; Use gtk_widget_get_window().&nbsp;&nbsp;Fix typos. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 7.4.1444<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with JSON but without multi-byte.<br>
Solution:&nbsp;&nbsp; Fix pointer name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c<br>
<br>
Patch 7.4.1445<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory corruption when&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;is not utf-8.<br>
Solution:&nbsp;&nbsp; Convert decoded string later.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c<br>
<br>
Patch 7.4.1446<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using json_decode().<br>
Solution:&nbsp;&nbsp; Terminate string with a NUL byte.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c<br>
<br>
Patch 7.4.1447<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak when using ch_read(). (Dominique Pelle)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No log message when stopping a job and a few other situations.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Too many &quot;Nothing to read&quot; messages.&nbsp;&nbsp;Channels are not freed.<br>
Solution:&nbsp;&nbsp; Free the listtv.&nbsp;&nbsp;Add more log messages. Remove &quot;Nothing to read&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message.&nbsp;&nbsp;Remove the channel from the job when its refcount<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;becomes zero.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c<br>
<br>
Patch 7.4.1448<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;JSON tests fail if&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;is not utf-8.<br>
Solution:&nbsp;&nbsp; Force encoding to utf-8.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_json.vim<br>
<br>
Patch 7.4.1449<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails with job feature but without channel feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1450<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Json encoding still fails when encoding is not utf-8.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;before :scriptencoding.&nbsp;&nbsp;Run the json test<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;separately to avoid affecting other tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_json.vim, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim<br>
<br>
Patch 7.4.1451<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim hangs when a channel has a callback but isn't referenced.<br>
Solution:&nbsp;&nbsp; Have channel_unref() only return TRUE when the channel was<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;actually freed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c, src/proto/channel.pro<br>
<br>
Patch 7.4.1452<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a callback adds a syntax item either the redraw doesn't<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;happen right away or in the GUI the cursor is in the wrong<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position for a moment. (Jakson Alves de Aquino)<br>
Solution:&nbsp;&nbsp; Redraw after the callback was invoked.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1453<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing --not-a-term.<br>
Solution:&nbsp;&nbsp; Add the argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak<br>
<br>
Patch 7.4.1454<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The exit callback test is flaky.<br>
Solution:&nbsp;&nbsp; Loop to wait for a short time up to a second.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1455<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;JSON decoding test for surrogate pairs is in the wrong place.<br>
Solution:&nbsp;&nbsp; Move the test lines. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_json.vim<br>
<br>
Patch 7.4.1456<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 87 fails with Python 3.5.<br>
Solution:&nbsp;&nbsp; Work around difference. (Taro Muraoka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test87.in<br>
<br>
Patch 7.4.1457<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Opening a channel with select() is not done properly.<br>
Solution:&nbsp;&nbsp; Also used read-fds. Use getsockopt() to check for errors. (Ozaki<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1458<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a JSON channel has a callback it may never be cleared.<br>
Solution:&nbsp;&nbsp; Do not write &quot;DETACH&quot; into a JS or JSON channel.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1459 (after 7.4.1457)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows doesn't know socklen_t.<br>
Solution:&nbsp;&nbsp; Use previous method for WIN32.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1460<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syntax error in rarely used code.<br>
Solution:&nbsp;&nbsp; Fix the mch_rename() declaration. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/proto/os_unix.pro<br>
<br>
Patch 7.4.1461<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When starting job on MS-Windows all parts of the command are put<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in quotes.<br>
Solution:&nbsp;&nbsp; Only use quotes when needed. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1462<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Two more rarely used functions with errors.<br>
Solution:&nbsp;&nbsp; Add proper argument types. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/termlib.c<br>
<br>
Patch 7.4.1463<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure doesn't find isinf() and isnan() on some systems.<br>
Solution:&nbsp;&nbsp; Use a configure check that includes math.h.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.1464<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the argument of sort() is zero or empty it fails.<br>
Solution:&nbsp;&nbsp; Make zero work as documented. (suggested by Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_sort.vim<br>
<br>
Patch 7.4.1465<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity reported possible use of NULL pointer when using buffer<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output with JSON mode.<br>
Solution:&nbsp;&nbsp; Make it actually possible to use JSON mode with a buffer.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Re-encode the JSON to append it to the buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1466<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity reports dead code.<br>
Solution:&nbsp;&nbsp; Remove the two lines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1467<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build without the float feature.<br>
Solution:&nbsp;&nbsp; Add #ifdefs. (Nick Owens, closes #667)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/json.c<br>
<br>
Patch 7.4.1468<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sort test doesn't test with &quot;1&quot; argument.<br>
Solution:&nbsp;&nbsp; Also test ignore-case sorting. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_sort.vim<br>
<br>
Patch 7.4.1469<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test sometimes fails, especially on OS/X. (Kazunobu<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kuriyama)<br>
Solution:&nbsp;&nbsp; Change the &amp;&amp; into ||, call getsockopt() in more situations.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1470<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity reports missing restore.<br>
Solution:&nbsp;&nbsp; Move json_encode() call up.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1471<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing out-of-memory check.&nbsp;&nbsp;And Coverity warning.<br>
Solution:&nbsp;&nbsp; Bail out when msg is NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1472<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warning for not using return value.<br>
Solution:&nbsp;&nbsp; Add &quot;(void)&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1473<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build without the autocommand feature.<br>
Solution:&nbsp;&nbsp; Add #ifdefs. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/main.c, src/syntax.c<br>
<br>
Patch 7.4.1474<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings without the float feature.<br>
Solution:&nbsp;&nbsp; Move #ifdefs. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1475<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using hangulinput with utf-8 a CSI character is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;misinterpreted.<br>
Solution:&nbsp;&nbsp; Convert CSI to K_CSI. (SungHyun Nam)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 7.4.1476<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Function arguments marked as unused while they are not.<br>
Solution:&nbsp;&nbsp; Remove UNUSED. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/eval.c, src/ex_cmds2.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.1477<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_reltime is flaky, it depends on timing.<br>
Solution:&nbsp;&nbsp; When it fails run it a second time.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 7.4.1478<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:loadplugin&quot; doesn't take care of ftdetect files.<br>
Solution:&nbsp;&nbsp; Also load ftdetect scripts when appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.1479<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No testfor &quot;:loadplugin&quot;.<br>
Solution:&nbsp;&nbsp; Add a test.&nbsp;&nbsp;Fix how option is being set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_loadplugin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 7.4.1480<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot add a pack directory without loading a plugin.<br>
Solution:&nbsp;&nbsp; Add the :packadd command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/ex_cmds2.c, src/proto/ex_cmds2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_loadplugin.vim, runtime/doc/repeat.txt<br>
<br>
Patch 7.4.1481<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with small features.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.1482<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;timeout&quot; option not supported on ch_eval*().<br>
Solution:&nbsp;&nbsp; Get and use the timeout option from the argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1483<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A one-time callback is not used for a raw channel.<br>
Solution:&nbsp;&nbsp; Use a one-time callback when it exists.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py<br>
<br>
Patch 7.4.1484<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel &quot;err-io&quot; value &quot;out&quot; is not supported.<br>
Solution:&nbsp;&nbsp; Connect stderr to stdout if wanted.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_win32.c, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel_pipe.py<br>
<br>
Patch 7.4.1485<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Job input from buffer is not implemented.<br>
Solution:&nbsp;&nbsp; Implement it.&nbsp;&nbsp;Add &quot;in-top&quot; and &quot;in-bot&quot; options.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/eval.c, src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_win32.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1486<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:loadplugin&quot; is not optimal, some people find it confusing.<br>
Solution:&nbsp;&nbsp; Only use &quot;:packadd&quot; with an optional &quot;!&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/ex_cmds2.c, src/testdir/test_loadplugin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_packadd.vim, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/repeat.txt<br>
<br>
Patch 7.4.1487<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;For WIN32 isinf() is defined as a macro.<br>
Solution:&nbsp;&nbsp; Define it as an inline function. (ZyX)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h<br>
<br>
Patch 7.4.1488 (after 7.4.1475)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not using key when result from hangul_string_convert() is NULL.<br>
Solution:&nbsp;&nbsp; Fall back to not converted string.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 7.4.1489 (after 7.4.1487)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;inline&quot; is not supported by old MSVC.<br>
Solution:&nbsp;&nbsp; use &quot;__inline&quot;. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h<br>
<br>
Patch 7.4.1490<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused function.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 7.4.1491<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Visual-block shift breaks multi-byte characters.<br>
Solution:&nbsp;&nbsp; Compute column differently. (Yasuhiro Matsumoto) Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_visual.vim, src/testdir/Make_all.mak<br>
<br>
Patch 7.4.1492<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No command line completion for &quot;:packadd&quot;.<br>
Solution:&nbsp;&nbsp; Implement completion. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/ex_getln.c, src/testdir/test_packadd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 7.4.1493<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong callback invoked for zero-id messages.<br>
Solution:&nbsp;&nbsp; Don't use the first one-time callback when the sequence number<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doesn't match.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py<br>
<br>
Patch 7.4.1494<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;clr_history() does not work properly.<br>
Solution:&nbsp;&nbsp; Increment hisptr. Add a test. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_history.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 7.4.1495<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings when building on Unix with the job feature but<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;without the channel feature.<br>
Solution:&nbsp;&nbsp; Move #ifdefs. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1496<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when built with GUI but it's not active. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Check gui.in_use.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1497<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor drawing problem with GTK 3.<br>
Solution:&nbsp;&nbsp; Handle blinking differently. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 7.4.1498<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error for locked item when using json_decode(). (Shougo Matsu)<br>
Solution:&nbsp;&nbsp; Initialize v_lock.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c<br>
<br>
Patch 7.4.1499<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No error message when :packadd does not find anything.<br>
Solution:&nbsp;&nbsp; Add an error message. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/repeat.txt, src/ex_cmds.h, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/testdir/test_packadd.vim<br>
<br>
Patch 7.4.1500<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Should_free flag set to FALSE.<br>
Solution:&nbsp;&nbsp; Set it to TRUE. (Neovim 4415)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_eval.c<br>
<br>
Patch 7.4.1501<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Garbage collection with an open channel is not tested.<br>
Solution:&nbsp;&nbsp; Call garbagecollect() in the test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1502<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Writing last-but-one line of buffer to a channel isn't implemented<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yet.<br>
Solution:&nbsp;&nbsp; Implement it.&nbsp;&nbsp;Fix leaving a swap file behind.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/structs.h, src/memline.c, src/proto/channel.pro<br>
<br>
Patch 7.4.1503<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using ch_getjob(). (Damien)<br>
Solution:&nbsp;&nbsp; Check for a NULL job.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1504 (after 7.4.1502)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for reading last-but-one line.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1505<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When channel log is enabled get too many &quot;looking for messages&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log entries.<br>
Solution:&nbsp;&nbsp; Only give the message after another message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1506<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Job cannot read from a file.<br>
Solution:&nbsp;&nbsp; Implement reading from a file for Unix.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/os_unix.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1507<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when starting a job fails.<br>
Solution:&nbsp;&nbsp; Check for the channel to be NULL.&nbsp;&nbsp;(idea by Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1508<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build GvimExt with MingW.<br>
Solution:&nbsp;&nbsp; Adjust the makefile. (Ben Fritz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/Make_ming.mak<br>
<br>
Patch 7.4.1509<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Keeping both a variable for a job and the channel it refers to is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a hassle.<br>
Solution:&nbsp;&nbsp; Allow passing the job where a channel is expected. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1510<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test fails on AppVeyor.<br>
Solution:&nbsp;&nbsp; Wait longer than 10 msec if needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1511<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Statusline highlighting is sometimes wrong.<br>
Solution:&nbsp;&nbsp; Check for Highlight type. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 7.4.1512<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel input from file not supported on MS-Windows.<br>
Solution:&nbsp;&nbsp; Implement it. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1513<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;J&quot; fails if there are not enough lines. (Christian Neukirchen)<br>
Solution:&nbsp;&nbsp; Reduce the count, only fail on the last line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_join.vim, src/testdir/test_alot.vim<br>
<br>
Patch 7.4.1514<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel output to file not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement it for Unix.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel_pipe.py<br>
<br>
Patch 7.4.1515<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test is a bit flaky.<br>
Solution:&nbsp;&nbsp; Instead of a fixed sleep time wait until an expression evaluates<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to true.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1516<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot change file permissions.<br>
Solution:&nbsp;&nbsp; Add setfperm().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/doc/eval.txt, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_file_perm.vim<br>
<br>
Patch 7.4.1517<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning with 64bit compiler.<br>
Solution:&nbsp;&nbsp; Add typecast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1518<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel with disconnected in/out/err is not supported.<br>
Solution:&nbsp;&nbsp; Implement it for Unix.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/os_unix.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_channel_pipe.py<br>
<br>
Patch 7.4.1519 (after 7.4.1514)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel output to file not implemented for MS-Windows.<br>
Solution:&nbsp;&nbsp; Implement it. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1520<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test: Waiting for a file to appear doesn't work.<br>
Solution:&nbsp;&nbsp; In waitFor() ignore errors.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1521 (after 7.4.1516)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;File permission test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Expect a different permission.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_file_perm.vim<br>
<br>
Patch 7.4.1522<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot write channel err to a buffer.<br>
Solution:&nbsp;&nbsp; Implement it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1523<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Writing channel to a file fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Disable it for now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1524<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test fails on BSD.<br>
Solution:&nbsp;&nbsp; Break out of the loop when connect() succeeds. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1525<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On a high resolution screen the toolbar icons are too small.<br>
Solution:&nbsp;&nbsp; Add &quot;huge&quot; and &quot;giant&quot; to&nbsp;<a class="Type" href="options.html#'toolbariconsize'">'toolbariconsize'</a>. (Brian Gix)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/option.h<br>
<br>
Patch 7.4.1526<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Writing to file and not connecting a channel doesn't work for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows.<br>
Solution:&nbsp;&nbsp; Make it work. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1527<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test is flaky on MS-Windows.<br>
Solution:&nbsp;&nbsp; Limit the select() timeout to 50 msec and try with a new socket if<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it fails.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1528<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;ever&quot; for packages is confusing.<br>
Solution:&nbsp;&nbsp; Use &quot;start&quot;, as it's related to startup.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, runtime/doc/repeat.txt<br>
<br>
Patch 7.4.1529<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Specifying buffer number for channel not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement passing a buffer number.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/channel.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1530<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows job_start() closes wrong handle.<br>
Solution:&nbsp;&nbsp; Close hThread on the process info. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.1531<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for uninitialized variable. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Always give the variable a value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1532<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows channel leaks file descriptor.<br>
Solution:&nbsp;&nbsp; Use CreateFile with the right options. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.1533<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using feedkeys() with an empty string disregards 'x' option.<br>
Solution:&nbsp;&nbsp; Make 'x' work with an empty string. (Thinca)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_feedkeys.vim<br>
<br>
Patch 7.4.1534<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for shadowed variable. (Kazunobu Kuriyama)<br>
Solution:&nbsp;&nbsp; Rename it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1535<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The feedkeys test has a one second delay.<br>
Solution:&nbsp;&nbsp; Avoid need_wait_return() to delay. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1536<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot re-use a channel for another job.<br>
Solution:&nbsp;&nbsp; Add the &quot;channel&quot; option to job_start().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/structs.h, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1537<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many feature flags for pipes, jobs and channels.<br>
Solution:&nbsp;&nbsp; Only use FEAT_JOB_CHANNEL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/feature.h, src/configure.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/auto/configure, src/config.h.in, src/channel.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/main.c, src/memline.c, src/misc2.c, src/os_mswin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_win32.c, src/ui.c, src/version.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h, src/proto.h, src/vim.h, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_bc5.mak, src/Make_mvc.mak<br>
<br>
Patch 7.4.1538<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Selection with the mouse does not work in command line mode.<br>
Solution:&nbsp;&nbsp; Use cairo functions. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 7.4.1539<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too much code in eval.c.<br>
Solution:&nbsp;&nbsp; Move job and channel code to channel.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro<br>
<br>
Patch 7.4.1540<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test is a bit flaky.<br>
Solution:&nbsp;&nbsp; Increase expected wait time.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1541<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing job_info().<br>
Solution:&nbsp;&nbsp; Implement it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1542<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;job_start() with a list is not tested.<br>
Solution:&nbsp;&nbsp; Call job_start() with a list.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1543<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel log methods are not tested.<br>
Solution:&nbsp;&nbsp; Log job activity and check it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1544<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On Win32 escaping the command does not work properly.<br>
Solution:&nbsp;&nbsp; Reset&nbsp;<a class="Type" href="options.html#'ssl'">'ssl'</a>&nbsp;when escaping the command. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1545<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GTK3: horizontal cursor movement in Visual selection not good.<br>
Solution:&nbsp;&nbsp; Make it work better. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 7.4.1546<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sticky type checking is more annoying than useful.<br>
Solution:&nbsp;&nbsp; Remove the error for changing a variable type.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_assign.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1547<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Getting a cterm highlight attribute that is not set results in the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string &quot;-1&quot;.<br>
Solution:&nbsp;&nbsp; Return an empty string. (Taro Muraoka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syn_attr.vim<br>
<br>
Patch 7.4.1548 (after 7.4.1546)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Two tests fail.<br>
Solution:&nbsp;&nbsp; Adjust the expected error number. Remove check for type.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test101.ok, src/testdir/test55.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test55.ok<br>
<br>
Patch 7.4.1549 (after 7.4.1547)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for syntax attributes fails in Win32 GUI.<br>
Solution:&nbsp;&nbsp; Use an existing font name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syn_attr.vim<br>
<br>
Patch 7.4.1550<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot load packages early.<br>
Solution:&nbsp;&nbsp; Add the &quot;:packloadall&quot; command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/ex_cmds2.c, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds2.pro, src/testdir/test_packadd.vim<br>
<br>
Patch 7.4.1551<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot generate help tags in all doc directories.<br>
Solution:&nbsp;&nbsp; Make &quot;:helptags ALL&quot; work.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/proto/ex_cmds2.pro, src/ex_cmds.c, src/vim.h<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_packadd.vim<br>
<br>
Patch 7.4.1552<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:colorscheme&quot; does not use&nbsp;<a class="Type" href="options.html#'packpath'">'packpath'</a>.<br>
Solution:&nbsp;&nbsp; Also use in &quot;start&quot; and &quot;opt&quot; directories in&nbsp;<a class="Type" href="options.html#'packpath'">'packpath'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/gui.c, src/hardcopy.c, src/os_mswin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/tag.c, src/if_py_both.h, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/digraph.c, src/eval.c, src/ex_docmd.c, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/syntax.c, src/testdir/test_packadd.vim<br>
<br>
Patch 7.4.1553<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:runtime&quot; does not use&nbsp;<a class="Type" href="options.html#'packpath'">'packpath'</a>.<br>
Solution:&nbsp;&nbsp; Add &quot;what&quot; argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/vim.h, runtime/doc/repeat.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_packadd.vim<br>
<br>
Patch 7.4.1554<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completion for :colorscheme does not use&nbsp;<a class="Type" href="options.html#'packpath'">'packpath'</a>.<br>
Solution:&nbsp;&nbsp; Make it work, add a test. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_packadd.vim<br>
<br>
Patch 7.4.1555<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;List of test targets incomplete.<br>
Solution:&nbsp;&nbsp; Add newly added tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.1556<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make install&quot; changes the help tags file, causing it to differ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from the repository.<br>
Solution:&nbsp;&nbsp; Move it aside and restore it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.1557<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Windows cannot be identified.<br>
Solution:&nbsp;&nbsp; Add a unique window number to each window and functions to use it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/window.c, src/eval.c, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/window.pro, src/testdir/test_window_id.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1558<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not easy to find out what windows display a buffer.<br>
Solution:&nbsp;&nbsp; Add win_findbuf().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/window.c, src/proto/window.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_window_id.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1559<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Passing cookie to a callback is clumsy.<br>
Solution:&nbsp;&nbsp; Change function() to take arguments and return a partial.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/channel.c, src/eval.c, src/if_python.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python3.c, src/if_py_both.h, src/json.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/testdir/test_partial.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1560<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dict options with a dash are more difficult to use.<br>
Solution:&nbsp;&nbsp; Use an underscore, so that dict.err_io can be used.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/structs.h, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/channel.txt<br>
<br>
Patch 7.4.1561 (after 7.4.1559)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing update to proto file.<br>
Solution:&nbsp;&nbsp; Change the proto file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/channel.pro<br>
<br>
Patch 7.4.1562<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:helptags ALL&quot; crashes. (Lcd)<br>
Solution:&nbsp;&nbsp; Don't free twice.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.1563<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Partial test fails on windows.<br>
Solution:&nbsp;&nbsp; Return 1 or -1 from compare function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1564<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;An empty list in function() causes an error.<br>
Solution:&nbsp;&nbsp; Handle an empty list like there is no list of arguments.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1565<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when assert_equal() runs into a NULL string.<br>
Solution:&nbsp;&nbsp; Check for NULL. (Dominique) Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_assert.vim<br>
<br>
Patch 7.4.1566<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for shadowed variable. (Kazunobu Kuriyama)<br>
Solution:&nbsp;&nbsp; Remove the inner one.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1567<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash in assert_fails().<br>
Solution:&nbsp;&nbsp; Check for NULL. (Dominique Pelle)&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_assert.vim<br>
<br>
Patch 7.4.1568<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;<span class="Special">CTRL-]</span>&nbsp;in help on option in parentheses doesn't work.<br>
Solution:&nbsp;&nbsp; Skip the &quot;(&quot; in &quot;('&quot;. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.1569<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old style tests for quickfix.<br>
Solution:&nbsp;&nbsp; Change them to new style tests. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test106.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test106.ok, src/testdir/test_qf_title.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_qf_title.ok, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1570<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no way to avoid the message when editing a file.<br>
Solution:&nbsp;&nbsp; Add the &quot;F&quot; flag to&nbsp;<a class="Type" href="options.html#'shortmess'">'shortmess'</a>. (Shougo Matsu, closes #686)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/buffer.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h<br>
<br>
Patch 7.4.1571<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for &quot;:help&quot;.<br>
Solution:&nbsp;&nbsp; Add a test for what 7.4.1568 fixed. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/test_help_tagjump.vim<br>
<br>
Patch 7.4.1572<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting&nbsp;<a class="Type" href="options.html#'compatible'">'compatible'</a>&nbsp;in test influences following tests.<br>
Solution:&nbsp;&nbsp; Turn&nbsp;<a class="Type" href="options.html#'compatible'">'compatible'</a>&nbsp;off again.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_backspace_opt.vim<br>
<br>
Patch 7.4.1573<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests get stuck at the more prompt.<br>
Solution:&nbsp;&nbsp; Move the backspace test out of test_alot.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/Make_all.mak<br>
<br>
Patch 7.4.1574<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:undo 0&quot; does not work. (Florent Fayolle)<br>
Solution:&nbsp;&nbsp; Make it undo all the way. (closes #688)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c, src/testdir/test_undolevels.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ex_undo.vim, src/testdir/test_alot.vim<br>
<br>
Patch 7.4.1575<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using wrong size for struct.<br>
Solution:&nbsp;&nbsp; Use the size for wide API. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.1576<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Write error of viminfo file is not handled properly. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Neukirchen)<br>
Solution:&nbsp;&nbsp; Check the return value of fclose(). (closes #682)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.1577<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot pass &quot;dict.Myfunc&quot; around as a partial.<br>
Solution:&nbsp;&nbsp; Create a partial when expected.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1578<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no way to invoke a function later or periodically.<br>
Solution:&nbsp;&nbsp; Add timer support.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/ex_cmds2.c, src/screen.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/gui.c, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds2.pro, src/proto/screen.pro, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1579 (after 7.4.1578)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing changes in channel.c<br>
Solution:&nbsp;&nbsp; Include the changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1580<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using function reference. (Luchr)<br>
Solution:&nbsp;&nbsp; Set initial refcount. (Ken Takata, closes #690)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1581<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;:call dict.func()&quot; where the function is a partial does<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not work.&nbsp;&nbsp;Using &quot;dict.func()&quot; where the function does not take a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dictionary does not work.<br>
Solution:&nbsp;&nbsp; Handle partial properly in &quot;:call&quot;. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_partial.vim, src/testdir/test55.ok<br>
<br>
Patch 7.4.1582<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get E923 when using function(dict.func, [], dict). (Kent Sibilev)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Storing a function with a dict in a variable drops the dict if the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function is script-local.<br>
Solution:&nbsp;&nbsp; Translate the function name.&nbsp;&nbsp;Use dict arg if present.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1583<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for uninitialized variable.<br>
Solution:&nbsp;&nbsp; Initialize it. (Dominique)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.1584<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Timers don't work for Win32 console.<br>
Solution:&nbsp;&nbsp; Add check_due_timer() in WaitForChar().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.1585<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Partial is not recognized everywhere.<br>
Solution:&nbsp;&nbsp; Check for partial in trans_function_name(). (Yasuhiro Matsumoto)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1586<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Nesting partials doesn't work.<br>
Solution:&nbsp;&nbsp; Append arguments. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1587<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings with 64 bit compiler.<br>
Solution:&nbsp;&nbsp; Add type casts. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.1588<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old style test for quickfix.<br>
Solution:&nbsp;&nbsp; Turn test 96 into a new style test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test96.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test96.ok, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1589<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Combining dict and args with partial doesn't always work.<br>
Solution:&nbsp;&nbsp; Use the arguments from the partial.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1590<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for shadowed variable. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Move the variable into a local block.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1591<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The quickfix title is truncated.<br>
Solution:&nbsp;&nbsp; Save the command before it is truncated. (Anton Lindqvist)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1592<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix code using memory after being freed. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Detect that the window was closed. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1593<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using channel timeout instead of request timeout. (Coverity)<br>
Solution:&nbsp;&nbsp; Remove the extra assignment.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1594<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Timers don't work on Unix.<br>
Solution:&nbsp;&nbsp; Add missing code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1595<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not checking for failed open(). (Coverity)<br>
Solution:&nbsp;&nbsp; Check file descriptor not being negative.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1596<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak. (Coverity)<br>
Solution:&nbsp;&nbsp; Free the pattern.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.1597<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak when out of memory. (Coverity)<br>
Solution:&nbsp;&nbsp; Free the name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1598<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When starting the GUI fails a swap file is left behind. (Joerg<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Plate)<br>
Solution:&nbsp;&nbsp; Preserve files before exiting. (closes #692)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/gui.c<br>
<br>
Patch 7.4.1599<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No link to Coverity.<br>
Solution:&nbsp;&nbsp; Add Coverity badge in README.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.md<br>
<br>
Patch 7.4.1600<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;libs directory is not useful.<br>
Solution:&nbsp;&nbsp; Remove arp.library, it was only for very old Amiga versions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;libs/arp.library, Filelist<br>
<br>
Patch 7.4.1601<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;README files take a lot of space in the top directory.<br>
Solution:&nbsp;&nbsp; Move most of them to &quot;READMEdir&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, Makefile, README.txt.info, README_ami.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README_ami.txt.info, README_amibin.txt, README_amibin.txt.info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README_amisrc.txt, README_amisrc.txt.info, README_bindos.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README_dos.txt, README_extra.txt, README_mac.txt, README_ole.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README_os2.txt, README_os390.txt, README_src.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README_srcdos.txt, README_unix.txt, README_vms.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README_w32s.txt, READMEdir/README.txt.info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;READMEdir/README_ami.txt, READMEdir/README_ami.txt.info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;READMEdir/README_amibin.txt, READMEdir/README_amibin.txt.info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;READMEdir/README_amisrc.txt, READMEdir/README_amisrc.txt.info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;READMEdir/README_bindos.txt, READMEdir/README_dos.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;READMEdir/README_extra.txt, READMEdir/README_mac.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;READMEdir/README_ole.txt, READMEdir/README_os2.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;READMEdir/README_os390.txt, READMEdir/README_src.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;READMEdir/README_srcdos.txt, READMEdir/README_unix.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;READMEdir/README_vms.txt, READMEdir/README_w32s.txt,<br>
<br>
Patch 7.4.1602<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Info files take space in the top directory.<br>
Solution:&nbsp;&nbsp; Move them to &quot;READMEdir&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src.info, Contents.info, runtime.info, vimdir.info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vim.info, Xxd.info, READMEdir/src.info, READMEdir/Contents.info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;READMEdir/runtime.info, READMEdir/vimdir.info, READMEdir/Vim.info,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;READMEdir/Xxd.info<br>
<br>
Patch 7.4.1603<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Timer with an &quot;:echo&quot; command messes up display.<br>
Solution:&nbsp;&nbsp; Redraw depending on the mode. (Hirohito Higashi)&nbsp;&nbsp;Avoid the more<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt being used recursively.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/message.c<br>
<br>
Patch 7.4.1604<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Although emoji characters are ambiguous width, best is to treat<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;them as full width.<br>
Solution:&nbsp;&nbsp; Update the Unicode character tables. Add the&nbsp;<a class="Type" href="options.html#'emoji'">'emoji'</a>&nbsp;options.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/optwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/tools/unicode.vim, src/mbyte.c, src/option.c, src/option.h<br>
<br>
Patch 7.4.1605<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Catching exception that won't be thrown.<br>
Solution:&nbsp;&nbsp; Remove try/catch.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test55.in<br>
<br>
Patch 7.4.1606<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Having type() handle a Funcref that is or isn't a partial<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;differently causes problems for existing scripts.<br>
Solution:&nbsp;&nbsp; Make type() return the same value. (Thinca)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_viml.vim<br>
<br>
Patch 7.4.1607<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Comparing a function that exists on two dicts is not backwards<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;compatible. (Thinca)<br>
Solution:&nbsp;&nbsp; Only compare the function, not what the partial adds.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_alot.vim, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.1608<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;string() doesn't handle a partial.<br>
Solution:&nbsp;&nbsp; Make a string from a partial.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1609<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Contents file is only for Amiga distro.<br>
Solution:&nbsp;&nbsp; Move it to &quot;READMEdir&quot;.&nbsp;&nbsp;Update some info.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, Contents, READMEdir/Contents<br>
<br>
Patch 7.4.1610<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for non-virtual destructor.<br>
Solution:&nbsp;&nbsp; Mark the classes final. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/gui_dwrite.cpp, src/if_ole.cpp<br>
<br>
Patch 7.4.1611<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The versplit feature makes the code unnecessary complicated.<br>
Solution:&nbsp;&nbsp; Remove FEAT_VERTSPLIT, always support vertical splits when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FEAT_WINDOWS is defined.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/charset.c, src/eval.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/ex_getln.c, src/gui.c, src/if_lua.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.c, src/if_ruby.c, src/main.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/move.c, src/normal.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/screen.c, src/syntax.c, src/term.c, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/globals.h, src/gui.h, src/if_py_both.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/structs.h, src/term.h<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/vim.h, src/version.c<br>
<br>
Patch 7.4.1612 (after 7.4.1611)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with small features.<br>
Solution:&nbsp;&nbsp; Move code and #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.1613 (after 7.4.1612)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still can't build with small features.<br>
Solution:&nbsp;&nbsp; Adjust #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.1614<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still quickfix test in old style.<br>
Solution:&nbsp;&nbsp; Turn test 10 into a new style test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/main.aap, src/testdir/test10.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test10.ok, src/testdir/test_quickfix.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test10a.in, src/testdir/test10a.ok<br>
<br>
Patch 7.4.1615<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails with tiny features.<br>
Solution:&nbsp;&nbsp; Adjust #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/window.c<br>
<br>
Patch 7.4.1616<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Malformed channel request causes a hang.<br>
Solution:&nbsp;&nbsp; Drop malformed message. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py<br>
<br>
Patch 7.4.1617<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a JSON message is split it isn't decoded.<br>
Solution:&nbsp;&nbsp; Wait a short time for the rest of the message to arrive.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/json.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_channel.py<br>
<br>
Patch 7.4.1618<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Starting job with output to buffer changes options in the current<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.<br>
Solution:&nbsp;&nbsp; Set &quot;curbuf&quot; earlier. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1619<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'fileformats'">'fileformats'</a>&nbsp;is set in the vimrc it applies to new buffers<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;but not the initial buffer.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'fileformat'">'fileformat'</a>&nbsp;when starting up. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.1620<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Emoji characters are not considered as a kind of word character.<br>
Solution:&nbsp;&nbsp; Give emoji characters a word class number. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 7.4.1621<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test doesn't work with Python 2.6.<br>
Solution:&nbsp;&nbsp; Add number in formatting placeholder. (Wiredool)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py<br>
<br>
Patch 7.4.1622<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel demo doesn't work with Python 2.6.<br>
Solution:&nbsp;&nbsp; Add number in formatting placeholder<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/tools/demoserver.py<br>
<br>
Patch 7.4.1623<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;All Channels share the message ID, it keeps getting bigger.<br>
Solution:&nbsp;&nbsp; Use a message ID per channel.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro, src/structs.h<br>
<br>
Patch 7.4.1624<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't get info about a channel.<br>
Solution:&nbsp;&nbsp; Add ch_info().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1625<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Trying to close file descriptor that isn't open.<br>
Solution:&nbsp;&nbsp; Check for negative number.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1626 (after 7.4.1624)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing changes to structs.<br>
Solution:&nbsp;&nbsp; Include the changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 7.4.1627<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel out_cb and err_cb are not tested.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1628<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;64-bit Compiler warning.<br>
Solution:&nbsp;&nbsp; Change type of variable. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1629<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Handling emoji characters as full width has problems with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backwards compatibility.<br>
Solution:&nbsp;&nbsp; Remove ambiguous and double width characters from the emoji table.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use a separate table for the character class.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(partly by Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/tools/unicode.vim, src/mbyte.c<br>
<br>
Patch 7.4.1630<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unicode table for double width is outdated.<br>
Solution:&nbsp;&nbsp; Update to the latest Unicode standard.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 7.4.1631<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler doesn't understand switch on all enum values. (Tony<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mechelynck)<br>
Solution:&nbsp;&nbsp; Initialize variable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1632<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;List of test targets is outdated.<br>
Solution:&nbsp;&nbsp; Update to current list of test targets.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.1633<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If the help tags file was removed &quot;make install&quot; fails. (Tony<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mechelynck)<br>
Solution:&nbsp;&nbsp; Only try moving the file if it exists.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.1634<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vertical movement after&nbsp;<span class="Special">CTRL-A</span>&nbsp;ends up in the wrong column.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Urtica Dioica)<br>
Solution:&nbsp;&nbsp; Set curswant when appropriate. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_increment.vim<br>
<br>
Patch 7.4.1635<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test is a bit flaky.<br>
Solution:&nbsp;&nbsp; Remove 'DETACH' if it's there.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1636<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When 'F' is in&nbsp;<a class="Type" href="options.html#'shortmess'">'shortmess'</a>&nbsp;the prompt for the encryption key isn't<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayed. (Toothpik)<br>
Solution:&nbsp;&nbsp; Reset msg_silent.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.1637<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with older MinGW compiler.<br>
Solution:&nbsp;&nbsp; Change option from c++11 to gnu++11. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.1638<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When binding a function to a dict the reference count is wrong.<br>
Solution:&nbsp;&nbsp; Decrement dict reference count, only reference the function when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;actually making a copy. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1639<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invoking garbage collection may cause a double free.<br>
Solution:&nbsp;&nbsp; Don't free the dict in a partial when recursive is FALSE.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1640<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when an autocommand changes a quickfix list. (Dominique)<br>
Solution:&nbsp;&nbsp; Check whether an entry is still valid. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1641<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using unterminated string.<br>
Solution:&nbsp;&nbsp; Add NUL before calling vim_strsave_shellescape(). (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test105.in, src/testdir/test105.ok<br>
<br>
Patch 7.4.1642<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Handling emoji characters as full width has problems with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backwards compatibility.<br>
Solution:&nbsp;&nbsp; Only put characters in the 1f000 range in the emoji table.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/tools/unicode.vim, src/mbyte.c<br>
<br>
Patch 7.4.1643 (after 7.4.1641)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminating file name has side effects.<br>
Solution:&nbsp;&nbsp; Restore the character. (mostly by James McCoy, closes #713)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test105.in, src/testdir/test105.ok<br>
<br>
Patch 7.4.1644<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using string() on a partial that exists in the dictionary it binds<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;results in an error. (Nikolai Pavlov)<br>
Solution:&nbsp;&nbsp; Make string() not fail on a recursively nested structure. (Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1645<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a dict contains a partial it can't be redefined as a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function. (Nikolai Pavlov)<br>
Solution:&nbsp;&nbsp; Remove the partial when overwriting with a function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1646<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using Python vim.bindeval() on a partial doesn't work. (Nikolai<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pavlov)<br>
Solution:&nbsp;&nbsp; Add VAR_PARTIAL support in Python.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1647<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory after setqflist() and &quot;:caddbuffer&quot;.&nbsp;&nbsp;(Dominique)<br>
Solution:&nbsp;&nbsp; Set qf_ptr when adding the first item to the quickfix list.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1648<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler has a problem copying a string into di_key[]. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan)<br>
Solution:&nbsp;&nbsp; Add dictitem16_T.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/eval.c<br>
<br>
Patch 7.4.1649<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The matchit plugin needs to be copied to be used.<br>
Solution:&nbsp;&nbsp; Put the matchit plugin in an optional package.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, runtime/macros/matchit.vim, runtime/macros/matchit.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/macros/README.txt, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/matchit/plugin/matchit.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/matchit/doc/matchit.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/matchit/doc/tags,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_05.txt, runtime/doc/usr_toc.txt<br>
<br>
Patch 7.4.1650<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix test fails.<br>
Solution:&nbsp;&nbsp; Accept any number of matches.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1651<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some dead (MSDOS) code remains.<br>
Solution:&nbsp;&nbsp; Remove the unused lines. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.1652<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old style test for fnamemodify().<br>
Solution:&nbsp;&nbsp; Turn it into a new style test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test105.in, src/testdir/test105.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fnamemodify.vim, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 7.4.1653 (after 7.4.1649)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Users who loaded matchit.vim manually have to change their<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;startup. (Gary Johnson)<br>
Solution:&nbsp;&nbsp; Add a file in the old location that loads the package.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/macros/matchit.vim, Filelist<br>
<br>
Patch 7.4.1654<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using expand('%:S') in a buffer without a name.<br>
Solution:&nbsp;&nbsp; Don't set a NUL. (James McCoy, closes #714)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_fnamemodify.vim<br>
<br>
Patch 7.4.1655<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;remote_expr() hangs. (Ramel)<br>
Solution:&nbsp;&nbsp; Check for messages in the waiting loop.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_xcmdsrv.c<br>
<br>
Patch 7.4.1656<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using partial with a timer.<br>
Solution:&nbsp;&nbsp; Increment partial reference count. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_timers.vim<br>
<br>
Patch 7.4.1657<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On Unix in a terminal: channel messages are not handled right away.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Jackson Alves de Aquino)<br>
Solution:&nbsp;&nbsp; Break the loop for timers when something was received.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1658<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A plugin does not know when VimEnter autocommands were already<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;triggered.<br>
Solution:&nbsp;&nbsp; Add the v:vim_did_enter variable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/main.c, src/vim.h, src/testdir/test_autocmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, runtime/doc/autocmd.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.1659 (after 7.4.1657)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for argument type. (Manuel Ortega)<br>
Solution:&nbsp;&nbsp; Remove &quot;&amp;&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1660<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;has('patch-7.4.1') doesn't work.<br>
Solution:&nbsp;&nbsp; Fix off-by-one error. (Thinca)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_expr.vim, src/testdir/test60.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test60.ok<br>
<br>
Patch 7.4.1661<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for special characters in channel eval command.<br>
Solution:&nbsp;&nbsp; Testing sending and receiving text with special characters.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_channel.py<br>
<br>
Patch 7.4.1662<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for an invalid Ex command on a channel.<br>
Solution:&nbsp;&nbsp; Test handling an invalid command gracefully.&nbsp;&nbsp;Avoid getting an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error message, do write it to the channel log.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py<br>
<br>
Patch 7.4.1663<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In tests it's often useful to check if a pattern matches.<br>
Solution:&nbsp;&nbsp; Add assert_match().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_assert.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1664<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash in :cgetexpr.<br>
Solution:&nbsp;&nbsp; Check for NULL pointer. (Dominique) Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1665<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when calling job_start() with a NULL string. (Dominique)<br>
Solution:&nbsp;&nbsp; Check for an invalid argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1666<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When reading JSON from a channel all readahead is used.<br>
Solution:&nbsp;&nbsp; Use the fill function to reduce overhead.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/json.c, src/structs.h<br>
<br>
Patch 7.4.1667<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: waiting on a pipe with fixed sleep time.<br>
Solution:&nbsp;&nbsp; Start with a short delay and increase it when looping.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1668<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;channel_get_all() does multiple allocations.<br>
Solution:&nbsp;&nbsp; Compute the size and allocate once.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1669<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When writing buffer lines to a pipe Vim may block.<br>
Solution:&nbsp;&nbsp; Avoid blocking, write more lines later.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/misc2.c, src/os_unix.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/proto/channel.pro, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1670<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completion doesn't work well for a variable containing &quot;#&quot;.<br>
Solution:&nbsp;&nbsp; Recognize the &quot;#&quot;. (Watiko)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1671<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When help exists in multiple languages, adding @ab while &quot;ab&quot; is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the default help language is unnecessary.<br>
Solution:&nbsp;&nbsp; Leave out &quot;@ab&quot; when not needed. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.1672<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The Dvorak support is a bit difficult to install.<br>
Solution:&nbsp;&nbsp; Turn it into an optional package.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/macros/dvorak, runtime/macros/README.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/dvorak/plugin/dvorak.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/dvorak/dvorak/enable.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/dvorak/dvorak/disable.vim<br>
<br>
Patch 7.4.1673<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The justify plugin has to be copied or sourced to be used.<br>
Solution:&nbsp;&nbsp; Turn it into a package.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/macros/justify.vim, runtime/macros/README.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/justify/plugin/justify.vim, Filelist<br>
<br>
Patch 7.4.1674<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The editexisting plugin has to be copied or sourced to be used.<br>
Solution:&nbsp;&nbsp; Turn it into a package.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/macros/editexisting.vim, runtime/macros/README.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/editexisting/plugin/editexisting.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.1675<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The swapmous plugin has to be copied or sourced to be used.<br>
Solution:&nbsp;&nbsp; Turn it into the swapmouse package.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/macros/swapmous.vim, runtime/macros/README.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/swapmouse/plugin/swapmouse.vim, Filelist<br>
<br>
Patch 7.4.1676<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The shellmenu plugin has to be copied or sourced to be used.<br>
Solution:&nbsp;&nbsp; Turn it into a package.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/macros/shellmenu.vim, runtime/macros/README.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/shellmenu/plugin/shellmenu.vim, Filelist<br>
<br>
Patch 7.4.1677<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A reference to the removed file_select plugin remains.<br>
Solution:&nbsp;&nbsp; Remove it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/macros/README.txt<br>
<br>
Patch 7.4.1678<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for unused argument.<br>
Solution:&nbsp;&nbsp; Add UNUSED. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.c<br>
<br>
Patch 7.4.1679<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity: copying value of v_lock without initializing it.<br>
Solution:&nbsp;&nbsp; Init v_lock in rettv_list_alloc() and rettv_dict_alloc().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1680<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for not checking name length (false positive).<br>
Solution:&nbsp;&nbsp; Only copy the characters we know are there.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1681<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for fixed size buffer length (false positive).<br>
Solution:&nbsp;&nbsp; Add a check for the name length.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1682<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity: no check for NULL.<br>
Solution:&nbsp;&nbsp; Add check for invalid argument to assert_match().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1683<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Generated .bat files do not support --nofork.<br>
Solution:&nbsp;&nbsp; Add check for --nofork.&nbsp;&nbsp;Also add &quot;setlocal&quot;. (Kevin Cantú,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #659)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c<br>
<br>
Patch 7.4.1684<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;README text is slightly outdated.<br>
Solution:&nbsp;&nbsp; Mention the READMEdir directory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.md, README.txt<br>
<br>
Patch 7.4.1685<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no easy way to get all the information about a match.<br>
Solution:&nbsp;&nbsp; Add matchstrpos(). (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/test_matchstrpos.vim<br>
<br>
Patch 7.4.1686<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When running tests $HOME/.viminfo is written. (James McCoy)<br>
Solution:&nbsp;&nbsp; Add&nbsp;<span class="MissingTag">'nviminfo'</span>&nbsp;to the&nbsp;<a class="Type" href="options.html#'viminfo'">'viminfo'</a>&nbsp;option. (closes #722)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_backspace_opt.vim, src/testdir/test_viminfo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim.<br>
<br>
Patch 7.4.1687<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The channel close_cb option does not work.<br>
Solution:&nbsp;&nbsp; Use jo_close_partial instead of jo_err_partial. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1688<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MzScheme does not support partial.<br>
Solution:&nbsp;&nbsp; Add minimal partial support. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.c<br>
<br>
Patch 7.4.1689<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ruby interface has inconsistent coding style.<br>
Solution:&nbsp;&nbsp; Fix the coding style. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 7.4.1690<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't compile with the conceal feature but without multi-byte.<br>
Solution:&nbsp;&nbsp; Adjust #ifdef. (Owen Leibman)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/window.c<br>
<br>
Patch 7.4.1691<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When switching to a new buffer and an autocommand applies syntax<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;highlighting an ml_get error may occur.<br>
Solution:&nbsp;&nbsp; Check &quot;syn_buf&quot; against the buffer in the window. (Alexander von<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Buddenbrock, closes #676)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 7.4.1692<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;feedkeys('i', 'x') gets stuck, waits for a character to be typed.<br>
Solution:&nbsp;&nbsp; Behave like &quot;:normal&quot;. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_feedkeys.vim<br>
<br>
Patch 7.4.1693<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building the Perl interface gives compiler warnings.<br>
Solution:&nbsp;&nbsp; Remove a pragma. Add noreturn attributes. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 7.4.1694<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32 gvim doesn't work with &quot;dvorakj&quot; input method.<br>
Solution:&nbsp;&nbsp; Wait for QS_ALLINPUT instead of QS_ALLEVENTS. (Yukihiro Nakadaira)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.1695<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:syn reset&quot; clears the effect &quot;:syn iskeyword&quot;. (James McCoy)<br>
Solution:&nbsp;&nbsp; Remove clearing the syntax keywords.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 7.4.1696<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using :stopinsert in a silent mapping the &quot;INSERT&quot; message<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isn't cleared. (Coacher)<br>
Solution:&nbsp;&nbsp; Always clear the message. (Christian Brabandt, closes #718)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/proto/screen.pro, src/screen.c<br>
<br>
Patch 7.4.1697<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Display problems when the&nbsp;<a class="Type" href="options.html#'ambiwidth'">'ambiwidth'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'emoji'">'emoji'</a>&nbsp;options are not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set properly or the terminal doesn't behave as expected.<br>
Solution:&nbsp;&nbsp; After drawing an ambiguous width character always position the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cursor.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/screen.c, src/proto/mbyte.pro<br>
<br>
Patch 7.4.1698<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Two tests fail when running tests with MinGW. (Michael Soyka)<br>
Solution:&nbsp;&nbsp; Convert test_getcwd.ok test_wordcount.ok to unix fileformat.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak<br>
<br>
Patch 7.4.1699<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:packadd does not work the same when used early or late.<br>
Solution:&nbsp;&nbsp; Always load plugins matching &quot;plugin/**/*.vim&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_packadd.vim<br>
<br>
Patch 7.4.1700<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Equivalence classes are not properly tested.<br>
Solution:&nbsp;&nbsp; Add tests for multi-byte and latin1. Fix an error. (Owen Leibman)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot_latin.vim, src/testdir/test_alot_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_regexp_latin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_regexp_utf8.vim<br>
<br>
Patch 7.4.1701<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Equivalence classes still tested in old style tests.<br>
Solution:&nbsp;&nbsp; Remove the duplicate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test44.in, src/testdir/test44.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test99.in, src/testdir/test99.ok<br>
<br>
Patch 7.4.1702<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory when parsing&nbsp;<a class="Type" href="options.html#'printoptions'">'printoptions'</a>&nbsp;fails.<br>
Solution:&nbsp;&nbsp; Save the old options and restore them in case of an error.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hardcopy.c, src/testdir/test_hardcopy.vim<br>
<br>
Patch 7.4.1703<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't assert for not equal and not matching.<br>
Solution:&nbsp;&nbsp; Add assert_notmatch() and assert_notequal().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/doc/eval.txt, src/testdir/test_assert.vim<br>
<br>
Patch 7.4.1704<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory with &quot;wincmd p&quot;. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Also clear &quot;prevwin&quot; in other tab pages.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.1705<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;<a class="Type" href="options.html#'guifont'">'guifont'</a>&nbsp;option does not allow for a quality setting.<br>
Solution:&nbsp;&nbsp; Add the &quot;q&quot; item, supported on MS-Windows. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/gui_w32.c, src/os_mswin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_mswin.pro<br>
<br>
Patch 7.4.1706<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old style function declaration breaks build.<br>
Solution:&nbsp;&nbsp; Remove __ARGS().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_mswin.pro<br>
<br>
Patch 7.4.1707<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use empty dictionary key, even though it can be useful.<br>
Solution:&nbsp;&nbsp; Allow using an empty dictionary key.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hashtab.c, src/eval.c, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.1708<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New regexp engine does not work properly with EBCDIC.<br>
Solution:&nbsp;&nbsp; Define equivalence class characters. (Owen Leibman)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.1709<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mistake in #ifdef.<br>
Solution:&nbsp;&nbsp; Change PROOF_QUALITY to DRAFT_QUALITY. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c<br>
<br>
Patch 7.4.1710<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all output of an external command is read.<br>
Solution:&nbsp;&nbsp; Avoid timing out when the process has exited. (closes #681)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1711<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using try/catch in&nbsp;<a class="Type" href="options.html#'statusline'">'statusline'</a>&nbsp;it is still considered an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error and the status line will be disabled.<br>
Solution:&nbsp;&nbsp; Check did_emsg instead of called_emsg. (haya14busa, closes #729)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_statusline.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim<br>
<br>
Patch 7.4.1712<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;For plugins in packages, plugin authors need to take care of all<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dependencies.<br>
Solution:&nbsp;&nbsp; When loading &quot;start&quot; packages and for :packloadall, first add all<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directories to&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>&nbsp;before sourcing plugins.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_packadd.vim<br>
<br>
Patch 7.4.1713<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GTK GUI doesn't work on Wayland.<br>
Solution:&nbsp;&nbsp; Specify that only the X11 backend is allowed. (Simon McVittie)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 7.4.1714<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Non-GUI specific settings in the gvimrc_example file.<br>
Solution:&nbsp;&nbsp; Move some settings to the vimrc_example file.&nbsp;&nbsp;Remove setting<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'hlsearch'">'hlsearch'</a>&nbsp;again. (suggested by Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/vimrc_example.vim, runtime/gvimrc_example.vim<br>
<br>
Patch 7.4.1715<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Double free when a partial is in a cycle with a list or dict.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Nikolai Pavlov)<br>
Solution:&nbsp;&nbsp; Do not free a nested list or dict used by the partial.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1716<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'autochdir'">'autochdir'</a>&nbsp;doesn't work for the first file. (Rob Hoelz)<br>
Solution:&nbsp;&nbsp; Call DO_AUTOCHDIR after startup. (Christian Brabandt, closes #704)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 7.4.1717<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory when opening a channel fails.<br>
Solution:&nbsp;&nbsp; Unreference partials in job options.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1718<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity: not using return value of set_ref_in_item().<br>
Solution:&nbsp;&nbsp; Use the return value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1719<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory when there is a cycle involving a job and a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;partial.<br>
Solution:&nbsp;&nbsp; Add a copyID to job and channel.&nbsp;&nbsp;Set references in items referred<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by them.&nbsp;&nbsp;Go through all jobs and channels to find unreferenced<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items.&nbsp;&nbsp;Also, decrement reference counts when garbage collecting.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c, src/netbeans.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/regexp.c, src/tag.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/testdir/test_partial.vim, src/structs.h<br>
<br>
Patch 7.4.1720<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests fail without the job feature.<br>
Solution:&nbsp;&nbsp; Skip tests when the job feature is not present.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1721<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The vimtbar files are unused.<br>
Solution:&nbsp;&nbsp; Remove them. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vimtbar.dll, src/vimtbar.h, src/vimtbar.lib, Filelist<br>
<br>
Patch 7.4.1722<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when calling garbagecollect() after starting a job.<br>
Solution:&nbsp;&nbsp; Set the copyID on job and channel. (Hirohito Higashi, Ozaki<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1723<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using try/catch in&nbsp;<a class="Type" href="options.html#'tabline'">'tabline'</a>&nbsp;it is still considered an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error and the tabline will be disabled.<br>
Solution:&nbsp;&nbsp; Check did_emsg instead of called_emsg. (haya14busa, closes #746)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_tabline.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim<br>
<br>
Patch 7.4.1724 (after 7.4.1723)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tabline test fails in GUI.<br>
Solution:&nbsp;&nbsp; Remove 'e' from&nbsp;<a class="Type" href="options.html#'guioptions'">'guioptions'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabline.vim<br>
<br>
Patch 7.4.1725<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler errors for non-ANSI compilers.<br>
Solution:&nbsp;&nbsp; Remove // comment.&nbsp;&nbsp;Remove comma at end of enum. (Michael Jarvis)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1726<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ANSI compiler complains about string length.<br>
Solution:&nbsp;&nbsp; Split long string in two parts. (Michael Jarvis)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.1727<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot detect a crash in tests when caused by garbagecollect().<br>
Solution:&nbsp;&nbsp; Add garbagecollect_for_testing().&nbsp;&nbsp;Do not free a job if is still<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;useful.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/getchar.c, src/main.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/testdir/runtest.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1728<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The help for functions require a space after the &quot;(&quot;.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<span class="Special">CTRL-]</span>&nbsp;on a function name ignore the arguments. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_help_tagjump.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.1729<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The Perl interface cannot use&nbsp;<span class="MissingTag">'print'</span>&nbsp;operator for writing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directly in standard IO.<br>
Solution:&nbsp;&nbsp; Add a minimal implementation of PerlIO Layer feature and try to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use it for STDOUT/STDERR. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs, src/testdir/test_perl.vim<br>
<br>
Patch 7.4.1730<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not easy to get a character out of a string.<br>
Solution:&nbsp;&nbsp; Add strgetchar() and strcharpart().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.1731<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python: turns partial into simple funcref.<br>
Solution:&nbsp;&nbsp; Use partials like partials. (Nikolai Pavlov, closes #734)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_pyth.txt, src/eval.c, src/if_py_both.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python.c, src/if_python3.c, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test86.in, src/testdir/test86.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test87.in, src/testdir/test87.ok<br>
<br>
Patch 7.4.1732<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Folds may close when using autocomplete. (Anmol Sethi)<br>
Solution:&nbsp;&nbsp; Increment/decrement disable_fold. (Christian Brabandt, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#643)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/fold.c, src/globals.h<br>
<br>
Patch 7.4.1733<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make install&quot; doesn't know about cross-compiling. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Neukirchen)<br>
Solution:&nbsp;&nbsp; Add CROSS_COMPILING. (closes #740)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure, src/config.mk.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.1734 (after 7.4.1730)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test fails when not using utf-8.<br>
Solution:&nbsp;&nbsp; Split test in regular and utf-8 part.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expr.vim, src/testdir/test_expr_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot_utf8.vim<br>
<br>
Patch 7.4.1735<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not possible to only see part of the message history.&nbsp;&nbsp;It is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not possible to clear messages.<br>
Solution:&nbsp;&nbsp; Add a count to &quot;:messages&quot; and a clear argument. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/message.txt, src/ex_cmds.h, src/message.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_messages.vim, src/testdir/test_alot.vim<br>
<br>
Patch 7.4.1736 (after 7.4.1731)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unused variable.<br>
Solution:&nbsp;&nbsp; Remove it. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 7.4.1737<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Argument marked as unused is used.<br>
Solution:&nbsp;&nbsp; Remove UNUSED.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 7.4.1738<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Count for &quot;:messages&quot; depends on number of lines.<br>
Solution:&nbsp;&nbsp; Add ADDR_OTHER address type.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h<br>
<br>
Patch 7.4.1739<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Messages test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Adjust the asserts.&nbsp;&nbsp;Skip the &quot;messages maintainer&quot; line if not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;showing all messages.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/testdir/test_messages.vim<br>
<br>
Patch 7.4.1740<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;syn-cchar defined with matchadd() does not appear if there are no<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other syntax definitions which matches buffer text.<br>
Solution:&nbsp;&nbsp; Check for startcol. (Ozaki Kiichi, haya14busa, closes #757)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot_utf8.vim, src/testdir/test_match_conceal.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_match_conceal.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_matchadd_conceal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_matchadd_conceal_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_undolevels.vim<br>
<br>
Patch 7.4.1741<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not testing utf-8 characters.<br>
Solution:&nbsp;&nbsp; Move the right asserts to the test_expr_utf8 test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expr.vim, src/testdir/test_expr_utf8.vim<br>
<br>
Patch 7.4.1742<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;strgetchar() does not work correctly.<br>
Solution:&nbsp;&nbsp; use mb_cptr2len().&nbsp;&nbsp;Add a test. (Naruhiko Nishino)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_expr_utf8.vim<br>
<br>
Patch 7.4.1743<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clang warns for uninitialized variable. (Michael Jarvis)<br>
Solution:&nbsp;&nbsp; Initialize it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 7.4.1744<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python: Converting a sequence may leak memory.<br>
Solution:&nbsp;&nbsp; Decrement a reference. (Nikolai Pavlov)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 7.4.1745<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;README file is not clear about where to get Vim.<br>
Solution:&nbsp;&nbsp; Add links to github, releases and the Windows installer.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Suggested by Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.md, README.txt<br>
<br>
Patch 7.4.1746<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak in Perl.<br>
Solution:&nbsp;&nbsp; Decrement the reference count.&nbsp;&nbsp;Add a test. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs, src/testdir/test_perl.vim<br>
<br>
Patch 7.4.1747<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity: missing check for NULL pointer.<br>
Solution:&nbsp;&nbsp; Check for out of memory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 7.4.1748<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;gD&quot; does not find match in first column of first line. (Gary<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Johnson)<br>
Solution:&nbsp;&nbsp; Accept match at the cursor.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_goto.vim, src/testdir/test_alot.vim<br>
<br>
Patch 7.4.1749<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using GTK 3.20 there are a few warnings.<br>
Solution:&nbsp;&nbsp; Use new functions when available. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c src/gui_gtk_x11.c<br>
<br>
Patch 7.4.1750<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a buffer gets updated while in command line mode, the screen<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;may be messed up.<br>
Solution:&nbsp;&nbsp; Postpone the redraw when the screen is scrolled.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1751<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when&nbsp;<a class="Type" href="options.html#'tagstack'">'tagstack'</a>&nbsp;is off. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Fix it. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/testdir/test_alot.vim, src/testdir/test_tagjump.vim<br>
<br>
Patch 7.4.1752<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When adding to the quickfix list the current position is reset.<br>
Solution:&nbsp;&nbsp; Do not reset the position when not needed. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1753<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;noinsert&quot; in&nbsp;<a class="Type" href="options.html#'completeopt'">'completeopt'</a>&nbsp;is sometimes ignored.<br>
Solution:&nbsp;&nbsp; Set the variables when the&nbsp;<a class="Type" href="options.html#'completeopt'">'completeopt'</a>&nbsp;was set. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/option.c, src/proto/edit.pro<br>
<br>
Patch 7.4.1754<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'filetype'">'filetype'</a>&nbsp;was set and reloading a buffer which does not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cause it to be set, the syntax isn't loaded. (KillTheMule)<br>
Solution:&nbsp;&nbsp; Remember whether the FileType event was fired and fire it if not.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Anton Lindqvist, closes #747)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/testdir/test_syntax.vim<br>
<br>
Patch 7.4.1755<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using getreg() on a non-existing register a NULL list is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned. (Bjorn Linse)<br>
Solution:&nbsp;&nbsp; Allocate an empty list. Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.1756<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;dll&quot; options are not expanded.<br>
Solution:&nbsp;&nbsp; Expand environment variables. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expand_dllpath.vim<br>
<br>
Patch 7.4.1757<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using complete() it may set&nbsp;<a class="Type" href="options.html#'modified'">'modified'</a>&nbsp;even though nothing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;was inserted.<br>
Solution:&nbsp;&nbsp; Use Down/Up instead of Next/Previous match. (Shougo Matsu, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#745)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 7.4.1758<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Triggering CursorHoldI when in&nbsp;<span class="Special">CTRL-X</span>&nbsp;mode causes problems.<br>
Solution:&nbsp;&nbsp; Do not trigger CursorHoldI in&nbsp;<span class="Special">CTRL-X</span>&nbsp;mode. Add &quot;!&quot; flag to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feedkeys() (test with that didn't work though).<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/eval.c<br>
<br>
Patch 7.4.1759<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using feedkeys() in a timer the inserted characters are not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;used right away.<br>
Solution:&nbsp;&nbsp; Break the wait loop when characters have been added to typebuf.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use this for testing CursorHoldI.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/os_win32.c, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 7.4.1760 (after 7.4.1759)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused variable.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.1761<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity complains about ignoring return value.<br>
Solution:&nbsp;&nbsp; Add &quot;(void)&quot; to get rid of the warning.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1762<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity: useless assignments.<br>
Solution:&nbsp;&nbsp; Remove them.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 7.4.1763<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity: useless assignment.<br>
Solution:&nbsp;&nbsp; Add #if 0.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c<br>
<br>
Patch 7.4.1764<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;C++ style comment. (Ken Takata)<br>
Solution:&nbsp;&nbsp; Finish the work started here: don't call perror() when stderr<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;isn't working.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1765<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Undo options are not together in the options window.<br>
Solution:&nbsp;&nbsp; Put them together.&nbsp;&nbsp;(Gary Johnson)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim<br>
<br>
Patch 7.4.1766<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building instructions for MS-Windows are outdated.<br>
Solution:&nbsp;&nbsp; Mention setting SDK_INCLUDE_DIR. (Ben Franklin, closes #771)&nbsp;&nbsp;Move<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;outdated instructions further down.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLpc.txt<br>
<br>
Patch 7.4.1767<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When installing Vim on a GTK system the icon cache is not updated.<br>
Solution:&nbsp;&nbsp; Update the GTK icon cache when possible. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/configure.in, src/config.mk.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/auto/configure<br>
<br>
Patch 7.4.1768<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Arguments of setqflist() are not checked properly.<br>
Solution:&nbsp;&nbsp; Add better checks, add a test. (Nikolai Pavlov, Hirohito Higashi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #661)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1769<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No &quot;closed&quot;, &quot;errors&quot; and &quot;encoding&quot; attribute on Python output.<br>
Solution:&nbsp;&nbsp; Add attributes and more tests. (Roland Puntaier, closes #622)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/if_python.c, src/if_python3.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test86.in, src/testdir/test86.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test87.in, src/testdir/test87.ok<br>
<br>
Patch 7.4.1770<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use true color in the terminal.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<span class="MissingTag">'guicolors'</span>&nbsp;option. (Nikolai Pavlov)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/term.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/various.txt, src/auto/configure, src/config.h.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/eval.c, src/globals.h, src/hardcopy.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/option.h, src/proto/term.pro, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/syntax.c, src/term.c, src/term.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/vim.h<br>
<br>
Patch 7.4.1771 (after 7.4.1768)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for unused variable.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1772 (after 7.4.1767)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Installation fails when $GTK_UPDATE_ICON_CACHE is empty.<br>
Solution:&nbsp;&nbsp; Add quotes. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.1773 (after 7.4.1770)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Add UNUSED. Add type cast. Avoid a buffer overflow.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/term.c<br>
<br>
Patch 7.4.1774 (after 7.4.1770)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cterm true color feature has warnings.<br>
Solution:&nbsp;&nbsp; Add type casts.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/syntax.c, src/term.c<br>
<br>
Patch 7.4.1775<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The rgb.txt file is not installed.<br>
Solution:&nbsp;&nbsp; Install the file. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.1776<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using wrong buffer length.<br>
Solution:&nbsp;&nbsp; use the right name. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.1777<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Newly added features can escape the sandbox.<br>
Solution:&nbsp;&nbsp; Add checks for restricted and secure. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1778<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using the term truecolor feature, the t_8f and t_8b termcap<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;options are not set by default.<br>
Solution:&nbsp;&nbsp; Move the values to before BT_EXTRA_KEYS. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.1779<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using negative index in strcharpart(). (Yegappan Lakshmanan)<br>
Solution:&nbsp;&nbsp; Assume single byte when using a negative index.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1780<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings reported by cppcheck.<br>
Solution:&nbsp;&nbsp; Fix the warnings. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/json.c, src/misc1.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 7.4.1781<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;synIDattr() does not respect&nbsp;<span class="MissingTag">'guicolors'</span>.<br>
Solution:&nbsp;&nbsp; Change the condition for the mode. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1782<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;strcharpart() does not work properly with some multi-byte<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;characters.<br>
Solution:&nbsp;&nbsp; Use mb_cptr2len() instead of mb_char2len(). (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_expr_utf8.vim<br>
<br>
Patch 7.4.1783<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The old regexp engine doesn't handle character classes correctly.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Manuel Ortega)<br>
Solution:&nbsp;&nbsp; Use regmbc() instead of regc().&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/testdir/test_regexp_utf8.vim<br>
<br>
Patch 7.4.1784<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The termtruecolor feature is enabled differently from many other<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;features.<br>
Solution:&nbsp;&nbsp; Enable the termtruecolor feature for the big build, not through<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configure.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/config.h.in, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h<br>
<br>
Patch 7.4.1785 (after 7.4.1783)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Regexp test fails on windows.<br>
Solution:&nbsp;&nbsp; set&nbsp;<a class="Type" href="options.html#'isprint'">'isprint'</a>&nbsp;to the right value for testing.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_regexp_utf8.vim<br>
<br>
Patch 7.4.1786<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiled-in colors do not match rgb.txt.<br>
Solution:&nbsp;&nbsp; Use the rgb.txt colors. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.1787<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a job ends the close callback is invoked before other<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callbacks. On Windows the close callback is not called.<br>
Solution:&nbsp;&nbsp; First invoke out/err callbacks before the close callback.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make the close callback work on Windows.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_channel_pipe.py<br>
<br>
Patch 7.4.1788<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;NSIS script is missing packages.<br>
Solution:&nbsp;&nbsp; Add the missing directories. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/gvim.nsi<br>
<br>
Patch 7.4.1789<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use ch_read() in the close callback.<br>
Solution:&nbsp;&nbsp; Do not discard the channel if there is readahead.&nbsp;&nbsp;Do not discard<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;readahead if there is a close callback.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1790<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leading white space in a job command matters. (Andrew Stewart)<br>
Solution:&nbsp;&nbsp; Skip leading white space.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1791<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel could be garbage collected too early.<br>
Solution:&nbsp;&nbsp; Don't free a channel or remove it from a job when it is still<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;useful.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1792<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Color name decoding is implemented several times.<br>
Solution:&nbsp;&nbsp; Move it to term.c. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_mac.c, src/gui_photon.c, src/gui_w32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/term.pro, src/term.c<br>
<br>
Patch 7.4.1793<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some character classes may differ between systems.&nbsp;&nbsp;On OS/X the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;regexp test fails.<br>
Solution:&nbsp;&nbsp; Make this less dependent on the system. (idea by Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp_nfa.c<br>
<br>
Patch 7.4.1794 (after 7.4.1792)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add missing declaration.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.1795<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for redefining RGB. (John Marriott)<br>
Solution:&nbsp;&nbsp; Rename it to TORGB.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.1796 (after 7.4.1795)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Colors are wrong on MS-Windows. (Christian Robinson)<br>
Solution:&nbsp;&nbsp; Use existing RGB macro if it exists. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.1797<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning from Windows 64 bit compiler.<br>
Solution:&nbsp;&nbsp; Change int to size_t. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.1798<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still compiler warning for unused return value. (Charles Campbell)<br>
Solution:&nbsp;&nbsp; Assign to ignoredp.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.1799<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="MissingTag">'guicolors'</span>&nbsp;is a confusing option name.<br>
Solution:&nbsp;&nbsp; Use&nbsp;<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>&nbsp;instead. (Hirohito Higashi, Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/term.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/various.txt, runtime/syntax/dircolors.vim, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/globals.h, src/hardcopy.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/proto/term.pro, src/screen.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/term.c, src/version.c, src/vim.h<br>
<br>
Patch 7.4.1800 (after 7.4.1799)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnecessary #ifdef.<br>
Solution:&nbsp;&nbsp; Just use USE_24BIT. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 7.4.1801<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Make uninstall leaves file behind.<br>
Solution:&nbsp;&nbsp; Delete rgb.txt. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.1802<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix doesn't handle long lines well, they are split.<br>
Solution:&nbsp;&nbsp; Drop characters after a limit. (Anton Lindqvist)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/samples/quickfix.txt<br>
<br>
Patch 7.4.1803<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GTK3 doesn't handle menu separators properly.<br>
Solution:&nbsp;&nbsp; Use gtk_separator_menu_item_new(). (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk.c<br>
<br>
Patch 7.4.1804<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't use Vim as MANPAGER.<br>
Solution:&nbsp;&nbsp; Add manpager.vim. (Enno Nagel, closes #491)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/filetype.txt, runtime/plugin/manpager.vim<br>
<br>
Patch 7.4.1805<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running tests in shadow dir fails.<br>
Solution:&nbsp;&nbsp; Link the samples directory<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.1806<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>&nbsp;option missing from the options window.<br>
Solution:&nbsp;&nbsp; Add the entry.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim<br>
<br>
Patch 7.4.1807<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_out_close_cb sometimes fails.<br>
Solution:&nbsp;&nbsp; Always write DETACH to out, not err.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1808 (after 7.4.1806)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using wrong feature name to check for&nbsp;<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>.<br>
Solution:&nbsp;&nbsp; Use the right feature name. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim<br>
<br>
Patch 7.4.1809 (after 7.4.1808)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using wrong short option name for&nbsp;<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>.<br>
Solution:&nbsp;&nbsp; Use the option name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim<br>
<br>
Patch 7.4.1810<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sending DETACH after a channel was closed isn't useful.<br>
Solution:&nbsp;&nbsp; Only add DETACH for a netbeans channel.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1811<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Netbeans channel gets garbage collected.<br>
Solution:&nbsp;&nbsp; Set reference in nb_channel.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/netbeans.c, src/proto/netbeans.pro<br>
<br>
Patch 7.4.1812<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Failure on startup with Athena and Motif.<br>
Solution:&nbsp;&nbsp; Check for INVALCOLOR. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/vim.h<br>
<br>
Patch 7.4.1813<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory access error when running test_quickfix.<br>
Solution:&nbsp;&nbsp; Allocate one more byte. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.1814<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A channel may be garbage collected while it's still being used by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a job. (James McCoy)<br>
Solution:&nbsp;&nbsp; Mark the channel as used if the job is still used.&nbsp;&nbsp;Do the same<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for channels that are still used.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/channel.c, src/proto/channel.pro<br>
<br>
Patch 7.4.1815<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for unused variables. (Ajit Thakkar)<br>
Solution:&nbsp;&nbsp; Add a dummy initialization. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.1816<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Looping over a null list throws an error.<br>
Solution:&nbsp;&nbsp; Skip over the for loop.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.1817<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The screen is not updated if a callback is invoked when closing a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;channel.<br>
Solution:&nbsp;&nbsp; Invoke redraw_after_callback().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1818<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Help completion adds @en to all matches except the first one.<br>
Solution:&nbsp;&nbsp; Remove &quot;break&quot;, go over all items.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.1819<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings when sprintf() is a macro.<br>
Solution:&nbsp;&nbsp; Don't interrupt sprintf() with an #ifdef. (Michael Jarvis,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #788)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/tag.c, src/term.c<br>
<br>
Patch 7.4.1820<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Removing language from help tags too often.<br>
Solution:&nbsp;&nbsp; Only remove @en when not needed. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_help_tagjump.vim<br>
<br>
Patch 7.4.1821 (after 7.4.1820)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Sort the completion results.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_help_tagjump.vim<br>
<br>
Patch 7.4.1822<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Redirecting stdout of a channel to &quot;null&quot; doesn't work. (Nicola)<br>
Solution:&nbsp;&nbsp; Correct the file descriptor number.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1823<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning from 64 bit compiler.<br>
Solution:&nbsp;&nbsp; Add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.1824<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a job is no longer referenced and does not have an exit<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callback the process may hang around in defunct state. (Nicola)<br>
Solution:&nbsp;&nbsp; Call job_status() if the job is running and won't get freed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;because it might still be useful.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1825<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When job writes to buffer nothing is written. (Nicola)<br>
Solution:&nbsp;&nbsp; Do not discard a channel before writing is done.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1826<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Callbacks are invoked when it's not safe. (Andrew Stewart)<br>
Solution:&nbsp;&nbsp; When a channel is to be closed don't invoke callbacks right away,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wait for a safe moment.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/channel.c<br>
<br>
Patch 7.4.1827<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No error when invoking a callback when it's not safe.<br>
Solution:&nbsp;&nbsp; Add an error message.&nbsp;&nbsp;Avoid the error when freeing a channel.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/channel.c<br>
<br>
Patch 7.4.1828<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May try to access buffer that's already freed.<br>
Solution:&nbsp;&nbsp; When freeing a buffer remove it from any channel.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/channel.c, src/proto/channel.pro<br>
<br>
Patch 7.4.1829 (after 7.4.1828)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No message on channel log when buffer was freed.<br>
Solution:&nbsp;&nbsp; Log a message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1830<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;non-antialiased misnamed.<br>
Solution:&nbsp;&nbsp; Use NONANTIALIASED and NONANTIALIASED_QUALITY. (Kim Brouer,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #793)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, runtime/doc/options.txt<br>
<br>
Patch 7.4.1831<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When timer_stop() is called with a string there is no proper error<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message.<br>
Solution:&nbsp;&nbsp; Require getting a number. (Bjorn Linse)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1832<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak in debug commands.<br>
Solution:&nbsp;&nbsp; Free memory before overwriting the pointer. (hint by Justin Keyes)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.1833<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use an Ex command for&nbsp;<a class="Type" href="options.html#'keywordprg'">'keywordprg'</a>.<br>
Solution:&nbsp;&nbsp; Accept an Ex command. (Nelo-Thara Wallus)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, runtime/doc/options.txt<br>
<br>
Patch 7.4.1834<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Possible crash when conceal is active.<br>
Solution:&nbsp;&nbsp; Check for the screen to be valid when redrawing a line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.1835<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When splitting and closing a window the status height changes.<br>
Solution:&nbsp;&nbsp; Compute the frame height correctly. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_window_cmd.vim<br>
<br>
Patch 7.4.1836<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using a partial on a dictionary it always gets bound to that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dictionary.<br>
Solution:&nbsp;&nbsp; Make a difference between binding a function to a dictionary<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explicitly or automatically.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/eval.c, src/testdir/test_partial.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.1837<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The BufUnload event is triggered twice, when :bunload is used with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Comment">bufhidden</span>&nbsp;set to&nbsp;<span class="Comment">unload</span>&nbsp;or&nbsp;<a class="Comment" href="change.html#:delete">delete</a>.<br>
Solution:&nbsp;&nbsp; Do not trigger the event when ml_mfp is NULL. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 7.4.1838<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Functions specifically for testing do not sort together.<br>
Solution:&nbsp;&nbsp; Rename garbagecollect_for_testing() to test_garbagecollect_now().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add test_null_list(), test_null_dict(), etc.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_expr.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1839<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get the items stored in a partial.<br>
Solution:&nbsp;&nbsp; Support using get() on a partial.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_partial.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1840<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using packages an &quot;after&quot; directory cannot be used.<br>
Solution:&nbsp;&nbsp; Add the &quot;after&quot; directory of the package to&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>&nbsp;if it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exists.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_packadd.vim<br>
<br>
Patch 7.4.1841<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The code to reallocate the buffer used for quickfix is repeated.<br>
Solution:&nbsp;&nbsp; Move the code to a function. (Yegappan Lakshmanan, closes #831)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1842 (after 7.4.1839)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;get() works for Partial but not for Funcref.<br>
Solution:&nbsp;&nbsp; Accept Funcref.&nbsp;&nbsp;Also return the function itself. (Nikolai Pavlov)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_partial.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1843<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests involving Python are flaky.<br>
Solution:&nbsp;&nbsp; Set the pt_auto field.&nbsp;&nbsp;Add tests. (Nikolai Pavlov)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_pyth.txt, src/if_py_both.h, src/testdir/test86.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test86.ok, src/testdir/test87.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test87.ok<br>
<br>
Patch 7.4.1844<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old function name in comment.&nbsp;&nbsp;More functions should start<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with test_.<br>
Solution:&nbsp;&nbsp; Rename function in comment. (Hirohito Higashi) Rename<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disable_char_avail_for_testing() to test_disable_char_avail().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;And alloc_fail() to test_alloc_fail().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/getchar.c, src/testdir/runtest.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cursor_func.vim, src/testdir/test_quickfix.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.1845<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mentioning NetBeans when reading from channel. (Ramel Eshed)<br>
Solution:&nbsp;&nbsp; Make the text more generic.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1846<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ubsan detects a multiplication overflow.<br>
Solution:&nbsp;&nbsp; Don't use orig_mouse_time when it's zero. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.1847<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Getting an item from a NULL dict crashes.&nbsp;&nbsp;Setting a register to a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NULL list crashes. (Nikolai Pavlov, issue #768)&nbsp;&nbsp;Comparing a NULL<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict with a NULL dict fails.<br>
Solution:&nbsp;&nbsp; Properly check for NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.1848<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with Strawberry Perl 5.24.<br>
Solution:&nbsp;&nbsp; Define S_SvREFCNT_dec() if needed. (Damien, Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 7.4.1849<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still trying to read from channel that is going to be closed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ramel Eshed)<br>
Solution:&nbsp;&nbsp; Check if ch_to_be_closed is set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1850<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI freezes when using a job. (Shougo Matsu)<br>
Solution:&nbsp;&nbsp; Unregister the channel when there is an input error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1851<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_syn_attr fails when using the GUI. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Escape the font name properly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syn_attr.vim<br>
<br>
Patch 7.4.1852<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unix: Cannot run all tests with the GUI.<br>
Solution:&nbsp;&nbsp; Add the &quot;testgui&quot; target.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Makefile<br>
<br>
Patch 7.4.1853<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when job and channel are in the same dict while using<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;partials. (Luc Hermitte)<br>
Solution:&nbsp;&nbsp; Do not decrement the channel reference count too early.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1854<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When setting&nbsp;<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>&nbsp;the Ignore highlighting doesn't work.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Charles Campbell)<br>
Solution:&nbsp;&nbsp; Handle the color names &quot;fg&quot; and &quot;bg&quot; when the GUI isn't running<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and no colors are specified, fall back to black and white.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 7.4.1855<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Valgrind reports memory leak for job that is not freed.<br>
Solution:&nbsp;&nbsp; Free all jobs on exit.&nbsp;&nbsp;Add test for failing job.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/misc2.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1856 (after 7.4.1855)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;failing job test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Expect &quot;fail&quot; status instead of &quot;dead&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1857<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a channel appends to a buffer that is&nbsp;<a class="Type" href="options.html#'nomodifiable'">'nomodifiable'</a>&nbsp;there is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an error but appending is done anyway.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<a class="Type" href="options.html#'modifiable'">'modifiable'</a>&nbsp;option.&nbsp;&nbsp;Refuse to write to a&nbsp;<a class="Type" href="options.html#'nomodifiable'">'nomodifiable'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when the value is 1.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/channel.c, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/channel.txt<br>
<br>
Patch 7.4.1858<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a channel writes to a buffer it doesn't find a buffer by the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;short name but re-uses it anyway.<br>
Solution:&nbsp;&nbsp; Find buffer also by the short name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/buffer.c, src/vim.h<br>
<br>
Patch 7.4.1859<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use a function reference for &quot;exit_cb&quot;.<br>
Solution:&nbsp;&nbsp; Use get_callback(). (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/structs.h<br>
<br>
Patch 7.4.1860<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using a partial for timer_start() may cause a crash.<br>
Solution:&nbsp;&nbsp; Set the copyID in timer objects. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim, src/eval.c, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds2.pro<br>
<br>
Patch 7.4.1861<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings with 64 bit compiler.<br>
Solution:&nbsp;&nbsp; Change int to size_t. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.1862<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;string() with repeated argument does not give a result usable by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eval().<br>
Solution:&nbsp;&nbsp; Refactor echo_string and tv2string(), moving the common part to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo_string_core(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_viml.vim, src/testdir/test86.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test87.ok<br>
<br>
Patch 7.4.1863<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings on Win64.<br>
Solution:&nbsp;&nbsp; Adjust types, add type casts. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.c, src/if_perl.xs, src/if_ruby.c, src/version.c<br>
<br>
Patch 7.4.1864<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python: encoding error with Python 2.<br>
Solution:&nbsp;&nbsp; Use &quot;getcwdu&quot; instead of &quot;getcwd&quot;. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 7.4.1865<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leaks in test49. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Use NULL instead of an empty string.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1866<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access when exiting with EXITFREE defined.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Set &quot;really_exiting&quot; and skip error messages.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/eval.c<br>
<br>
Patch 7.4.1867<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak in test_matchstrpos.<br>
Solution:&nbsp;&nbsp; Free the string before overwriting. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.1868<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting really_exiting causes memory leaks to be reported.<br>
Solution:&nbsp;&nbsp; Add the in_free_all_mem flag.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/misc2.c, src/eval.c<br>
<br>
Patch 7.4.1869<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with old version of Perl.<br>
Solution:&nbsp;&nbsp; Define PERLIO_FUNCS_DECL. (Tom G. Christensen)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 7.4.1870 (after 7.4.1863)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;One more Win64 compiler warning.<br>
Solution:&nbsp;&nbsp; Change declared argument type. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.c<br>
<br>
Patch 7.4.1871<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Appending to the quickfix list while the quickfix window is open<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is very slow.<br>
Solution:&nbsp;&nbsp; Do not delete all the lines, only append the new ones.&nbsp;&nbsp;Avoid<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using a window while updating the list. (closes #841)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.1872<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still build problem with old version of Perl.<br>
Solution:&nbsp;&nbsp; Also define SvREFCNT_inc_void_NN if needed. (Tom G. Christensen)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 7.4.1873<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a callback adds a timer the GUI doesn't use it until later.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ramel Eshed)<br>
Solution:&nbsp;&nbsp; Return early if a callback adds a timer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/gui_gtk_x11.c, src/gui_w32.c, src/gui_x11.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h<br>
<br>
Patch 7.4.1874<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unused variable in Win32 code.<br>
Solution:&nbsp;&nbsp; Remove it. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.1875<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Comparing functions and partials doesn't work well.<br>
Solution:&nbsp;&nbsp; Add tests. (Nikolai Pavlov)&nbsp;&nbsp;Compare the dict and arguments in the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;partial. (closes #813)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1876<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typing &quot;k&quot; at the hit-enter prompt has no effect.<br>
Solution:&nbsp;&nbsp; Don't assume recursive use of the prompt if a character was typed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 7.4.1877<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for invoking &quot;close_cb&quot; when writing to a buffer.<br>
Solution:&nbsp;&nbsp; Add using close_cb to a test case.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1878<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Whether a job has exited isn't detected until a character is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;typed.&nbsp;&nbsp;After calling exit_cb the cursor is in the wrong place.<br>
Solution:&nbsp;&nbsp; Don't wait forever for a character to be typed when there is a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pending job.&nbsp;&nbsp;Update the screen if needed after calling exit_cb.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/channel.c, src/proto/channel.pro<br>
<br>
Patch 7.4.1879 (after 7.4.1877)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test is flaky.<br>
Solution:&nbsp;&nbsp; Wait for close_cb to be invoked.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1880<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows console build defaults to not having +channel.<br>
Solution:&nbsp;&nbsp; Include the channel feature if building with huge features.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 7.4.1881<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Appending to a long quickfix list is slow.<br>
Solution:&nbsp;&nbsp; Add qf_last.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.1882<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Check for line break at end of line wrong. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Correct the logic.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.1883<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cppcheck found 2 incorrect printf formats.<br>
Solution:&nbsp;&nbsp; Use %ld and %lx. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/VisVim/Commands.cpp, src/gui_mac.c<br>
<br>
Patch 7.4.1884<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Updating marks in a quickfix list is very slow when the list is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;long.<br>
Solution:&nbsp;&nbsp; Only update marks if the buffer has a quickfix entry.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/quickfix.c<br>
<br>
Patch 7.4.1885<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MinGW console build defaults to not having +channel.<br>
Solution:&nbsp;&nbsp; Include the channel feature if building with huge features. (Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.1886<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When waiting for a character is interrupted by receiving channel<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data and the first character of a mapping was typed, the mapping<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;times out. (Ramel Eshed)<br>
Solution:&nbsp;&nbsp; When dealing with channel data don't return from mch_inchar().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/proto/getchar.pro, src/os_unix.c<br>
<br>
Patch 7.4.1887<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When receiving channel data&nbsp;<a class="Type" href="options.html#'updatetime'">'updatetime'</a>&nbsp;is not respected.<br>
Solution:&nbsp;&nbsp; Recompute the waiting time after being interrupted.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1888<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong computation of remaining wait time in RealWaitForChar()<br>
Solution:&nbsp;&nbsp; Remember the original waiting time.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1889<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When umask is set to 0177 Vim can't create temp files. (Lcd)<br>
Solution:&nbsp;&nbsp; Also correct umask when using mkdtemp().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.1890<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI: When channel data is received the cursor blinking is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;interrupted.&nbsp;&nbsp;(Ramel Eshed)<br>
Solution:&nbsp;&nbsp; Don't update the cursor when it is blinking.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/gui_gtk_x11.c, src/proto/gui_gtk_x11.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_mac.c, src/proto/gui_mac.pro, src/gui_photon.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_photon.pro, src/gui_w32.c, src/proto/gui_w32.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c, src/proto/gui_x11.pro<br>
<br>
Patch 7.4.1891<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel reading very long lines is slow.<br>
Solution:&nbsp;&nbsp; Collapse multiple buffers until a NL is found.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/netbeans.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 7.4.1892<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;balloon eval only gets the window number, not the ID.<br>
Solution:&nbsp;&nbsp; Add v:beval_winid.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/gui_beval.c, src/vim.h<br>
<br>
Patch 7.4.1893<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot easily get the window ID for a buffer.<br>
Solution:&nbsp;&nbsp; Add bufwinid().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1894<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get the window ID for a mouse click.<br>
Solution:&nbsp;&nbsp; Add v:mouse_winid.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/vim.h, runtime/doc/eval.txt<br>
<br>
Patch 7.4.1895<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use a window ID where a window number is expected.<br>
Solution:&nbsp;&nbsp; Add LOWEST_WIN_ID, so that the window ID can be used where a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number is expected.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/eval.c, src/vim.h, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_window_id.vim<br>
<br>
Patch 7.4.1896<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invoking mark_adjust() when adding a new line below the last line<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is pointless.<br>
Solution:&nbsp;&nbsp; Skip calling mark_adjust() when appending below the last line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/ops.c<br>
<br>
Patch 7.4.1897<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various typos, long lines and style mistakes.<br>
Solution:&nbsp;&nbsp; Fix the typos, wrap lines, improve style.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/ex_docmd.c, src/getchar.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.aap, src/testdir/README.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_reltime.vim, src/testdir/test_tagjump.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALL, src/config.aap.in, src/if_mzsch.c<br>
<br>
Patch 7.4.1898<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;User commands don't support modifiers.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<span class="Special">&lt;mods&gt;</span>&nbsp;item. (Yegappan Lakshmanan, closes #829)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/map.txt, src/ex_docmd.c, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_usercommands.vim<br>
<br>
Patch 7.4.1899<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GTK 3: cursor blinking doesn't work well.<br>
Solution:&nbsp;&nbsp; Instead of gui_gtk_window_clear() use gui_mch_clear_block().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 7.4.1900<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;<span class="Special">CTRL-]</span>&nbsp;in the help on &quot;<span class="Special">{address}</span>.&quot; doesn't work.<br>
Solution:&nbsp;&nbsp; Recognize an item in {}. (Hirohito Higashi, closes #814)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_help_tagjump.vim<br>
<br>
Patch 7.4.1901<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: the &quot;Disabled&quot; menu items would appear enabled.<br>
Solution:&nbsp;&nbsp; Use submenu_id if there is a parent. (Shane Harper, closes #834)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 7.4.1902<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for collapsing buffers for a channel.&nbsp;&nbsp;Some text is lost.<br>
Solution:&nbsp;&nbsp; Add a simple test.&nbsp;&nbsp;Set rq_buflen correctly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel_pipe.py<br>
<br>
Patch 7.4.1903<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When writing viminfo merging current history with history in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;viminfo may drop recent history entries.<br>
Solution:&nbsp;&nbsp; Add new format for viminfo lines, use it for history entries.&nbsp;&nbsp;Use<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a timestamp for ordering the entries. Add test_settime().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add the viminfo version.&nbsp;&nbsp;Does not do merging on timestamp yet.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/ex_getln.c, src/ex_cmds.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/proto/ex_cmds.pro, src/proto/ex_getln.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viminfo.vim<br>
<br>
Patch 7.4.1904 (after 7.4.1903)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails.<br>
Solution:&nbsp;&nbsp; Add missing changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 7.4.1905 (after 7.4.1903)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some compilers can't handle a double semicolon.<br>
Solution:&nbsp;&nbsp; Remove one semicolon.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.1906<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Collapsing channel buffers and searching for NL does not work<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properly. (Xavier de Gaye, Ramel Eshed)<br>
Solution:&nbsp;&nbsp; Do not assume the buffer contains a NUL or not.&nbsp;&nbsp;Change NUL bytes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to NL to avoid the string is truncated.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/netbeans.c, src/proto/channel.pro<br>
<br>
Patch 7.4.1907<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings from 64 bit compiler.<br>
Solution:&nbsp;&nbsp; Change type to size_t. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.1908<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Netbeans uses uninitialized pointer and freed memory.<br>
Solution:&nbsp;&nbsp; Set &quot;buffer&quot; at the right place (hint by Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c<br>
<br>
Patch 7.4.1909<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Doubled semicolons.<br>
Solution:&nbsp;&nbsp; Reduce to one. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c, src/fold.c, src/gui_gtk_x11.c, src/gui_w32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/misc2.c<br>
<br>
Patch 7.4.1910<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests using external command to delete directory.<br>
Solution:&nbsp;&nbsp; Use delete().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test17.in, src/testdir/test73.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_getcwd.in<br>
<br>
Patch 7.4.1911<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Recent history lines may be lost when exiting Vim.<br>
Solution:&nbsp;&nbsp; Merge history using the timestamp.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/ex_cmds.c, src/vim.h, src/proto/ex_getln.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viminfo.vim<br>
<br>
Patch 7.4.1912<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for using setqflist() on an older quickfix list.<br>
Solution:&nbsp;&nbsp; Add a couple of tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1913<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When &quot;:doautocmd&quot; is used modelines are used even when no<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autocommands were executed. (Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Skip processing modelines. (closes #854)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/ex_cmds.c, src/ex_docmd.c, src/proto/fileio.pro<br>
<br>
Patch 7.4.1914<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Executing autocommands while using the signal stack has a high<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;chance of crashing Vim.<br>
Solution:&nbsp;&nbsp; Don't invoke autocommands when on the signal stack.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1915<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The effect of the PopupMenu autocommand isn't directly visible.<br>
Solution:&nbsp;&nbsp; Call gui_update_menus() before displaying the popup menu. (Shane<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Harper, closes #855)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/menu.c<br>
<br>
Patch 7.4.1916 (after 7.4.1906)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No proper test for what 7.4.1906 fixes.<br>
Solution:&nbsp;&nbsp; Add a test for reading many lines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1917<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;History lines read from viminfo in different encoding than when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;writing are not converted.<br>
Solution:&nbsp;&nbsp; Convert the history lines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_viminfo.vim<br>
<br>
Patch 7.4.1918<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough testing for parsing viminfo lines.<br>
Solution:&nbsp;&nbsp; Add test with viminfo lines in bad syntax.&nbsp;&nbsp;Fix memory leak.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_getln.c, src/testdir/test_viminfo.vim<br>
<br>
Patch 7.4.1919<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Register contents is not merged when writing viminfo.<br>
Solution:&nbsp;&nbsp; Use timestamps for register contents.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/ex_getln.c, src/ex_cmds.c, src/proto/ex_cmds.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_getln.pro, src/proto/ops.pro, src/vim.h<br>
<br>
Patch 7.4.1920 (after 7.4.1919)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing test changes.<br>
Solution:&nbsp;&nbsp; Update viminfo test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viminfo.vim<br>
<br>
Patch 7.4.1921 (after 7.4.1919)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;vim_time() not included when needed.<br>
Solution:&nbsp;&nbsp; Adjust #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.1922<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ruby 2.4.0 unifies Fixnum and Bignum into Integer.<br>
Solution:&nbsp;&nbsp; Use rb_cInteger. (Weiyong Mao)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 7.4.1923<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Command line editing is not tested much.<br>
Solution:&nbsp;&nbsp; Add tests for expanding the file name and&nbsp;<a class="Type" href="options.html#'wildmenu'">'wildmenu'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim, src/testdir/Make_all.mak<br>
<br>
Patch 7.4.1924<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing &quot;void&quot; for functions without argument.<br>
Solution:&nbsp;&nbsp; Add &quot;void&quot;. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/edit.c, src/ex_cmds2.c, src/ops.c, src/screen.c<br>
<br>
Patch 7.4.1925<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Viminfo does not merge file marks properly.<br>
Solution:&nbsp;&nbsp; Use a timestamp.&nbsp;&nbsp;Add the :clearjumps command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mark.c, src/ex_cmds.c, src/ex_docmd.c, src/proto/mark.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/vim.h, src/ex_cmds.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viminfo.vim<br>
<br>
Patch 7.4.1926<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Possible crash with many history items.<br>
Solution:&nbsp;&nbsp; Avoid the index going past the last item.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.1927<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for signed/unsigned.<br>
Solution:&nbsp;&nbsp; Add type cast.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.c<br>
<br>
Patch 7.4.1928<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Overwriting pointer argument.<br>
Solution:&nbsp;&nbsp; Assign to what it points to. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.1929<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Inconsistent indenting and weird name.<br>
Solution:&nbsp;&nbsp; Fix indent, make name all upper case. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 7.4.1930<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build without +spell but with +quickfix. (Charles)<br>
Solution:&nbsp;&nbsp; Add better #ifdef around ml_append_buf(). (closes #864)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 7.4.1931<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using both old and new style file mark lines from viminfo.<br>
Solution:&nbsp;&nbsp; Skip the old style lines if the viminfo file was written with a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vim version that supports the new style.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.1932<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When writing viminfo the jumplist is not merged with the one in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the viminfo file.<br>
Solution:&nbsp;&nbsp; Merge based on timestamp.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mark.c, src/testdir/test_viminfo.vim<br>
<br>
Patch 7.4.1933<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning about uninitialized variable. (Yegappan)<br>
Solution:&nbsp;&nbsp; Give it a dummy value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.1934<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New style tests not executed with MinGW compiler.<br>
Solution:&nbsp;&nbsp; Add new style test support. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak<br>
<br>
Patch 7.4.1935<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using the GUI search/replace a second match right after the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;replacement is skipped.<br>
Solution:&nbsp;&nbsp; Add the SEARCH_START flag. (Mleddy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 7.4.1936<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Off-by-one error in bounds check. (Coverity)<br>
Solution:&nbsp;&nbsp; Check register number properly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.1937<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for directory stack in quickfix.<br>
Solution:&nbsp;&nbsp; Add a test. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1938<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When writing viminfo numbered marks were duplicated.<br>
Solution:&nbsp;&nbsp; Check for duplicates between current numbered marks and the ones<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;read from viminfo.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mark.c<br>
<br>
Patch 7.4.1939<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory access error when reading viminfo. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Correct index in jumplist when at the end.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mark.c, src/testdir/test_viminfo.vim<br>
<br>
Patch 7.4.1940<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;gd&quot; hangs in some situations. (Eric Biggers)<br>
Solution:&nbsp;&nbsp; Remove the SEARCH_START flag when looping.&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_goto.vim<br>
<br>
Patch 7.4.1941<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all quickfix tests are also done with the location lists.<br>
Solution:&nbsp;&nbsp; Test more quickfix code.&nbsp;&nbsp;Use user commands instead of &quot;exe&quot;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1942<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Background is not drawn properly when&nbsp;<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>&nbsp;is set.<br>
Solution:&nbsp;&nbsp; Check cterm_normal_bg_color. (Jacob Niehus, closes #805)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.1943<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for unreachable code.<br>
Solution:&nbsp;&nbsp; Remove the code that won't do anything.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mark.c<br>
<br>
Patch 7.4.1944<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: Cannot compile with XPM feature using VC2015<br>
Solution:&nbsp;&nbsp; Add XPM libraries compiled with VC2015, and enable to build<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gvim.exe which supports XPM using VC2015. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/xpm/x64/lib-vc14/libXpm.lib,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xpm/x86/lib-vc14/libXpm.lib<br>
<br>
Patch 7.4.1945<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The Man plugin doesn't work that well.<br>
Solution:&nbsp;&nbsp; Use &quot;g:ft_man_open_mode&quot; to be able open man pages in vert split<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or separate tab. Set nomodifiable for buffer with man content. Add<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a test. (Andrey Starodubtsev, closes #873)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/ftplugin/man.vim, src/testdir/test_man.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 7.4.1946 (after 7.4.1944)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;File list does not include new XPM libraries.<br>
Solution:&nbsp;&nbsp; Add the file list entries.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.1947<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Viminfo continuation line with wrong length isn't skipped. (Marius<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gedminas)<br>
Solution:&nbsp;&nbsp; Skip a line when encountering an error, but not two lines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.1948<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using Ctrl-A with double-byte encoding may result in garbled text.<br>
Solution:&nbsp;&nbsp; Skip to the start of a character. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 7.4.1949<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Minor problems with the quickfix code.<br>
Solution:&nbsp;&nbsp; Fix the problems. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1950<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix long lines test not executed for buffer.<br>
Solution:&nbsp;&nbsp; Call the function to test long lines. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1951<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ruby test is old style.<br>
Solution:&nbsp;&nbsp; Convert to a new style test. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/test_ruby.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ruby.ok, src/testdir/test_ruby.vim<br>
<br>
Patch 7.4.1952<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cscope interface does not support finding assignments.<br>
Solution:&nbsp;&nbsp; Add the &quot;a&quot; command. (ppettina, closes #882)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_cscop.txt, src/if_cscope.c<br>
<br>
Patch 7.4.1953<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all parts of the quickfix code are tested.<br>
Solution:&nbsp;&nbsp; Add more tests. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/samples/quickfix.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1954 (after 7.4.1948)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for what 7.4.1948 fixes.<br>
Solution:&nbsp;&nbsp; Add a test. (Hirohito Higashi, closes #880)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment_dbcs.vim<br>
<br>
Patch 7.4.1955<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using 32-bit Perl with 64-bit time_t causes memory corruption.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Use time_T instead of time_t for global variables. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/globals.h, src/misc2.c, src/proto/ex_cmds.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc2.pro, src/structs.h, src/vim.h<br>
<br>
Patch 7.4.1956<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using&nbsp;<span class="Special">CTRL-W</span>&nbsp;f and pressing &quot;q&quot; at the ATTENTION dialog the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;newly opened window is not closed.<br>
Solution:&nbsp;&nbsp; Close the window and go back to the original one. (Norio Takagi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_window_cmd.vim<br>
<br>
Patch 7.4.1957<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Perl interface has obsolete workaround.<br>
Solution:&nbsp;&nbsp; Remove the workaround added by 7.3.623. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 7.4.1958<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Perl interface preprocessor statements not nicely indented.<br>
Solution:&nbsp;&nbsp; Improve the indenting. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 7.4.1959<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when running test_channel.vim on Windows.<br>
Solution:&nbsp;&nbsp; Check for NULL pointer result from FormatMessage(). (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.1960<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unicode standard 9 was released.<br>
Solution:&nbsp;&nbsp; Update the character property tables. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 7.4.1961<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'insertmode'">'insertmode'</a>&nbsp;is reset while doing completion the popup menu<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remains even though Vim is in Normal mode.<br>
Solution:&nbsp;&nbsp; Ignore stop_insert_mode when the popup menu is visible.&nbsp;&nbsp;Don't set<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stop_insert_mode when&nbsp;<a class="Type" href="options.html#'insertmode'">'insertmode'</a>&nbsp;was already off. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/option.c, src/Makefile, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 7.4.1962<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Two test files for increment/decrement.<br>
Solution:&nbsp;&nbsp; Move the old style test into the new style test. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi, closes #881)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/main.aap,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test35.in, src/testdir/test35.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment.vim<br>
<br>
Patch 7.4.1963<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running Win32 Vim in mintty does not work.<br>
Solution:&nbsp;&nbsp; Detect mintty and give a helpful error message. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak, src/iscygpty.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/iscygpty.h, src/main.c, Filelist<br>
<br>
Patch 7.4.1964<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The quickfix init function is too big.<br>
Solution:&nbsp;&nbsp; Factor out parsing&nbsp;<a class="Type" href="options.html#'errorformat'">'errorformat'</a>&nbsp;to a separate function. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.1965<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using a job in raw mode to append to a buffer garbage<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;characters are added.<br>
Solution:&nbsp;&nbsp; Do not replace the trailing NUL with a NL. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.1966<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity reports a resource leak.<br>
Solution:&nbsp;&nbsp; Close &quot;fd&quot; also when bailing out.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.1967<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Falling back from NFA to old regexp engine does not work properly.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(fritzophrenic)<br>
Solution:&nbsp;&nbsp; Do not restore nfa_match. (Christian Brabandt, closes #867)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test64.in, src/testdir/test64.ok<br>
<br>
Patch 7.4.1968<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access with &quot;\<span class="Special">&lt;C-&quot;&gt;</span>.<br>
Solution:&nbsp;&nbsp; Do not recognize this as a special character. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.1969<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the netbeans channel is closed consuming the buffer may cause<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a crash.<br>
Solution:&nbsp;&nbsp; Check for nb_channel not to be NULL. (Xavier de Gaye)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c<br>
<br>
Patch 7.4.1970<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;:insert&quot; in an empty buffer sets the jump mark. (Ingo<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Karkat)<br>
Solution:&nbsp;&nbsp; Don't adjust marks when replacing the empty line in an empty<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer. (closes #892)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_jumps.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim<br>
<br>
Patch 7.4.1971<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not easy to see unrecognized error lines below the current<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error position.<br>
Solution:&nbsp;&nbsp; Add &quot;:clist +count&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, runtime/doc/quickfix.txt<br>
<br>
Patch 7.4.1972<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On Solaris select() does not work as expected when there is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;typeahead.<br>
Solution:&nbsp;&nbsp; Add ICANON when sleeping. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.1973<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows the package directory may be added at the end<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;because of forward/backward slash differences. (Matthew<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Desjardins)<br>
Solution:&nbsp;&nbsp; Ignore slash differences.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.1974<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI has a problem with some termcodes.<br>
Solution:&nbsp;&nbsp; Handle negative numbers. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 7.4.1975<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows large files (&gt; 2Gbyte) cause problems.<br>
Solution:&nbsp;&nbsp; Use &quot;off_T&quot; instead of &quot;off_t&quot;.&nbsp;&nbsp;Use &quot;stat_T&quot; instead of &quot;struct<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stat&quot;.&nbsp;&nbsp;Use 64 bit system functions if available.&nbsp;&nbsp;(Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/buffer.c, src/diff.c, src/eval.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/fileio.c, src/gui.c, src/gui_at_fs.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c, src/main.c, src/memfile.c, src/memline.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/misc2.c, src/netbeans.c, src/os_mswin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/proto/fileio.pro, src/proto/memline.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_mswin.pro, src/pty.c, src/quickfix.c, src/spell.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/tag.c, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_largefile.vim, src/testdir/test_stat.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c, src/vim.h<br>
<br>
Patch 7.4.1976<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Number variables are not 64 bits while they could be.<br>
Solution:&nbsp;&nbsp; Add the num64 feature. (Ken Takata, Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/various.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak, src/charset.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/ex_cmds.c, src/ex_getln.c, src/feature.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/fold.c, src/json.c, src/message.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/ops.c, src/option.c, src/proto/charset.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/quickfix.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viml.vim, src/version.c<br>
<br>
Patch 7.4.1977<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With 64 bit changes don't need three calls to sprintf().<br>
Solution:&nbsp;&nbsp; Simplify the code, use vim_snprintf(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.1978 (after 7.4.1975)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Large file test does not delete its output.<br>
Solution:&nbsp;&nbsp; Delete the output. Check size properly when possible. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_largefile.vim<br>
<br>
Patch 7.4.1979 (after 7.4.1976)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Getting value of binary option is wrong. (Kent Sibilev)<br>
Solution:&nbsp;&nbsp; Fix type cast.&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.1980<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'errorformat'">'errorformat'</a>&nbsp;is parsed for every call to &quot;:caddexpr&quot;.&nbsp;&nbsp;Can't add<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to two location lists asynchronously.<br>
Solution:&nbsp;&nbsp; Keep the previously parsed data when appropriate. (mostly by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1981<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No testing for Farsi code.<br>
Solution:&nbsp;&nbsp; Add a minimal test.&nbsp;&nbsp;Clean up Farsi code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/farsi.c, src/Makefile, src/charset.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/main.pro, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_farsi.vim<br>
<br>
Patch 7.4.1982<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Viminfo file contains duplicate change marks.<br>
Solution:&nbsp;&nbsp; Drop duplicate marks.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mark.c<br>
<br>
Patch 7.4.1983<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;farsi.c and arabic.c are included in a strange way.<br>
Solution:&nbsp;&nbsp; Build them like other files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/farsi.c, src/arabic.c, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/main.pro, src/proto/farsi.pro, src/proto/arabic.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/Make_bc5.mak, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_dice.mak, src/Make_ivc.mak, src/Make_manx.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_morph.mak, src/Make_mvc.mak, src/Make_sas.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.1984<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all quickfix features are tested.<br>
Solution:&nbsp;&nbsp; Add a few more tests. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.1985 (after 7.4.1983)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing changes in VMS build file.<br>
Solution:&nbsp;&nbsp; Use the right file name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms<br>
<br>
Patch 7.4.1986<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warns for loss of data.<br>
Solution:&nbsp;&nbsp; Use size_t instead of int. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.1987<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When copying unrecognized lines for viminfo, end up with useless<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continuation lines.<br>
Solution:&nbsp;&nbsp; Skip continuation lines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.1988<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When updating viminfo with file marks there is no time order.<br>
Solution:&nbsp;&nbsp; Remember the time when a buffer was last used, store marks for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the most recently used buffers.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/structs.h, src/mark.c, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/proto/mark.pro, src/testdir/test_viminfo.vim<br>
<br>
Patch 7.4.1989<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;filter() and map() only accept a string argument.<br>
Solution:&nbsp;&nbsp; Implement using a Funcref argument (Yasuhiro Matsumoto, Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/Makefile, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/test_filter_map.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_partial.vim<br>
<br>
Patch 7.4.1990 (after 7.4.1952)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cscope items are not sorted.<br>
Solution:&nbsp;&nbsp; Put the new &quot;a&quot; command first. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c<br>
<br>
Patch 7.4.1991<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;glob() does not add a symbolic link when there are no wildcards.<br>
Solution:&nbsp;&nbsp; Remove the call to mch_getperm().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.1992<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Values for true and false can be confusing.<br>
Solution:&nbsp;&nbsp; Update the documentation.&nbsp;&nbsp;Add a test.&nbsp;&nbsp;Make v:true evaluate to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TRUE for a non-zero-arg.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_true_false.vim, src/testdir/test_alot.vim<br>
<br>
Patch 7.4.1993<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all TRUE and FALSE arguments are tested.<br>
Solution:&nbsp;&nbsp; Add a few more tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_true_false.vim<br>
<br>
Patch 7.4.1994 (after 7.4.1993)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;True-false test fails.<br>
Solution:&nbsp;&nbsp; Filter the dict to only keep the value that matters.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_true_false.vim<br>
<br>
Patch 7.4.1995<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI: cursor drawn in wrong place if a timer callback causes a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screen update. (David Samvelyan)<br>
Solution:&nbsp;&nbsp; Also redraw the cursor when it's blinking and on.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/gui_mac.c, src/gui_photon.c, src/gui_w32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c, src/screen.c, src/proto/gui_gtk_x11.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_mac.pro, src/proto/gui_photon.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_w32.pro, src/proto/gui_x11.pro<br>
<br>
Patch 7.4.1996<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Capturing the output of a command takes a few commands.<br>
Solution:&nbsp;&nbsp; Add evalcmd().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/doc/eval.txt, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/test_evalcmd.vim<br>
<br>
Patch 7.4.1997<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot easily scroll the quickfix window.<br>
Solution:&nbsp;&nbsp; Add &quot;:cbottom&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/quickfix.c, src/proto/quickfix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_quickfix.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/quickfix.txt<br>
<br>
Patch 7.4.1998<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When writing buffer lines to a job there is no NL to NUL<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conversion.<br>
Solution:&nbsp;&nbsp; Make it work symmetrical with writing lines from a job into a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro, src/netbeans.c<br>
<br>
Patch 7.4.1999<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;evalcmd() doesn't work recursively.<br>
Solution:&nbsp;&nbsp; Use redir_evalcmd instead of redir_vname.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/eval.c, src/globals.h, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_evalcmd.vim<br>
<br>
Patch 7.4.2000 (after 7.4.1999)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Evalcmd test fails.<br>
Solution:&nbsp;&nbsp; Add missing piece.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.2001 (after 7.4.2000)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tiny build fails. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 7.4.2002<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when passing number to filter() or map().<br>
Solution:&nbsp;&nbsp; Convert to a string. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_filter_map.vim<br>
<br>
Patch 7.4.2003<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still cursor flickering when a callback updates the screen. (David<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Samvelyan)<br>
Solution:&nbsp;&nbsp; Put the cursor in the right position after updating the screen.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.2004<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI: cursor displayed in the wrong position.<br>
Solution:&nbsp;&nbsp; Correct screen_cur_col and screen_cur_row.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 7.4.2005<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After using evalcmd() message output is in the wrong position.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Reset msg_col.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.2006<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using tabnext in BufUnload autocmd. (Norio Takagi)<br>
Solution:&nbsp;&nbsp; First check that the current buffer is the right one. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 7.4.2007<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running the tests leaves a viminfo file behind.<br>
Solution:&nbsp;&nbsp; Make the viminfo option empty.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 7.4.2008<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;evalcmd() has a confusing name.<br>
Solution:&nbsp;&nbsp; Rename to execute().&nbsp;&nbsp;Make silent optional.&nbsp;&nbsp;Support a list of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commands.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/ex_docmd.c, src/message.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/Makefile, src/testdir/test_evalcmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_execute_func.vim, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.2009 (after 7.4.2008)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Messages test fails.<br>
Solution:&nbsp;&nbsp; Don't set redir_execute before returning.&nbsp;&nbsp;Add missing version<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.2010<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is a :cbottom command but no :lbottom command.<br>
Solution:&nbsp;&nbsp; Add :lbottom. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/index.txt, runtime/doc/quickfix.txt, src/ex_cmds.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.2011<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not easy to get a list of command arguments.<br>
Solution:&nbsp;&nbsp; Add getcompletion(). (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_docmd.pro, src/testdir/test_cmdline.vim<br>
<br>
Patch 7.4.2012 (after 7.4.2011)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for getcompletion() does not pass on all systems.<br>
Solution:&nbsp;&nbsp; Only test what is supported.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 7.4.2013<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;noinsert&quot; in&nbsp;<a class="Type" href="options.html#'completeopt'">'completeopt'</a>&nbsp;breaks redo.<br>
Solution:&nbsp;&nbsp; Set compl_curr_match. (Shougo Matsu, closes #874)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_popup.vim<br>
<br>
Patch 7.4.2014<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;noinsert&quot; in&nbsp;<a class="Type" href="options.html#'completeopt'">'completeopt'</a>&nbsp;does not insert match.<br>
Solution:&nbsp;&nbsp; Set compl_enter_selects. (Shougo Matsu, closes #875)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_popup.vim<br>
<br>
Patch 7.4.2015<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a file gets a name when writing it&nbsp;<a class="Type" href="options.html#'acd'">'acd'</a>&nbsp;is not effective.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dan Church)<br>
Solution:&nbsp;&nbsp; Invoke DO_AUTOCHDIR after writing the file. (Allen Haim, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#777, closes #803)&nbsp;&nbsp;Add test_autochdir() to enable&nbsp;<a class="Type" href="options.html#'acd'">'acd'</a>&nbsp;before<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;starting&quot; is reset.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/buffer.c, src/eval.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/test_autochdir.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 7.4.2016<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning from MinGW about _WIN32_WINNT redefined. (John Marriott)<br>
Solution:&nbsp;&nbsp; First undefine it. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.2017<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When there are many errors adding them to the quickfix list takes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a long time.<br>
Solution:&nbsp;&nbsp; Add BLN_NOOPT.&nbsp;&nbsp;Don't call buf_valid() in buf_copy_options().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remember the last file name used.&nbsp;&nbsp;When going through the buffer<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list start from the end of the list.&nbsp;&nbsp;Only call buf_valid() when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autocommands were executed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/option.c, src/quickfix.c, src/vim.h<br>
<br>
Patch 7.4.2018<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;buf_valid() can be slow when there are many buffers.<br>
Solution:&nbsp;&nbsp; Add bufref_valid(), only go through the buffer list when a buffer<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;was freed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/buffer.c, src/quickfix.c, src/proto/buffer.pro<br>
<br>
Patch 7.4.2019<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When ignoring case utf_fold() may consume a lot of time.<br>
Solution:&nbsp;&nbsp; Optimize for ASCII.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 7.4.2020<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build without +autocmd feature.<br>
Solution:&nbsp;&nbsp; Adjust #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 7.4.2021<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still too many buf_valid() calls.<br>
Solution:&nbsp;&nbsp; Make au_new_curbuf a bufref.&nbsp;&nbsp;Use bufref_valid() in more places.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/buffer.c, src/globals.h<br>
<br>
Patch 7.4.2022<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings from 64 bit compiler.<br>
Solution:&nbsp;&nbsp; Add type casts. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.2023<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;buflist_findname_stat() may find a dummy buffer.<br>
Solution:&nbsp;&nbsp; Set the BF_DUMMY flag after loading a dummy buffer.&nbsp;&nbsp;Start<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;finding buffers from the end of the list.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/buffer.c<br>
<br>
Patch 7.4.2024<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More buf_valid() calls can be optimized.<br>
Solution:&nbsp;&nbsp; Use bufref_valid() instead.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/ex_cmds.c, src/structs.h, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/eval.c, src/ex_cmds2.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/fileio.c, src/main.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c, src/quickfix.c, src/spell.c, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/window.c, src/proto/buffer.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/window.pro<br>
<br>
Patch 7.4.2025<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The cursor blinking stops or is irregular when receiving date over<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a channel and writing it in a buffer, and when updating the status<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line. (Ramel Eshed)<br>
Solution:&nbsp;&nbsp; Make it a bit better by flushing GUI output.&nbsp;&nbsp;Don't redraw the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cursor after updating the screen if the blink state is off.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/screen.c<br>
<br>
Patch 7.4.2026<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Reference counting for callbacks isn't right.<br>
Solution:&nbsp;&nbsp; Add free_callback(). (Ken Takata)&nbsp;&nbsp;Fix reference count.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/ex_cmds2.c, src/proto/eval.pro<br>
<br>
Patch 7.4.2027<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with +eval but without +menu.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.2028<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;cppcheck warns for using index before limits check.<br>
Solution:&nbsp;&nbsp; Swap the expressions. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 7.4.2029<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;printf() does not work with 64 bit numbers.<br>
Solution:&nbsp;&nbsp; use the &quot;L&quot; length modifier. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.2030<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ARCH must be set properly when using MinGW.<br>
Solution:&nbsp;&nbsp; Detect the default value of ARCH from the current compiler. (Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.2031<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The list_lbr_utf8 test fails if ~/.vim/syntax/c.vim sets<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'textwidth'">'textwidth'</a>&nbsp;to a non-zero value. (Oyvind A. Holm)<br>
Solution:&nbsp;&nbsp; Add a setup.vim file that sets&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>&nbsp;and $HOME to a safe<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value. (partly by Christian Brabandt, closes #912)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/setup.vim, src/testdir/amiga.vim, src/testdir/dos.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/unix.vim, src/testdir/vms.vim, src/testdir/runtest.vim<br>
<br>
Patch 7.4.2032 (after 7.4.2030)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails with 64 bit MinGW. (Axel Bender)<br>
Solution:&nbsp;&nbsp; Handle dash vs. underscore. (Ken Takata, Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.2033<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'cscopequickfix'">'cscopequickfix'</a>&nbsp;option does not accept new value &quot;a&quot;.<br>
Solution:&nbsp;&nbsp; Adjust list of command characters. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/Makefile, src/testdir/test_cscope.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 7.4.2034 (after 7.4.2032)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails with some version of MinGW. (illusorypan)<br>
Solution:&nbsp;&nbsp; Recognize mingw32. (Ken Takata, closes #921)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 7.4.2035<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On Solaris with ZFS the ACL may get removed.<br>
Solution:&nbsp;&nbsp; Always restore the ACL for Solaris ZFS. (Danek Duvall)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 7.4.2036<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Looking up a buffer by number is slow if there are many.<br>
Solution:&nbsp;&nbsp; Use a hashtab.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/buffer.c<br>
<br>
Patch 7.4.2037 (after 7.4.2036)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Small build fails.<br>
Solution:&nbsp;&nbsp; Adjust #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hashtab.c<br>
<br>
Patch 7.4.2038 (after 7.4.2036)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Small build still fails.<br>
Solution:&nbsp;&nbsp; Adjust more #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/buffer.c<br>
<br>
Patch 7.4.2039<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The Netbeans integration is not tested.<br>
Solution:&nbsp;&nbsp; Add a first Netbeans test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_netbeans.vim, src/testdir/test_netbeans.py,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/shared.vim<br>
<br>
Patch 7.4.2040<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New files missing from distribution.<br>
Solution:&nbsp;&nbsp; Add new test scripts.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 7.4.2041<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Netbeans file authentication not tested.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_netbeans.vim<br>
<br>
Patch 7.4.2042<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GTK: display updating is not done properly and can be slow.<br>
Solution:&nbsp;&nbsp; Use gdk_display_flush() instead of gdk_display_sync(). Don't call<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gdk_window_process_updates().&nbsp;&nbsp;(Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 7.4.2043<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;setbuvfar() causes a screen redraw.<br>
Solution:&nbsp;&nbsp; Only use aucmd_prepbuf() for options.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.2044<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;filter() and map() either require a string or defining a function.<br>
Solution:&nbsp;&nbsp; Support lambda, a short way to define a function that evaluates an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression. (Yasuhiro Matsumoto, Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_lambda.vim<br>
<br>
Patch 7.4.2045<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak when using a function callback.<br>
Solution:&nbsp;&nbsp; Don't save the function name when it's in the partial.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.2046<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The qf_init_ext() function is too big.<br>
Solution:&nbsp;&nbsp; Refactor it. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.2047<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for initializing a struct.<br>
Solution:&nbsp;&nbsp; Initialize in another way. (Anton Lindqvist)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.2048<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is still code and help for unsupported systems.<br>
Solution:&nbsp;&nbsp; Remove the code and text. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/lang/menu_sk_sk.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/menu.vim, runtime/optwin.vim, src/Make_bc5.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/feature.h, src/fileio.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/memfile.c, src/memline.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/option.c, src/option.h, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.h, src/proto.h, src/term.c, src/undo.c, src/version.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/xxd/xxd.c<br>
<br>
Patch 7.4.2049<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no way to get a list of the error lists.<br>
Solution:&nbsp;&nbsp; Add &quot;:chistory&quot; and &quot;:lhistory&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/quickfix.c, src/ex_docmd.c, src/message.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/quickfix.pro, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.2050<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using &quot;:vimgrep&quot; may end up with duplicate buffers.<br>
Solution:&nbsp;&nbsp; When adding an error list entry pass the buffer number if possible.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.2051<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No proper testing of trunc_string().<br>
Solution:&nbsp;&nbsp; Add a unittest for message.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/message.c, src/message_test.c, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/main.pro, src/structs.h<br>
<br>
Patch 7.4.2052<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverage report is messed up by the unittests.<br>
Solution:&nbsp;&nbsp; Add a separate test target for script tests.&nbsp;&nbsp;Use that when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;collecting coverage information.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.2053<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't run scripttests in the top directory.<br>
Solution:&nbsp;&nbsp; Add targets to the top Makefile.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makefile<br>
<br>
Patch 7.4.2054 (after 7.4.2048)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong part of #ifdef removed.<br>
Solution:&nbsp;&nbsp; Use the right part. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.2055<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;eval.c is too big<br>
Solution:&nbsp;&nbsp; Move Dictionary functions to dict.c<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/dict.c, src/vim.h, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/proto/dict.pro, src/Makefile, Filelist<br>
<br>
Patch 7.4.2056 (after 7.4.2055)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails.<br>
Solution:&nbsp;&nbsp; Add missing changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto.h<br>
<br>
Patch 7.4.2057<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;eval.c is too big.<br>
Solution:&nbsp;&nbsp; Move List functions to list.c<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/dict.c, src/list.c, src/proto.h, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/proto/eval.pro, src/proto/list.pro, Filelist<br>
<br>
Patch 7.4.2058<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;eval.c is too big.<br>
Solution:&nbsp;&nbsp; Move user functions to userfunc.c<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/eval.c, src/vim.h, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/proto.h, src/Makefile, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/userfunc.pro, Filelist<br>
<br>
Patch 7.4.2059<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Non-Unix builds fail.<br>
Solution:&nbsp;&nbsp; Update Makefiles for new files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_bc5.mak, src/Make_cyg_ming.mak, src/Make_dice.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_ivc.mak, src/Make_manx.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_sas.mak<br>
<br>
Patch 7.4.2060 (after 7.4.2059)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong file name.<br>
Solution:&nbsp;&nbsp; Fix typo.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 7.4.2061<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;qf_init_ext() is too big.<br>
Solution:&nbsp;&nbsp; Move code to qf_parse_line() (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.2062<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using dummy variable to compute struct member offset.<br>
Solution:&nbsp;&nbsp; Use offsetof().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/macros.h, src/vim.h, src/spell.c<br>
<br>
Patch 7.4.2063<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;eval.c is still too big.<br>
Solution:&nbsp;&nbsp; Split off internal functions to evalfunc.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalfunc.c, src/list.c, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/vim.h, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/evalfunc.pro, src/proto/list.pro, src/Makefile, Filelist,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_bc5.mak, src/Make_cyg_ming.mak, src/Make_dice.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_ivc.mak, src/Make_manx.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_sas.mak<br>
<br>
Patch 7.4.2064<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for possible buffer overflow.<br>
Solution:&nbsp;&nbsp; Use vim_strcat() instead of strcat().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.2065<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warns for uninitialized variable. (John Marriott)<br>
Solution:&nbsp;&nbsp; Set lnum to the right value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 7.4.2066<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getcompletion() not well tested.<br>
Solution:&nbsp;&nbsp; Add more testing.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 7.4.2067<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for char/char_u conversion. (Tony Mechelynck)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inefficient code.<br>
Solution:&nbsp;&nbsp; Use more lines to fill with spaces. (Nikolai Pavlov) Add type cast.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.2068<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all arguments of trunc_string() are tested.&nbsp;&nbsp;Memory access<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error when running the message tests.<br>
Solution:&nbsp;&nbsp; Add another test case. (Yegappan Lakshmanan)&nbsp;&nbsp;Make it easy to run<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unittests with valgrind.&nbsp;&nbsp;Fix the access error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/message_test.c, src/Makefile<br>
<br>
Patch 7.4.2069<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;spell.c is too big.<br>
Solution:&nbsp;&nbsp; Split it in spell file handling and spell checking.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/spellfile.c, src/spell.h, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/spell.pro, src/proto/spellfile.pro, src/proto.h<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_bc5.mak, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_dice.mak, src/Make_ivc.mak, src/Make_manx.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_morph.mak, src/Make_mvc.mak, src/Make_sas.mak<br>
<br>
Patch 7.4.2070 (after 7.4.2069)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing change to include file.<br>
Solution:&nbsp;&nbsp; Include the spell header file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 7.4.2071<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The return value of type() is difficult to use.<br>
Solution:&nbsp;&nbsp; Define v:t_ constants. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_viml.vim, src/vim.h<br>
<br>
Patch 7.4.2072<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;substitute() does not support a Funcref argument.<br>
Solution:&nbsp;&nbsp; Support a Funcref like it supports&nbsp;&nbsp;a string starting with &quot;\=&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/regexp.c, src/eval.c, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/regexp.pro, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.2073<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;rgb.txt is read for every color name.<br>
Solution:&nbsp;&nbsp; Load rgb.txt once. (Christian Brabandt)&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/rgb.txt, src/term.c, src/testdir/test_syn_attr.vim<br>
<br>
Patch 7.4.2074<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;One more place using a dummy variable.<br>
Solution:&nbsp;&nbsp; Use offsetof(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 7.4.2075<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No autocommand event to initialize a window or tab page.<br>
Solution:&nbsp;&nbsp; Add WinNew and TabNew events. (partly by Felipe Morales)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/window.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, runtime/doc/autocmd.txt<br>
<br>
Patch 7.4.2076<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syntax error when dict has '&gt;' key.<br>
Solution:&nbsp;&nbsp; Check for endchar. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/testdir/test_lambda.vim<br>
<br>
Patch 7.4.2077<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot update&nbsp;<a class="Type" href="options.html#'tabline'">'tabline'</a>&nbsp;when a tab was closed.<br>
Solution:&nbsp;&nbsp; Add the TabClosed autocmd event. (partly by Felipe Morales)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/window.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, runtime/doc/autocmd.txt<br>
<br>
Patch 7.4.2078<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running checks in po directory fails.<br>
Solution:&nbsp;&nbsp; Add colors used in syntax.c to the builtin color table.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.2079<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Netbeans test fails on non-Unix systems.<br>
Solution:&nbsp;&nbsp; Only do the permission check on Unix systems.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_netbeans.vim<br>
<br>
Patch 7.4.2080<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using PERROR() on some systems assert_fails() does not see<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the error.<br>
Solution:&nbsp;&nbsp; Make PERROR() always report the error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/message.c, src/proto/message.pro<br>
<br>
Patch 7.4.2081<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Line numbers in the error list are not always adjusted.<br>
Solution:&nbsp;&nbsp; Set b_has_qf_entry properly. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/structs.h, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.2082<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not much test coverage for digraphs.<br>
Solution:&nbsp;&nbsp; Add a new style digraph test. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_digraph.vim<br>
<br>
Patch 7.4.2083<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity complains about not restoring a value.<br>
Solution:&nbsp;&nbsp; Restore the value, although it's not really needed.&nbsp;&nbsp;Change return<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to jump to cleanup, might leak memory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 7.4.2084<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New digraph test makes testing hang.<br>
Solution:&nbsp;&nbsp; Don't set &quot;nocp&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_digraph.vim<br>
<br>
Patch 7.4.2085<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Digraph tests fails on some systems.<br>
Solution:&nbsp;&nbsp; Run it separately and set&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;early.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_digraph.vim<br>
<br>
Patch 7.4.2086<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using the system default encoding makes tests unpredictable.<br>
Solution:&nbsp;&nbsp; Always use utf-8 or latin1 in the new style tests.&nbsp;&nbsp;Remove setting<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;encoding and scriptencoding where it is not needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_digraph.vim, src/testdir/test_expand_dllpath.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expr_utf8.vim, src/testdir/test_json.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_matchadd_conceal_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_regexp_utf8.vim, src/testdir/test_visual.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot_utf8.vim,<br>
<br>
Patch 7.4.2087<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Digraph code test coverage is still low.<br>
Solution:&nbsp;&nbsp; Add more tests. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_digraph.vim<br>
<br>
Patch 7.4.2088 (after 7.4.2087)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Keymap test fails with normal features.<br>
Solution:&nbsp;&nbsp; Bail out if the keymap feature is not supported.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_digraph.vim<br>
<br>
Patch 7.4.2089<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Color handling of X11 GUIs is too complicated.<br>
Solution:&nbsp;&nbsp; Simplify the code.&nbsp;&nbsp;Use RGBA where appropriate. (Kazunobu<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.h, src/gui_beval.c, src/gui_gtk_x11.c, src/netbeans.c<br>
<br>
Patch 7.4.2090<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using submatch() in a lambda passed to substitute() is verbose.<br>
Solution:&nbsp;&nbsp; Use a static list and pass it as an optional argument to the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function.&nbsp;&nbsp;Fix memory leak.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/list.c, src/userfunc.c, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalfunc.c, src/ex_cmds2.c, src/regexp.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/list.pro, src/proto/userfunc.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expr.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.2091<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity reports a resource leak when out of memory.<br>
Solution:&nbsp;&nbsp; Close the file before returning.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.2092<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GTK 3 build fails with older GTK version.<br>
Solution:&nbsp;&nbsp; Check the pango version. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c<br>
<br>
Patch 7.4.2093<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Netbeans test fails once in a while.&nbsp;&nbsp;Leaving log file behind.<br>
Solution:&nbsp;&nbsp; Add it to the list of flaky tests.&nbsp;&nbsp;Disable logfile.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.2094<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The color allocation in X11 is overly complicated.<br>
Solution:&nbsp;&nbsp; Remove find_closest_color(), XAllocColor() already does this.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c<br>
<br>
Patch 7.4.2095<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Man test fails when run with the GUI.<br>
Solution:&nbsp;&nbsp; Adjust for different behavior of GUI.&nbsp;&nbsp;Add assert_inrange().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalfunc.c, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_assert.vim, src/testdir/test_man.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.2096<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Lambda functions show up with completion.<br>
Solution:&nbsp;&nbsp; Don't show lambda functions. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 7.4.2097<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning from 64 bit compiler.<br>
Solution:&nbsp;&nbsp; use size_t instead of int. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 7.4.2098<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text object tests are old style.<br>
Solution:&nbsp;&nbsp; Turn them into new style tests. (James McCoy, closes #941)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_textobjects.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textobjects.ok, src/testdir/test_textobjects.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.2099<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a keymap is active only &quot;(lang)&quot; is displayed. (Ilya<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dogolazky)<br>
Solution:&nbsp;&nbsp; Show the keymap name. (Dmitri Vereshchagin, closes #933)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/proto/screen.pro, src/screen.c<br>
<br>
Patch 7.4.2100<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;cgn&quot; and &quot;dgn&quot; do not work correctly with a single character<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match and the replacement includes the searched pattern. (John<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Beckett)<br>
Solution:&nbsp;&nbsp; If the match is found in the wrong column try in the next column.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Turn the test into new style. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/Make_all.mak, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test53.in, src/testdir/test53.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gn.vim<br>
<br>
Patch 7.4.2101<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Looping over windows, buffers and tab pages is inconsistent.<br>
Solution:&nbsp;&nbsp; Use FOR_ALL_ macros everywhere. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/diff.c, src/edit.c, src/eval.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/gui.c, src/gui_mac.c, src/if_lua.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.c, src/if_perl.xs, src/if_ruby.c, src/if_tcl.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/mark.c, src/memfile.c, src/memline.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c, src/netbeans.c, src/normal.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/screen.c, src/spell.c, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/workshop.c<br>
<br>
Patch 7.4.2102 (after 7.4.2101)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tiny build with GUI fails.<br>
Solution:&nbsp;&nbsp; Revert one FOR_ALL_ change.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 7.4.2103<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't have &quot;augroup END&quot; right after &quot;:au!&quot;.<br>
Solution:&nbsp;&nbsp; Check for the bar character before the command argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/testdir/test_autocmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt<br>
<br>
Patch 7.4.2104<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code duplication when unreferencing a function.<br>
Solution:&nbsp;&nbsp; De-duplicate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 7.4.2105<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure reports default features to be &quot;normal&quot; while it is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;huge&quot;.<br>
Solution:&nbsp;&nbsp; Change the default text.&nbsp;&nbsp;Build with newer autoconf.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.2106<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clang warns about missing field in initializer.<br>
Solution:&nbsp;&nbsp; Define COMMA and use it.&nbsp;&nbsp;(Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/globals.h, src/vim.h<br>
<br>
Patch 7.4.2107 (after 7.4.2106)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Misplaced equal sign.<br>
Solution:&nbsp;&nbsp; Remove it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h<br>
<br>
Patch 7.4.2108<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Netbeans test is flaky.<br>
Solution:&nbsp;&nbsp; Wait for the cursor to be positioned.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_netbeans.vim<br>
<br>
Patch 7.4.2109<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting&nbsp;<a class="Type" href="options.html#'display'">'display'</a>&nbsp;to &quot;lastline&quot; is a drastic change, while<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;omitting it results in lots of &quot;@&quot; lines.<br>
Solution:&nbsp;&nbsp; Add &quot;truncate&quot; to show &quot;@@@&quot; for a truncated line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/screen.c, runtime/doc/options.txt<br>
<br>
Patch 7.4.2110<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When there is an CmdUndefined autocmd then the error for a missing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;command is E464 instead of E492. (Manuel Ortega)<br>
Solution:&nbsp;&nbsp; Don't let the pointer be NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_usercommands.vim<br>
<br>
Patch 7.4.2111<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Defaults are very conservative.<br>
Solution:&nbsp;&nbsp; Move settings from vimrc_example.vim to defaults.vim.&nbsp;&nbsp;Load<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defaults.vim if no .vimrc was found.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/version.c, src/os_amiga.h, src/os_dos.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mac.h, src/os_unix.h, src/feature.h, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/vimrc_example.vim, runtime/defaults.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/evim.vim, Filelist, runtime/doc/starting.txt<br>
<br>
Patch 7.4.2112<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getcompletion(..,&nbsp;<a class="Type" href="options.html#'dir'">'dir'</a>) returns a match with trailing &quot;*&quot; when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;there are no matches. (Chdiza)<br>
Solution:&nbsp;&nbsp; Return an empty list when there are no matches.&nbsp;&nbsp;Add a trailing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;slash to directories. (Yegappan Lakshmanan)&nbsp;&nbsp;Add tests for no<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches. (closes #947)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 7.4.2113<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for undo is flaky.<br>
Solution:&nbsp;&nbsp; Turn it into a new style test.&nbsp;&nbsp;Use test_settime() to avoid<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flakyness.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/undo.c, src/testdir/test61.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test61.ok, src/testdir/test_undo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_undolevels.vim, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim<br>
<br>
Patch 7.4.2114<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tiny build fails.<br>
Solution:&nbsp;&nbsp; Always include vim_time().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.2115<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Loading defaults.vim with -C argument.<br>
Solution:&nbsp;&nbsp; Don't load the defaults script with -C argument.&nbsp;&nbsp;Test sourcing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the defaults script.&nbsp;&nbsp;Set&nbsp;<a class="Type" href="options.html#'display'">'display'</a>&nbsp;to &quot;truncate&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/Makefile, runtime/defaults.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim, src/testdir/Make_all.mak<br>
<br>
Patch 7.4.2116<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The default vimrc for Windows is very conservative.<br>
Solution:&nbsp;&nbsp; Use the defaults.vim in the Windows installer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c<br>
<br>
Patch 7.4.2117<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Deleting an augroup that still has autocmds does not give a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warning.&nbsp;&nbsp;The next defined augroup takes its place.<br>
Solution:&nbsp;&nbsp; Give a warning and prevent the index being used for another group<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 7.4.2118<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mac: can't build with tiny features.<br>
Solution:&nbsp;&nbsp; Don't define FEAT_CLIPBOARD unconditionally. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 7.4.2119<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Closures are not supported.<br>
Solution:&nbsp;&nbsp; Capture variables in lambdas from the outer scope. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/ex_cmds2.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/proto/userfunc.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_lambda.vim, src/userfunc.c<br>
<br>
Patch 7.4.2120<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;User defined functions can't be a closure.<br>
Solution:&nbsp;&nbsp; Add the &quot;closure&quot; argument. Allow using :unlet on a bound<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variable. (Yasuhiro Matsumoto, Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/testdir/test_lambda.vim, src/userfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c src/proto/userfunc.pro<br>
<br>
Patch 7.4.2121<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No easy way to check if lambda and closure are supported.<br>
Solution:&nbsp;&nbsp; Add the +lambda feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/version.c, src/testdir/test_lambda.vim<br>
<br>
Patch 7.4.2122 (after 7.4.2118)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mac: don't get +clipboard in huge build.<br>
Solution:&nbsp;&nbsp; Move #define down below including feature.h<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 7.4.2123<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No new style test for diff mode.<br>
Solution:&nbsp;&nbsp; Add a test.&nbsp;&nbsp;Check that folds are in sync.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/test_diffmode.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test47.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test47.ok<br>
<br>
Patch 7.4.2124<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;diffmode test leaves files behind, breaking another test.<br>
Solution:&nbsp;&nbsp; Delete the files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_diffmode.vim<br>
<br>
Patch 7.4.2125<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for loss of data.<br>
Solution:&nbsp;&nbsp; Add a type cast. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 7.4.2126<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for :diffget and :diffput<br>
Solution:&nbsp;&nbsp; Add tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_diffmode.vim<br>
<br>
Patch 7.4.2127<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The short form of &quot;:noswapfile&quot; is &quot;:noswap&quot; instead of &quot;:nos&quot;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Kent Sibilev)<br>
Solution:&nbsp;&nbsp; Only require three characters.&nbsp;&nbsp;Add a test for the short forms.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_usercommands.vim<br>
<br>
Patch 7.4.2128<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak when saving for undo fails.<br>
Solution:&nbsp;&nbsp; Free allocated memory. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.2129<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak when using timer_start(). (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Don't copy the callback when using a partial.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 7.4.2130<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Pending timers cause false memory leak reports.<br>
Solution:&nbsp;&nbsp; Free all timers on exit.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/proto/ex_cmds2.pro, src/misc2.c<br>
<br>
Patch 7.4.2131<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More memory leaks when using partial, e.g. for &quot;exit-cb&quot;.<br>
Solution:&nbsp;&nbsp; Don't copy the callback when using a partial.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.2132<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_partial has memory leaks reported.<br>
Solution:&nbsp;&nbsp; Add a&nbsp;<span class="Todo">note</span>&nbsp;about why this happens.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_partial.vim<br>
<br>
Patch 7.4.2133 (after 7.4.2128)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with tiny features.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.2134<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No error for using function() badly.<br>
Solution:&nbsp;&nbsp; Check for passing wrong function name. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalfunc.c, src/proto/userfunc.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expr.vim, src/userfunc.c, src/vim.h<br>
<br>
Patch 7.4.2135<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various tiny issues.<br>
Solution:&nbsp;&nbsp; Update comments, white space, etc.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/digraph.c, src/testdir/test80.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/menu.vim, src/INSTALLpc.txt, src/xpm/README.txt<br>
<br>
Patch 7.4.2136<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Closure function fails.<br>
Solution:&nbsp;&nbsp; Don't reset uf_scoped when it points to another funccal.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/testdir/test_lambda.vim<br>
<br>
Patch 7.4.2137<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using function() with a name will find another function when it is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;redefined.<br>
Solution:&nbsp;&nbsp; Add funcref().&nbsp;&nbsp;Refer to lambda using a partial.&nbsp;&nbsp;Fix several<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reference counting issues.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/structs.h, src/userfunc.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/channel.c, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/userfunc.pro, src/if_mzsch.c, src/regexp.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/testdir/test_expr.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.2138<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 86 and 87 fail.<br>
Solution:&nbsp;&nbsp; Call func_ref() also for regular functions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 7.4.2139<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:delfunction causes illegal memory access.<br>
Solution:&nbsp;&nbsp; Correct logic when deciding to free a function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/testdir/test_lambda.vim<br>
<br>
Patch 7.4.2140<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tiny build fails.<br>
Solution:&nbsp;&nbsp; Add dummy typedefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 7.4.2141<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity reports bogus NULL check.<br>
Solution:&nbsp;&nbsp; When checking for a variable in the funccal scope don't pass the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;varname.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/proto/userfunc.pro, src/eval.c<br>
<br>
Patch 7.4.2142<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory when redefining a function.<br>
Solution:&nbsp;&nbsp; Don't increment the function reference count when it's found by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name. Don't remove the wrong function from the hashtab.&nbsp;&nbsp;More<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reference counting fixes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/userfunc.c<br>
<br>
Patch 7.4.2143<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A funccal is garbage collected while it can still be used.<br>
Solution:&nbsp;&nbsp; Set copyID in all referenced functions.&nbsp;&nbsp;Do not list lambda<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions with &quot;:function&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/proto/userfunc.pro, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_lambda.vim<br>
<br>
Patch 7.4.2144<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows quickfix does not handle a line with 1023 bytes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ending in CR-LF properly.<br>
Solution:&nbsp;&nbsp; Don't consider CR a line break. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.2145<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: Using CreateThread/ExitThread is not safe.<br>
Solution:&nbsp;&nbsp; Use _beginthreadex and return from the thread. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.2146<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough testing for popup menu.&nbsp;&nbsp;<span class="Special">CTRL-E</span>&nbsp;does not always work<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properly.<br>
Solution:&nbsp;&nbsp; Add more tests.&nbsp;&nbsp;When using&nbsp;<span class="Special">CTRL-E</span>&nbsp;check if the popup menu is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visible. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_popup.vim<br>
<br>
Patch 7.4.2147 (after 7.4.2146)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_alot fails.<br>
Solution:&nbsp;&nbsp; Close window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 7.4.2148<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not much testing for cscope.<br>
Solution:&nbsp;&nbsp; Add a test that uses the cscope program. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cscope.vim<br>
<br>
Patch 7.4.2149<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If a test leaves a window open a following test may fail.<br>
Solution:&nbsp;&nbsp; Always close extra windows after running a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/testdir/test_popup.vim<br>
<br>
Patch 7.4.2150<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning with MinGW 64. (John Marriott)<br>
Solution:&nbsp;&nbsp; Change return type. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.2151<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Close the help window. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.2152<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No proper translation of messages with a count.<br>
Solution:&nbsp;&nbsp; Use ngettext(). (Sergey Alyoshin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/fold.c, src/os_win32.c, src/screen.c, src/vim.h<br>
<br>
Patch 7.4.2153<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI test isn't testing much.<br>
Solution:&nbsp;&nbsp; Turn into a new style test.&nbsp;&nbsp;Execute a shell command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim, src/testdir/test16.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test16.ok, src/testdir/Make_all.mak, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms<br>
<br>
Patch 7.4.2154<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_communicate() fails sometimes.<br>
Solution:&nbsp;&nbsp; Add it to the flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 7.4.2155<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quotes make GUI test fail on MS-Windows.<br>
Solution:&nbsp;&nbsp; Remove quotes, strip white space.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 7.4.2156<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning.<br>
Solution:&nbsp;&nbsp; Add type cast. (Ken Takata, Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 7.4.2157<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_job_start_fails() is expected to report memory leaks, making<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it hard to see other leaks in test_partial.<br>
Solution:&nbsp;&nbsp; Move Test_job_start_fails() to a separate test file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_partial.vim, src/testdir/test_job_fails.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak<br>
<br>
Patch 7.4.2158<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Result of getcompletion('',&nbsp;<span class="MissingTag">'cscope'</span>) depends on previous<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;completion. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Call set_context_in_cscope_cmd().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 7.4.2159<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insufficient testing for cscope.<br>
Solution:&nbsp;&nbsp; Add more tests. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cscope.vim<br>
<br>
Patch 7.4.2160<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;setmatches() mixes up values. (Nikolai Pavlov)<br>
Solution:&nbsp;&nbsp; Save the string instead of reusing a shared buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dict.c, src/evalfunc.c, src/testdir/test_expr.vim,<br>
<br>
Patch 7.4.2161 (after 7.4.2160)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Expression test fails without conceal feature.<br>
Solution:&nbsp;&nbsp; Only check &quot;conceal&quot; with the conceal feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expr.vim<br>
<br>
Patch 7.4.2162<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Result of getcompletion('',&nbsp;<span class="MissingTag">'sign'</span>) depends on previous<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;completion.<br>
Solution:&nbsp;&nbsp; Call set_context_in_sign_cmd(). (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 7.4.2163<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;match() and related functions tested with old style test.<br>
Solution:&nbsp;&nbsp; Convert to new style test. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/test63.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test63.ok, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_match.vim, src/testdir/test_matchstrpos.vim<br>
<br>
Patch 7.4.2164<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not possible to use plugins in an &quot;after&quot; directory to tune<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the behavior of a package.<br>
Solution:&nbsp;&nbsp; First load plugins from non-after directories, then packages and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;finally plugins in after directories.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reset&nbsp;<a class="Type" href="options.html#'loadplugins'">'loadplugins'</a>&nbsp;before executing --cmd arguments.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/vim.h, src/ex_cmds2.c, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_startup.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/setup.vim, runtime/doc/starting.txt<br>
<br>
Patch 7.4.2165 (after 7.4.2164)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Startup test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Don't check output if RunVim() returns zero.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim<br>
<br>
Patch 7.4.2166 (after 7.4.2164)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Small build can't run startup test.<br>
Solution:&nbsp;&nbsp; Skip the test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim<br>
<br>
Patch 7.4.2167 (after 7.4.2164)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Small build can't run tests.<br>
Solution:&nbsp;&nbsp; Don't try setting&nbsp;<a class="Type" href="options.html#'packpath'">'packpath'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/setup.vim<br>
<br>
Patch 7.4.2168<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not running the startup test on MS-Windows.<br>
Solution:&nbsp;&nbsp; Write vimcmd.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_dos.mak<br>
<br>
Patch 7.4.2169 (after 7.4.2168)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Startup test gets stuck on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use double quotes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_startup.vim<br>
<br>
Patch 7.4.2170<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get information about timers.<br>
Solution:&nbsp;&nbsp; Add timer_info().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_cmds2.c, src/proto/ex_cmds2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.2171 (after 7.4.2170)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows build fails.<br>
Solution:&nbsp;&nbsp; Add QueryPerformanceCounter().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.2172<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for &quot;vim --help&quot;.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim, src/testdir/shared.vim<br>
<br>
Patch 7.4.2173 (after 7.4.2172)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't test help on MS-Windows.<br>
Solution:&nbsp;&nbsp; Skip the test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim<br>
<br>
Patch 7.4.2174<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Adding duplicate flags to&nbsp;<a class="Type" href="options.html#'whichwrap'">'whichwrap'</a>&nbsp;leaves commas behind.<br>
Solution:&nbsp;&nbsp; Also remove the commas. (Naruhiko Nishino)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/option.c, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/test_options.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.ok, src/testdir/test_options.vim<br>
<br>
Patch 7.4.2175<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insufficient testing of cscope.<br>
Solution:&nbsp;&nbsp; Add more tests. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cscope.vim<br>
<br>
Patch 7.4.2176<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;#ifdefs in main() are complicated.<br>
Solution:&nbsp;&nbsp; Always define vim_main2().&nbsp;&nbsp;Move params to the file level.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(suggested by Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/structs.h, src/vim.h, src/if_mzsch.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/if_mzsch.pro<br>
<br>
Patch 7.4.2177<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No testing for -C and -<span class="Special">N</span>&nbsp;command line flags, file arguments,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;startuptime.<br>
Solution:&nbsp;&nbsp; Add tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim, src/testdir/shared.vim<br>
<br>
Patch 7.4.2178<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for reading from stdin.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim, src/testdir/shared.vim<br>
<br>
Patch 7.4.2179 (after 7.4.2178)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Reading from stdin test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Strip the extra space.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim<br>
<br>
Patch 7.4.2180<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no easy way to stop all timers.&nbsp;&nbsp;There is no way to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;temporary pause a timer.<br>
Solution:&nbsp;&nbsp; Add timer_stopall() and timer_pause().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_cmds2.c, src/proto/ex_cmds2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/testdir/test_timers.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, runtime/doc/eval.txt<br>
<br>
Patch 7.4.2181<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused variable.<br>
Solution:&nbsp;&nbsp; Remove it. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.2182<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Color Grey40 used in startup but not in the short list.<br>
Solution:&nbsp;&nbsp; Add Grey40 to the builtin colors.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.2183<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sign tests are old style.<br>
Solution:&nbsp;&nbsp; Turn them into new style tests. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/test_signs.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signs.ok, src/testdir/test_signs.vim,<br>
<br>
Patch 7.4.2184<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests that use RunVim() do not actually perform the test.<br>
Solution:&nbsp;&nbsp; Use &quot;return&quot; instead of &quot;call&quot;. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim<br>
<br>
Patch 7.4.2185<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test glob2regpat does not test much.<br>
Solution:&nbsp;&nbsp; Add a few more test cases. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_glob2regpat.vim<br>
<br>
Patch 7.4.2186<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Timers test is flaky.<br>
Solution:&nbsp;&nbsp; Relax the sleep time check.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 7.4.2187 (after 7.4.2185)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;glob2regpat test fails on Windows.<br>
Solution:&nbsp;&nbsp; Remove the checks that use backslashes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_glob2regpat.vim<br>
<br>
Patch 7.4.2188 (after 7.4.2146)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completion does not work properly with some plugins.<br>
Solution:&nbsp;&nbsp; Revert the part related to typing&nbsp;<span class="Special">CTRL-E</span>. (closes #972)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_popup.vim<br>
<br>
Patch 7.4.2189<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot detect encoding in a fifo.<br>
Solution:&nbsp;&nbsp; Extend the stdin way of detecting encoding to fifo.&nbsp;&nbsp;Add a test<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for detecting encoding on stdin and fifo. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/fileio.c, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_startup_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 7.4.2190<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When startup test fails it's not easy to find out why.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GUI test fails with Gnome.<br>
Solution:&nbsp;&nbsp; Add the help entry matches to a list an assert that.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set $HOME for Gnome to create .gnome2 directory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim, src/testdir/test_gui.vim<br>
<br>
Patch 7.4.2191<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No automatic prototype for vim_main2().<br>
Solution:&nbsp;&nbsp; Move the #endif. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/vim.h, src/proto/main.pro<br>
<br>
Patch 7.4.2192<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Generating prototypes with Cygwin doesn't work well.<br>
Solution:&nbsp;&nbsp; Change #ifdefs. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.h, src/gui_w32.c, src/ops.c, src/proto/fileio.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/message.pro, src/proto/normal.pro, src/proto/ops.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 7.4.2193<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With Gnome when the GUI can't start test_startup hangs.<br>
Solution:&nbsp;&nbsp; Call gui_mch_early_init_check(). (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/gui_gtk_x11.c, src/proto/gui_gtk_x11.pro<br>
<br>
Patch 7.4.2194<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sign tests don't cover enough.<br>
Solution:&nbsp;&nbsp; Add more test cases. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signs.vim<br>
<br>
Patch 7.4.2195<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: The vimrun program does not support Unicode.<br>
Solution:&nbsp;&nbsp; Use GetCommandLineW().&nbsp;&nbsp;Cleanup old #ifdefs. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vimrun.c<br>
<br>
Patch 7.4.2196<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;glob2regpat test doesn't test everything on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add patterns with backslash handling.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_glob2regpat.vim<br>
<br>
Patch 7.4.2197<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;All functions are freed on exit, which may hide leaks.<br>
Solution:&nbsp;&nbsp; Only free named functions, not reference counted ones.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 7.4.2198<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test alot sometimes fails under valgrind. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Avoid passing a callback with the wrong number of arguments.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_partial.vim<br>
<br>
Patch 7.4.2199<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In the GUI the cursor is hidden when redrawing any window,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;causing flicker.<br>
Solution:&nbsp;&nbsp; Only undraw the cursor when updating the window it's in.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/gui.c, src/proto/gui.pro, src/gui_gtk_x11.c<br>
<br>
Patch 7.4.2200<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get all information about a quickfix list.<br>
Solution:&nbsp;&nbsp; Add an optional argument to get/set loc/qf list(). (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/proto/quickfix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/tag.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.2201<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The sign column disappears when the last sign is deleted.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<a class="Type" href="options.html#'signcolumn'">'signcolumn'</a>&nbsp;option. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/optwin.vim, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c, src/option.c, src/option.h, src/proto/option.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/structs.h, src/testdir/test_options.vim<br>
<br>
Patch 7.4.2202<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails with small features.<br>
Solution:&nbsp;&nbsp; Correct option initialization.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 7.4.2203<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test fails with normal features.<br>
Solution:&nbsp;&nbsp; Check is signs are supported.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim<br>
<br>
Patch 7.4.2204<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not easy to get information about buffers, windows and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabpages.<br>
Solution:&nbsp;&nbsp; Add getbufinfo(), getwininfo() and gettabinfo(). (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/dict.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/option.c, src/proto/dict.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/option.pro, src/proto/window.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_bufwintabinfo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/Makefile<br>
<br>
Patch 7.4.2205<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'wildignore'">'wildignore'</a>&nbsp;always applies to getcompletion().<br>
Solution:&nbsp;&nbsp; Add an option to use&nbsp;<a class="Type" href="options.html#'wildignore'">'wildignore'</a>&nbsp;or not. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 7.4.2206<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for unused function.<br>
Solution:&nbsp;&nbsp; Put the function inside #ifdef. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 7.4.2207<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The +xpm feature is not sorted properly in :version output.<br>
Solution:&nbsp;&nbsp; Move it up. (Tony Mechelynck)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c<br>
<br>
Patch 7.4.2208<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for mappings is old style.<br>
Solution:&nbsp;&nbsp; Convert the test to new style.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.vim, src/testdir/test_mapping.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.ok, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/Make_all.mak<br>
<br>
Patch 7.4.2209<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot map&nbsp;<span class="Special">&lt;M-&quot;&gt;</span>. (Stephen Riehm)<br>
Solution:&nbsp;&nbsp; Solve the memory access problem in another way. (Dominique Pelle)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allow for using &lt;M-\&quot;&gt; in a string.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/gui_mac.c, src/misc2.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc2.pro, src/syntax.c, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.vim<br>
<br>
Patch 7.4.2210<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On OSX configure mixes up a Python framework and the Unix layout.<br>
Solution:&nbsp;&nbsp; Make configure check properly. (Tim D. Smith, closes #980)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/auto/configure<br>
<br>
Patch 7.4.2211<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mouse support is not automatically enabled with simple term.<br>
Solution:&nbsp;&nbsp; Recognize &quot;st&quot; and other names. (Manuel Schiller, closes #963)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.2212<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mark &quot; is not set when closing a window in another tab. (Guraga)<br>
Solution:&nbsp;&nbsp; Check all tabs for the window to be valid. (based on patch by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hirohito Higashi, closes #974)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/proto/window.pro, src/buffer.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viminfo.vim<br>
<br>
Patch 7.4.2213<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot highlight the &quot;~&quot; lines at the end of a window differently.<br>
Solution:&nbsp;&nbsp; Add the EndOfBuffer highlighting. (Marco Hinz, James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/syntax.txt, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/syntax.c, src/vim.h<br>
<br>
Patch 7.4.2214<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A font that uses ligatures messes up the screen display.<br>
Solution:&nbsp;&nbsp; Put spaces between characters when building the glyph table.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(based on a patch from Manuel Schiller)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 7.4.2215<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It's not easy to find out if a window is a quickfix or location<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list window.<br>
Solution:&nbsp;&nbsp; Add &quot;loclist&quot; and &quot;quickfix&quot; entries to the dict returned by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getwininfo(). (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufwintabinfo.vim<br>
<br>
Patch 7.4.2216 (after 7.4.2215)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test fails without the +sign feature.<br>
Solution:&nbsp;&nbsp; Only check for signcolumn with the +sign feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufwintabinfo.vim<br>
<br>
Patch 7.4.2217<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using matchaddpos() a character after the end of the line can<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be highlighted.<br>
Solution:&nbsp;&nbsp; Only highlight existing characters. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/structs.h, src/testdir/test_match.vim<br>
<br>
Patch 7.4.2218<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with +timers when +digraph is not included.<br>
Solution:&nbsp;&nbsp; Change #ifdef for e_number_exp. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h<br>
<br>
Patch 7.4.2219<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Recursive call to substitute gets stuck in sandbox. (Nikolai<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pavlov)<br>
Solution:&nbsp;&nbsp; Handle the recursive call. (Christian Brabandt, closes #950)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_regexp_latin.vim<br>
<br>
Patch 7.4.2220<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;printf() gives an error when the argument for %s is not a string.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ozaki Kiichi)<br>
Solution:&nbsp;&nbsp; Behave like invoking string() on the argument. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/message.c, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.2221<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;printf() does not support binary format.<br>
Solution:&nbsp;&nbsp; Add %b and %B. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/message.c, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.2222<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sourcing a script where a character has 0x80 as a second byte does<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not work. (Filipe L B Correia)<br>
Solution:&nbsp;&nbsp; Turn 0x80 into K_SPECIAL KS_SPECIAL KE_FILLER. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #728)&nbsp;&nbsp;Add a test case.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/proto/getchar.pro, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_regexp_utf8.vim<br>
<br>
Patch 7.4.2223<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Buffer overflow when using latin1 character with feedkeys().<br>
Solution:&nbsp;&nbsp; Check for an illegal character.&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_regexp_utf8.vim, src/testdir/test_source_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot_utf8.vim, src/Makefile, src/getchar.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h, src/evalfunc.c, src/os_unix.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c,<br>
<br>
Patch 7.4.2224<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings with older compiler and 64 bit numbers.<br>
Solution:&nbsp;&nbsp; Add &quot;LL&quot; to large values. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalfunc.c<br>
<br>
Patch 7.4.2225<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when placing a sign in a deleted buffer.<br>
Solution:&nbsp;&nbsp; Check for missing buffer name. (Dominique Pelle). Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_signs.vim<br>
<br>
Patch 7.4.2226<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The field names used by getbufinfo(), gettabinfo() and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getwininfo() are not consistent.<br>
Solution:&nbsp;&nbsp; Use bufnr, winnr and tabnr. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufwintabinfo.vim<br>
<br>
Patch 7.4.2227<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tab page tests are old style.<br>
Solution:&nbsp;&nbsp; Change into new style tests. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/test62.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test62.ok, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabpage.vim<br>
<br>
Patch 7.4.2228<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test files have inconsistent modelines.<br>
Solution:&nbsp;&nbsp; Don't set&nbsp;<a class="Type" href="options.html#'tabstop'">'tabstop'</a>&nbsp;to 2, use&nbsp;<a class="Type" href="options.html#'sts'">'sts'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'sw'">'sw'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/README.txt, src/testdir/test_backspace_opt.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_digraph.vim, src/testdir/test_gn.vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_help_tagjump.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment_dbcs.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment.vim, src/testdir/test_match.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tagjump.vim, src/testdir/test_window_cmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_regexp_latin.vim, src/testdir/test_timers.vim<br>
<br>
Patch 7.4.2229<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Startup test fails on Solaris.<br>
Solution:&nbsp;&nbsp; Recognize a character device. (Danek Duvall)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/fileio.c, src/proto/fileio.pro, src/vim.h<br>
<br>
Patch 7.4.2230<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no equivalent of&nbsp;<a class="Type" href="options.html#'smartcase'">'smartcase'</a>&nbsp;for a tag search.<br>
Solution:&nbsp;&nbsp; Add value &quot;followscs&quot; and &quot;smart&quot; to&nbsp;<a class="Type" href="options.html#'tagcase'">'tagcase'</a>. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #712) Turn tagcase test into new style.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/tagsrch.txt, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/search.c, src/proto/search.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tagcase.in, src/testdir/test_tagcase.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tagcase.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_alot.vim<br>
<br>
Patch 7.4.2231<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:oldfiles&quot; output is a very long list.<br>
Solution:&nbsp;&nbsp; Add a pattern argument. (Coot, closes #575)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/starting.txt, src/ex_cmds.h, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/proto/eval.pro, src/proto/ex_cmds.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viminfo.vim<br>
<br>
Patch 7.4.2232<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The default ttimeoutlen is very long.<br>
Solution:&nbsp;&nbsp; Use &quot;100&quot;. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/defaults.vim<br>
<br>
Patch 7.4.2233<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using funcref() with invalid name. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Check for NULL translated name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.2234<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with +eval but without +quickfix. (John Marriott)<br>
Solution:&nbsp;&nbsp; Move skip_vimgrep_pat() to separate #ifdef block.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 7.4.2235<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;submatch() does not check for a valid argument.<br>
Solution:&nbsp;&nbsp; Give an error if the argument is out of range. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.2236<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;<a class="Type" href="options.html#'langnoremap'">'langnoremap'</a>&nbsp;option leads to double negatives.&nbsp;&nbsp;And it does<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not work for the last character of a mapping.<br>
Solution:&nbsp;&nbsp; Add&nbsp;<a class="Type" href="options.html#'langremap'">'langremap'</a>&nbsp;with the opposite value.&nbsp;&nbsp;Keep&nbsp;<a class="Type" href="options.html#'langnoremap'">'langnoremap'</a>&nbsp;for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backwards compatibility.&nbsp;&nbsp;Make it work for the last character of a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping.&nbsp;&nbsp;Make the test work.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/defaults.vim, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/macros.h, src/testdir/test_mapping.vim<br>
<br>
Patch 7.4.2237<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't use &quot;.&quot; and &quot;$&quot; with &quot;:tab&quot;.<br>
Solution:&nbsp;&nbsp; Support a range for &quot;:tab&quot;. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/tabpage.txt, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabpage.vim<br>
<br>
Patch 7.4.2238<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With SGR mouse reporting (suckless terminal) the mouse release and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scroll up/down is confused.<br>
Solution:&nbsp;&nbsp; Don't see a release as a scroll up/down. (Ralph Eastwood)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 7.4.2239<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for missing declaration of skip_vimgrep_pat(). (John<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Marriott)<br>
Solution:&nbsp;&nbsp; Move it to another file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/proto/quickfix.pro, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds.pro<br>
<br>
Patch 7.4.2240<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests using the sleep time can be flaky.<br>
Solution:&nbsp;&nbsp; Use reltime() if available. (Partly by Shane Harper)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_timers.vim<br>
<br>
Patch 7.4.2241 (after 7.4.2240)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Timer test sometimes fails.<br>
Solution:&nbsp;&nbsp; Increase the maximum time for repeating timer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 7.4.2242 (after 7.4.2240)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Timer test sometimes fails.<br>
Solution:&nbsp;&nbsp; Increase the maximum time for callback timer test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 7.4.2243<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for assigning negative value to unsigned. (Danek Duvall)<br>
Solution:&nbsp;&nbsp; Make cterm_normal_fg_gui_color and _bg_ guicolor_T, cast to long_u<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;only when an unsigned is needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/globals.h, src/screen.c, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/gui_gtk_x11.c, src/gui.c, src/gui_mac.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_photon.c, src/gui_w32.c, src/gui_x11.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/term.pro, src/proto/gui_gtk_x11.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_mac.pro, src/proto/gui_photon.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_w32.pro, src/proto/gui_x11.pro<br>
<br>
Patch 7.4.2244<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Adding pattern to &quot;:oldfiles&quot; is not a generic solution.<br>
Solution:&nbsp;&nbsp; Add the &quot;:filter /pat/ cmd&quot; command modifier.&nbsp;&nbsp;Only works for some<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;commands right now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/ex_docmd.c, src/ex_cmds.h, src/message.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/message.pro, runtime/doc/starting.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/various.txt, src/testdir/test_viminfo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/test_filter_cmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.2245 (after 7.4.2244)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Filter test fails.<br>
Solution:&nbsp;&nbsp; Include missing changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 7.4.2246 (after 7.4.2244)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Oldfiles test fails.<br>
Solution:&nbsp;&nbsp; Include missing changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.2247 (after 7.4.2244)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tiny build fails. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Remove #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.2248<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When cancelling the :ptjump prompt a preview window is opened for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a following command.<br>
Solution:&nbsp;&nbsp; Reset g_do_tagpreview. (Hirohito Higashi)&nbsp;&nbsp;Add a test.&nbsp;&nbsp;Avoid that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the test runner gets stuck in trying to close a window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/testdir/test_tagjump.vim, src/testdir/runtest.vim<br>
<br>
Patch 7.4.2249<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing colon in error message.<br>
Solution:&nbsp;&nbsp; Add the colon. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 7.4.2250<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some error messages cannot be translated.<br>
Solution:&nbsp;&nbsp; Enclose them in _() and N_(). (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/evalfunc.c, src/ex_cmds.c, src/spell.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 7.4.2251<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In rare cases diffing 4 buffers is not enough.<br>
Solution:&nbsp;&nbsp; Raise the limit to 8. (closes #1000)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, runtime/doc/diff.txt<br>
<br>
Patch 7.4.2252<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for signed/unsigned in expression.<br>
Solution:&nbsp;&nbsp; Remove type cast. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 7.4.2253<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Check for Windows 3.1 will always return false.&nbsp;&nbsp;(Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Solution:&nbsp;&nbsp; Remove the dead code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/evalfunc.c, src/ex_cmds.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/version.c, src/proto/gui_w32.pro<br>
<br>
Patch 7.4.2254<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings in MzScheme code.<br>
Solution:&nbsp;&nbsp; Add UNUSED.&nbsp;&nbsp;Remove unreachable code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.c<br>
<br>
Patch 7.4.2255<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The script that checks translations can't handle plurals.<br>
Solution:&nbsp;&nbsp; Check for plural msgid and msgstr entries.&nbsp;&nbsp;Leave the cursor on<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the first error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/check.vim<br>
<br>
Patch 7.4.2256<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity complains about null pointer check.<br>
Solution:&nbsp;&nbsp; Remove wrong and superfluous error check.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 7.4.2257<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity complains about not checking for NULL.<br>
Solution:&nbsp;&nbsp; Check for out of memory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 7.4.2258<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Two JSON messages are sent without a separator.<br>
Solution:&nbsp;&nbsp; Separate messages with a NL. (closes #1001)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/channel.c, src/vim.h, src/testdir/test_channel.py,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, runtime/doc/channel.txt<br>
<br>
Patch 7.4.2259<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;can only see the next match.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<span class="Special">CTRL-N</span>/<span class="Special">CTRL-P</span>&nbsp;move to the previous/next match. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/cmdline.txt, src/ex_getln.c, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim, src/Makefile<br>
<br>
Patch 7.4.2260 (after 7.4.2258)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test is flaky.<br>
Solution:&nbsp;&nbsp; Add a newline to separate JSON messages.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.2261 (after 7.4.2259)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails with small features.<br>
Solution:&nbsp;&nbsp; Move &quot;else&quot; inside the #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.2262<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Fail to read register content from viminfo if it is 438 characters<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;long. (John Chen)<br>
Solution:&nbsp;&nbsp; Adjust the check for line wrapping. (closes #1010)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viminfo.vim, src/ex_cmds.c<br>
<br>
Patch 7.4.2263<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:filter does not work for many commands.&nbsp;&nbsp;Can only get matching<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;messages.<br>
Solution:&nbsp;&nbsp; Make :filter work for :command, :map, :list, :number and :print.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make &quot;:filter!&quot; show non-matching lines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/ex_cmds.c, src/ex_cmds.h, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/structs.h, src/testdir/test_filter_cmd.vim<br>
<br>
Patch 7.4.2264<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When adding entries to an empty quickfix list the title is reset.<br>
Solution:&nbsp;&nbsp; Improve handling of the title. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim, src/quickfix.c<br>
<br>
Patch 7.4.2265<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;printf() isn't tested much.<br>
Solution:&nbsp;&nbsp; Add more tests for printf(). (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expr.vim<br>
<br>
Patch 7.4.2266 (after 7.4.2265)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;printf() test fails on Windows. &quot;-inf&quot; is not used.<br>
Solution:&nbsp;&nbsp; Check for Windows-specific values for &quot;nan&quot;.&nbsp;&nbsp;Add sign to &quot;inf&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.2267 (after 7.4.2266)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add define to get isinf().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 7.4.2268 (after 7.4.2259)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;<span class="Special">CTRL-N</span>&nbsp;and&nbsp;<span class="Special">CTRL-P</span>&nbsp;for incsearch shadows completion keys.<br>
Solution:&nbsp;&nbsp; Use&nbsp;<span class="Special">CTRL-T</span>&nbsp;and&nbsp;<span class="Special">CTRL-G</span>&nbsp;instead.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/cmdline.txt, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim<br>
<br>
Patch 7.4.2269<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;<a class="Type" href="options.html#'hlsearch'">'hlsearch'</a>&nbsp;highlighting instead of matchpos if there is no<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;search match.<br>
Solution:&nbsp;&nbsp; Pass NULL as last item to next_search_hl() when searching for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'hlsearch'">'hlsearch'</a>&nbsp;match. (Shane Harper, closes #1013)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_match.vim<br>
<br>
Patch 7.4.2270<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insufficient testing for NUL bytes on a raw channel.<br>
Solution:&nbsp;&nbsp; Add a test for writing and reading.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.2271<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Netbeans test doesn't read settings from file.<br>
Solution:&nbsp;&nbsp; Use &quot;-Xnbauth&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_netbeans.vim<br>
<br>
Patch 7.4.2272<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getbufinfo(), getwininfo() and gettabinfo() are inefficient.<br>
Solution:&nbsp;&nbsp; Instead of making a copy of the variables dictionary, use a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reference.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 7.4.2273<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getwininfo() and getbufinfo() are inefficient.<br>
Solution:&nbsp;&nbsp; Do not make a copy of all window/buffer-local options.&nbsp;&nbsp;Make it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;possible to get them with gettabwinvar() or getbufvar().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/eval.c, src/testdir/test_bufwintabinfo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 7.4.2274<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Command line completion on &quot;find **/filename&quot; drops sub-directory.<br>
Solution:&nbsp;&nbsp; Handle this case separately. (Harm te Hennepe, closes #932, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#939)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 7.4.2275<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:diffoff!&quot; does not remove filler lines.<br>
Solution:&nbsp;&nbsp; Force a redraw and invalidate the cursor. (closes #1014)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/testdir/test_diffmode.vim<br>
<br>
Patch 7.4.2276<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Command line test fails on Windows when run twice.<br>
Solution:&nbsp;&nbsp; Wipe the buffer so that the directory can be deleted.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 7.4.2277<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak in getbufinfo() when there is a sign. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Solution:&nbsp;&nbsp; Remove extra vim_strsave().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 7.4.2278<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New users have no idea of the&nbsp;<a class="Type" href="options.html#'scrolloff'">'scrolloff'</a>&nbsp;option.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'scrolloff'">'scrolloff'</a>&nbsp;in defaults.vim.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/defaults.vim<br>
<br>
Patch 7.4.2279<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Starting diff mode with the cursor in the last line might end up<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;only showing one closed fold. (John Beckett)<br>
Solution:&nbsp;&nbsp; Scroll the window to show the same relative cursor position.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/window.c, src/proto/window.pro<br>
<br>
Patch 7.4.2280<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;printf() doesn't handle infinity float values correctly.<br>
Solution:&nbsp;&nbsp; Add a table with possible infinity values. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.2281<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Timer test fails sometimes.<br>
Solution:&nbsp;&nbsp; Reduce minimum time by 1 msec.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 7.4.2282<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a child process is very fast waiting 10 msec for it is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;noticeable. (Ramel Eshed)<br>
Solution:&nbsp;&nbsp; Start waiting for 1 msec and gradually increase.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 7.4.2283<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Part of &quot;:oldfiles&quot; command isn't cleared. (Lifepillar)<br>
Solution:&nbsp;&nbsp; Clear the rest of the line. (closes 1018)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 7.4.2284<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Comment in scope header file is outdated. (KillTheMule)<br>
Solution:&nbsp;&nbsp; Point to the help instead. (closes #1017)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.h<br>
<br>
Patch 7.4.2285<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Generated files are outdated.<br>
Solution:&nbsp;&nbsp; Generate the files.&nbsp;&nbsp;Avoid errors when generating prototypes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.h, src/Makefile, src/option.h, src/os_mac_conv.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_amiga.c, src/vim.h, src/structs.h, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c, src/proto/mbyte.pro<br>
<br>
Patch 7.4.2286<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The tee program isn't included.&nbsp;&nbsp;Makefile contains build<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instructions that don't work.<br>
Solution:&nbsp;&nbsp; Update the Filelist and build instructions. Remove build<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instructions for DOS and old Windows.&nbsp;&nbsp;Add the tee program.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, Makefile, nsis/gvim.nsi<br>
<br>
Patch 7.4.2287<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The callback passed to ch_sendraw() is not used.<br>
Solution:&nbsp;&nbsp; Pass the read part, not the send part. (haya14busa, closes #1019)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.2288<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows build instructions are clumsy. &quot;dosbin&quot; doesn't build.<br>
Solution:&nbsp;&nbsp; Add rename.bat. Fix building &quot;dosbin&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makefile, Filelist, rename.bat<br>
<br>
Patch 7.4.2289<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When installing and $DESTDIR is set the icons probably won't be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;installed.<br>
Solution:&nbsp;&nbsp; Create the icon directories if $DESTDIR is not empty. (Danek<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Duvall)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.2290<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning in tiny build. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add #ifdef around infinity_str().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 7.4.2291<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;printf() handles floats wrong when there is a sign.<br>
Solution:&nbsp;&nbsp; Fix placing the sign.&nbsp;&nbsp;Add tests. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expr.vim, runtime/doc/eval.txt, src/message.c<br>
<br>
Patch 7.4.2292 (after 7.4.2291)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all systems understand %F in printf().<br>
Solution:&nbsp;&nbsp; Use %f.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 7.4.2293<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Modelines in source code are inconsistent.<br>
Solution:&nbsp;&nbsp; Use the same line in most files.&nbsp;&nbsp;Add&nbsp;<a class="Type" href="options.html#'noet'">'noet'</a>.&nbsp;&nbsp;(Naruhiko Nishino)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/alloc.h, src/arabic.c, src/arabic.h, src/ascii.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/blowfish.c, src/buffer.c, src/channel.c, src/charset.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/crypt.c, src/crypt_zip.c, src/dict.c, src/diff.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/digraph.c, src/dosinst.c, src/dosinst.h, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalfunc.c, src/ex_cmds.c, src/ex_cmds.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/ex_docmd.c, src/ex_eval.c, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/farsi.c, src/farsi.h, src/feature.h, src/fileio.c, src/fold.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/glbl_ime.cpp, src/glbl_ime.h, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/gui.h, src/gui_at_fs.c, src/gui_at_sb.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_at_sb.h, src/gui_athena.c, src/gui_beval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.h, src/gui_gtk.c, src/gui_gtk_f.c, src/gui_gtk_f.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_vms.h, src/gui_gtk_x11.c, src/gui_mac.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_motif.c, src/gui_photon.c, src/gui_w32.c, src/gui_x11.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11_pm.h, src/gui_xmdlg.c, src/gui_xmebw.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_xmebw.h, src/gui_xmebwp.h, src/hangulin.c, src/hardcopy.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hashtab.c, src/if_cscope.c, src/if_cscope.h, src/if_mzsch.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.h, src/if_ole.cpp, src/if_perl.xs, src/if_perlsfio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python3.c, src/if_ruby.c, src/if_tcl.c, src/if_xcmdsrv.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/integration.c, src/integration.h, src/iscygpty.c, src/json.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json_test.c, src/keymap.h, src/list.c, src/macros.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/mark.c, src/mbyte.c, src/memfile.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memfile_test.c, src/memline.c, src/menu.c, src/message.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message_test.c, src/misc1.c, src/misc2.c, src/move.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/nbdebug.c, src/nbdebug.h, src/netbeans.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/option.c, src/option.h, src/os_amiga.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_amiga.h, src/os_beos.c, src/os_beos.h, src/os_dos.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mac.h, src/os_mac_conv.c, src/os_macosx.m, src/os_mint.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/os_qnx.c, src/os_qnx.h, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.h, src/os_unixx.h, src/os_vms.c, src/os_w32dll.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_w32exe.c, src/os_win32.c, src/os_win32.h, src/popupmnu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto.h, src/pty.c, src/quickfix.c, src/regexp.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.h, src/regexp_nfa.c, src/screen.c, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sha256.c, src/spell.c, src/spell.h, src/spellfile.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/syntax.c, src/tag.c, src/term.c, src/term.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/termlib.c, src/ui.c, src/undo.c, src/uninstal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/version.c, src/version.h, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.rc, src/vimio.h, src/vimrun.c, src/winclip.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/workshop.c, src/workshop.h, src/wsdebug.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/wsdebug.h, src/xpm_w32.c<br>
<br>
Patch 7.4.2294<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sign test fails on MS-Windows when using the distributed zip<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;archives.<br>
Solution:&nbsp;&nbsp; Create dummy files instead of relying on files in the pixmaps<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signs.vim<br>
<br>
Patch 7.4.2295 (after 7.4.2293)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cscope test fails.<br>
Solution:&nbsp;&nbsp; Avoid checking for specific line and column numbers.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cscope.vim<br>
<br>
Patch 7.4.2296<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for :undolist and &quot;U&quot; command.<br>
Solution:&nbsp;&nbsp; Add tests. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_undo.vim<br>
<br>
Patch 7.4.2297<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When starting a job that reads from a buffer and reaching the end,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the job hangs.<br>
Solution:&nbsp;&nbsp; Close the pipe or socket when all lines were read.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.2298<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not possible to close the &quot;in&quot; part of a channel.<br>
Solution:&nbsp;&nbsp; Add ch_close_in().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/channel.txt<br>
<br>
Patch 7.4.2299<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;QuickFixCmdPre and QuickFixCmdPost autocommands are not always<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;triggered.<br>
Solution:&nbsp;&nbsp; Also trigger on &quot;:cexpr&quot;, &quot;:cbuffer&quot;, etc. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 7.4.2300<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get warning for deleting autocommand group when the autocommand<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using the group is scheduled for deletion. (Pavol Juhas)<br>
Solution:&nbsp;&nbsp; Check for deleted autocommand.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 7.4.2301<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: some files remain after testing.<br>
Solution:&nbsp;&nbsp; Close the channel output file.&nbsp;&nbsp;Wait for the file handle to be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closed before deleting the file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/testdir/test_channel.vim<br>
<br>
Patch 7.4.2302<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Default interface versions for MS-Windows are outdated.<br>
Solution:&nbsp;&nbsp; Use Active Perl 5.24, Python 3.5.2.&nbsp;&nbsp;Could only make it work with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ruby 1.9.2.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/bigvim.bat, src/bigvim64.bat, src/Make_mvc.mak<br>
<br>
Patch 7.4.2303<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using &quot;is&quot; the mode isn't always updated.<br>
Solution:&nbsp;&nbsp; Redraw the command line. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 7.4.2304<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In a timer callback the timer itself can't be found or stopped.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Thinca)<br>
Solution:&nbsp;&nbsp; Do not remove the timer from the list, remember whether it was<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;freed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_timers.vim<br>
<br>
Patch 7.4.2305<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Marks, writefile and nested function tests are old style.<br>
Solution:&nbsp;&nbsp; Turn them into new style tests. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_marks.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_marks.ok, src/testdir/test_marks.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_nested_function.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_nested_function.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_nested_function.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_writefile.in, src/testdir/test_writefile.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_writefile.vim, src/Makefile<br>
<br>
Patch 7.4.2306<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Default value for&nbsp;<a class="Type" href="options.html#'langremap'">'langremap'</a>&nbsp;is wrong.<br>
Solution:&nbsp;&nbsp; Set the right value. (Jürgen Krämer)&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_mapping.vim<br>
<br>
Patch 7.4.2307<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Several tests are old style.<br>
Solution:&nbsp;&nbsp; Turn them into new style tests. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test102.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test102.ok, src/testdir/test46.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test46.ok, src/testdir/test81.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test81.ok, src/testdir/test_charsearch.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_charsearch.ok, src/testdir/test_charsearch.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fnameescape.vim, src/testdir/test_substitute.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.2308 (after 7.4.2307)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old charsearch test still listed in Makefile.<br>
Solution:&nbsp;&nbsp; Remove the line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 7.4.2309<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when doing tabnext in a BufUnload autocmd. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; When detecting that the tab page changed, don't just abort but<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delete the window where w_buffer is NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_tabpage.vim<br>
<br>
Patch 7.4.2310 (after 7.4.2304)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing freed memory when a timer does not repeat.<br>
Solution:&nbsp;&nbsp; Free after removing it. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.2311<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Appveyor 64 bit build still using Python 3.4<br>
Solution:&nbsp;&nbsp; Switch to Python 3.5. (Ken Takata, closes #1032)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;appveyor.yml, src/appveyor.bat<br>
<br>
Patch 7.4.2312<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when autocommand moves to another tab. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; When navigating to another window halfway the :edit command go<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;back to the right window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/ex_cmds.c, src/ex_getln.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/proto/ex_getln.pro, src/testdir/test_tabpage.vim<br>
<br>
Patch 7.4.2313<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when deleting an augroup and listing an autocommand.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Make sure deleted_augroup is valid.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 7.4.2314<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No error when deleting an augroup while it's the current one.<br>
Solution:&nbsp;&nbsp; Disallow deleting an augroup when it's the current one.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 7.4.2315<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insufficient testing for Normal mode commands.<br>
Solution:&nbsp;&nbsp; Add a big test. (Christian Brabandt, closes #1029)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim<br>
<br>
Patch 7.4.2316<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel sort test is flaky.<br>
Solution:&nbsp;&nbsp; Add a check the output has been read.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 7.4.2317 (after 7.4.2315)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Normal mode tests fail on MS-Windows.<br>
Solution:&nbsp;&nbsp; Do some tests only on Unix.&nbsp;&nbsp;Set&nbsp;<a class="Type" href="options.html#'fileformat'">'fileformat'</a>&nbsp;to &quot;unix&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim<br>
<br>
Patch 7.4.2318<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;is not set&nbsp;<span class="Special">CTRL-T</span>&nbsp;and&nbsp;<span class="Special">CTRL-G</span>&nbsp;are not inserted as<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;before.<br>
Solution:&nbsp;&nbsp; Move #ifdef and don't use goto.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.2319<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No way for a system wide vimrc to stop loading defaults.vim.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Hesse)<br>
Solution:&nbsp;&nbsp; Bail out of defaults.vim if skip_defaults_vim was set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/defaults.vim<br>
<br>
Patch 7.4.2320<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Redraw problem when using&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>.<br>
Solution:&nbsp;&nbsp; Save the current view when deleting characters. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt) Fix that the '&quot; mark is set in the wrong position. Don't<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the search start when using BS.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/normal.c, src/testdir/test_search.vim<br>
<br>
Patch 7.4.2321<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a test is commented out we forget about it.<br>
Solution:&nbsp;&nbsp; Let a test throw an exception with &quot;Skipped&quot; and list skipped test<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/runtest.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim, src/testdir/README.txt<br>
<br>
Patch 7.4.2322<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Access memory beyond the end of the line. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Adjust the cursor column.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c, src/testdir/test_normal.vim<br>
<br>
Patch 7.4.2323<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory when using&nbsp;<a class="Type" href="options.html#'formatexpr'">'formatexpr'</a>. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Make a copy of&nbsp;<a class="Type" href="options.html#'formatexpr'">'formatexpr'</a>&nbsp;before evaluating it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_normal.vim<br>
<br>
Patch 7.4.2324<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when editing a new buffer and BufUnload autocommand wipes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;out the new buffer. (Norio Takagi)<br>
Solution:&nbsp;&nbsp; Don't allow wiping out this buffer. (partly by Hirohito Higashi)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Move old style test13 into test_autocmd. Avoid ml_get error when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;editing a file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/buffer.c, src/ex_cmds.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test13.in, src/testdir/test13.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.2325 (after 7.4.2324)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tiny build fails.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 7.4.2326<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access when Visual selection starts in invalid<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Correct position when needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/misc2.c, src/proto/misc2.pro<br>
<br>
Patch 7.4.2327<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Freeing a variable that is on the stack.<br>
Solution:&nbsp;&nbsp; Don't free res_tv or err_tv. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 7.4.2328<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when BufWinLeave autocmd goes to another tab page. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Solution:&nbsp;&nbsp; Make close_buffer() go back to the right window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 7.4.2329<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error for min() and max() contains %s. (Nikolai Pavlov)<br>
Solution:&nbsp;&nbsp; Pass the function name. (closes #1040)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_expr.vim<br>
<br>
Patch 7.4.2330<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity complains about not checking curwin to be NULL.<br>
Solution:&nbsp;&nbsp; Use firstwin to avoid the warning.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 7.4.2331<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;<span class="Special">CTRL-X</span>&nbsp;<span class="Special">CTRL-V</span>&nbsp;to complete a command line from Insert mode<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;does not work after entering an expression on the command line.<br>
Solution:&nbsp;&nbsp; Don't use &quot;ccline&quot; when not actually using a command line. (test<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/ex_getln.c, src/proto/ex_getln.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 7.4.2332<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when stop_timer() is called in a callback of a callback.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vim hangs when the timer callback uses too much time.<br>
Solution:&nbsp;&nbsp; Set tr_id to -1 when a timer is to be deleted. Don't keep calling<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callbacks forever. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_cmds2.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds2.pro, src/testdir/test_timers.vim<br>
<br>
Patch 7.4.2333<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Outdated comments in test.<br>
Solution:&nbsp;&nbsp; Cleanup normal mode test. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim<br>
<br>
Patch 7.4.2334<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows test_getcwd leaves Xtopdir behind.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'noswapfile'">'noswapfile'</a>. (Michael Soyka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_getcwd.in<br>
<br>
Patch 7.4.2335<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;taglist() is slow. (Luc Hermitte)<br>
Solution:&nbsp;&nbsp; Check for&nbsp;<span class="Special">CTRL-C</span>&nbsp;less often when doing a linear search. (closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1044)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c<br>
<br>
Patch 7.4.2336<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running normal mode tests leave a couple of files behind.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yegappan Lakshmanan)<br>
Solution:&nbsp;&nbsp; Delete the files. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim<br>
<br>
Patch 7.4.2337<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;taglist() is still slow. (Luc Hermitte)<br>
Solution:&nbsp;&nbsp; Check for&nbsp;<span class="Special">CTRL-C</span>&nbsp;less often when finding duplicates.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c<br>
<br>
Patch 7.4.2338<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with small features. (John Marriott)<br>
Solution:&nbsp;&nbsp; Nearly always define FEAT_TAG_BINS.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/tag.c<br>
<br>
Patch 7.4.2339<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tab page test fails when run as fake root.<br>
Solution:&nbsp;&nbsp; Check&nbsp;<a class="Type" href="options.html#'buftype'">'buftype'</a>&nbsp;instead of&nbsp;<a class="Type" href="options.html#'filetype'">'filetype'</a>. (James McCoy, closes #1042)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabpage.vim<br>
<br>
Patch 7.4.2340<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Building with Ruby uses old version.<br>
Solution:&nbsp;&nbsp; Update to 2.2.X. Use clearer name for the API version. (Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makefile, src/INSTALLpc.txt, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/bigvim.bat<br>
<br>
Patch 7.4.2341<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tiny things.&nbsp;&nbsp;Test doesn't clean up properly.<br>
Solution:&nbsp;&nbsp; Adjust comment and white space. Restore option value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/message.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 7.4.2342<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in MS-Windows build script.<br>
Solution:&nbsp;&nbsp; change &quot;w2&quot; to &quot;22&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/bigvim.bat<br>
<br>
Patch 7.4.2343<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many old style tests.<br>
Solution:&nbsp;&nbsp; Turn several into new style tests. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test101.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test101.ok, src/testdir/test18.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test18.ok, src/testdir/test2.in, src/testdir/test2.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test21.in, src/testdir/test21.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test6.in, src/testdir/test6.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim, src/testdir/test_charsearch.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fnameescape.vim, src/testdir/test_gf.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_hlsearch.vim, src/testdir/test_smartindent.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tagjump.vim, src/Makefile<br>
<br>
Patch 7.4.2344<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The &quot;Reading from channel output...&quot; message can be unwanted.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Appending to a buffer leaves an empty first line behind.<br>
Solution:&nbsp;&nbsp; Add the &quot;out_msg&quot; and &quot;err_msg&quot; options. Writing the first line<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;overwrites the first, empty line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/channel.c, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/channel.txt<br>
<br>
Patch 7.4.2345 (after 7.4.2340)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;For MinGW RUBY_API_VER_LONG isn't set correctly.&nbsp;&nbsp;Many default<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;version numbers are outdated.<br>
Solution:&nbsp;&nbsp; Set RUBY_API_VER_LONG to RUBY_VER_LONG. Use latest stable releases<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for defaults. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 7.4.2346<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Autocommand test fails when run directly, passes when run as part<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of test_alot.<br>
Solution:&nbsp;&nbsp; Add command to make the cursor move.&nbsp;&nbsp;Close a tab page.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 7.4.2347<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when closing a buffer while Visual mode is active.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Adjust the position before computing the number of lines.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When closing the current buffer stop Visual mode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/normal.c, src/testdir/test_normal.vim<br>
<br>
Patch 7.4.2348<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash on exit when EXITFREE is defined. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Don't access curwin when exiting.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 7.4.2349<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Valgrind reports using uninitialized memory. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Check the length before checking for a NUL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 7.4.2350<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 86 and 87 fail with some version of Python.<br>
Solution:&nbsp;&nbsp; Unify &quot;can't&quot; and &quot;cannot&quot;.&nbsp;&nbsp;Unify quotes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test86.in, src/testdir/test86.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test87.in, src/testdir/test87.ok<br>
<br>
Patch 7.4.2351<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Netbeans test fails when run from unpacked MS-Windows sources.<br>
Solution:&nbsp;&nbsp; Open README.txt instead of Makefile.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_netbeans.py, src/testdir/test_netbeans.vim<br>
<br>
Patch 7.4.2352<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Netbeans test fails in shadow directory.<br>
Solution:&nbsp;&nbsp; Also copy README.txt to the shadow directory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 7.4.2353<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough test coverage for Normal mode commands.<br>
Solution:&nbsp;&nbsp; Add more tests. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim<br>
<br>
Patch 7.4.2354<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The example that explains nested backreferences does not work<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properly with the new regexp engine. (Harm te Hennepe)<br>
Solution:&nbsp;&nbsp; Also save the end position when adding a state. (closes #990)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test_regexp_latin.vim<br>
<br>
Patch 7.4.2355<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Regexp fails to match when using &quot;\&gt;\)\?&quot;. (Ramel)<br>
Solution:&nbsp;&nbsp; When a state is already in the list, but addstate_here() is used<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and the existing state comes later, add the new state anyway.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test_regexp_latin.vim<br>
<br>
Patch 7.4.2356<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Reading past end of line when using previous substitute pattern.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Don't set &quot;pat&quot; only set &quot;searchstr&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_search.vim<br>
<br>
Patch 7.4.2357<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Attempt to read history entry while not initialized.<br>
Solution:&nbsp;&nbsp; Skip when the index is negative.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 7.4.2358<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings with Solaris Studio when using GTK3. (Danek<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Duvall)<br>
Solution:&nbsp;&nbsp; Define FUNC2GENERIC depending on the system. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.h, src/gui_beval.c, src/gui_gtk_f.c<br>
<br>
Patch 7.4.2359<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak in timer_start().<br>
Solution:&nbsp;&nbsp; Check the right field to be NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_timers.vim<br>
<br>
Patch 7.4.2360<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access when formatting. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Make sure cursor line and column are associated.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 7.4.2361<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Checking for last_timer_id to overflow is not reliable. (Ozaki<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kiichi)<br>
Solution:&nbsp;&nbsp; Check for the number not going up.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 7.4.2362<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access with &quot;:1@&quot;. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Correct cursor column after setting the line number.&nbsp;&nbsp;Also avoid<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calling end_visual_mode() when not in Visual mode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/buffer.c<br>
<br>
Patch 7.4.2363<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Superfluous function prototypes.<br>
Solution:&nbsp;&nbsp; Remove them.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 7.4.2364<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sort test sometimes fails.<br>
Solution:&nbsp;&nbsp; Add it to the list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 7.4.2365<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Needless line break. Confusing directory name.<br>
Solution:&nbsp;&nbsp; Remove line break.&nbsp;&nbsp;Prepend &quot;../&quot; to &quot;tools&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makefile, src/normal.c<br>
<br>
Patch 7.4.2366<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows gvim.exe does not have DirectX support.<br>
Solution:&nbsp;&nbsp; Add the DIRECTX to the script.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/bigvim.bat<br>
<br>
Patch 7.4.2367 (after 7.4.2364)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test runner misses a comma.<br>
Solution:&nbsp;&nbsp; Add the comma.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
<br>
<span class="PreProc">==============================================================================</span><br>
バージョン 8.1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#version-8.1" name="version-8.1">version-8.1</a>&nbsp;<a class="Constant" href="version8.html#version8.1" name="version8.1">version8.1</a>&nbsp;<a class="Constant" href="version8.html#vim-8.1" name="vim-8.1">vim-8.1</a><br>
<br>
このセクションでは、バージョン 8.0 と 8.1 の間の改善点について説明します。<br>
<br>
このリリースには何百ものバグ修正、新機能、多くのマイナーな改善点が含まれます。<br>
<br>
<br>
端末ウィンドウ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#new-terminal-window" name="new-terminal-window">new-terminal-window</a><br>
<span class="PreProc">--------------</span><br>
<br>
端末として機能するウィンドウを開くことができるようになりました。<br>
以下のように使用できます:<br>
- 他のウィンドウで編集中に &quot;make&quot; などのコマンドを実行する<br>
- シェルを実行していくつかのコマンドを実行する<br>
- ターミナルデバッガ (<a class="Identifier" href="terminal.html#terminal-debugger">terminal-debugger</a>) プラグインを使用する<br>
<br>
これらは、リモート (ssh) 接続のような簡単に多くの端末を開くことができない環境<br>
で Vim を実行する場合に特に便利です。<br>
<br>
詳細は&nbsp;<a class="Identifier" href="terminal.html#terminal-window">terminal-window</a>&nbsp;を参照してください。<br>
<br>
<br>
変更点&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#changed-8.1" name="changed-8.1">changed-8.1</a><br>
<span class="PreProc">------</span><br>
<br>
内部的変更: C99 のいくつかの機能 (&quot;//&quot; ダブルスラッシュのコメント、enum で最後<br>
の要素の後にコンマを付けるなど) が許可されるようになりました。<br>
詳細は&nbsp;<a class="Identifier" href="develop.html#style-compiler">style-compiler</a>&nbsp;を参照してください。<br>
<br>
パッチ 8.0.0029 では古い MS-Windows システムのサポートが削除されました。<br>
MS-Windows XP 以降のみがサポートされます。<br>
<br>
<br>
追加要素&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#added-8.1" name="added-8.1">added-8.1</a><br>
<span class="PreProc">--------</span><br>
<br>
さまざまなシンタックス、インデント、その他プラグインが追加されました。<br>
<br>
<span class="PreProc">Quickfix の改善 (by Yegappan Lakshmanan):</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quickfix/locationリストのスタックに含まれる、あらゆるリストを変更する<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;機能が追加されました。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;すべてのquickfix/locationリストに固有識別子が追加されました。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;任意の Vim の型をコンテキスト情報としてquickfix/locationリストに関連付<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ける機能が追加されました。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getqflist(), getloclist(), setqflist() および setloclist() が拡張され、<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quickfix/locationリストのさまざまな属性情報の取得、設定が可能になりま<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;した。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quickfixウィンドウの現在行を強調する QuickFixLine ハイライトグループが<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;追加されました。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quickfixリストのバッファの b:changedtick 変数が、そのリストが変更され<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;るたびにインクリメントされます。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quickfix/locationリストに changedtick 変数が追加され、そのリストが変更<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;されるたびにインクリメントされます。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quickfixリストを新しく作成せずに、<a class="Type" href="options.html#'errorformat'">'errorformat'</a>&nbsp;を利用してテキストを解<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;析する機能が追加されました。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quickfixエントリに &quot;module&quot; 要素が追加され、長いファイル名の代わりに表<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;示名として使用できます。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quickfix/locationリストのスタックに含まれる、すべてのリストを解放する<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;機能が追加されました。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:copen/:cwindow コマンドでquickfixウィンドウを開く場合に、分割修飾子が<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;適用されます。<br>
<br>
<span class="PreProc">関数:</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;全ての term_ 関数。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="testing.html#assert_beeps()">assert_beeps()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="testing.html#assert_equalfile()">assert_equalfile()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="testing.html#assert_report()">assert_report()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#balloon_show()">balloon_show()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#balloon_split()">balloon_split()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="channel.html#ch_canread()">ch_canread()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#getchangelist()">getchangelist()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#getjumplist()">getjumplist()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#getwinpos()">getwinpos()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#pyxeval()">pyxeval()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#remote_startserver()">remote_startserver()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#setbufline()">setbufline()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="testing.html#test_ignore_error()">test_ignore_error()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="testing.html#test_override()">test_override()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#trim()">trim()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#win_screenpos()">win_screenpos()</a><br>
<br>
<span class="PreProc">自動コマンドイベント:</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="autocmd.html#CmdlineChanged">CmdlineChanged</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="autocmd.html#CmdlineEnter">CmdlineEnter</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="autocmd.html#CmdlineLeave">CmdlineLeave</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="autocmd.html#ColorSchemePre">ColorSchemePre</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="autocmd.html#DirChanged">DirChanged</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="autocmd.html#ExitPre">ExitPre</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="autocmd.html#TerminalOpen">TerminalOpen</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="autocmd.html#TextChangedP">TextChangedP</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="autocmd.html#TextYankPost">TextYankPost</a><br>
<br>
<span class="PreProc">Ex コマンド:</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="if_pyth.html#:pyx">:pyx</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="if_pyth.html#:pythonx">:pythonx</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="if_pyth.html#:pyxdo">:pyxdo</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="if_pyth.html#:pyxfile">:pyxfile</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#:terminal">:terminal</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="map.html#:tmapclear">:tmapclear</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="map.html#:tmap">:tmap</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="map.html#:tnoremap">:tnoremap</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="map.html#:tunmap">:tunmap</a><br>
<br>
<span class="PreProc">オプション:</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'balloonevalterm'">'balloonevalterm'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'imstyle'">'imstyle'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'mzschemedll'">'mzschemedll'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'mzschemegcdll'">'mzschemegcdll'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'makeencoding'">'makeencoding'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'pumwidth'">'pumwidth'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'pythonhome'">'pythonhome'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'pythonthreehome'">'pythonthreehome'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'pyxversion'">'pyxversion'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'termwinscroll'">'termwinscroll'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'termwinsize'">'termwinsize'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'viminfofile'">'viminfofile'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'winptydll'">'winptydll'</a><br>
<br>
<br>
パッチ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#patches-8.1" name="patches-8.1">patches-8.1</a><br>
<span class="PreProc">------</span><br>
<br>
Patch 8.0.0001<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Intro screen still mentions version7. (Paul)<br>
Solution:&nbsp;&nbsp; Change it to version8.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c<br>
<br>
Patch 8.0.0002<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The netrw plugin does not work.<br>
Solution:&nbsp;&nbsp; Make it accept version 8.0.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/autoload/netrw.vim<br>
<br>
Patch 8.0.0003<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getwinvar() returns wrong Value of boolean and number options,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;especially non big endian systems. (James McCoy)<br>
Solution:&nbsp;&nbsp; Cast the pointer to long or int. (closes #1060)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_bufwintabinfo.vim<br>
<br>
Patch 8.0.0004<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A string argument for function() that is not a function name<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;results in an error message with NULL. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Use the argument for the error message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_expr.vim<br>
<br>
Patch 8.0.0005<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Netbeans test fails with Python 3. (Jonathonf)<br>
Solution:&nbsp;&nbsp; Encode the string before sending it. (closes #1070)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_netbeans.py<br>
<br>
Patch 8.0.0006<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:lb&quot; is interpreted as &quot;:lbottom&quot; while the documentation says it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;means &quot;:lbuffer&quot;.<br>
Solution:&nbsp;&nbsp; Adjust the order of the commands. (haya14busa, closes #1093)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h<br>
<br>
Patch 8.0.0007<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim 7.4 is still mentioned in a few places.<br>
Solution:&nbsp;&nbsp; Update to Vim 8.&nbsp;&nbsp;(Uncle Bill, closes #1094)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLpc.txt, src/vimtutor, uninstal.txt<br>
<br>
Patch 8.0.0008<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup complete test is disabled.<br>
Solution:&nbsp;&nbsp; Enable the test and change the assert. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 8.0.0009<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnecessary workaround for AppVeyor.<br>
Solution:&nbsp;&nbsp; Revert patch 7.4.990. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;appveyor.yml<br>
<br>
Patch 8.0.0010<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when editing file that starts with crypt header. (igor2x)<br>
Solution:&nbsp;&nbsp; Check for length of text. (Christian Brabandt) Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/testdir/test_crypt.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 8.0.0011<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On OSX Test_pipe_through_sort_all() sometimes fails.<br>
Solution:&nbsp;&nbsp; Add the test to the list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.0012<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typos in comments.<br>
Solution:&nbsp;&nbsp; Change &quot;its&quot; to &quot;it's&quot;. (Matthew Brener, closes #1088)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/main.aap, src/nbdebug.c, src/netbeans.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/workshop.c, src/wsdebug.c<br>
<br>
Patch 8.0.0013 (after 8.0.0011)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing comma in list.<br>
Solution:&nbsp;&nbsp; Add the comma.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.0014<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crypt tests are old style.<br>
Solution:&nbsp;&nbsp; Convert to new style.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test71.in, src/testdir/test71.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test71a.in, src/testdir/test_crypt.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 8.0.0015<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't tell which part of a channel has &quot;buffered&quot; status.<br>
Solution:&nbsp;&nbsp; Add an optional argument to ch_status().&nbsp;&nbsp;Let ch_info() also<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return &quot;buffered&quot; for out_status and err_status.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, runtime/doc/eval.txt<br>
<br>
Patch 8.0.0016 (after 8.0.0015)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails.<br>
Solution:&nbsp;&nbsp; Include missing change.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.0.0017<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get the number of the current quickfix or location list.<br>
Solution:&nbsp;&nbsp; Use the current list if &quot;nr&quot; in &quot;what&quot; is zero. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan)&nbsp;&nbsp;Remove debug command from test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.0.0018<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using &quot;:sleep&quot; channel input is not handled.<br>
Solution:&nbsp;&nbsp; When there is a channel check for input also when not in raw mode.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Check every 100 msec.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro, src/ui.c, src/proto/ui.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/os_amiga.c, src/proto/os_amiga.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/proto/os_unix.pro, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_win32.pro<br>
<br>
Patch 8.0.0019<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_command_count is old style.<br>
Solution:&nbsp;&nbsp; Turn it into a new style test. (Naruhiko Nishino)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use more assert functions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/testdir/test_command_count.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_command_count.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_command_count.vim<br>
<br>
Patch 8.0.0020<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The regexp engines are not reentrant.<br>
Solution:&nbsp;&nbsp; Add regexec_T and save/restore the state when needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp_nfa.c, src/testdir/test_expr.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/change.txt<br>
<br>
Patch 8.0.0021<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In the GUI when redrawing the cursor it may be on the second half<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of a double byte character.<br>
Solution:&nbsp;&nbsp; Correct the cursor column. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.0022<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If a channel in NL mode is missing the NL at the end the remaining<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;characters are dropped.<br>
Solution:&nbsp;&nbsp; When the channel is closed use the remaining text. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 8.0.0023<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;gd&quot; and &quot;gD&quot; may find a match in a comment or string.<br>
Solution:&nbsp;&nbsp; Ignore matches in comments and strings. (Anton Lindqvist)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_goto.vim<br>
<br>
Patch 8.0.0024<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the netbeans channel closes, &quot;DETACH&quot; is put in the output<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;part. (Ozaki Kiichi)<br>
Solution:&nbsp;&nbsp; Write &quot;DETACH&quot; in the socket part.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_netbeans.vim<br>
<br>
Patch 8.0.0025<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Inconsistent use of spaces vs tabs in gd test.<br>
Solution:&nbsp;&nbsp; Use tabs. (Anton Lindqvist)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_goto.vim<br>
<br>
Patch 8.0.0026<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error format with %W, %C and %Z does not work. (Gerd Wachsmuth)<br>
Solution:&nbsp;&nbsp; Skip code when qf_multiignore is set. (Lcd)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0027<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A channel is closed when reading on stderr or stdout fails, but<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;there may still be something to read on another part.<br>
Solution:&nbsp;&nbsp; Turn ch_to_be_closed into a bitfield. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/structs.h, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 8.0.0028<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Superfluous semicolons.<br>
Solution:&nbsp;&nbsp; Remove them. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 8.0.0029<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code for MS-Windows is complicated because of the exceptions for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;old systems.<br>
Solution:&nbsp;&nbsp; Drop support for MS-Windows older than Windows XP. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/gui_w32.txt, runtime/doc/os_win32.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/todo.txt, src/GvimExt/Makefile, src/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_cmds.c, src/ex_docmd.c, src/gui_w32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c, src/misc1.c, src/misc2.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/os_win32.c, src/os_win32.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_mswin.pro, src/proto/os_win32.pro, src/version.c<br>
<br>
Patch 8.0.0030<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mouse mode is not automatically detected for tmux.<br>
Solution:&nbsp;&nbsp; Check for&nbsp;<a class="Type" href="options.html#'term'">'term'</a>&nbsp;to be &quot;tmux&quot;. (Michael Henry)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.0031<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After &quot;:bwipeout&quot;&nbsp;<a class="Type" href="options.html#'fileformat'">'fileformat'</a>&nbsp;is not set to the right default.<br>
Solution:&nbsp;&nbsp; Get the default from&nbsp;<a class="Type" href="options.html#'fileformats'">'fileformats'</a>. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/Makefile, src/testdir/test_fileformat.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim<br>
<br>
Patch 8.0.0032<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests may change the input file when something goes wrong.<br>
Solution:&nbsp;&nbsp; Avoid writing the input file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test51.in, src/testdir/test67.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test97.in, src/testdir/test_tabpage.vim<br>
<br>
Patch 8.0.0033<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use overlapping positions with matchaddpos().<br>
Solution:&nbsp;&nbsp; Check end of match. (Ozaki Kiichi) Add a test (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_match.vim<br>
<br>
Patch 8.0.0034<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No completion for &quot;:messages&quot;.<br>
Solution:&nbsp;&nbsp; Complete &quot;clear&quot; argument. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/ex_getln.c, src/proto/ex_docmd.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/map.txt<br>
<br>
Patch 8.0.0035 (after 7.4.2013)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Order of matches for&nbsp;<a class="Type" href="options.html#'omnifunc'">'omnifunc'</a>&nbsp;is messed up. (Danny Su)<br>
Solution:&nbsp;&nbsp; Do not set compl_curr_match when called from complete_check().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #1168)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/evalfunc.c, src/proto/edit.pro, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/tag.c, src/testdir/test76.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test76.ok, src/testdir/test_popup.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 8.0.0036<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Detecting that a job has finished may take a while.<br>
Solution:&nbsp;&nbsp; Check for a finished job more often (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/os_unix.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_unix.pro, src/proto/os_win32.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 8.0.0037<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get E924 when switching tabs. ()<br>
Solution:&nbsp;&nbsp; Use win_valid_any_tab() instead of win_valid(). (Martin Vuille,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1167, closes #1171)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0038<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;OPEN_CHR_FILES not defined for FreeBSD using Debian userland<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;files.<br>
Solution:&nbsp;&nbsp; Check for __FreeBSD_kernel__. (James McCoy, closes #1166)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.0.0039<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When Vim 8 reads an old viminfo and exits, the next time marks are<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not read from viminfo. (Ned Batchelder)<br>
Solution:&nbsp;&nbsp; Set a mark when it wasn't set before, even when the timestamp is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;zero. (closes #1170)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mark.c, src/testdir/test_viminfo.vim<br>
<br>
Patch 8.0.0040 (after 8.0.0033)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Whole line highlighting with matchaddpos() does not work.<br>
Solution:&nbsp;&nbsp; Check for zero length. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_match.vim<br>
<br>
Patch 8.0.0041<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using Insert mode completion but not actually inserting<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;anything an undo item is still created. (Tommy Allen)<br>
Solution:&nbsp;&nbsp; Do not call stop_arrow() when not inserting anything.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_popup.vim<br>
<br>
Patch 8.0.0042 (after 8.0.0041)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using Insert mode completion with&nbsp;<a class="Type" href="options.html#'completeopt'">'completeopt'</a>&nbsp;containing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;noinsert&quot; change is not saved for undo.&nbsp;&nbsp;(Tommy Allen)<br>
Solution:&nbsp;&nbsp; Call stop_arrow() before inserting for pressing Enter.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_popup.vim<br>
<br>
Patch 8.0.0043 (after 8.0.0041)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using Insert mode completion with&nbsp;<a class="Type" href="options.html#'completeopt'">'completeopt'</a>&nbsp;containing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;noinsert&quot; with&nbsp;<span class="Special">CTRL-N</span>&nbsp;the change is not saved for undo.&nbsp;&nbsp;(Tommy<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allen)<br>
Solution:&nbsp;&nbsp; Call stop_arrow() before inserting for any key.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_popup.vim<br>
<br>
Patch 8.0.0044<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In diff mode the cursor may end up below the last line, resulting<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in an ml_get error.<br>
Solution:&nbsp;&nbsp; Check the line to be valid.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c, src/diff.c, src/proto/diff.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_diffmode.vim<br>
<br>
Patch 8.0.0045<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Calling job_stop() right after job_start() does not work.<br>
Solution:&nbsp;&nbsp; Block signals while fork is still busy. (Ozaki Kiichi, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1155)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/auto/configure, src/config.h.in, src/configure.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/testdir/test_channel.vim<br>
<br>
Patch 8.0.0046<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using NUL instead of NULL.<br>
Solution:&nbsp;&nbsp; Change to NULL. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/json.c<br>
<br>
Patch 8.0.0047<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using the preview window from an unnamed buffer.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lifepillar)<br>
Solution:&nbsp;&nbsp; Do not clear the wrong buffer. (closes #1200)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.0.0048<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On Windows job_stop() stops cmd.exe, not the processes it runs.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Linwei)<br>
Solution:&nbsp;&nbsp; Iterate over all processes and terminate the one where the parent<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is the job process. (Yasuhiro Matsumoto, closes #1184)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/structs.h<br>
<br>
Patch 8.0.0049<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a match ends in part of concealed text highlighting, it might<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mess up concealing by resetting prev_syntax_id.<br>
Solution:&nbsp;&nbsp; Do not reset prev_syntax_id and add a test to verify. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #1092)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_matchadd_conceal.vim<br>
<br>
Patch 8.0.0050<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;An exiting job is detected with a large latency.<br>
Solution:&nbsp;&nbsp; Check for pending job more often. (Ozaki Kiichi)&nbsp;&nbsp;Change the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;double loop in mch_inchar() into one.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/os_unix.c, src/testdir/shared.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 8.0.0051 (after 8.0.0048)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New code for job_stop() breaks channel test on AppVeyor.<br>
Solution:&nbsp;&nbsp; Revert the change.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/structs.h<br>
<br>
Patch 8.0.0052 (after 8.0.0049)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Conceal test passes even without the bug fix.<br>
Solution:&nbsp;&nbsp; Add a redraw command. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_matchadd_conceal.vim<br>
<br>
Patch 8.0.0053 (after 8.0.0047)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for what 8.0.0047 fixes.<br>
Solution:&nbsp;&nbsp; Add a test. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 8.0.0054 (after 8.0.0051)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On Windows job_stop() stops cmd.exe, not the processes it runs.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Linwei)<br>
Solution:&nbsp;&nbsp; Iterate over all processes and terminate the one where the parent<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is the job process. Now only when there is no job object.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto, closes #1203)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.0.0055<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Minor comment and style deficiencies.<br>
Solution:&nbsp;&nbsp; Update comments and fix style.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/misc2.c, src/os_unix.c<br>
<br>
Patch 8.0.0056<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When setting&nbsp;<a class="Type" href="options.html#'filetype'">'filetype'</a>&nbsp;there is no check for a valid name.<br>
Solution:&nbsp;&nbsp; Only allow valid characters in&nbsp;<a class="Type" href="options.html#'filetype'">'filetype'</a>,&nbsp;<a class="Type" href="options.html#'syntax'">'syntax'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'keymap'">'keymap'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_options.vim<br>
<br>
Patch 8.0.0057 (after 8.0.0056)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests fail without the&nbsp;<a class="Type" href="options.html#'keymap'">'keymap'</a>&nbsp;features.<br>
Solution:&nbsp;&nbsp; Check for feature in test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim<br>
<br>
Patch 8.0.0058<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Positioning of the popup menu is not good.<br>
Solution:&nbsp;&nbsp; Position it better. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.0.0059<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim does not build on VMS systems.<br>
Solution:&nbsp;&nbsp; Various changes for VMS. (Zoltan Arpadffy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/macros.h, src/Make_vms.mms, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.h, src/os_vms.c, src/os_vms_conf.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_vms.pro, src/testdir/Make_vms.mms<br>
<br>
Patch 8.0.0060<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using an Ex command for&nbsp;<a class="Type" href="options.html#'keywordprg'">'keywordprg'</a>&nbsp;it is escaped as with a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shell command. (Romain Lafourcade)<br>
Solution:&nbsp;&nbsp; Escape for an Ex command. (closes #1175)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_normal.vim<br>
<br>
Patch 8.0.0061 (after 8.0.0058)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused variable.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.0.0062<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No digraph for HORIZONTAL ELLIPSIS.<br>
Solution:&nbsp;&nbsp; Use &quot;,.&quot;. (Hans Ginzel, closes #1226)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/digraph.c, runtime/doc/digraph.txt<br>
<br>
Patch 8.0.0063<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for comparing with unsigned. (Zoltan Arpadffy)<br>
Solution:&nbsp;&nbsp; Change &lt;= to ==.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 8.0.0064 (after 8.0.0060)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Normal test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Don't try using an illegal file name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim<br>
<br>
Patch 8.0.0065 (after 8.0.0056)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused function in tiny build. (Tony<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mechelynck)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.0066<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;when calling an operator function when&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;is set, it is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internally reset before calling the operator function.<br>
Solution:&nbsp;&nbsp; Restore&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;before calling op_function(). (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_normal.vim<br>
<br>
Patch 8.0.0067<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;VMS has a problem with infinity.<br>
Solution:&nbsp;&nbsp; Avoid an overflow. (Zoltan Arpadffy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/macros.h<br>
<br>
Patch 8.0.0068<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Checking did_throw after executing autocommands is wrong. (Daniel<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hahler)<br>
Solution:&nbsp;&nbsp; Call aborting() instead, and only when autocommands were executed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/if_cscope.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0069<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for self-comparison.<br>
Solution:&nbsp;&nbsp; Define ONE_WINDOW and add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/buffer.c, src/ex_docmd.c, src/move.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/quickfix.c, src/window.c<br>
<br>
Patch 8.0.0070<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests referred in Makefile that no longer exist.<br>
Solution:&nbsp;&nbsp; Remove test71 and test74 entries. (Michael Soyka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Mak_ming.mak<br>
<br>
Patch 8.0.0071<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Exit value from a shell command is wrong. (Hexchain Tong)<br>
Solution:&nbsp;&nbsp; Do not check for ended jobs while waiting for a shell command.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(ichizok, closes #1196)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.0072<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Crash with long font name. (Henry Hu)<br>
Solution:&nbsp;&nbsp; Fix comparing with LF_FACESIZE. (Ken Takata, closes #1243)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c<br>
<br>
Patch 8.0.0073 (after 8.0.0069)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More comparisons between firstwin and lastwin.<br>
Solution:&nbsp;&nbsp; Use ONE_WINDOW for consistency. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/ex_cmds.c, src/ex_docmd.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.0.0074<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot make Vim fail on an internal error.<br>
Solution:&nbsp;&nbsp; Add IEMSG() and IEMSG2(). (Dominique Pelle)&nbsp;&nbsp;Avoid reporting an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;internal error without mentioning where.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/blowfish.c, src/dict.c, src/edit.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_eval.c, src/getchar.c, src/gui_beval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/hangulin.c, src/hashtab.c, src/if_cscope.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/memfile.c, src/memline.c, src/message.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/option.c, src/quickfix.c, src/regexp.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/undo.c, src/userfunc.c, src/vim.h, src/window.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc2.pro, src/proto/message.pro, src/Makefile<br>
<br>
Patch 8.0.0075<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using number for exception type lacks type checking.<br>
Solution:&nbsp;&nbsp; Use an enum.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/ex_docmd.c, src/ex_eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_eval.pro<br>
<br>
Patch 8.0.0076<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel log has double parens ()().<br>
Solution:&nbsp;&nbsp; Remove () for write_buf_line. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.0077<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The GUI code is not tested by Travis.<br>
Solution:&nbsp;&nbsp; Install the virtual framebuffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.0078<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing freed memory in quickfix.<br>
Solution:&nbsp;&nbsp; Reset pointer when freeing&nbsp;<a class="Type" href="options.html#'errorformat'">'errorformat'</a>. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0079<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing freed memory in quickfix. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Do not free the current list when adding to it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0080<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The OS X build fails on Travis.<br>
Solution:&nbsp;&nbsp; Skip the virtual framebuffer on OS X.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.0081<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Inconsistent function names.<br>
Solution:&nbsp;&nbsp; Rename do_cscope to ex_cscope.&nbsp;&nbsp;Clean up comments.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/if_cscope.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/if_cscope.pro<br>
<br>
Patch 8.0.0082<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Extension for configure should be &quot;.ac&quot;.<br>
Solution:&nbsp;&nbsp; Rename configure.in to configure.ac. (James McCoy, closes #1173)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.in, src/configure.ac, Filelist, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/blowfish.c, src/channel.c, src/config.h.in, src/main.aap,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/INSTALL, src/mysign<br>
<br>
Patch 8.0.0083<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory with win_getid(). (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; For the current tab use curwin.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_window_id.vim<br>
<br>
Patch 8.0.0084<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory when adding to a quickfix list. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Solution:&nbsp;&nbsp; Clear the directory name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0085<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory with recursive function call. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Make a copy of the function name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_nested_function.vim<br>
<br>
Patch 8.0.0086<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot add a comment after &quot;:hide&quot;. (Norio Takagi)<br>
Solution:&nbsp;&nbsp; Make it work, add a test. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/ex_cmds.h, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_hide.vim<br>
<br>
Patch 8.0.0087<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the channel callback gets job info the job may already have<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;been deleted. (lifepillar)<br>
Solution:&nbsp;&nbsp; Do not delete the job when the channel is still useful. (ichizok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1242, closes #1245)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/eval.c, src/os_unix.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/testdir/test_channel.vim<br>
<br>
Patch 8.0.0088<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a test fails in Setup or Teardown the problem is not reported.<br>
Solution:&nbsp;&nbsp; Add a try/catch. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.0089<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various problems with GTK 3.22.2.<br>
Solution:&nbsp;&nbsp; Fix the problems, add #ifdefs. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c, src/gui_gtk.c, src/gui_gtk_x11.c<br>
<br>
Patch 8.0.0090<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor moved after last character when using&nbsp;<a class="Type" href="options.html#'breakindent'">'breakindent'</a>.<br>
Solution:&nbsp;&nbsp; Fix the cursor positioning.&nbsp;&nbsp;Turn the breakindent test into new<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style.&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_breakindent.in, src/testdir/test_breakindent.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_breakindent.vim, src/Makefile<br>
<br>
Patch 8.0.0091<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_help_complete sometimes fails in MS-Windows console.<br>
Solution:&nbsp;&nbsp; Use getcompletion() instead of feedkeys() and command line<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;completion. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_help_tagjump.vim<br>
<br>
Patch 8.0.0092<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;C indenting does not support nested namespaces that C++ 17 has.<br>
Solution:&nbsp;&nbsp; Add check that passes double colon inside a name. (Pauli, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1214)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok<br>
<br>
Patch 8.0.0093<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not using multiprocess build feature.<br>
Solution:&nbsp;&nbsp; Enable multiprocess build with MSVC 10. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.0.0094<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When vimrun.exe is not found the error message is not properly<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;encoded.<br>
Solution:&nbsp;&nbsp; Use utf-16 and MessageBoxW(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.0.0095<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Problems with GTK 3.22.2 fixed in 3.22.4.<br>
Solution:&nbsp;&nbsp; Adjust the #ifdefs. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 8.0.0096<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the input or output is not a tty Vim appears to hang.<br>
Solution:&nbsp;&nbsp; Add the --ttyfail argument.&nbsp;&nbsp;Also add the &quot;ttyin&quot; and &quot;ttyout&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;features to be able to check in Vim script.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/structs.h, src/main.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/starting.txt, runtime/doc/eval.txt<br>
<br>
Patch 8.0.0097<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a channel callback consumes a lot of time Vim becomes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unresponsive. (skywind)<br>
Solution:&nbsp;&nbsp; Bail out of checking channel readahead after 100 msec.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/misc2.c, src/vim.h, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.0098 (after 8.0.0097)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add missing parenthesis.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.0.0099<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup menu always appears above the cursor when it is in the lower<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;half of the screen. (Matt Gardner)<br>
Solution:&nbsp;&nbsp; Compute the available space better. (Hirohito Higashi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1241)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.0.0100<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Options that are a file name may contain non-filename characters.<br>
Solution:&nbsp;&nbsp; Check for more invalid characters.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.0101<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some options are not strictly checked.<br>
Solution:&nbsp;&nbsp; Add flags for stricter checks.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.0102 (after 8.0.0101)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot set&nbsp;<a class="Type" href="options.html#'dictionary'">'dictionary'</a>&nbsp;to a path.<br>
Solution:&nbsp;&nbsp; Allow for slash and backslash.&nbsp;&nbsp;Add a test (partly by Daisuke<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Suzuki, closes #1279, closes #1284)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_options.vim<br>
<br>
Patch 8.0.0103<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May not process channel readahead. (skywind)<br>
Solution:&nbsp;&nbsp; If there is readahead don't block on input.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/misc2.c<br>
<br>
Patch 8.0.0104<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Value of&nbsp;<a class="Type" href="options.html#'thesaurus'">'thesaurus'</a>&nbsp;option not checked properly.<br>
Solution:&nbsp;&nbsp; Add P_NDNAME flag. (Daisuke Suzuki)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_options.vim<br>
<br>
Patch 8.0.0105<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using ch_read() with zero timeout, can't tell the difference<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;between reading an empty line and nothing available.<br>
Solution:&nbsp;&nbsp; Add ch_canread().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/shared.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/channel.txt<br>
<br>
Patch 8.0.0106 (after 8.0.0100)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use a semicolon in&nbsp;<a class="Type" href="options.html#'backupext'">'backupext'</a>. (Jeff)<br>
Solution:&nbsp;&nbsp; Allow for a few more characters when &quot;secure&quot; isn't set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.0107<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When reading channel output in a timer, messages may go missing.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Skywind)<br>
Solution:&nbsp;&nbsp; Add the &quot;drop&quot; option.&nbsp;&nbsp;Write error messages in the channel log.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Don't have ch_canread() check for the channel being open.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/channel.c, src/message.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/channel.pro, runtime/doc/channel.txt<br>
<br>
Patch 8.0.0108 (after 8.0.0107)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The channel &quot;drop&quot; option is not tested.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 8.0.0109<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still checking if memcmp() exists while every system should have<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it now.<br>
Solution:&nbsp;&nbsp; Remove vim_memcmp().&nbsp;&nbsp;(James McCoy, closes #1295)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.h.in, src/configure.ac, src/misc2.c, src/os_vms_conf.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/osdef1.h.in, src/search.c, src/tag.c, src/vim.h<br>
<br>
Patch 8.0.0110<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Drop command doesn't use existing window.<br>
Solution:&nbsp;&nbsp; Check the window width properly. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/testdir/test_tabpage.vim<br>
<br>
Patch 8.0.0111<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The :history command is not tested.<br>
Solution:&nbsp;&nbsp; Add tests. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/cmdline.txt, src/testdir/test_history.vim<br>
<br>
Patch 8.0.0112<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests 92 and 93 are old style.<br>
Solution:&nbsp;&nbsp; Make test92 and test93 new style. (Hirohito Higashi, closes #1289)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test92.in, src/testdir/test92.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test93.in, src/testdir/test93.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession_utf8.vim<br>
<br>
Patch 8.0.0113<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: message box to prompt for saving changes may appear on<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the wrong monitor.<br>
Solution:&nbsp;&nbsp; Adjust the CenterWindow function. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.0.0114<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coding style not optimal.<br>
Solution:&nbsp;&nbsp; Add spaces. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/os_mswin.c<br>
<br>
Patch 8.0.0115<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When building with Cygwin libwinpthread isn't found.<br>
Solution:&nbsp;&nbsp; Link winpthread statically. (jmmerz, closes #1255, closes #1256)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 8.0.0116<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When reading English help and using CTRl-] the language from<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'helplang'">'helplang'</a>&nbsp;is used.<br>
Solution:&nbsp;&nbsp; Make help tag jumps keep the language. (Tatsuki, test by Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi, closes #1249)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/testdir/test_help_tagjump.vim<br>
<br>
Patch 8.0.0117<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Parallel make fails. (J. Lewis Muir)<br>
Solution:&nbsp;&nbsp; Make sure the objects directory exists. (closes #1259)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.0118<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make proto&quot; adds extra function prototype.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 8.0.0119<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for using&nbsp;<span class="Special">CTRL-R</span>&nbsp;on the command line.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle) And some more.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.0120<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test is still flaky on OS X.<br>
Solution:&nbsp;&nbsp; Set the drop argument to &quot;never&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 8.0.0121<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>&nbsp;changes the curswant column. (Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Add the P_RWINONLY flag. (closes #1297)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_goto.vim<br>
<br>
Patch 8.0.0122<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test is still flaky on OS X.<br>
Solution:&nbsp;&nbsp; Add a short sleep.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py<br>
<br>
Patch 8.0.0123<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Modern Sun compilers define &quot;__sun&quot; instead of &quot;sun&quot;.<br>
Solution:&nbsp;&nbsp; Use __sun. (closes #1296)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/pty.c, src/os_unixx.h, src/vim.h<br>
<br>
Patch 8.0.0124<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Internal error for assert_inrange(1, 1).<br>
Solution:&nbsp;&nbsp; Adjust number of allowed arguments. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_assert.vim<br>
<br>
Patch 8.0.0125<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough testing for entering Ex commands.<br>
Solution:&nbsp;&nbsp; Add test for&nbsp;<span class="Special">CTRL-\</span>&nbsp;e&nbsp;<span class="Special">{expr}</span>. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.0126<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Display problem with&nbsp;<a class="Type" href="options.html#'foldcolumn'">'foldcolumn'</a>&nbsp;and a wide character.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(esiegerman)<br>
Solution:&nbsp;&nbsp; Don't use &quot;extra&quot; but an allocated buffer. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1310)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/Make_all.mak, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_display.vim<br>
<br>
Patch 8.0.0127<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cancelling completion still inserts text when formatting is done<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;<a class="Type" href="options.html#'textwidth'">'textwidth'</a>. (lacygoill)<br>
Solution:&nbsp;&nbsp; Don't format when&nbsp;<span class="Special">CTRL-E</span>&nbsp;was typed. (Hirohito Higashi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1312)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_popup.vim<br>
<br>
Patch 8.0.0128 (after 8.0.0126)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Display test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'isprint'">'isprint'</a>&nbsp;to &quot;@&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_display.vim<br>
<br>
Patch 8.0.0129<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Parallel make still doesn't work. (Lewis Muir)<br>
Solution:&nbsp;&nbsp; Define OBJ_MAIN.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.0130<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure uses &quot;ushort&quot; while the Vim code doesn't.<br>
Solution:&nbsp;&nbsp; Use &quot;unsigned short&quot; instead. (Fredrik Fornwall, closes #1314)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.0131<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough test coverage for syntax commands.<br>
Solution:&nbsp;&nbsp; Add more tests. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim<br>
<br>
Patch 8.0.0132 (after 8.0.0131)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test fails because of using :finish.<br>
Solution:&nbsp;&nbsp; Change to return.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim<br>
<br>
Patch 8.0.0133<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;2;'(&quot; causes ml_get errors in an empty buffer.&nbsp;&nbsp;(Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Check the cursor line earlier.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.0134<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Null pointer access reported by UBsan.<br>
Solution:&nbsp;&nbsp; Check curwin-&gt;w_buffer is not NULL. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.0.0135<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;An address relative to the current line, &quot;:.,+3y&quot;, does not work<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properly on a closed fold. (Efraim Yawitz)<br>
Solution:&nbsp;&nbsp; Correct for including the closed fold. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_fold.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/Makefile<br>
<br>
Patch 8.0.0136<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using indent folding and changing indent the wrong fold is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opened. (Jonathan Fudger)<br>
Solution:&nbsp;&nbsp; Open the fold under the cursor a bit later. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_fold.vim<br>
<br>
Patch 8.0.0137<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'maxfuncdepth'">'maxfuncdepth'</a>&nbsp;is set above 200 the nesting is limited to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;200. (Brett Stahlman)<br>
Solution:&nbsp;&nbsp; Allow for Ex command recursion depending on&nbsp;<a class="Type" href="options.html#'maxfuncdepth'">'maxfuncdepth'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_nested_function.vim<br>
<br>
Patch 8.0.0138 (after 8.0.0137)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Small build fails.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.0.0139 (after 8.0.0135)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for unused argument.<br>
Solution:&nbsp;&nbsp; Add UNUSED.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.0.0140<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Pasting inserted text in Visual mode does not work properly.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Matthew Malcomson)<br>
Solution:&nbsp;&nbsp; Stop Visual mode before stuffing the inserted text. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, from neovim #5709)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_visual.vim<br>
<br>
Patch 8.0.0141 (after 8.0.0137)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Nested function test fails on AppVeyor.<br>
Solution:&nbsp;&nbsp; Disable the test on Windows for now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_nested_function.vim<br>
<br>
Patch 8.0.0142<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Normal colors are wrong with&nbsp;<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>.<br>
Solution:&nbsp;&nbsp; Initialize to INVALCOLOR instead of zero. (Ben Jackson, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1344)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.0143<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Line number of current buffer in getbufinfo() is wrong.<br>
Solution:&nbsp;&nbsp; For the current buffer use the current line number. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.0.0144<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using MSVC the GvimExt directory is cleaned twice.<br>
Solution:&nbsp;&nbsp; Remove the lines. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.0.0145<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running tests on MS-Windows is a little bit noisy.<br>
Solution:&nbsp;&nbsp; Redirect some output to &quot;nul&quot;. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak<br>
<br>
Patch 8.0.0146<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using&nbsp;<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>&nbsp;on MS-Windows the RGB definition causes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the colors to be wrong.<br>
Solution:&nbsp;&nbsp; Undefined RGB and use our own. (Gabriel Barta)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0147<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;searchpair() does not work when&nbsp;<a class="Type" href="options.html#'magic'">'magic'</a>&nbsp;is off. (Chris Paul)<br>
Solution:&nbsp;&nbsp; Add \m in the pattern. (Christian Brabandt, closes #1341)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_search.vim<br>
<br>
Patch 8.0.0148<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a C preprocessor statement has two line continuations the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;following line does not have the right indent. (Ken Takata)<br>
Solution:&nbsp;&nbsp; Add the indent of the previous continuation line. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test3.in, src/testdir/test3.ok<br>
<br>
Patch 8.0.0149<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:earlier&quot; and &quot;:later&quot; do not work after startup or reading the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;undo file.<br>
Solution:&nbsp;&nbsp; Use absolute time stamps instead of relative to the Vim start<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;time. (Christian Brabandt, Pavel Juhas, closes #1300, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1254)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_undo.vim, src/undo.c<br>
<br>
Patch 8.0.0150<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the pattern of :filter does not have a separator then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;completion of the command fails.<br>
Solution:&nbsp;&nbsp; Skip over the pattern. (Ozaki Kiichi, closes #1299)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_filter_cmd.vim<br>
<br>
Patch 8.0.0151<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;To pass buffer content to system() and systemlist() one has to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;first create a string or list.<br>
Solution:&nbsp;&nbsp; Allow passing a buffer number. (LemonBoy, closes #1240)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/Makefile, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_system.vim<br>
<br>
Patch 8.0.0152<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running the channel test creates channellog.<br>
Solution:&nbsp;&nbsp; Delete the debug line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 8.0.0153 (after 8.0.0151)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;system() test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Deal with extra space and CR.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_system.vim<br>
<br>
Patch 8.0.0154 (after 8.0.0151)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;system() test fails on OS/X.<br>
Solution:&nbsp;&nbsp; Deal with leading spaces.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_system.vim<br>
<br>
Patch 8.0.0155<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When sorting zero elements a NULL pointer is passed to qsort(),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which ubsan warns for.<br>
Solution:&nbsp;&nbsp; Don't call qsort() if there are no elements. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.0156<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Several float functions are not covered by tests.<br>
Solution:&nbsp;&nbsp; Add float tests. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_float_func.vim<br>
<br>
Patch 8.0.0157<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No command line completion for &quot;:syntax spell&quot; and &quot;:syntax sync&quot;.<br>
Solution:&nbsp;&nbsp; Implement the completion. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/testdir/test_syntax.vim<br>
<br>
Patch 8.0.0158 (after 8.0.0156)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows some float functions return a different value when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;passed unusual values.&nbsp;&nbsp;strtod() doesn't work for &quot;inf&quot; and &quot;nan&quot;.<br>
Solution:&nbsp;&nbsp; Accept both results.&nbsp;&nbsp;Fix str2float() for MS-Windows.&nbsp;&nbsp;Also<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reorder assert function arguments.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_float_func.vim, src/eval.c<br>
<br>
Patch 8.0.0159<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using a NULL pointer when using feedkeys() to trigger drawing a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabline.<br>
Solution:&nbsp;&nbsp; Skip drawing a tabline if TabPageIdxs is NULL. (Dominique Pelle)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also fix recursing into getcmdline() from the cmd window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/ex_getln.c<br>
<br>
Patch 8.0.0160<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;EMSG() is sometimes used for internal errors.<br>
Solution:&nbsp;&nbsp; Change them to IEMSG(). (Dominique Pelle)&nbsp;&nbsp;And a few more.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/channel.c, src/eval.c<br>
<br>
Patch 8.0.0161 (after 8.0.0159)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails when using small features.<br>
Solution:&nbsp;&nbsp; Update #ifdef for using save_ccline. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.0.0162<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build error on Fedora 23 with small features and gnome2.<br>
Solution:&nbsp;&nbsp; Undefine ngettext(). (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk.c, src/gui_gtk_x11.c<br>
<br>
Patch 8.0.0163<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ruby 2.4 no longer supports rb_cFixnum.<br>
Solution:&nbsp;&nbsp; move rb_cFixnum into an #ifdef. (Kazuki Sakamoto, closes #1365)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.0.0164<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Outdated and misplaced comments.<br>
Solution:&nbsp;&nbsp; Fix the comments.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c, src/getchar.c, src/list.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/README.txt<br>
<br>
Patch 8.0.0165<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ubsan warns for integer overflow.<br>
Solution:&nbsp;&nbsp; Swap two conditions. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 8.0.0166<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;JSON with a duplicate key gives an internal error. (Lcd)<br>
Solution:&nbsp;&nbsp; Give a normal error.&nbsp;&nbsp;Avoid an error when parsing JSON from a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;remote client fails.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/json.c, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_json.vim<br>
<br>
Patch 8.0.0167<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;str2nr() and str2float() do not always work with negative values.<br>
Solution:&nbsp;&nbsp; Be more flexible about handling signs. (LemonBoy, closes #1332)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add more tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_float_func.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.0168<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still some float functionality is not covered by tests.<br>
Solution:&nbsp;&nbsp; Add more tests. (Dominique Pelle, closes #1364)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_float_func.vim<br>
<br>
Patch 8.0.0169<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;For complicated string json_decode() may run out of stack space.<br>
Solution:&nbsp;&nbsp; Change the recursive solution into an iterative solution.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c<br>
<br>
Patch 8.0.0170 (after 8.0.0169)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test fails for using freed memory.<br>
Solution:&nbsp;&nbsp; Fix memory use in json_decode().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c<br>
<br>
Patch 8.0.0171<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;JS style JSON does not support single quotes.<br>
Solution:&nbsp;&nbsp; Allow for single quotes. (Yasuhiro Matsumoto, closes #1371)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/testdir/test_json.vim, src/json_test.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.0.0172 (after 8.0.0159)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The command selected in the command line window is not executed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Andrey Starodubtsev)<br>
Solution:&nbsp;&nbsp; Save and restore the command line at a lower level. (closes #1370)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_history.vim<br>
<br>
Patch 8.0.0173<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When compiling with EBCDIC defined the build fails. (Yaroslav<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kuzmin)<br>
Solution:&nbsp;&nbsp; Move sortFunctions() to the right file.&nbsp;&nbsp;Avoid warning for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;redefining __SUSV3.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalfunc.c, src/os_unixx.h<br>
<br>
Patch 8.0.0174<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;For completion &quot;locale -a&quot; is executed on MS-Windows, even though<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it most likely won't work.<br>
Solution:&nbsp;&nbsp; Skip executing &quot;locale -a&quot; on MS-Windows. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 8.0.0175<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting language in gvim on MS-Windows does not work when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;libintl.dll is dynamically linked with msvcrt.dll.<br>
Solution:&nbsp;&nbsp; Use putenv() from libintl as well. (Ken Takata, closes #1082)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/misc1.c, src/os_win32.c, src/proto/os_win32.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.0.0176<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using :change in between :function and :endfunction fails.<br>
Solution:&nbsp;&nbsp; Recognize :change inside a function. (ichizok, closes #1374)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/testdir/test_viml.vim<br>
<br>
Patch 8.0.0177<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When opening a buffer on a directory and inside a try/catch then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the BufEnter event is not triggered.<br>
Solution:&nbsp;&nbsp; Return NOTDONE from readfile() for a directory and deal with the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;three possible return values. (Justin M. Keyes, closes #1375,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1353)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/ex_cmds.c, src/ex_docmd.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 8.0.0178<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_command_count may fail when a previous test interferes, seen<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on MS-Windows.<br>
Solution:&nbsp;&nbsp; Run it separately.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/Make_all.mak<br>
<br>
Patch 8.0.0179<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'formatprg'">'formatprg'</a>&nbsp;is a global option but the value may depend on the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type of buffer. (Sung Pae)<br>
Solution:&nbsp;&nbsp; Make&nbsp;<a class="Type" href="options.html#'formatprg'">'formatprg'</a>&nbsp;global-local. (closes #1380)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/option.h, src/option.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/testdir/test_normal.vim<br>
<br>
Patch 8.0.0180<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error E937 is used both for duplicate key in JSON and for trying<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to delete a buffer that is in use.<br>
Solution:&nbsp;&nbsp; Rename the JSON error to E938. (Norio Takagi, closes #1376)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/testdir/test_json.vim<br>
<br>
Patch 8.0.0181<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'cursorbind'">'cursorbind'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'cursorcolumn'">'cursorcolumn'</a>&nbsp;are both on, the column<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;highlight in non-current windows is wrong.<br>
Solution:&nbsp;&nbsp; Add validate_cursor(). (Masanori Misono, closes #1372)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 8.0.0182<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'cursorbind'">'cursorbind'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>&nbsp;are set, but&nbsp;<a class="Type" href="options.html#'cursorcolumn'">'cursorcolumn'</a>&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not, then the cursor line highlighting is not updated. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Solution:&nbsp;&nbsp; Call redraw_later() with NOT_VALID.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 8.0.0183<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ubsan warns for using a pointer that is not aligned.<br>
Solution:&nbsp;&nbsp; First copy the address. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.0184<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When in Ex mode and an error is caught by try-catch, Vim still<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exits with a non-zero exit code.<br>
Solution:&nbsp;&nbsp; Don't set ex_exitval when inside a try-catch. (partly by Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/testdir/test_system.vim<br>
<br>
Patch 8.0.0185 (after 8.0.0184)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The system() test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Skip the test on MS-Windows.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_system.vim<br>
<br>
Patch 8.0.0186<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The error message from assert_notequal() is confusing.<br>
Solution:&nbsp;&nbsp; Only mention the expected value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_assert.vim<br>
<br>
Patch 8.0.0187<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with a new Ruby version fails.<br>
Solution:&nbsp;&nbsp; Use ruby_sysinit() instead of NtInitialize(). (Tomas Volf,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1382)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.0.0188 (after 8.0.0182)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using NOT_VALID for redraw_later() to update the cursor<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line/column highlighting is not efficient.<br>
Solution:&nbsp;&nbsp; Call validate_cursor() when&nbsp;<a class="Type" href="options.html#'cul'">'cul'</a>&nbsp;or&nbsp;<a class="Type" href="options.html#'cuc'">'cuc'</a>&nbsp;is set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 8.0.0189<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There are no tests for the :profile command.<br>
Solution:&nbsp;&nbsp; Add tests. (Dominique Pelle, closes #1383)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_profile.vim<br>
<br>
Patch 8.0.0190<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Detecting duplicate tags uses a slow linear search.<br>
Solution:&nbsp;&nbsp; Use a much faster hash table solution. (James McCoy, closes #1046)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;But don't add hi_keylen, it makes hash tables 50% bigger.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c<br>
<br>
Patch 8.0.0191 (after 8.0.0187)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some systems do not have ruby_sysinit(), causing the build to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fail.<br>
Solution:&nbsp;&nbsp; Clean up how ruby_sysinit() and NtInitialize() are used. (Taro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Muraoka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.0.0192 (after 8.0.0190)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails with tiny features.<br>
Solution:&nbsp;&nbsp; Change #ifdef for hash_clear().&nbsp;&nbsp;Avoid warning for unused<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hashtab.c, src/if_cscope.c<br>
<br>
Patch 8.0.0193 (after 8.0.0188)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accidentally removed #ifdef.<br>
Solution:&nbsp;&nbsp; Put it back. (Masanori Misono)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 8.0.0194 (after 8.0.0189)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Profile tests fails if total and self time are equal.<br>
Solution:&nbsp;&nbsp; Make one time optional.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_profile.vim<br>
<br>
Patch 8.0.0195 (after 8.0.0190)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Jumping to a tag that is a static item in the current file fails.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Kazunobu Kuriyama)<br>
Solution:&nbsp;&nbsp; Make sure the first byte of the tag key is not NUL. (Suggested by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;James McCoy, closes #1387)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/testdir/test_tagjump.vim<br>
<br>
Patch 8.0.0196 (after 8.0.0194)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The test for :profile is slow and does not work on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use the &quot;-es&quot; argument. (Dominique Pelle)&nbsp;&nbsp;Swap single and double<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quotes for system()<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_profile.vim<br>
<br>
Patch 8.0.0197<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows the system() test skips a few parts.<br>
Solution:&nbsp;&nbsp; Swap single and double quotes for the command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_system.vim<br>
<br>
Patch 8.0.0198<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some syntax arguments take effect even after &quot;if 0&quot;. (Taylor<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Venable)<br>
Solution:&nbsp;&nbsp; Properly skip the syntax statements.&nbsp;&nbsp;Make &quot;syn case&quot; and &quot;syn<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conceal&quot; report the current state.&nbsp;&nbsp;Fix that &quot;syn clear&quot; didn't<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reset the conceal flag.&nbsp;&nbsp;Add tests for :syntax skipping properly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/testdir/test_syntax.vim<br>
<br>
Patch 8.0.0199<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for an unused parameter when the libcall feature is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disabled.&nbsp;&nbsp;Warning for a function type cast when compiling with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-pedantic.<br>
Solution:&nbsp;&nbsp; Add UNUSED.&nbsp;&nbsp;Use a different type cast. (Damien Molinier)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/os_unix.c<br>
<br>
Patch 8.0.0200<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some syntax arguments are not tested.<br>
Solution:&nbsp;&nbsp; Add more syntax command tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim<br>
<br>
Patch 8.0.0201<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When completing a group name for a highlight or syntax command<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleared groups are included.<br>
Solution:&nbsp;&nbsp; Skip groups that have been cleared.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/testdir/test_syntax.vim<br>
<br>
Patch 8.0.0202<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for invalid syntax group name.<br>
Solution:&nbsp;&nbsp; Add a test for group name error and warning.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim<br>
<br>
Patch 8.0.0203<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Order of complication flags is sometimes wrong.<br>
Solution:&nbsp;&nbsp; Put interface-specific flags before ALL_CFLAGS. (idea by Yousong<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Zhou, closes #1100)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.0204<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warns for uninitialized variable. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; When skipping set &quot;id&quot; to -1.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.0205<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After :undojoin some commands don't work properly, such as :redo.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Matthew Malcomson)<br>
Solution:&nbsp;&nbsp; Don't set curbuf-&gt;b_u_curhead. (closes #1390)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c, src/testdir/test_undo.vim<br>
<br>
Patch 8.0.0206<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test coverage for :retab insufficient.<br>
Solution:&nbsp;&nbsp; Add test for :retab. (Dominique Pelle, closes #1391)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/test_retab.vim<br>
<br>
Patch 8.0.0207<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking file descriptor when system() cannot find the buffer.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Coverity)<br>
Solution:&nbsp;&nbsp; Close the file descriptor.&nbsp;&nbsp;(Dominique Pelle, closes #1398)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.0.0208<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Internally used commands for&nbsp;<span class="Special">CTRL-Z</span>&nbsp;and mouse click end up in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;history. (Matthew Malcomson)<br>
Solution:&nbsp;&nbsp; Use do_cmdline_cmd() instead of stuffing them in the readahead<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer. (James McCoy, closes #1395)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/normal.c<br>
<br>
Patch 8.0.0209<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using :substitute with the &quot;c&quot; flag and&nbsp;<a class="Type" href="options.html#'cursorbind'">'cursorbind'</a>&nbsp;is set<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the cursor is not updated in other windows.<br>
Solution:&nbsp;&nbsp; Call do_check_cursorbind(). (Masanori Misono)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.0.0210<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim does not support bracketed paste, as implemented by xterm and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other terminals.<br>
Solution:&nbsp;&nbsp; Add t_BE, t_BD, t_PS and t_PE.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/term.h, src/option.c, src/misc2.c, src/keymap.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/normal.c, src/evalfunc.c, src/getchar.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/proto/edit.pro, runtime/doc/term.txt<br>
<br>
Patch 8.0.0211 (after 8.0.0210)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails if the multi-byte feature is disabled.<br>
Solution:&nbsp;&nbsp; Change #ifdef around ins_char_bytes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 8.0.0212<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The buffer used to store a key name theoretically could be too<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;small. (Coverity)<br>
Solution:&nbsp;&nbsp; Count all possible modifier characters.&nbsp;&nbsp;Add a check for the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;length just in case.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/keymap.h, src/misc2.c<br>
<br>
Patch 8.0.0213<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The Netbeans &quot;specialKeys&quot; command does not check if the argument<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fits in the buffer. (Coverity)<br>
Solution:&nbsp;&nbsp; Add a length check.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c<br>
<br>
Patch 8.0.0214<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory when syntax cluster id is unknown. (Coverity)<br>
Solution:&nbsp;&nbsp; Free the memory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.0215<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a Cscope line contains&nbsp;<span class="Special">CTRL-L</span>&nbsp;a NULL pointer may be used.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Coverity)<br>
Solution:&nbsp;&nbsp; Don't check for an emacs tag in a cscope line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c<br>
<br>
Patch 8.0.0216<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When decoding JSON with a JS style object the JSON test may use a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NULL pointer. (Coverity)<br>
Solution:&nbsp;&nbsp; Check for a NULL pointer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/json_test.c<br>
<br>
Patch 8.0.0217 (after 8.0.0215)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails without the cscope feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c<br>
<br>
Patch 8.0.0218<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No command line completion for :cexpr, :cgetexpr, :caddexpr, etc.<br>
Solution:&nbsp;&nbsp; Make completion work. (Yegappan Lakshmanan)&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.0219<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ubsan reports errors for integer overflow.<br>
Solution:&nbsp;&nbsp; Define macros for minimum and maximum values.&nbsp;&nbsp;Select an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression based on the value. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c, src/eval.c, src/evalfunc.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viml.vim<br>
<br>
Patch 8.0.0220<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completion for :match does not show &quot;none&quot; and other missing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;highlight names.<br>
Solution:&nbsp;&nbsp; Skip over cleared entries before checking the index to be at the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.0221<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Checking if PROTO is defined inside a function has no effect.<br>
Solution:&nbsp;&nbsp; Remove the check for PROTO. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 8.0.0222<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a multi-byte character ends in a zero byte, putting blockwise<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text puts it before the character instead of after it.<br>
Solution:&nbsp;&nbsp; Use int instead of char for the character under the cursor.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Luchr, closes #1403)&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_put.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim<br>
<br>
Patch 8.0.0223<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity gets confused by the flags passed to find_tags() and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;warns about uninitialized variable.<br>
Solution:&nbsp;&nbsp; Disallow using cscope and help tags at the same time.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c<br>
<br>
Patch 8.0.0224<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'fileformats'">'fileformats'</a>&nbsp;is changed in a BufReadPre auto command, it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;does not take effect in readfile(). (Gary Johnson)<br>
Solution:&nbsp;&nbsp; Check the value of&nbsp;<a class="Type" href="options.html#'fileformats'">'fileformats'</a>&nbsp;after executing auto commands.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/testdir/test_fileformat.vim<br>
<br>
Patch 8.0.0225<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a block is visually selected and put is used on the end of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the selection only one line is changed.<br>
Solution:&nbsp;&nbsp; Check for the end properly. (Christian Brabandt, neovim issue<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;5781)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_put.vim<br>
<br>
Patch 8.0.0226<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The test for patch 8.0.0224 misses the CR characters and passes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;even without the fix. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Use double quotes and \<span class="Special">&lt;CR&gt;</span>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fileformat.vim<br>
<br>
Patch 8.0.0227<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when&nbsp;<a class="Type" href="options.html#'fileformat'">'fileformat'</a>&nbsp;is forced to &quot;dos&quot; and the first line in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the file is empty and does not have a CR character.<br>
Solution:&nbsp;&nbsp; Don't check for CR before the start of the buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/testdir/test_fileformat.vim<br>
<br>
Patch 8.0.0228 (after 8.0.0210)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When pasting test in an xterm on the command line it is surrounded<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by&nbsp;<span class="Special">&lt;PasteStart&gt;</span>&nbsp;and&nbsp;<span class="Special">&lt;PasteEnd&gt;</span>. (Johannes Kaltenbach)<br>
Solution:&nbsp;&nbsp; Add missing changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/term.c<br>
<br>
Patch 8.0.0229 (after 8.0.0179)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When freeing a buffer the local value of the&nbsp;<a class="Type" href="options.html#'formatprg'">'formatprg'</a>&nbsp;option is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not cleared.<br>
Solution:&nbsp;&nbsp; Add missing change.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 8.0.0230 (after 8.0.0210)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using bracketed paste line breaks are not respected.<br>
Solution:&nbsp;&nbsp; Turn CR characters into a line break if the text is being<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inserted. (closes #1404)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 8.0.0231<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There are no tests for bracketed paste mode.<br>
Solution:&nbsp;&nbsp; Add a test.&nbsp;&nbsp;Fix repeating with &quot;normal .&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_paste.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 8.0.0232<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Pasting in Insert mode does not work when bracketed paste is used<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;<a class="Type" href="options.html#'esckeys'">'esckeys'</a>&nbsp;is off.<br>
Solution:&nbsp;&nbsp; When&nbsp;<a class="Type" href="options.html#'esckeys'">'esckeys'</a>&nbsp;is off disable bracketed paste in Insert mode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 8.0.0233 (after 8.0.0231)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The paste test fails if the GUI is being used.<br>
Solution:&nbsp;&nbsp; Skip the test in the GUI.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_paste.vim<br>
<br>
Patch 8.0.0234 (after 8.0.0225)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When several lines are visually selected and one of them is short,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using put may cause a crash. (Axel Bender)<br>
Solution:&nbsp;&nbsp; Check for a short line. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_put.vim<br>
<br>
Patch 8.0.0235<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak detected when running tests for diff mode.<br>
Solution:&nbsp;&nbsp; Free p_extra_free.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.0236 (after 8.0.0234)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Gcc complains that a variable may be used uninitialized. Confusion<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;between variable and label name. (John Marriott)<br>
Solution:&nbsp;&nbsp; Initialize it.&nbsp;&nbsp;Rename end to end_lnum.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 8.0.0237<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When setting wildoptions=tagfile the completion context is not set<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;correctly. (desjardins)<br>
Solution:&nbsp;&nbsp; Check for EXPAND_TAGS_LISTFILES. (Christian Brabandt, closes #1399)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.0238<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using bracketed paste autoindent causes indent to be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increased.<br>
Solution:&nbsp;&nbsp; Disable&nbsp;<a class="Type" href="options.html#'ai'">'ai'</a>&nbsp;and set&nbsp;<a class="Type" href="options.html#'paste'">'paste'</a>&nbsp;temporarily. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_paste.vim<br>
<br>
Patch 8.0.0239<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The address sanitizer sometimes finds errors, but it needs to be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;run manually.<br>
Solution:&nbsp;&nbsp; Add an environment to Travis with clang and the address sanitizer.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)&nbsp;&nbsp;Also include changes only on github.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.0240 (after 8.0.0239)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The clang build on CI fails with one configuration.<br>
Solution:&nbsp;&nbsp; Redo a previous patch that was accidentally reverted.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.0241<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim defines a mch_memmove() function but it doesn't work, thus is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;always unused.<br>
Solution:&nbsp;&nbsp; Remove the mch_memmove implementation. (suggested by Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.h, src/misc2.c, src/vim.h<br>
<br>
Patch 8.0.0242<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completion of user defined functions is not covered by tests.<br>
Solution:&nbsp;&nbsp; Add tests.&nbsp;&nbsp;Also test various errors of user-defined commands.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle, closes #1413)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_usercommands.vim<br>
<br>
Patch 8.0.0243<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When making a character lower case with tolower() changes the byte<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count, it is not made lower case.<br>
Solution:&nbsp;&nbsp; Add strlow_save(). (Dominique Pelle, closes #1406)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/misc2.c, src/proto/misc2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.0.0244<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the user sets t_BE empty after startup to disable bracketed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;paste, this has no direct effect.<br>
Solution:&nbsp;&nbsp; When t_BE is made empty write t_BD.&nbsp;&nbsp;When t_BE is made non-empty<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write the new value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.0245<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The generated zh_CN.cp936.po message file is not encoded properly.<br>
Solution:&nbsp;&nbsp; Instead of using zh_CN.po as input, use zh_CN.UTF-8.po.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Makefile<br>
<br>
Patch 8.0.0246<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for int to pointer conversion.<br>
Solution:&nbsp;&nbsp; Fix macro for mch_memmove(). (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.0.0247<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Under some circumstances, one needs to type Ctrl-<span class="Special">N</span>&nbsp;or Ctrl-P twice<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to have a menu entry selected. (Lifepillar)<br>
Solution:&nbsp;&nbsp; call ins_compl_free(). (Christian Brabandt, closes #1411)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_popup.vim<br>
<br>
Patch 8.0.0248<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;vim_strcat() cannot handle overlapping arguments.<br>
Solution:&nbsp;&nbsp; Use mch_memmove() instead of strcpy(). (Justin M. Keyes,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1415)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 8.0.0249<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When two submits happen quick after each other, the tests for the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;first one may error out.<br>
Solution:&nbsp;&nbsp; Use a git depth of 10 instead of 1. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.0250<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When virtcol() gets a column that is not the first byte of a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;multi-byte character the result is unpredictable. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ludwig)<br>
Solution:&nbsp;&nbsp; Correct the column to the first byte of a multi-byte character.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Change the utf-8 test to new style.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c, src/testdir/test_utf8.in, src/testdir/test_utf8.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_utf8.vim, src/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot_utf8.vim<br>
<br>
Patch 8.0.0251<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not so easy to write a script that works with both Python 2<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and Python 3, even when the Python code works with both.<br>
Solution:&nbsp;&nbsp; Add&nbsp;<a class="Type" href="options.html#'pyxversion'">'pyxversion'</a>, :pyx, etc. (Marc Weber, Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, runtime/doc/eval.txt, runtime/doc/if_pyth.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/index.txt, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim, runtime/doc/quickref.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_41.txt, src/Makefile, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/ex_cmds2.c, src/ex_docmd.c, src/if_python.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python3.c, src/option.c, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds2.pro, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/pyxfile/py2_magic.py,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/pyxfile/py2_shebang.py,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/pyxfile/py3_magic.py,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/pyxfile/py3_shebang.py, src/testdir/pyxfile/pyx.py,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_pyx2.vim, src/testdir/test_pyx3.vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 8.0.0252<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Characters below 256 that are not one byte are not always<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recognized as word characters.<br>
Solution:&nbsp;&nbsp; Make vim_iswordc() and vim_iswordp() work the same way. Add a test<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for this. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/charset.c, src/kword_test.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/mbyte.pro<br>
<br>
Patch 8.0.0253<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When creating a session when&nbsp;<a class="Type" href="options.html#'winminheight'">'winminheight'</a>&nbsp;is 2 or larger and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loading that session gives an error.<br>
Solution:&nbsp;&nbsp; Also set&nbsp;<a class="Type" href="options.html#'winminheight'">'winminheight'</a>&nbsp;before setting&nbsp;<a class="Type" href="options.html#'winheight'">'winheight'</a>&nbsp;to 1. (Rafael<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bodill, neovim #5717)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_mksession.vim<br>
<br>
Patch 8.0.0254<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using an assert function one can either specify a message or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get a message about what failed, not both.<br>
Solution:&nbsp;&nbsp; Concatenate the error with the message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_assert.vim<br>
<br>
Patch 8.0.0255<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When calling setpos() with a buffer argument it often is ignored.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Matthew Malcomson)<br>
Solution:&nbsp;&nbsp; Make the buffer argument work for all marks local to a buffer.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(neovim #5713)&nbsp;&nbsp;Add more tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mark.c, src/testdir/test_marks.vim, runtime/doc/eval.txt<br>
<br>
Patch 8.0.0256 (after 8.0.0255)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests fail because some changes were not included.<br>
Solution:&nbsp;&nbsp; Add changes to evalfunc.c<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.0.0257 (after 8.0.0252)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The keyword test file is not included in the archive.<br>
Solution:&nbsp;&nbsp; Update the list of files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.0.0258 (after 8.0.0253)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;mksession test leaves file behind.<br>
Solution:&nbsp;&nbsp; Delete the file.&nbsp;&nbsp;Rename files to start with &quot;X&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim<br>
<br>
Patch 8.0.0259<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tab commands do not handle count correctly. (Ken Hamada)<br>
Solution:&nbsp;&nbsp; Add ADDR_TABS_RELATIVE. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/tabpage.txt, src/ex_cmds.h, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabpage.vim<br>
<br>
Patch 8.0.0260<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails with tiny features.<br>
Solution:&nbsp;&nbsp; Move get_tabpage_arg() inside #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.0.0261<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough test coverage for eval functions.<br>
Solution:&nbsp;&nbsp; Add more tests. (Dominique Pelle, closes #1420)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.0.0262<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Farsi support is barely tested.<br>
Solution:&nbsp;&nbsp; Add more tests for Farsi.&nbsp;&nbsp;Clean up the code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/farsi.c, src/testdir/test_farsi.vim<br>
<br>
Patch 8.0.0263<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Farsi support is not tested enough.<br>
Solution:&nbsp;&nbsp; Add more tests for Farsi.&nbsp;&nbsp;Clean up the code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/farsi.c, src/testdir/test_farsi.vim<br>
<br>
Patch 8.0.0264<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory error reported by ubsan, probably for using the string<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returned by execute().<br>
Solution:&nbsp;&nbsp; NUL terminate the result of execute().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.0.0265<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May get ml_get error when :pydo deletes lines or switches to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;another buffer. (Nikolai Pavlov, issue #1421)<br>
Solution:&nbsp;&nbsp; Check the buffer and line every time.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/testdir/test_python2.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_python3.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 8.0.0266<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for using uninitialized variable.<br>
Solution:&nbsp;&nbsp; Set tab_number also when there is an error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.0.0267<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A channel test sometimes fails on Mac.<br>
Solution:&nbsp;&nbsp; Add the test to the list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.0268<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May get ml_get error when :luado deletes lines or switches to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;another buffer. (Nikolai Pavlov, issue #1421)<br>
Solution:&nbsp;&nbsp; Check the buffer and line every time.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c, src/testdir/test_lua.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 8.0.0269<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May get ml_get error when :perldo deletes lines or switches to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;another buffer. (Nikolai Pavlov, issue #1421)<br>
Solution:&nbsp;&nbsp; Check the buffer and line every time.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs, src/testdir/test_perl.vim<br>
<br>
Patch 8.0.0270<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May get ml_get error when :rubydo deletes lines or switches to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;another buffer. (Nikolai Pavlov, issue #1421)<br>
Solution:&nbsp;&nbsp; Check the buffer and line every time.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c, src/testdir/test_ruby.vim<br>
<br>
Patch 8.0.0271<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May get ml_get error when :tcldo deletes lines or switches to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;another buffer. (Nikolai Pavlov, closes #1421)<br>
Solution:&nbsp;&nbsp; Check the buffer and line every time.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_tcl.c, src/testdir/test_tcl.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 8.0.0272<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash on exit is not detected when running tests.<br>
Solution:&nbsp;&nbsp; Remove the dash before the command. (Dominique Pelle, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1425)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile<br>
<br>
Patch 8.0.0273<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dead code detected by Coverity when not using gnome.<br>
Solution:&nbsp;&nbsp; Rearrange the #ifdefs to avoid dead code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 8.0.0274<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When update_single_line() is called recursively, or another screen<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update happens while it is busy, errors may occur.<br>
Solution:&nbsp;&nbsp; Check and update updating_screen. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.0275<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When checking for&nbsp;<span class="Special">CTRL-C</span>&nbsp;typed the GUI may detect a screen resize<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and redraw the screen, causing trouble.<br>
Solution:&nbsp;&nbsp; Set updating_screen in ui_breakcheck().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.0.0276<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Checking for FEAT_GUI_GNOME inside GTK 3 code is unnecessary.<br>
Solution:&nbsp;&nbsp; Remove the #ifdef. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 8.0.0277<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The GUI test may trigger fontconfig and take a long time.<br>
Solution:&nbsp;&nbsp; Set $XDG_CACHE_HOME. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/unix.vim, src/testdir/test_gui.vim<br>
<br>
Patch 8.0.0278 (after 8.0.0277)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Check that tester_HOME exists.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 8.0.0279<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With MSVC 2015 the dll name is vcruntime140.dll.<br>
Solution:&nbsp;&nbsp; Check the MSVC version and use the right dll name. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.0.0280<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows setting an environment variable with multi-byte<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;strings does not work well.<br>
Solution:&nbsp;&nbsp; Use wputenv when possible. (Taro Muraoka, Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/os_win32.c, src/os_win32.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_win32.pro, src/vim.h<br>
<br>
Patch 8.0.0281<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows files are still using ARGSUSED while most other files<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;have UNUSED.<br>
Solution:&nbsp;&nbsp; Change ARGSUSED to UNUSED or delete it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/gui_w32.c, src/os_mswin.c, src/os_w32exe.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/winclip.c<br>
<br>
Patch 8.0.0282<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When doing a Visual selection and using &quot;I&quot; to go to insert mode,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-O</span>&nbsp;needs to be used twice to go to Normal mode. (Coacher)<br>
Solution:&nbsp;&nbsp; Check for the return value of edit(). (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1290)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/ops.c<br>
<br>
Patch 8.0.0283<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The return value of mode() does not indicate that completion is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;active in Replace and Insert mode. (Zhen-Huan (Kenny) Hu)<br>
Solution:&nbsp;&nbsp; Add &quot;c&quot; or &quot;x&quot; for two kinds of completion. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1397)&nbsp;&nbsp;Test some more modes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/testdir/test_mapping.vim<br>
<br>
Patch 8.0.0284<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The Test_collapse_buffers() test failed once, looks like it is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flaky.<br>
Solution:&nbsp;&nbsp; Add it to the list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.0285 (after 8.0.0277)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests fail with tiny build on Unix.<br>
Solution:&nbsp;&nbsp; Only set g:tester_HOME when build with the +eval feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/unix.vim<br>
<br>
Patch 8.0.0286<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When concealing is active and the screen is resized in the GUI it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is not immediately redrawn.<br>
Solution:&nbsp;&nbsp; Use update_prepare() and update_finish() from<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;update_single_line().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.0287<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot access the arguments of the current function in debug mode.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Luc Hermitte)<br>
Solution:&nbsp;&nbsp; use get_funccal(). (LemonBoy, closes #1432, closes #1352)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 8.0.0288 (after 8.0.0284)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Errors reported while running tests.<br>
Solution:&nbsp;&nbsp; Put comma in the right place.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.0289<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for &quot;ga&quot; and :ascii.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #1429)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/test_alot.vim, src/testdir/test_ga.vim<br>
<br>
Patch 8.0.0290<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If a wide character doesn't fit at the end of the screen line, and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the line doesn't fit on the screen, then the cursor position may<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be wrong. (anliting)<br>
Solution:&nbsp;&nbsp; Don't skip over wide character. (Christian Brabandt, closes #1408)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.0291 (after 8.0.0282)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Visual block insertion does not insert in all lines.<br>
Solution:&nbsp;&nbsp; Don't bail out of insert too early. Add a test. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #1290)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_visual.vim<br>
<br>
Patch 8.0.0292<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The stat test is a bit slow.<br>
Solution:&nbsp;&nbsp; Remove a couple of sleep comments and reduce another.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_stat.vim<br>
<br>
Patch 8.0.0293<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some tests have a one or three second wait.<br>
Solution:&nbsp;&nbsp; Reset the&nbsp;<a class="Type" href="options.html#'showmode'">'showmode'</a>&nbsp;option.&nbsp;&nbsp;Use a test time of one to disable<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sleep after an error or warning message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/runtest.vim, src/testdir/test_normal.vim<br>
<br>
Patch 8.0.0294<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Argument list is not stored correctly in a session file.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(lgpasquale)<br>
Solution:&nbsp;&nbsp; Use &quot;$argadd&quot; instead of &quot;argadd&quot;. (closes #1434)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_mksession.vim<br>
<br>
Patch 8.0.0295 (after 8.0.0293)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_viml hangs.<br>
Solution:&nbsp;&nbsp; Put resetting&nbsp;<a class="Type" href="options.html#'more'">'more'</a>&nbsp;before sourcing the script.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.0296<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Bracketed paste can only append, not insert.<br>
Solution:&nbsp;&nbsp; When the cursor is in the first column insert the text.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_paste.vim, runtime/doc/term.txt<br>
<br>
Patch 8.0.0297<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Double free on exit when using a closure. (James McCoy)<br>
Solution:&nbsp;&nbsp; Split free_al_functions in two parts. (closes #1428)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/structs.h<br>
<br>
Patch 8.0.0298<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ex command range with repeated search does not work. (Bruce<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;DeVisser)<br>
Solution:&nbsp;&nbsp; Skip over \/, \? and \&amp;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.0299<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the GUI window is resized Vim does not always take over the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;new size. (Luchr)<br>
Solution:&nbsp;&nbsp; Reset new_p_guifont in gui_resize_shell().&nbsp;&nbsp;Call<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gui_may_resize_shell() in the main loop.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/gui.c<br>
<br>
Patch 8.0.0300<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot stop diffing hidden buffers. (Daniel Hahler)<br>
Solution:&nbsp;&nbsp; When using :diffoff! make the whole list if diffed buffers empty.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #736)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/testdir/test_diffmode.vim<br>
<br>
Patch 8.0.0301<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for &quot;:set completion&quot; and various errors of the :set<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;command.<br>
Solution:&nbsp;&nbsp; Add more :set tests. (Dominique Pelle, closes #1440)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim<br>
<br>
Patch 8.0.0302<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot set terminal key codes with :let.<br>
Solution:&nbsp;&nbsp; Make it work.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_assign.vim<br>
<br>
Patch 8.0.0303<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Bracketed paste does not work in Visual mode.<br>
Solution:&nbsp;&nbsp; Delete the text before pasting<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/ops.c, src/proto/ops.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_paste.vim<br>
<br>
Patch 8.0.0304 (after 8.0.0302)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Assign test fails in the GUI.<br>
Solution:&nbsp;&nbsp; Skip the test for setting t_k1.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_assign.vim<br>
<br>
Patch 8.0.0305<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access when option has duplicate flag.<br>
Solution:&nbsp;&nbsp; Correct pointer computation. (Dominique Pelle, closes #1442)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_options.vim<br>
<br>
Patch 8.0.0306<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;mode() not sufficiently tested.<br>
Solution:&nbsp;&nbsp; Add more tests. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.0.0307<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Asan detects a memory error when EXITFREE is defined. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Solution:&nbsp;&nbsp; In getvcol() check for ml_get_buf() returning an empty string.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also skip adjusting the scroll position.&nbsp;&nbsp;Set &quot;exiting&quot; in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mch_exit() for all systems.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c, src/window.c, src/os_mswin.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_amiga.c<br>
<br>
Patch 8.0.0308<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using a symbolic link, the package path will not be inserted<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at the right position in&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>. (Dugan Chen, Norio Takagi)<br>
Solution:&nbsp;&nbsp; Resolve symbolic links when finding the right position in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_packadd.vim<br>
<br>
Patch 8.0.0309<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use an empty key in json.<br>
Solution:&nbsp;&nbsp; Allow for using an empty key.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/testdir/test_json.vim<br>
<br>
Patch 8.0.0310<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough testing for GUI functionality.<br>
Solution:&nbsp;&nbsp; Add tests for v:windowid and getwinpos[xy](). (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 8.0.0311<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Linebreak tests are old style.<br>
Solution:&nbsp;&nbsp; Turn the tests into new style. Share utility functions. (Ozaki<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kiichi, closes #1444)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_breakindent.vim, src/testdir/test_listlbr.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr.ok, src/testdir/test_listlbr.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr_utf8.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr_utf8.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr_utf8.vim, src/testdir/view_util.vim<br>
<br>
Patch 8.0.0312<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a json message arrives in pieces, the start is dropped and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the decoding fails.<br>
Solution:&nbsp;&nbsp; Do not drop the start when it is still needed. (Kay Zheng)&nbsp;&nbsp;Add a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test.&nbsp;&nbsp;Reset the timeout when something is received.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel_pipe.py<br>
<br>
Patch 8.0.0313 (after 8.0.0310)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough testing for GUI functionality.<br>
Solution:&nbsp;&nbsp; Add tests for the GUI font. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 8.0.0314<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getcmdtype(), getcmdpos() and getcmdline() are not tested.<br>
Solution:&nbsp;&nbsp; Add tests. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.0315<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:help :<span class="Special">[range]</span>&quot; does not work. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Translate to insert a backslash.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.0.0316<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:help z?&quot; does not work. (Pavol Juhas)<br>
Solution:&nbsp;&nbsp; Remove exception for z?.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.0.0317<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for setting&nbsp;<a class="Type" href="options.html#'guifont'">'guifont'</a>.<br>
Solution:&nbsp;&nbsp; Add a test for X11 GUIs. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 8.0.0318<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Small mistake in 7x13 font name.<br>
Solution:&nbsp;&nbsp; Use ISO 8859-1 name instead of 10646-1. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 8.0.0319<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insert mode completion does not respect &quot;start&quot; in&nbsp;<a class="Type" href="options.html#'backspace'">'backspace'</a>.<br>
Solution:&nbsp;&nbsp; Check whether backspace can go before where insert started.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_popup.vim<br>
<br>
Patch 8.0.0320<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for unused variable with small build.<br>
Solution:&nbsp;&nbsp; Change #ifdef to exclude FEAT_CMDWIN. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.0.0321<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using the tiny version trying to load the matchit plugin<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gives an error. On MS-Windows some default mappings fail.<br>
Solution:&nbsp;&nbsp; Add a check if the command used is available. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/mswin.vim, runtime/macros/matchit.vim<br>
<br>
Patch 8.0.0322<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Possible overflow with spell file where the tree length is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corrupted.<br>
Solution:&nbsp;&nbsp; Check for an invalid length (suggested by shqking)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spellfile.c<br>
<br>
Patch 8.0.0323<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When running the command line tests there is a one second wait.<br>
Solution:&nbsp;&nbsp; Change an Esc to Ctrl-C. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.0324<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access with &quot;1;y&quot;.<br>
Solution:&nbsp;&nbsp; Call check_cursor() instead of check_cursor_lnum(). (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle, closes #1455)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.0325<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Packadd test does not clean up symlink.<br>
Solution:&nbsp;&nbsp; Delete the link. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_packadd.vim<br>
<br>
Patch 8.0.0326 (after 8.0.0325)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Packadd test uses wrong directory name.<br>
Solution:&nbsp;&nbsp; Use the variable name value. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_packadd.vim<br>
<br>
Patch 8.0.0327<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The E11 error message in the command line window is not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translated.<br>
Solution:&nbsp;&nbsp; use _(). (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.0.0328<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The &quot;zero count&quot; error doesn't have a number. (Hirohito Higashi)<br>
Solution:&nbsp;&nbsp; Give it a number and be more specific about the error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h<br>
<br>
Patch 8.0.0329<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Xfontset and guifontwide are not tested.<br>
Solution:&nbsp;&nbsp; Add tests. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 8.0.0330<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access after &quot;vapo&quot;. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Fix the cursor column.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_visual.vim<br>
<br>
Patch 8.0.0331<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Restoring help snapshot accesses freed memory. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Don't restore a snapshot when the window closes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_help.vim<br>
<br>
Patch 8.0.0332<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI test fails on some systems.<br>
Solution:&nbsp;&nbsp; Try different language settings. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 8.0.0333<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access when&nbsp;<a class="Type" href="options.html#'complete'">'complete'</a>&nbsp;ends in a backslash.<br>
Solution:&nbsp;&nbsp; Check for trailing backslash. (Dominique Pelle, closes #1478)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_options.vim<br>
<br>
Patch 8.0.0334<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't access b:changedtick from a dict reference.<br>
Solution:&nbsp;&nbsp; Make changedtick a member of the b: dict. (inspired by neovim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#6112)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/buffer.c, src/edit.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_docmd.c, src/main.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/memline.c, src/misc1.c, src/syntax.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/testdir/test_changedtick.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/test_alot.vim, src/testdir/test91.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test91.ok, src/testdir/test_functions.vim<br>
<br>
Patch 8.0.0335 (after 8.0.0335)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Functions test fails.<br>
Solution:&nbsp;&nbsp; Use the right buffer number.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.0.0336<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Flags of :substitute not sufficiently tested.<br>
Solution:&nbsp;&nbsp; Test up to two letter flag combinations. (James McCoy, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1479)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_substitute.vim<br>
<br>
Patch 8.0.0337<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access in :recover command.<br>
Solution:&nbsp;&nbsp; Avoid access before directory name. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1488)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/memline.c, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_recover.vim<br>
<br>
Patch 8.0.0338 (after 8.0.0337)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:recover test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use non-existing directory on MS-Windows.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_recover.vim<br>
<br>
Patch 8.0.0339<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access with vi'<br>
Solution:&nbsp;&nbsp; For quoted text objects bail out if the Visual area spans more<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;than one line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_visual.vim<br>
<br>
Patch 8.0.0340<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not checking return value of dict_add(). (Coverity)<br>
Solution:&nbsp;&nbsp; Handle a failure.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 8.0.0341<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using complete() and typing a character undo is saved after<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the character was inserted. (Shougo)<br>
Solution:&nbsp;&nbsp; Save for undo before inserting the character.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_popup.vim<br>
<br>
Patch 8.0.0342<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Double free when compiled with EXITFREE and setting&nbsp;<a class="Type" href="options.html#'ttytype'">'ttytype'</a>.<br>
Solution:&nbsp;&nbsp; Avoid setting P_ALLOCED on&nbsp;<a class="Type" href="options.html#'ttytype'">'ttytype'</a>. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1461)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_options.vim<br>
<br>
Patch 8.0.0343<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;b:changedtick can be unlocked, even though it has no effect.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Nikolai Pavlov)<br>
Solution:&nbsp;&nbsp; Add a check and error E940. (closes #1496)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_changedtick.vim, runtime/doc/eval.txt<br>
<br>
Patch 8.0.0344<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unlet command leaks memory. (Nikolai Pavlov)<br>
Solution:&nbsp;&nbsp; Free the memory on error. (closes #1497)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_unlet.vim<br>
<br>
Patch 8.0.0345<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;islocked('d.changedtick') does not work.<br>
Solution:&nbsp;&nbsp; Make it work.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/eval.c, src/evalfunc.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_changedtick.vim,<br>
<br>
Patch 8.0.0346<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim relies on limits.h to be included indirectly, but on Solaris 9<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it may not be. (Ben Fritz)<br>
Solution:&nbsp;&nbsp; Always include limits.h.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unixx.h, src/vim.h<br>
<br>
Patch 8.0.0347<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using&nbsp;<span class="Special">CTRL-X</span>&nbsp;<span class="Special">CTRL-U</span>&nbsp;inside a comment, the use of the comment<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;leader may not work. (Klement)<br>
Solution:&nbsp;&nbsp; Save and restore did_ai. (Christian Brabandt, closes #1494)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_popup.vim<br>
<br>
Patch 8.0.0348<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When building with a shadow directory on macOS lacks the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+clipboard feature.<br>
Solution:&nbsp;&nbsp; Link *.m files, specifically os_macosx.m. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.0349<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Redrawing errors with GTK 3.<br>
Solution:&nbsp;&nbsp; When updating, first clear all rectangles and then draw them.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Kazunobu Kuriyama, Christian Ludwig, closes #848)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 8.0.0350<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough test coverage for Perl.<br>
Solution:&nbsp;&nbsp; Add more Perl tests. (Dominique Pelle, closes #1500)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_perl.vim<br>
<br>
Patch 8.0.0351<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for concatenating an empty string that results from out of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bounds indexing.<br>
Solution:&nbsp;&nbsp; Add a simple test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expr.vim<br>
<br>
Patch 8.0.0352<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The condition for when a typval needs to be cleared is too<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;complicated.<br>
Solution:&nbsp;&nbsp; Init the type to VAR_UNKNOWN and always clear it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.0.0353<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;<span class="Special">[RO]</span>&nbsp;in the status line is translated to a longer string, it is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;truncated to 4 bytes.<br>
Solution:&nbsp;&nbsp; Skip over the resulting string. (Jente Hidskes, closes #1499)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.0354<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test to check that setting termcap key fails sometimes.<br>
Solution:&nbsp;&nbsp; Check for &quot;t_k1&quot; to exist. (Christian Brabandt, closes #1459)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_assign.vim<br>
<br>
Patch 8.0.0355<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using uninitialized memory when&nbsp;<a class="Type" href="options.html#'isfname'">'isfname'</a>&nbsp;is empty.<br>
Solution:&nbsp;&nbsp; Don't call getpwnam() without an argument. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1464)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test_options.vim<br>
<br>
Patch 8.0.0356 (after 8.0.0342)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory when setting&nbsp;<a class="Type" href="options.html#'ttytype'">'ttytype'</a>.<br>
Solution:&nbsp;&nbsp; Get free_oldval from the right option entry.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.0357<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when setting&nbsp;<a class="Type" href="options.html#'guicursor'">'guicursor'</a>&nbsp;to weird value.<br>
Solution:&nbsp;&nbsp; Avoid negative size. (Dominique Pelle, closes #1465)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/testdir/test_options.vim<br>
<br>
Patch 8.0.0358<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access in C-indent code.<br>
Solution:&nbsp;&nbsp; Don't go over end of empty line. (Dominique Pelle, closes #1492)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_options.vim<br>
<br>
Patch 8.0.0359<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'number'">'number'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'relativenumber'">'relativenumber'</a>&nbsp;are not properly tested.<br>
Solution:&nbsp;&nbsp; Add tests, change old style to new style tests. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1447)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test89.in, src/testdir/test89.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/test_findfile.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_number.vim<br>
<br>
Patch 8.0.0360<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sometimes VimL is used, which is confusing.<br>
Solution:&nbsp;&nbsp; Consistently use &quot;Vim script&quot;. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_mzsch.txt, runtime/doc/if_pyth.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/syntax.txt, runtime/doc/usr_02.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/version7.txt, src/Makefile, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/if_py_both.h, src/if_xcmdsrv.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/runtest.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test49.vim, src/testdir/test_vimscript.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viml.vim<br>
<br>
Patch 8.0.0361<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI initialisation is not sufficiently tested.<br>
Solution:&nbsp;&nbsp; Add the gui_init test. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/gui_init.vim, src/testdir/setup_gui.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim, src/testdir/test_gui_init.vim, Filelist<br>
<br>
Patch 8.0.0362 (after 8.0.0361)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests fail on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use $*.vim instead of $&lt;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak<br>
<br>
Patch 8.0.0363<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Travis is too slow to keep up with patches.<br>
Solution:&nbsp;&nbsp; Increase git depth to 20<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.0364<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;]s does not move cursor with two spell errors in one line. (Manuel<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ortega)<br>
Solution:&nbsp;&nbsp; Don't stop search immediately when wrapped, search the line first.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ken Takata)&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/Makefile, src/testdir/test_spell.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 8.0.0365<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Might free a dict item that wasn't allocated.<br>
Solution:&nbsp;&nbsp; Call dictitem_free(). (Nikolai Pavlov)&nbsp;&nbsp;Use this for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b:changedtick.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dict.c, src/structs.h, src/buffer.c, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_docmd.c, src/fileio.c, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/misc1.c, src/syntax.c<br>
<br>
Patch 8.0.0366 (after 8.0.0365)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails with tiny features.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 8.0.0367<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If configure defines _LARGE_FILES some include files are included<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;before it is defined.<br>
Solution:&nbsp;&nbsp; Include vim.h first. (Sam Thursfield, closes #1508)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_at_sb.c, src/gui_athena.c, src/gui_motif.c, src/gui_x11.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_xmdlg.c<br>
<br>
Patch 8.0.0368<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all options are tested with a range of values.<br>
Solution:&nbsp;&nbsp; Generate a test script from the source code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/gen_opt_test.vim, src/testdir/test_options.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.0369 (after 8.0.0368)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;<a class="Type" href="options.html#'balloondelay'">'balloondelay'</a>,&nbsp;<a class="Type" href="options.html#'ballooneval'">'ballooneval'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'balloonexpr'">'balloonexpr'</a>&nbsp;options are<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not defined without the +balloon_eval feature. Testing that an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option value fails does not work for unsupported options.<br>
Solution:&nbsp;&nbsp; Make the options defined but not supported.&nbsp;&nbsp;Don't test if<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setting unsupported options fails.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/gen_opt_test.vim<br>
<br>
Patch 8.0.0370<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access when setting wildchar empty.<br>
Solution:&nbsp;&nbsp; Avoid going over the end of the option value. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1509)&nbsp;&nbsp;Make option test check all number options with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;empty value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gen_opt_test.vim, src/option.c, src/testdir/test_options.vim<br>
<br>
Patch 8.0.0371 (after 8.0.0365)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory when setting v:completed_item.<br>
Solution:&nbsp;&nbsp; Or the flags instead of setting them.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.0.0372<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More options are not always defined.<br>
Solution:&nbsp;&nbsp; Consistently define all possible options.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_expand_dllpath.vim<br>
<br>
Patch 8.0.0373<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails without +folding.<br>
Solution:&nbsp;&nbsp; Move misplaced #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.0374<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access when using :sc in Ex mode. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Avoid the column being negative.&nbsp;&nbsp;Also fix a hang in Ex mode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/ex_cmds.c, src/testdir/test_substitute.vim<br>
<br>
Patch 8.0.0375<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The &quot;+ register is not tested.<br>
Solution:&nbsp;&nbsp; Add a test using another Vim instance to change the &quot;+ register.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 8.0.0376<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Size computations in spell file reading are not exactly right.<br>
Solution:&nbsp;&nbsp; Make &quot;len&quot; a &quot;long&quot; and check with LONG_MAX.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spellfile.c<br>
<br>
Patch 8.0.0377<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Possible overflow when reading corrupted undo file.<br>
Solution:&nbsp;&nbsp; Check if allocated size is not too big. (King)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 8.0.0378<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Another possible overflow when reading corrupted undo file.<br>
Solution:&nbsp;&nbsp; Check if allocated size is not too big. (King)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 8.0.0379<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-Z</span>&nbsp;and mouse click use&nbsp;<span class="Special">CTRL-O</span>&nbsp;unnecessary.<br>
Solution:&nbsp;&nbsp; Remove stuffing&nbsp;<span class="Special">CTRL-O</span>. (James McCoy, closes #1453)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/normal.c<br>
<br>
Patch 8.0.0380<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;set and&nbsp;<a class="Type" href="options.html#'breakat'">'breakat'</a>&nbsp;includes &quot;&gt;&quot; a double-wide<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;character results in &quot;&lt;&lt;&quot; displayed.<br>
Solution:&nbsp;&nbsp; Check for the character not to be replaced. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1456)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_listlbr_utf8.vim<br>
<br>
Patch 8.0.0381<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Diff mode is not sufficiently tested.<br>
Solution:&nbsp;&nbsp; Add more diff mode tests. (Dominique Pelle, closes #1515)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_diffmode.vim<br>
<br>
Patch 8.0.0382 (after 8.0.0380)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning in tiny build for unused variable. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.0383 (after 8.0.0382)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Misplaced #ifdef. (Christ van Willigen)<br>
Solution:&nbsp;&nbsp; Split assignment.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.0384<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Timer test failed for no apparent reason.<br>
Solution:&nbsp;&nbsp; Mark the test as flaky.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.0385<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for arabic.<br>
Solution:&nbsp;&nbsp; Add a first test for arabic. (Dominique Pelle, closes #1518)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arabic.vim<br>
<br>
Patch 8.0.0386<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tiny build has a problem with generating the options test.<br>
Solution:&nbsp;&nbsp; Change the &quot;if&quot; to skip over statements.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gen_opt_test.vim<br>
<br>
Patch 8.0.0387<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;compiler warnings<br>
Solution:&nbsp;&nbsp; Add type casts. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/memline.c<br>
<br>
Patch 8.0.0388<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;filtering lines through &quot;cat&quot;, without changing the line count,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;changes manual folds.<br>
Solution:&nbsp;&nbsp; Change how marks and folds are adjusted. (Matthew Malcomson, from<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;neovim #6194).<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c, src/testdir/test_fold.vim<br>
<br>
Patch 8.0.0389<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for arabic does not check what is displayed.<br>
Solution:&nbsp;&nbsp; Improve what is asserted. (Dominique Pelle, closes #1523)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a first shaping test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arabic.vim<br>
<br>
Patch 8.0.0390<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the window scrolls horizontally when the popup menu is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayed part of it may not be cleared. (Neovim issue #6184)<br>
Solution:&nbsp;&nbsp; Remove the menu when the windows scrolled. (closes #1524)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 8.0.0391<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Arabic support is verbose and not well tested.<br>
Solution:&nbsp;&nbsp; Simplify the code.&nbsp;&nbsp;Add more tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/arabic.c, src/testdir/test_arabic.vim<br>
<br>
Patch 8.0.0392<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI test fails with Athena and Motif.<br>
Solution:&nbsp;&nbsp; Add test_ignore_error().&nbsp;&nbsp;Use it to ignore the &quot;failed to create<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input context&quot; error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/proto/message.pro, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim, runtime/doc/eval.txt<br>
<br>
Patch 8.0.0393 (after 8.0.0190)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the same tag appears more than once, the order is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unpredictable. (Charles Campbell)<br>
Solution:&nbsp;&nbsp; Besides using a dict for finding duplicates, use a grow array for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keeping the tags in sequence.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/testdir/test_tagjump.vim<br>
<br>
Patch 8.0.0394<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tabs are not aligned when scrolling horizontally and a Tab doesn't<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fit. (Axel Bender)<br>
Solution:&nbsp;&nbsp; Handle a Tab as a not fitting character. (Christian Brabandt)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also fix that &quot;:redraw&quot; does not scroll horizontally to show the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cursor.&nbsp;&nbsp;And fix the test that depended on the old behavior.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/ex_docmd.c, src/testdir/test_listlbr.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_breakindent.vim<br>
<br>
Patch 8.0.0395 (after 8.0.0392)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Testing the + register fails with Motif.<br>
Solution:&nbsp;&nbsp; Also ignore the &quot;failed to create input context&quot; error in the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;second gvim.&nbsp;&nbsp;Don't use msg() when it would result in a dialog.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/testdir/test_gui.vim, src/testdir/setup_gui.vim<br>
<br>
Patch 8.0.0396<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'balloonexpr'">'balloonexpr'</a>&nbsp;only works synchronously.<br>
Solution:&nbsp;&nbsp; Add balloon_show(). (Jusufadis Bakamovic, closes #1449)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.0.0397 (after 8.0.0392)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with the viminfo feature but without the eval<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feature.<br>
Solution:&nbsp;&nbsp; Adjust #ifdef. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/misc2.c<br>
<br>
Patch 8.0.0398<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access with &quot;t&quot;.<br>
Solution:&nbsp;&nbsp; Use strncmp() instead of memcmp(). (Dominique Pelle, closes #1528)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_search.vim<br>
<br>
Patch 8.0.0399<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using balloon_show() when not supported. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Solution:&nbsp;&nbsp; Check for balloonEval not to be NULL. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_functions.vim<br>
<br>
Patch 8.0.0400<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some tests have a one second delay.<br>
Solution:&nbsp;&nbsp; Add --not-a-term in RunVim().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim<br>
<br>
Patch 8.0.0401<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test fails with missing balloon feature.<br>
Solution:&nbsp;&nbsp; Add check for balloon feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.0.0402<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:map completion does not have&nbsp;<span class="Special">&lt;special&gt;</span>. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Recognize&nbsp;<span class="Special">&lt;special&gt;</span>&nbsp;in completion.&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.0403<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI tests may fail.<br>
Solution:&nbsp;&nbsp; Ignore the E285 error better. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim, src/testdir/test_gui_init.vim<br>
<br>
Patch 8.0.0404<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough testing for quickfix.<br>
Solution:&nbsp;&nbsp; Add some more tests. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0405<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;v:progpath may become invalid after &quot;:cd&quot;.<br>
Solution:&nbsp;&nbsp; Turn v:progpath into a full path if needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/testdir/test_startup.vim, runtime/doc/eval.txt<br>
<br>
Patch 8.0.0406<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The arabic shaping code is verbose.<br>
Solution:&nbsp;&nbsp; Shorten the code without changing the functionality.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/arabic.c<br>
<br>
Patch 8.0.0407 (after 8.0.0388)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Filtering folds with marker method not tested.<br>
Solution:&nbsp;&nbsp; Also set&nbsp;<a class="Type" href="options.html#'foldmethod'">'foldmethod'</a>&nbsp;to &quot;marker&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fold.vim<br>
<br>
Patch 8.0.0408<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Updating folds does not work properly when inserting a file and a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;few other situations.<br>
Solution:&nbsp;&nbsp; Adjust the way folds are updated. (Matthew Malcomson)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c, src/testdir/test_fold.vim<br>
<br>
Patch 8.0.0409<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;set_progpath is defined but not always used<br>
Solution:&nbsp;&nbsp; Adjust #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.0.0410<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Newer gettext/iconv library has extra dll file.<br>
Solution:&nbsp;&nbsp; Add the file to the Makefile and nsis script. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makefile, nsis/gvim.nsi<br>
<br>
Patch 8.0.0411<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;We can't change the case in menu entries, it breaks translations.<br>
Solution:&nbsp;&nbsp; Ignore case when looking up a menu translation.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/menu.c, src/testdir/test_menu.vim<br>
<br>
Patch 8.0.0412 (after 8.0.0411)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Menu test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use a menu entry with only ASCII characters.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_menu.vim<br>
<br>
Patch 8.0.0413 (after 8.0.0412)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Menu test fails on MS-Windows using gvim.<br>
Solution:&nbsp;&nbsp; First delete the English menus.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_menu.vim<br>
<br>
Patch 8.0.0414<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Balloon eval is not tested.<br>
Solution:&nbsp;&nbsp; Add a few balloon tests. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 8.0.0415 (after 8.0.0414)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Balloon test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Test with 0x7fffffff instead of 0xffffffff.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 8.0.0416<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting v:progpath is not quite right.<br>
Solution:&nbsp;&nbsp; On MS-Windows add the extension. On Unix use the full path for a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative directory. (partly by James McCoy, closes #1531)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/os_win32.c, src/os_unix.c<br>
<br>
Patch 8.0.0417<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for the clipboard fails sometimes.<br>
Solution:&nbsp;&nbsp; Add it to the flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.0418<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ASAN logs are disabled and don't cause a failure.<br>
Solution:&nbsp;&nbsp; Enable ASAN logs and fail if not empty. (James McCoy,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1425)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.0419<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for v:progpath fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Expand to full path.&nbsp;&nbsp;Also add &quot;.exe&quot; when the path is an absolute<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;path.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/main.c<br>
<br>
Patch 8.0.0420<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When running :make the output may be in the system encoding,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;different from&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<a class="Type" href="options.html#'makeencoding'">'makeencoding'</a>&nbsp;option. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/quickfix.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/quickref.txt, src/Makefile, src/buffer.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c, src/main.c, src/option.c, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/quickfix.pro, src/quickfix.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_makeencoding.py,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_makeencoding.vim<br>
<br>
Patch 8.0.0421<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Diff mode is displayed wrong when adding a line at the end of a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.<br>
Solution:&nbsp;&nbsp; Adjust marks in diff mode. (James McCoy, closes #1329)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/ops.c, src/testdir/test_diffmode.vim<br>
<br>
Patch 8.0.0422<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python test fails with Python 3.6.<br>
Solution:&nbsp;&nbsp; Convert new exception messages to old ones. (closes #1359)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test87.in<br>
<br>
Patch 8.0.0423<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The effect of adding &quot;#&quot; to&nbsp;<a class="Type" href="options.html#'cinoptions'">'cinoptions'</a>&nbsp;is not always removed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(David Briscoe)<br>
Solution:&nbsp;&nbsp; Reset b_ind_hash_comment. (Christian Brabandt, closes #1475)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cindent.vim, src/testdir/test3.in<br>
<br>
Patch 8.0.0424<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings on MS-Windows. (Ajit Thakkar)<br>
Solution:&nbsp;&nbsp; Add type casts.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.0.0425<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build errors when building without folding.<br>
Solution:&nbsp;&nbsp; Add #ifdefs. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/edit.c, src/option.c, src/syntax.c<br>
<br>
Patch 8.0.0426<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insufficient testing for statusline.<br>
Solution:&nbsp;&nbsp; Add several tests. (Dominique Pelle, closes #1534)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_statusline.vim<br>
<br>
Patch 8.0.0427<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'makeencoding'">'makeencoding'</a>&nbsp;missing from the options window.<br>
Solution:&nbsp;&nbsp; Add the entry.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim<br>
<br>
Patch 8.0.0428<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Git and hg see new files after running tests. (Manuel Ortega)<br>
Solution:&nbsp;&nbsp; Add the generated file to .hgignore (or .gitignore). Delete the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;resulting verbose file. (Christian Brabandt)&nbsp;&nbsp;Improve dependency<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on opt_test.vim.&nbsp;&nbsp;Reset the&nbsp;<a class="Type" href="options.html#'more'">'more'</a>&nbsp;option.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.hgignore, src/gen_opt_test.vim, src/testdir/gen_opt_test.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.0.0429<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Options test does not always test everything.<br>
Solution:&nbsp;&nbsp; Fix dependency for opt_test.vim.&nbsp;&nbsp;Give a message when opt_test.vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;was not found.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim, src/testdir/gen_opt_test.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak<br>
<br>
Patch 8.0.0430<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Options test fails or hangs on MS-Windows.<br>
Solution:&nbsp;&nbsp; Run it separately instead of part of test_alot.&nbsp;&nbsp;Use &quot;-S&quot; instead<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of &quot;-u&quot; to run the script.&nbsp;&nbsp;Fix failures.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/gen_opt_test.vim<br>
<br>
Patch 8.0.0431<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'cinoptions'">'cinoptions'</a>&nbsp;cannot set indent for extern block.<br>
Solution:&nbsp;&nbsp; Add the &quot;E&quot; flag in&nbsp;<a class="Type" href="options.html#'cinoptions'">'cinoptions'</a>. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/indent.txt, src/misc1.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cindent.vim<br>
<br>
Patch 8.0.0432<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make shadow&quot; creates an invalid link.<br>
Solution:&nbsp;&nbsp; Don't link &quot;*.vim&quot;. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.0433<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quite a few beeps when running tests.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'belloff'">'belloff'</a>&nbsp;for these tests. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test103.in, src/testdir/test14.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test29.in, src/testdir/test30.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test32.in, src/testdir/test45.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test72.in, src/testdir/test73.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test77.in, src/testdir/test78.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test85.in, src/testdir/test94.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/test_alot_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_close_count.in, src/testdir/test_cmdline.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_diffmode.vim, src/testdir/test_digraph.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_erasebackword.in, src/testdir/test_normal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_packadd.vim, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textobjects.vim, src/testdir/test_undo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_usercommands.vim, src/testdir/test_visual.vim<br>
<br>
Patch 8.0.0434<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clang version not correctly detected.<br>
Solution:&nbsp;&nbsp; Adjust the configure script. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.0435<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some functions are not tested.<br>
Solution:&nbsp;&nbsp; Add more tests for functions. (Dominique Pelle, closes #1541)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.0.0436<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running the options test sometimes resizes the terminal.<br>
Solution:&nbsp;&nbsp; Clear out t_WS.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/gen_opt_test.vim<br>
<br>
Patch 8.0.0437<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The packadd test does not create the symlink correctly and does<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not test the right thing.<br>
Solution:&nbsp;&nbsp; Create the directory and symlink correctly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_packadd.vim<br>
<br>
Patch 8.0.0438<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The fnamemodify test changes&nbsp;<a class="Type" href="options.html#'shell'">'shell'</a>&nbsp;in a way later tests may not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be able to use system().<br>
Solution:&nbsp;&nbsp; Save and restore&nbsp;<a class="Type" href="options.html#'shell'">'shell'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fnamemodify.vim<br>
<br>
Patch 8.0.0439<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;:%argdel&quot; while the argument list is already empty gives an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error. (Pavol Juhas)<br>
Solution:&nbsp;&nbsp; Don't give an error. (closes #1546)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_arglist.vim<br>
<br>
Patch 8.0.0440<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough test coverage in Insert mode.<br>
Solution:&nbsp;&nbsp; Add lots of tests.&nbsp;&nbsp;Add test_override(). (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1521)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/globals.h,&nbsp;&nbsp;src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_cursor_func.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_edit.vim, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_assert.vim, src/Makefile, src/testdir/runtest.vim<br>
<br>
Patch 8.0.0441<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dead code in #ifdef.<br>
Solution:&nbsp;&nbsp; Remove the #ifdef and #else part.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.0442<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Patch shell command uses double quotes around the argument, which<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allows for $HOME to be expanded. (Etienne)<br>
Solution:&nbsp;&nbsp; Use single quotes on Unix. (closes #1543)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/testdir/test_diffmode.vim<br>
<br>
Patch 8.0.0443<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal width is set to 80 in test3.<br>
Solution:&nbsp;&nbsp; Instead of setting&nbsp;<a class="Type" href="options.html#'columns'">'columns'</a>&nbsp;set&nbsp;<a class="Type" href="options.html#'wrapmargin'">'wrapmargin'</a>&nbsp;depending on<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'columns.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test3.in<br>
<br>
Patch 8.0.0444 (after 8.0.0442)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Diffpatch fails when the file name has a quote.<br>
Solution:&nbsp;&nbsp; Escape the name properly. (zetzei)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/testdir/test_diffmode.vim<br>
<br>
Patch 8.0.0445<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Getpgid is not supported on all systems.<br>
Solution:&nbsp;&nbsp; Add a configure check.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure, src/config.h.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.0446<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The &quot;;&quot; command does not work after characters with a lower byte<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that is NUL.<br>
Solution:&nbsp;&nbsp; Properly check for not having a previous character. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/search.c, src/testdir/test_alot_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_charsearch_utf8.vim<br>
<br>
Patch 8.0.0447<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Getting font name does not work on X11.<br>
Solution:&nbsp;&nbsp; Implement gui_mch_get_fontname() for X11.&nbsp;&nbsp;Add more GUI tests.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c, src/syntax.c, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/gui_init.vim, src/testdir/gui_preinit.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim, src/testdir/test_gui_init.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.0.0448<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some macros are in lower case, which can be confusing.<br>
Solution:&nbsp;&nbsp; Make a few lower case macros upper case.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h, src/buffer.c, src/charset.c, src/ops.c, src/diff.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/evalfunc.c, src/ex_cmds.c, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/fold.c, src/gui.c, src/gui_beval.c, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mark.c, src/misc1.c, src/move.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/popupmnu.c, src/regexp.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/spell.c, src/tag.c, src/ui.c, src/undo.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/workshop.c, src/if_perl.xs<br>
<br>
Patch 8.0.0449 (after 8.0.0448)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Part of fold patch accidentally included.<br>
Solution:&nbsp;&nbsp; Revert that part of the patch.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.0.0450<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;v:progpath is not reliably set.<br>
Solution:&nbsp;&nbsp; Read /proc/self/exe if possible. (idea by Michal Grochmal)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also fixes missing #if.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/config.h.in<br>
<br>
Patch 8.0.0451<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some macros are in lower case.<br>
Solution:&nbsp;&nbsp; Make a few more macros upper case. Avoid lower case macros use an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;argument twice.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h, src/charset.c, src/misc2.c, src/proto/misc2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/eval.c, src/ex_cmds.c, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/ex_getln.c, src/fileio.c, src/fold.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/gui_gtk.c, src/mark.c, src/memline.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/menu.c, src/message.c, src/misc1.c, src/ops.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_amiga.c, src/os_mswin.c, src/os_unix.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c, src/regexp.c, src/regexp_nfa.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/spell.c, src/spellfile.c, src/syntax.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/ui.c, src/undo.c, src/window.c<br>
<br>
Patch 8.0.0452<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some macros are in lower case.<br>
Solution:&nbsp;&nbsp; Make a few more macros upper case.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/macros.h, src/evalfunc.c, src/fold.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk.c, src/gui_gtk_x11.c, src/charset.c, src/diff.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/eval.c, src/ex_cmds.c, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/ex_getln.c, src/fileio.c, src/getchar.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/gui_w32.c, src/if_cscope.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/menu.c, src/message.c, src/misc1.c, src/misc2.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/option.c, src/os_unix.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/regexp.c, src/regexp_nfa.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/spell.c, src/syntax.c, src/tag.c, src/userfunc.c<br>
<br>
Patch 8.0.0453<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Adding fold marker creates new comment.<br>
Solution:&nbsp;&nbsp; Use an existing comment if possible. (LemonBoy, closes #1549)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/proto/ops.pro, src/fold.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fold.vim<br>
<br>
Patch 8.0.0454<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for comparing unsigned char with 256 always<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;being true. (Manuel Ortega)<br>
Solution:&nbsp;&nbsp; Add type cast.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/charset.c<br>
<br>
Patch 8.0.0455<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The mode test may hang in Test_mode(). (Michael Soyka)<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'complete'">'complete'</a>&nbsp;to only search the current buffer (as suggested by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Michael)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.0.0456<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in MinGW test makefile.<br>
Solution:&nbsp;&nbsp; Change an underscore to a dot. (Michael Soyka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak<br>
<br>
Patch 8.0.0457<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using :move messes up manual folds.<br>
Solution:&nbsp;&nbsp; Split adjusting marks and folds.&nbsp;&nbsp;Add foldMoveRange(). (neovim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;patch #6221)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/fold.c, src/mark.c, src/proto/fold.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/mark.pro src/testdir/test_fold.vim<br>
<br>
Patch 8.0.0458<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Potential crash if adding list or dict to dict fails.<br>
Solution:&nbsp;&nbsp; Make sure the reference count is correct. (Nikolai Pavlov, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1555)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dict.c<br>
<br>
Patch 8.0.0459 (after 8.0.0457)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old fix for :move messing up folding no longer needed, now that we<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;have a proper solution.<br>
Solution:&nbsp;&nbsp; Revert patch 7.4.700. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.0.0460 (after 8.0.0452)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build on HPUX.<br>
Solution:&nbsp;&nbsp; Fix argument names in vim_stat(). (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 8.0.0461 (after 8.0.0457)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 45 hangs on MS-Windows.<br>
Solution:&nbsp;&nbsp; Reset&nbsp;<a class="Type" href="options.html#'shiftwidth'">'shiftwidth'</a>.&nbsp;&nbsp;Also remove redundant function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c, src/testdir/test45.in<br>
<br>
Patch 8.0.0462<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If an MS-Windows tests succeeds at first and then fails in a way<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it does not produce a test.out file it looks like the test<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;succeeded.<br>
Solution:&nbsp;&nbsp; Delete the previous output file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak<br>
<br>
Patch 8.0.0463<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Resetting&nbsp;<a class="Type" href="options.html#'compatible'">'compatible'</a>&nbsp;in defaults.vim has unexpected side<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;effects. (David Fishburn)<br>
Solution:&nbsp;&nbsp; Only reset&nbsp;<a class="Type" href="options.html#'compatible'">'compatible'</a>&nbsp;if it was set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/defaults.vim<br>
<br>
Patch 8.0.0464<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't find executable name on Solaris and FreeBSD.<br>
Solution:&nbsp;&nbsp; Check for &quot;/proc/self/path/a.out&quot;. (Danek Duvall) And for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;/proc/curproc/file&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.h.in, src/configure.ac, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/auto/configure<br>
<br>
Patch 8.0.0465<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Off-by-one error in using :move with folding.<br>
Solution:&nbsp;&nbsp; Correct off-by-one mistakes and add more tests. (Matthew<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Malcomson)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c, src/testdir/test_fold.vim<br>
<br>
Patch 8.0.0466<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There are still a few macros that should be all-caps.<br>
Solution:&nbsp;&nbsp; Make a few more macros all-caps.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/edit.c, src/ex_cmds.c, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/ex_getln.c, src/farsi.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/gui_beval.c, src/hardcopy.c, src/if_cscope.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_xcmdsrv.c, src/mark.c, src/memline.c, src/menu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/misc1.c, src/normal.c, src/ops.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/screen.c, src/search.c, src/syntax.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/term.c, src/term.h, src/ui.c, src/undo.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/version.c, src/vim.h<br>
<br>
Patch 8.0.0467<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using g&lt; after :for does not show the right output. (Marcin<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Szamotulski)<br>
Solution:&nbsp;&nbsp; Call msg_sb_eol() in :echomsg.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.0.0468<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After aborting an Ex command g&lt; does not work. (Marcin<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Szamotulski)<br>
Solution:&nbsp;&nbsp; Postpone clearing scrollback messages to until the command line<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;has been entered.&nbsp;&nbsp;Also fix that the screen isn't redrawn if after<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g&lt; the command line is cancelled.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/proto/message.pro, src/ex_getln.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.0.0469<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add type casts. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c<br>
<br>
Patch 8.0.0470<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough testing for help commands.<br>
Solution:&nbsp;&nbsp; Add a few more help tests. (Dominique Pelle, closes #1565)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_help.vim, src/testdir/test_help_tagjump.vim<br>
<br>
Patch 8.0.0471<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Exit callback test sometimes fails.<br>
Solution:&nbsp;&nbsp; Add it to the list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.0472<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a test fails and test.log is created, Test_edit_CTRL_I<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches it instead of test1.in.<br>
Solution:&nbsp;&nbsp; Match with runtest.vim instead.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_edit.vim<br>
<br>
Patch 8.0.0473<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test covering arg_all().<br>
Solution:&nbsp;&nbsp; Add a test expanding ##.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim<br>
<br>
Patch 8.0.0474<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The client-server feature is not tested.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/shared.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_clientserver.vim, src/os_mswin.c<br>
<br>
Patch 8.0.0475<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough testing for the client-server feature.<br>
Solution:&nbsp;&nbsp; Add more tests.&nbsp;&nbsp;Add the remote_startserver() function.&nbsp;&nbsp;Fix that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a locally evaluated expression uses function-local variables.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_xcmdsrv.c, src/evalfunc.c, src/os_mswin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/main.pro, src/testdir/test_clientserver.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.0.0476 (after 8.0.0475)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing change to main.c.<br>
Solution:&nbsp;&nbsp; Add new function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.0.0477<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The client-server test may hang when failing.<br>
Solution:&nbsp;&nbsp; Set a timer.&nbsp;&nbsp;Add assert_report()<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_clientserver.vim, src/testdir/runtest.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalfunc.c, src/proto/eval.pro, src/if_xcmdsrv.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, runtime/doc/eval.txt<br>
<br>
Patch 8.0.0478<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests use assert_true(0) and assert_false(1) to report errors.<br>
Solution:&nbsp;&nbsp; Use assert_report().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cscope.vim, src/testdir/test_expr.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_perl.vim, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cursor_func.vim, src/testdir/test_gui.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_menu.vim, src/testdir/test_popup.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viminfo.vim, src/testdir/test_vimscript.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_assert.vim<br>
<br>
Patch 8.0.0479<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;remote_peek() is not tested.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_clientserver.vim, src/testdir/runtest.vim<br>
<br>
Patch 8.0.0480<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The remote_peek() test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Check for pending messages. Also report errors in the first run if<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a flaky test fails twice.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/testdir/runtest.vim<br>
<br>
Patch 8.0.0481<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnecessary if statement.<br>
Solution:&nbsp;&nbsp; Remove the statement.&nbsp;&nbsp;Fix &quot;it's&quot; vs &quot;its&quot; mistakes. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle, closes #1568)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.0482<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The setbufvar() function may mess up the window layout. (Kay Z.)<br>
Solution:&nbsp;&nbsp; Do not check the window to be valid if it is NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_functions.vim<br>
<br>
Patch 8.0.0483<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access when using :all. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Adjust the cursor position right after setting &quot;curwin&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.0.0484<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using :lhelpgrep with an argument that should fail does not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;produce an error if the previous :helpgrep worked.<br>
Solution:&nbsp;&nbsp; Use another way to detect that autocommands made the quickfix info<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invalid. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0485<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all windows commands are tested.<br>
Solution:&nbsp;&nbsp; Add more tests for windows commands. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1575) Run test_autocmd separately, it interferes with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other tests.&nbsp;&nbsp;Fix tests that depended on side effects.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_window_cmd.vim, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/testdir/test_fnamemodify.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/testdir/test_delete.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 8.0.0486<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash and endless loop when closing windows in a SessionLoadPost<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;autocommand.<br>
Solution:&nbsp;&nbsp; Check for valid tabpage.&nbsp;&nbsp;(partly neovim #6308)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/fileio.c, src/proto/window.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.0.0487<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The autocmd test hangs on MS-Windows.<br>
Solution:&nbsp;&nbsp; Skip the hanging tests for now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.0488<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running tests leaves an &quot;xxx&quot; file behind.<br>
Solution:&nbsp;&nbsp; Delete the&nbsp;<a class="Type" href="options.html#'verbosefile'">'verbosefile'</a>&nbsp;after resetting the option.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/gen_opt_test.vim<br>
<br>
Patch 8.0.0489<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clipboard and &quot;* register is not tested.<br>
Solution:&nbsp;&nbsp; Add a test for Mac and X11. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quotestar.vim, src/testdir/runtest.vim<br>
<br>
Patch 8.0.0490<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Splitting a&nbsp;<a class="Type" href="options.html#'winfixwidth'">'winfixwidth'</a>&nbsp;window vertically makes it one column<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;smaller. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Add one to the width for the separator.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.0.0491<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The quotestar test fails when a required feature is missing.<br>
Solution:&nbsp;&nbsp; Prepend &quot;Skipped&quot; to the thrown exception.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quotestar.vim<br>
<br>
Patch 8.0.0492<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A failing client-server request can make Vim hang.<br>
Solution:&nbsp;&nbsp; Add a timeout argument to functions that wait.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/if_xcmdsrv.c, src/proto/if_xcmdsrv.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/os_mswin.c, src/proto/os_mswin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, runtime/doc/eval.txt, src/testdir/test_clientserver.vim<br>
<br>
Patch 8.0.0493<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash with cd command with very long argument.<br>
Solution:&nbsp;&nbsp; Check for running out of space. (Dominique Pelle, closes #1576)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/test_cd.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 8.0.0494<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure with older compiler on MS-Windows.<br>
Solution:&nbsp;&nbsp; Move declaration to start of block.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/main.c, src/os_mswin.c<br>
<br>
Patch 8.0.0495<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The quotestar test uses a timer instead of a timeout, thus it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cannot be rerun like a flaky test.<br>
Solution:&nbsp;&nbsp; Remove the timer and add a timeout. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quotestar.vim<br>
<br>
Patch 8.0.0496<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insufficient testing for folding.<br>
Solution:&nbsp;&nbsp; Add a couple more fold tests. (Dominique Pelle, closes #1579)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fold.vim<br>
<br>
Patch 8.0.0497<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Arabic support is not fully tested.<br>
Solution:&nbsp;&nbsp; Add more tests for the untested functions.&nbsp;&nbsp;Comment out<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unreachable code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/arabic.c, src/testdir/test_arabic.vim<br>
<br>
Patch 8.0.0498<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Two autocmd tests are skipped on MS-Windows.<br>
Solution:&nbsp;&nbsp; Make the test pass on MS-Windows. Write the messages in a file<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instead of getting the output of system().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.0499<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;taglist() does not prioritize tags for a buffer.<br>
Solution:&nbsp;&nbsp; Add an optional buffer argument. (Duncan McDougall, closes #1194)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/proto/tag.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/tag.c, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_taglist.vim<br>
<br>
Patch 8.0.0500<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quotestar test is still a bit flaky.<br>
Solution:&nbsp;&nbsp; Add a slower check for v:version.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quotestar.vim<br>
<br>
Patch 8.0.0501<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows &quot;:!start&quot; does not work as expected.<br>
Solution:&nbsp;&nbsp; When creating a process fails try passing the argument to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ShellExecute().&nbsp;&nbsp;(Katsuya Hino, closes #1570)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/os_win32.txt, src/os_win32.c<br>
<br>
Patch 8.0.0502<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity complains about possible NULL pointer.<br>
Solution:&nbsp;&nbsp; Add an assert(), let's see if this works on all systems.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.0.0503<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Endless loop in updating folds with 32 bit ints.<br>
Solution:&nbsp;&nbsp; Subtract from LHS instead of add to the RHS. (Matthew Malcomson)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c<br>
<br>
Patch 8.0.0504<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Looking up an Ex command is a bit slow.<br>
Solution:&nbsp;&nbsp; Instead of just using the first letter, also use the second letter<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to skip ahead in the list of commands. Generate the table with a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Perl script. (Dominique Pelle, closes #1589)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/create_cmdidxs.pl, src/ex_docmd.c, Filelist<br>
<br>
Patch 8.0.0505<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Failed window split for :stag not handled. (Coverity CID 99204)<br>
Solution:&nbsp;&nbsp; If the split fails skip to the end. (bstaletic, closes #1577)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c<br>
<br>
Patch 8.0.0506 (after 8.0.0504)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with ANSI C.<br>
Solution:&nbsp;&nbsp; Move declarations to start of block.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.0.0507<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Client-server tests fail when $DISPLAY is not set.<br>
Solution:&nbsp;&nbsp; Check for E240 before running the test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quotestar.vim, src/testdir/test_clientserver.vim<br>
<br>
Patch 8.0.0508<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coveralls no longer shows per-file coverage.<br>
Solution:&nbsp;&nbsp; Add coverage from codecov.io. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.0509<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No link to codecov.io results.<br>
Solution:&nbsp;&nbsp; Add a badge to the readme file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.md<br>
<br>
Patch 8.0.0510 (after 8.0.0509)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in link to codecov.io results.<br>
Solution:&nbsp;&nbsp; Remove duplicate https:.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.md<br>
<br>
Patch 8.0.0511<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Message for skipping client-server tests is unclear.<br>
Solution:&nbsp;&nbsp; Be more specific about what's missing (Hirohito Higashi, Kazunobu<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quotestar.vim, src/testdir/test_clientserver.vim<br>
<br>
Patch 8.0.0512<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Check for available characters takes too long.<br>
Solution:&nbsp;&nbsp; Only check did_start_blocking if wtime is negative. (Daisuke<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Suzuki, closes #1591)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.0513 (after 8.0.0201)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Getting name of cleared highlight group is wrong. (Matt Wozniski)<br>
Solution:&nbsp;&nbsp; Only skip over cleared names for completion. (closes #1592)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also fix that a cleared group causes duplicate completions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/proto/syntax.pro, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_syntax.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.0514<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Script for creating cmdidxs can be improved.<br>
Solution:&nbsp;&nbsp; Count skipped lines instead of collecting the lines.&nbsp;&nbsp;Add &quot;const&quot;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle, closes #1594)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/create_cmdidxs.pl, src/ex_docmd.c<br>
<br>
Patch 8.0.0515<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ml_get errors in silent Ex mode. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Clear valid flags when setting the cursor.&nbsp;&nbsp;Set the topline when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not in full screen mode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/move.c, src/testdir/test_startup.vim<br>
<br>
Patch 8.0.0516<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A large count on a normal command causes trouble. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Solution:&nbsp;&nbsp; Make &quot;opcount&quot; long.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/testdir/test_normal.vim<br>
<br>
Patch 8.0.0517<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no way to remove quickfix lists (for testing).<br>
Solution:&nbsp;&nbsp; Add the 'f' action to setqflist(). Add tests. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0518<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Storing a zero byte from a multi-byte character causes fold text<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to show up wrong.<br>
Solution:&nbsp;&nbsp; Avoid putting zero in ScreenLines. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1567)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_display.vim<br>
<br>
Patch 8.0.0519<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Character classes are not well tested. They can differ between<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;platforms.<br>
Solution:&nbsp;&nbsp; Add tests.&nbsp;&nbsp;In the documentation make clear which classes depend<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on what library function.&nbsp;&nbsp;Only use :cntrl: and :graph: for ASCII.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Kazunobu Kuriyama, Dominique Pelle, closes #1560)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update the documentation.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp_nfa.c, runtime/doc/pattern.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_regexp_utf8.vim<br>
<br>
Patch 8.0.0520<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using a function pointer instead of the actual function, which we<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;know.<br>
Solution:&nbsp;&nbsp; Change mb_ functions to utf_ functions when already checked for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unicode. (Dominique Pelle, closes #1582)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/misc2.c, src/regexp.c, src/regexp_nfa.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/spell.c<br>
<br>
Patch 8.0.0521<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GtkForm handling is outdated.<br>
Solution:&nbsp;&nbsp; Get rid of event filter functions.&nbsp;&nbsp;Get rid of GtkForm.width and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.height.&nbsp;&nbsp;Eliminate gtk_widget_size_request() calls. (Kazunobu<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_f.c, src/gui_gtk_f.h<br>
<br>
Patch 8.0.0522<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: when&nbsp;<a class="Type" href="options.html#'clipboard'">'clipboard'</a>&nbsp;is &quot;unnamed&quot; yyp does not work in a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:global command.<br>
Solution:&nbsp;&nbsp; When setting the clipboard was postponed, do not clear the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;register.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/proto/ui.pro, src/ui.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_global.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim<br>
<br>
Patch 8.0.0523<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;dv} deletes part of a multi-byte character. (Urtica Dioica)<br>
Solution:&nbsp;&nbsp; Include the whole character.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_normal.vim<br>
<br>
Patch 8.0.0524 (after 8.0.0518)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Folds are messed up when&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;is &quot;utf-8&quot;.<br>
Solution:&nbsp;&nbsp; Also set the fold character when it's not multi-byte.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_display.vim<br>
<br>
Patch 8.0.0525<br>
Solution:&nbsp;&nbsp; Completion for user command argument not tested.<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.0526<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity complains about possible negative value.<br>
Solution:&nbsp;&nbsp; Check return value of ftell() not to be negative.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.0527<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;RISC OS support was removed long ago, but one file is still<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;included.<br>
Solution:&nbsp;&nbsp; Delete the file. (Thomas Dziedzic, closes #1603)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/swis.s<br>
<br>
Patch 8.0.0528<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'wildmenu'">'wildmenu'</a>&nbsp;is set and&nbsp;<a class="Type" href="options.html#'wildmode'">'wildmode'</a>&nbsp;has &quot;longest&quot; then the first<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file name is highlighted, even though the text shows the longest<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;match.<br>
Solution:&nbsp;&nbsp; Do not highlight the first match. (LemonBoy, closes #1602)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.0.0529<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Line in test commented out.<br>
Solution:&nbsp;&nbsp; Uncomment the lines for character classes that were failing before<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;8.0.0519. (Dominique Pelle, closes #1599)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_regexp_utf8.vim<br>
<br>
Patch 8.0.0530<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Buffer overflow when&nbsp;<a class="Type" href="options.html#'columns'">'columns'</a>&nbsp;is very big. (Nikolai Pavlov)<br>
Solution:&nbsp;&nbsp; Correctly compute where to truncate.&nbsp;&nbsp;Fix translation.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #1600)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_edit.vim<br>
<br>
Patch 8.0.0531 (after 8.0.0530)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test with long directory name fails on non-unix systems.<br>
Solution:&nbsp;&nbsp; Skip the test on non-unix systems.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_edit.vim<br>
<br>
Patch 8.0.0532 (after 8.0.0531)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test with long directory name fails on Mac.<br>
Solution:&nbsp;&nbsp; Skip the test on Mac systems.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_edit.vim<br>
<br>
Patch 8.0.0533<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Abbreviation doesn't work after backspacing newline. (Hkonrk)<br>
Solution:&nbsp;&nbsp; Set the insert start column. (closes #1609)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.vim, src/edit.c<br>
<br>
Patch 8.0.0534<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Defaults.vim does not work well with tiny features. (crd477)<br>
Solution:&nbsp;&nbsp; When the +eval feature is not available always reset&nbsp;<a class="Type" href="options.html#'compatible'">'compatible'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/defaults.vim<br>
<br>
Patch 8.0.0535<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak when exiting from within a user function.<br>
Solution:&nbsp;&nbsp; Clear the function call stack on exit.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 8.0.0536<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix window not updated when freeing quickfix stack.<br>
Solution:&nbsp;&nbsp; Update the quickfix window. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0537<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access with :z and large count.<br>
Solution:&nbsp;&nbsp; Check for number overflow, using long instead of int. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle, closes #1612)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/ex_cmds.c, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ex_z.vim<br>
<br>
Patch 8.0.0538<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for falling back to default term value.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim<br>
<br>
Patch 8.0.0539 (after 8.0.0538)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Startup test fails on Mac.<br>
Solution:&nbsp;&nbsp; Use another term name, &quot;unknown&quot; is known. Avoid a 2 second delay.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim, src/main.c, src/proto/main.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0540 (after 8.0.0540)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building unit tests fails.<br>
Solution:&nbsp;&nbsp; Move params outside of #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/message_test.c<br>
<br>
Patch 8.0.0541<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add a type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 8.0.0542<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getpos() can return a negative line number. (haya14busa)<br>
Solution:&nbsp;&nbsp; Handle a zero topline and botline. (closes #1613)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, runtime/doc/eval.txt<br>
<br>
Patch 8.0.0543<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_edit causes older xfce4-terminal to close. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Reduce number of columns to 2000.&nbsp;&nbsp;Try to restore the window<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_edit.vim, src/evalfunc.c, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/term.pro, src/term.h<br>
<br>
Patch 8.0.0544<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cppcheck warnings.<br>
Solution:&nbsp;&nbsp; Use temp variable. Change NUL to NULL. Swap conditions. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/edit.c, src/farsi.c<br>
<br>
Patch 8.0.0545<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Edit test may fail on some systems.<br>
Solution:&nbsp;&nbsp; If creating a directory with a very long path fails, bail out.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_edit.vim<br>
<br>
Patch 8.0.0546<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Swap file exists briefly when opening the command window.<br>
Solution:&nbsp;&nbsp; Set the noswapfile command modifier before splitting the window.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(James McCoy, closes #1620)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/option.c<br>
<br>
Patch 8.0.0547<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Extra line break in verbosefile when using &quot;:echomsg&quot;. (Ingo<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Karkat)<br>
Solution:&nbsp;&nbsp; Don't call msg_start(). (closes #1618)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.0548<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Saving the redo buffer only works one time, resulting in the &quot;.&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;command not working well for a function call inside another<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function call. (Ingo Karkat)<br>
Solution:&nbsp;&nbsp; Save the redo buffer at every user function call. (closes #1619)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/proto/getchar.pro, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/userfunc.c, src/testdir/test_functions.vim<br>
<br>
Patch 8.0.0549<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for the 8g8 command.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #1615)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim<br>
<br>
Patch 8.0.0550<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some etags format tags file use 0x01, breaking the parsing.<br>
Solution:&nbsp;&nbsp; Use 0x02 for TAG_SEP. (James McCoy, closes #1614)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/testdir/test_taglist.vim<br>
<br>
Patch 8.0.0551<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The typeahead buffer is reallocated too often.<br>
Solution:&nbsp;&nbsp; Re-use the existing buffer if possible.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.0.0552<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Toupper and tolower don't work properly for Turkish when&nbsp;<a class="Type" href="options.html#'casemap'">'casemap'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is empty. (Bjorn Linse)<br>
Solution:&nbsp;&nbsp; Check the&nbsp;<a class="Type" href="options.html#'casemap'">'casemap'</a>&nbsp;options when deciding how to upper/lower case.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c, src/testdir/test_normal.vim<br>
<br>
Patch 8.0.0553 (after 8.0.0552)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Toupper/tolower test with Turkish locale fails on Mac.<br>
Solution:&nbsp;&nbsp; Skip the test on Mac.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim<br>
<br>
Patch 8.0.0554 (after 8.0.0552)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Toupper and tolower don't work properly for Turkish when&nbsp;<a class="Type" href="options.html#'casemap'">'casemap'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contains &quot;keepascii&quot;. (Bjorn Linse)<br>
Solution:&nbsp;&nbsp; When&nbsp;<a class="Type" href="options.html#'casemap'">'casemap'</a>&nbsp;contains &quot;keepascii&quot; use ASCII toupper/tolower.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c, src/testdir/test_normal.vim<br>
<br>
Patch 8.0.0555 (after 8.0.0552)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Toupper/tolower test fails on OSX without Darwin.<br>
Solution:&nbsp;&nbsp; Skip that part of the test also for OSX. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim<br>
<br>
Patch 8.0.0556<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Getting the window position fails if both the GUI and term<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code is built in.<br>
Solution:&nbsp;&nbsp; Return after getting the GUI window position. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.0.0557<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GTK: using static gravities is not useful.<br>
Solution:&nbsp;&nbsp; Remove setting static gravities. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_f.c<br>
<br>
Patch 8.0.0558<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The :ownsyntax command is not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #1622)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim<br>
<br>
Patch 8.0.0559<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting&nbsp;<a class="Type" href="options.html#'ttytype'">'ttytype'</a>&nbsp;to xxx does not always fail as expected. (Marvin<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Schmidt)<br>
Solution:&nbsp;&nbsp; Catch both possible errors. (closes #1601)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim<br>
<br>
Patch 8.0.0560<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:windo allows for ! but it's not supported.<br>
Solution:&nbsp;&nbsp; Disallow passing !. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h<br>
<br>
Patch 8.0.0561<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Undefined behavior when using backslash after empty line.<br>
Solution:&nbsp;&nbsp; Check for an empty line. (Dominique Pelle, closes #1631)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/testdir/test_vimscript.vim<br>
<br>
Patch 8.0.0562<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough test coverage for syntax commands.<br>
Solution:&nbsp;&nbsp; Add a few more tests. (Dominique Pelle, closes #1624)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim, src/testdir/test_syntax.vim<br>
<br>
Patch 8.0.0563<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when getting the window position in tmux. (Marvin Schmidt)<br>
Solution:&nbsp;&nbsp; Add t_GP to the list of terminal options. (closes #1627)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.0564<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot detect Bazel BUILD files on some systems.<br>
Solution:&nbsp;&nbsp; Check for BUILD after script checks. (Issue #1340)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim<br>
<br>
Patch 8.0.0565<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory in :caddbuf after clearing quickfix list.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Set qf_last to NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.0566<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting&nbsp;<a class="Type" href="options.html#'nocompatible'">'nocompatible'</a>&nbsp;for the tiny version moves the cursor.<br>
Solution:&nbsp;&nbsp; Use another trick to skip commands when the +eval feature is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;present. (Christian Brabandt, closes #1630)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/defaults.vim<br>
<br>
Patch 8.0.0567<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Call for requesting color and ambiwidth is too early. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Solution:&nbsp;&nbsp; Move the call down to below resetting &quot;starting&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.0.0568<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;1gd&quot; may hang.<br>
Solution:&nbsp;&nbsp; Don't get stuck in one position. (Christian Brabandt, closes #1643)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_goto.vim, src/normal.c<br>
<br>
Patch 8.0.0569<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Bracketed paste is still enabled when executing a shell command.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Michael Smith)<br>
Solution:&nbsp;&nbsp; Disable bracketed paste when going into cooked mode. (closes #1638)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0570<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't run make with several jobs, creating directories has a race<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;condition.<br>
Solution:&nbsp;&nbsp; Use the MKDIR_P autoconf mechanism. (Eric&nbsp;<span class="Special">N</span>. Vander Weele,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1639)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.mk.in, src/install-sh, src/mkinstalldirs, Filelist<br>
<br>
Patch 8.0.0571<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The cursor line number becomes negative when using :z^ in an empty<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer. (neovim #6557)<br>
Solution:&nbsp;&nbsp; Correct the line number.&nbsp;&nbsp;Also reset the column.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ex_z.vim, src/ex_cmds.c<br>
<br>
Patch 8.0.0572<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building the command table requires Perl.<br>
Solution:&nbsp;&nbsp; Use a Vim script solution. (Dominique Pelle, closes #1641)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/create_cmdidxs.pl, src/create_cmdidxs.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmdidxs.h, src/ex_docmd.c, Filelist<br>
<br>
Patch 8.0.0573<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running parallel make after distclean fails. (Manuel Ortega)<br>
Solution:&nbsp;&nbsp; Instead of using targets &quot;scratch config myself&quot; use &quot;reconfig&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/config.mk.dist<br>
<br>
Patch 8.0.0574<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get only one quickfix list after :caddbuf.<br>
Solution:&nbsp;&nbsp; Reset qf_multiline. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0575<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory when resetting&nbsp;<a class="Type" href="options.html#'indentexpr'">'indentexpr'</a>&nbsp;while evaluating<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Make a copy of&nbsp;<a class="Type" href="options.html#'indentexpr'">'indentexpr'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test_options.vim<br>
<br>
Patch 8.0.0576 (after 8.0.0570 and 8.0.0573)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build when configure chooses &quot;install-sh&quot;. (Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Always use install-sh.&nbsp;&nbsp;Fix remaining use of mkinstalldirs.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #1647)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/installman.sh, src/installml.sh, src/config.mk.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure, src/Makefile<br>
<br>
Patch 8.0.0577 (after 8.0.0575)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for uninitialized variable. (John Marriott)<br>
Solution:&nbsp;&nbsp; Initialize &quot;indent&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 8.0.0578<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:simalt on MS-Windows does not work properly.<br>
Solution:&nbsp;&nbsp; Put something in the typeahead buffer. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.0.0579<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Duplicate test case for quickfix.<br>
Solution:&nbsp;&nbsp; Remove the function. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0580<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot set the valid flag with setqflist().<br>
Solution:&nbsp;&nbsp; Add the &quot;valid&quot; argument. (Yegappan Lakshmanan, closes #1642)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0581<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Moving folded text is sometimes not correct.<br>
Solution:&nbsp;&nbsp; Bail out when &quot;move_end&quot; is zero. (Matthew Malcomson)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c, src/testdir/test_fold.vim<br>
<br>
Patch 8.0.0582<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access with z= command. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Avoid case folded text to be longer than the original text.&nbsp;&nbsp;Use<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MB_PTR2LEN() instead of MB_BYTE2LEN().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/testdir/test_spell.vim<br>
<br>
Patch 8.0.0583<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Fold test hangs on MS-Windows.<br>
Solution:&nbsp;&nbsp; Avoid overflow in compare.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c<br>
<br>
Patch 8.0.0584<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak when executing quickfix tests.<br>
Solution:&nbsp;&nbsp; Free the list reference. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.0585<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_options fails when run in the GUI.<br>
Solution:&nbsp;&nbsp; Also check the&nbsp;<a class="Type" href="options.html#'imactivatekey'">'imactivatekey'</a>&nbsp;value when the GUI is not running.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Specify test values that work and that fail.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/gen_opt_test.vim<br>
<br>
Patch 8.0.0586<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for mapping timing out.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.vim<br>
<br>
Patch 8.0.0587<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure check for return value of tgetent is skipped.<br>
Solution:&nbsp;&nbsp; Always perform the check. (Marvin Schmidt, closes #1664)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.0588<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;job_stop() often assumes the channel will be closed, while the job<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;may not actually be stopped. (Martin Gammelsæter)<br>
Solution:&nbsp;&nbsp; Only assume the job stops on &quot;kill&quot;.&nbsp;&nbsp;Don't send a signal if the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;job has already ended. (closes #1632)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.0589 (after 8.0.0578)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:simalt still does not work.<br>
Solution:&nbsp;&nbsp; Use K_NOP instead of K_IGNORE. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.0.0590<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot add a context to locations.<br>
Solution:&nbsp;&nbsp; Add the &quot;context&quot; entry in location entries. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1012)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/proto/quickfix.pro, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0591<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Changes to eval functionality not documented.<br>
Solution:&nbsp;&nbsp; Include all the changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.0.0592<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If a job writes to a buffer and the user is typing a command, the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screen isn't updated. When a message is displayed the changed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer may cause it to be cleared. (Ramel Eshed)<br>
Solution:&nbsp;&nbsp; Update the screen and then the command line if the screen didn't<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scroll. Avoid inserting screen lines, as it clears any message.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Update the status line when the buffer changed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/screen.c, src/ex_getln.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/proto/ex_getln.pro, src/proto/screen.pro<br>
<br>
Patch 8.0.0593<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Duplication of code for adding a list or dict return value.<br>
Solution:&nbsp;&nbsp; Add rettv_dict_set() and rettv_list_set(). (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dict.c, src/eval.c, src/evalfunc.c, src/if_perl.xs, src/list.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/dict.pro, src/proto/list.pro<br>
<br>
Patch 8.0.0594 (after 8.0.0592)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure when windows feature is missing.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.0595 (after 8.0.0590)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warning for not checking return value of dict_add().<br>
Solution:&nbsp;&nbsp; Check the return value for FAIL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.0596<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when complete() is called after complete_add() in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'completefunc'">'completefunc'</a>. (Lifepillar)<br>
Solution:&nbsp;&nbsp; Bail out if compl_pattern is NULL. (closes #1668)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also avoid using freed memory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_popup.vim<br>
<br>
Patch 8.0.0597<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Off-by-one error in buffer size computation.<br>
Solution:&nbsp;&nbsp; Use &quot;&gt;=&quot; instead of &quot;&gt;&quot;. (LemonBoy, closes #1694)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.0598<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with gcc 7.1 yields new warnings.<br>
Solution:&nbsp;&nbsp; Initialize result. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.0.0599<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;diff mode is insufficiently tested<br>
Solution:&nbsp;&nbsp; Add more test cases. (Dominique Pelle, closes #1685)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/testdir/test_diffmode.vim<br>
<br>
Patch 8.0.0600<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test_recover fails on some systems.<br>
Solution:&nbsp;&nbsp; Explicitly check if &quot;/&quot; is writable. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_recover.vim<br>
<br>
Patch 8.0.0601<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test coverage for :spellrepall.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #1717)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_spell.vim<br>
<br>
Patch 8.0.0602<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When gF fails to edit the file the cursor still moves to the found<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line number.<br>
Solution:&nbsp;&nbsp; Check the return value of do_ecmd(). (Michael Hwang)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_gf.vim<br>
<br>
Patch 8.0.0603 (after 8.0.0602)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;gF test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use @ instead of : before the line number<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gf.vim<br>
<br>
Patch 8.0.0604 (after 8.0.0603)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;gF test still fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use : before the line number and remove it from&nbsp;<a class="Type" href="options.html#'isfname'">'isfname'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gf.vim<br>
<br>
Patch 8.0.0605<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The buffer that quickfix caches for performance may become<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;invalid. (Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Reset qf_last_bufref in qf_init_ext(). (Daniel Hahler,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1728, closes #1676)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.0606<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot set the context for a specified quickfix list.<br>
Solution:&nbsp;&nbsp; Use the list index instead of the current list. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0607<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When creating a bufref, then using :bwipe and :new it might get<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the same memory and bufref_valid() returns true.<br>
Solution:&nbsp;&nbsp; Add br_fnum to check the buffer number didn't change.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/buffer.c, src/globals.h, src/if_py_both.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.0608<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot manipulate other than the current quickfix list.<br>
Solution:&nbsp;&nbsp; Pass the list index to quickfix functions. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.0609<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;For some people the hint about quitting is not sufficient.<br>
Solution:&nbsp;&nbsp; Put&nbsp;<span class="Special">&lt;Enter&gt;</span>&nbsp;separately.&nbsp;&nbsp;Also use &quot;:qa!&quot; to get out even when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;there are changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 8.0.0610<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The screen is redrawn when t_BG is set and used to detect the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value for&nbsp;<a class="Type" href="options.html#'background'">'background'</a>.<br>
Solution:&nbsp;&nbsp; Don't redraw when the value of&nbsp;<a class="Type" href="options.html#'background'">'background'</a>&nbsp;didn't change.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0611<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When t_u7 is sent a few characters in the second screen line are<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;overwritten and not redrawn later. (Rastislav Barlik)<br>
Solution:&nbsp;&nbsp; Move redrawing the screen to after overwriting the characters.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/term.c<br>
<br>
Patch 8.0.0612<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Package directories are added to&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>&nbsp;only after loading<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;non-package plugins.<br>
Solution:&nbsp;&nbsp; Split off the code to add package directories to&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ingo Karkat, closes #1680)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/globals.h, src/main.c, src/proto/ex_cmds2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim<br>
<br>
Patch 8.0.0613<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The conf filetype detection is done before ftdetect scripts from<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;packages that are added later.<br>
Solution:&nbsp;&nbsp; Add the FALLBACK argument to :setfiletype. (closes #1679,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1693)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, runtime/filetype.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_filetype.vim, src/testdir/test_alot.vim<br>
<br>
Patch 8.0.0614<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;float2nr() is not exactly right.<br>
Solution:&nbsp;&nbsp; Make float2nr() more accurate.&nbsp;&nbsp;Turn test65 into a new style test.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Hirohito Higashi, closes #1688)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/evalfunc.c, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/test65.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test65.ok, src/testdir/test_float_func.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vimscript.vim, src/macros.h<br>
<br>
Patch 8.0.0615<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using % with :hardcopy wrongly escapes spaces. (Alexey Muranov)<br>
Solution:&nbsp;&nbsp; Expand % differently. (Christian Brabandt, closes #1682)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_hardcopy.vim<br>
<br>
<br>
Patch 8.0.0616<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When setting the cterm background with &quot;:hi Normal&quot; the value of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'background'">'background'</a>&nbsp;may be set wrongly.<br>
Solution:&nbsp;&nbsp; Check that the color is less than 16.&nbsp;&nbsp;Don't set&nbsp;<a class="Type" href="options.html#'background'">'background'</a>&nbsp;when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it was set explicitly. (LemonBoy, closes #1710)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/testdir/test_syntax.vim<br>
<br>
Patch 8.0.0617 (after 8.0.0615)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Hardcopy test hangs on MS-Windows.<br>
Solution:&nbsp;&nbsp; Check the postscript feature is supported.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_hardcopy.vim<br>
<br>
Patch 8.0.0618<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;NFA regex engine handles&nbsp;<span class="Special">[0-z]</span>&nbsp;incorrectly.<br>
Solution:&nbsp;&nbsp; Return at the right point. (James McCoy, closes #1703)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test36.in, src/testdir/test36.ok<br>
<br>
Patch 8.0.0619<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In the GUI, when a timer uses feedkeys(), it still waits for an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;event. (Raymond Ko)<br>
Solution:&nbsp;&nbsp; Check tb_change_cnt in one more place.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.0.0620<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Since we only support GTK versions that have it, the check for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HAVE_GTK_MULTIHEAD is no longer needed.<br>
Solution:&nbsp;&nbsp; Remove HAVE_GTK_MULTIHEAD. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.h.in, src/configure.ac, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c, src/gui_gtk_x11.c, src/mbyte.c<br>
<br>
Patch 8.0.0621<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The &quot;:stag&quot; command does not respect&nbsp;<a class="Type" href="options.html#'switchbuf'">'switchbuf'</a>.<br>
Solution:&nbsp;&nbsp; Check&nbsp;<a class="Type" href="options.html#'switchbuf'">'switchbuf'</a>&nbsp;for tag commands that may open a new window.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ingo Karkat, closes #1681)&nbsp;&nbsp;Define macros for the return values<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of getfile().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/testdir/test_tagjump.vim, src/vim.h, src/buffer.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/search.c,<br>
<br>
Patch 8.0.0622<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using a text object to select quoted text fails when&nbsp;<a class="Type" href="options.html#'selection'">'selection'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is set to &quot;exclusive&quot;. (Guraga)<br>
Solution:&nbsp;&nbsp; Swap cursor and visual start position. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1687)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_textobjects.vim<br>
<br>
Patch 8.0.0623<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The message &quot;Invalid range&quot; is used for multiple errors.<br>
Solution:&nbsp;&nbsp; Add two more specific error messages. (Itchyny, Ken Hamada)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp_nfa.c, src/testdir/test_regexp_utf8.vim<br>
<br>
Patch 8.0.0624 (after 8.0.0623)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for unused variable in tiny build. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add an #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 8.0.0625<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;shellescape() always escapes a newline, which does not work with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;some shells. (Harm te Hennepe)<br>
Solution:&nbsp;&nbsp; Only escape a newline when the &quot;special&quot; argument is non-zero.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt, closes #1590)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_functions.vim<br>
<br>
Patch 8.0.0626<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In the GUI the cursor may flicker.<br>
Solution:&nbsp;&nbsp; Check the cmd_silent flag before updating the cursor shape.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Hirohito Higashi, closes #1637)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.0.0627<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'wrapscan'">'wrapscan'</a>&nbsp;is off &quot;gn&quot; does not select the whole pattern when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it's the last one in the text. (KeyboardFire)<br>
Solution:&nbsp;&nbsp; Check if the search fails. (Christian Brabandt, closes #1683)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_gn.vim<br>
<br>
Patch 8.0.0628 (after 8.0.0626<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor disappears after silent mapping. (Ramel Eshed)<br>
Solution:&nbsp;&nbsp; Do restore the cursor when it was changed, but don't change it in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the first place for a silent mapping.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
<br>
Patch 8.0.0629 (after 8.0.0611)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Checking for ambiguous width is not working. (Hirohito Higashi)<br>
Solution:&nbsp;&nbsp; Reset &quot;starting&quot; earlier.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.0.0630<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The :global command does not work recursively, which makes it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;difficult to execute a command on a line where one pattern matches<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and another does not match. (Miles Cranmer)<br>
Solution:&nbsp;&nbsp; Allow for recursion if it is for only one line. (closes #1760)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_global.vim, runtime/doc/repeat.txt<br>
<br>
Patch 8.0.0631<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Perl 5.26 also needs S_TOPMARK and S_POPMARK defined.<br>
Solution:&nbsp;&nbsp; Define the functions when needed. (Jesin, closes #1748)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 8.0.0632<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The quotestar test is still a bit flaky.<br>
Solution:&nbsp;&nbsp; Kill any existing server to make the retry work.&nbsp;&nbsp;Wait for the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;register to be filled.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quotestar.vim<br>
<br>
Patch 8.0.0633<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The client-server test is still a bit flaky.<br>
Solution:&nbsp;&nbsp; Wait a bit for the GUI to start.&nbsp;&nbsp;Check that the version number<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;can be obtained.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_clientserver.vim<br>
<br>
Patch 8.0.0634<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot easily get to the last quickfix list.<br>
Solution:&nbsp;&nbsp; Add &quot;$&quot; as a value for the &quot;nr&quot; argument of getqflist() and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setqflist(). (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0635<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'ignorecase'">'ignorecase'</a>&nbsp;is set script detection is inaccurate.<br>
Solution:&nbsp;&nbsp; Enforce matching case for text. (closes #1753)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/scripts.vim<br>
<br>
Patch 8.0.0636<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When reading the undo file fails may use uninitialized data.<br>
Solution:&nbsp;&nbsp; Always clear the buffer on failure.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 8.0.0637<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using some version of GTK 3.<br>
Solution:&nbsp;&nbsp; Add #ifdefs around incrementing the menu index. (Kazunobu<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk.c<br>
<br>
Patch 8.0.0638<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with new MSVC version VS2017.<br>
Solution:&nbsp;&nbsp; Change the compiler arguments. (Leonardo Valeri Manera,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1731, closes #1747)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/Makefile, src/Make_mvc.mak<br>
<br>
Patch 8.0.0639<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The cursor position is set to the last position in a new commit<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message.<br>
Solution:&nbsp;&nbsp; Don't set the position if the filetype matches &quot;commit&quot;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/defaults.vim<br>
<br>
Patch 8.0.0640<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mismatch between help and actual message for &quot;:syn conceal&quot;.<br>
Solution:&nbsp;&nbsp; Change the message to match the help. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.0641<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot set a separate highlighting for the current line in the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quickfix window.<br>
Solution:&nbsp;&nbsp; Add QuickFixLine. (anishsane, closes #1755)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/quickfix.c, src/screen.c, src/syntax.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, runtime/doc/options.txt, runtime/doc/quickfix.txt<br>
<br>
Patch 8.0.0642<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;writefile() continues after detecting an error.<br>
Solution:&nbsp;&nbsp; Bail out as soon as an error is detected. (suggestions by Nikolai<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pavlov, closes #1476)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_writefile.vim<br>
<br>
Patch 8.0.0643<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'hlsearch'">'hlsearch'</a>&nbsp;is set and matching with the last search pattern<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is very slow, Vim becomes unusable.&nbsp;&nbsp;Cannot quit search by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pressing&nbsp;<span class="Special">CTRL-C</span>.<br>
Solution:&nbsp;&nbsp; When the search times out set a flag and don't try again.&nbsp;&nbsp;Check<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for timeout and&nbsp;<span class="Special">CTRL-C</span>&nbsp;in NFA loop that adds states.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/ex_cmds.c, src/quickfix.c, src/regexp.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/regexp.pro, src/regexp.h, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/search.pro, src/syntax.c, src/regexp_nfa.c, src/spell.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/gui.c, src/edit.c, src/evalfunc.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/normal.c<br>
<br>
Patch 8.0.0644<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no test for&nbsp;<a class="Type" href="options.html#'hlsearch'">'hlsearch'</a>&nbsp;timing out.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_hlsearch.vim<br>
<br>
Patch 8.0.0645<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The new regexp engine does not give an error for using a back<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reference where it is not allowed. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Check the back reference like the old engine. (closes #1774)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp_nfa.c, src/testdir/test_hlsearch.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_statusline.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_regexp_latin1.vim<br>
<br>
Patch 8.0.0646<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The hlsearch test fails on fast systems.<br>
Solution:&nbsp;&nbsp; Make the search pattern slower.&nbsp;&nbsp;Fix that the old regexp engine<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;doesn't timeout properly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/testdir/test_hlsearch.vim<br>
<br>
Patch 8.0.0647<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syntax highlighting can cause a freeze.<br>
Solution:&nbsp;&nbsp; Apply&nbsp;<a class="Type" href="options.html#'redrawtime'">'redrawtime'</a>&nbsp;to syntax highlighting, per window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/screen.c, src/syntax.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/proto/syntax.pro, src/testdir/test_syntax.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt<br>
<br>
Patch 8.0.0648<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Possible use of NULL pointer if buflist_new() returns NULL.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Coverity)<br>
Solution:&nbsp;&nbsp; Check for NULL pointer in set_bufref().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 8.0.0649<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When opening a help file the filetype is set several times.<br>
Solution:&nbsp;&nbsp; When setting the filetype to the same value from a modeline, don't<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;trigger FileType autocommands.&nbsp;&nbsp;Don't set the filetype to &quot;help&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when it's already set correctly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/option.c, runtime/filetype.vim<br>
<br>
Patch 8.0.0650<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;For extra help files the filetype is set more than once.<br>
Solution:&nbsp;&nbsp; In *.txt files check that there is no help file modline.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim<br>
<br>
Patch 8.0.0651 (after 8.0.0649)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure without the auto command feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (closes #1782)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.0.0652<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unicode information is outdated.<br>
Solution:&nbsp;&nbsp; Update to Unicode 10. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/tools/unicode.vim, src/mbyte.c<br>
<br>
Patch 8.0.0653<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The default highlight for QuickFixLine does not work for several<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color schemes. (Manas Thakur)<br>
Solution:&nbsp;&nbsp; Make the default use the old color. (closes #1780)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.0654<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text found after :endfunction is silently ignored.<br>
Solution:&nbsp;&nbsp; Give a warning if&nbsp;<a class="Type" href="options.html#'verbose'">'verbose'</a>&nbsp;is set.&nbsp;&nbsp;When | or \n are used,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;execute the text as a command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vimscript.vim, src/userfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.0.0655<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to make sure a function does not exist.<br>
Solution:&nbsp;&nbsp; Add ! as an optional argument to :delfunc.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/ex_cmds.h, src/testdir/test_vimscript.vim<br>
<br>
Patch 8.0.0656<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use ! after some user commands.<br>
Solution:&nbsp;&nbsp; Properly check for existing command. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_vimscript.vim<br>
<br>
Patch 8.0.0657<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get and set quickfix list items.<br>
Solution:&nbsp;&nbsp; Add the &quot;items&quot; argument to getqflist() and setqflist(). (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0658<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Spell test is old style.<br>
Solution:&nbsp;&nbsp; Turn the spell test into a new style test (pschuh, closes #1778)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test58.in, src/testdir/test58.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_spell.vim<br>
<br>
Patch 8.0.0659<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for conceal mode.<br>
Solution:&nbsp;&nbsp; Add a conceal mode test. (Dominique Pelle, closes #1783)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_syntax.vim<br>
<br>
Patch 8.0.0660<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Silent install on MS-Windows does show a dialog.<br>
Solution:&nbsp;&nbsp; Add /SD to the default choice. (allburov, closes #1772)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/gvim.nsi<br>
<br>
Patch 8.0.0661<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Recognizing urxvt mouse codes does not work well.<br>
Solution:&nbsp;&nbsp; Recognize &quot;Esc[*M&quot; and &quot;Esc[*m&quot;. (Maurice Bos, closes #1486)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/keymap.h, src/misc2.c, src/os_unix.c, src/term.c<br>
<br>
Patch 8.0.0662 (after 8.0.0659)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Stray FIXME for fixed problem.<br>
Solution:&nbsp;&nbsp; Remove the comment. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim<br>
<br>
Patch 8.0.0663<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Giving an error message only when&nbsp;<a class="Type" href="options.html#'verbose'">'verbose'</a>&nbsp;set is unexpected.<br>
Solution:&nbsp;&nbsp; Give a warning message instead.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/proto/message.pro, src/userfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vimscript.vim, runtime/doc/eval.txt<br>
<br>
Patch 8.0.0664 (after 8.0.0661)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mouse does not work in tmux. (lilydjwg)<br>
Solution:&nbsp;&nbsp; Add flag for SGR release being present.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0665 (after 8.0.0661)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for uninitialized variable. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Initialize it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0666<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dead for loop. (Coverity)<br>
Solution:&nbsp;&nbsp; Remove the for loop.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0667<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory access error when command follows :endfunction. (Nikolai<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pavlov)<br>
Solution:&nbsp;&nbsp; Make memory handling in :function straightforward. (closes #1793)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/testdir/test_vimscript.vim<br>
<br>
Patch 8.0.0668 (after 8.0.0660)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Nsis installer script does not work. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Fix the syntax of /SD.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/gvim.nsi<br>
<br>
Patch 8.0.0669<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In Insert mode,&nbsp;<span class="Special">CTRL-N</span>&nbsp;at start of the buffer does not work<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;correctly. (zuloloxi)<br>
Solution:&nbsp;&nbsp; Wrap around the start of the buffer. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_popup.vim<br>
<br>
Patch 8.0.0670<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't use input() in a timer callback. (Cosmin Popescu)<br>
Solution:&nbsp;&nbsp; Reset vgetc_busy and set timer_busy. (Ozaki Kiichi, closes #1790,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1129)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_cmds2.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 8.0.0671<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a function invoked from a timer calls confirm() and the user<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;types&nbsp;<span class="Special">CTRL-C</span>&nbsp;then Vim hangs.<br>
Solution:&nbsp;&nbsp; Reset typebuf_was_filled. (Ozaki Kiichi, closes #1791)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.0.0672<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Third item of synconcealed() changes too often. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Reset the sequence number at the start of each line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/testdir/test_syntax.vim, runtime/doc/eval.txt<br>
<br>
Patch 8.0.0673 (after 8.0.0673)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure without conceal feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.0674 (after 8.0.0670)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with eval but without timers.<br>
Solution:&nbsp;&nbsp; Add #ifdef (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.0.0675<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'colorcolumn'">'colorcolumn'</a>&nbsp;has a higher priority than&nbsp;<a class="Type" href="options.html#'hlsearch'">'hlsearch'</a>, it should be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the other way around. (Nazri Ramliy)<br>
Solution:&nbsp;&nbsp; Change the priorities. (LemonBoy, closes #1794)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_listlbr_utf8.vim<br>
<br>
Patch 8.0.0676<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when closing the quickfix window in a FileType autocommand<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that triggers when the quickfix window is opened.<br>
Solution:&nbsp;&nbsp; Save the new value before triggering the OptionSet autocommand.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add the &quot;starting&quot; flag to test_override() to make the text work.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/option.c, runtime/doc/eval.txt<br>
<br>
Patch 8.0.0677<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting&nbsp;<a class="Type" href="options.html#'filetype'">'filetype'</a>&nbsp;internally may cause the current buffer and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window to change unexpectedly.<br>
Solution:&nbsp;&nbsp; Set curbuf_lock. (closes #1734)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/ex_cmds.c, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0678<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'equalalways'">'equalalways'</a>&nbsp;is set and closing a window in a separate<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;frame, not all window sizes are adjusted. (Glacambre)<br>
Solution:&nbsp;&nbsp; Resize all windows if the new current window is not in the same<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;frame as the closed window. (closes #1707)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.0.0679 (after 8.0.0678)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory.<br>
Solution:&nbsp;&nbsp; Get the parent frame pointer earlier.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.0.0680 (after 8.0.0612)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Plugins in start packages are sourced twice. (mseplowitz)<br>
Solution:&nbsp;&nbsp; Use the unmodified runtime path when loading plugins (test by Ingo<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Karkat, closes #1801)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim, src/main.c, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds2.pro<br>
<br>
Patch 8.0.0681<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnamed register only contains the last deleted text when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;appending deleted text to a register. (Wolfgang Jeltsch)<br>
Solution:&nbsp;&nbsp; Only set y_previous when not using y_append. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_put.vim<br>
<br>
Patch 8.0.0682<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for synIDtrans().<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #1796)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim<br>
<br>
Patch 8.0.0683<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using a visual bell there is no delay, causing the flash to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be very short, possibly unnoticeable.&nbsp;&nbsp;Also, the flash and the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;beep can lockup the UI when repeated often.<br>
Solution:&nbsp;&nbsp; Do the delay in Vim or flush the output before the delay. Limit the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bell to once per half a second. (Ozaki Kiichi, closes #1789)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/proto/term.pro, src/term.c<br>
<br>
Patch 8.0.0684<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old style tests are not nice.<br>
Solution:&nbsp;&nbsp; Turn two tests into new style. (pschuh, closes #1797)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test82.in, src/testdir/test82.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test90.in, src/testdir/test90.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_sha256.vim, src/testdir/test_utf8_comparisons.vim<br>
<br>
Patch 8.0.0685<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When making backups is disabled and conversion with iconv fails<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the written file is truncated. (Luo Chen)<br>
Solution:&nbsp;&nbsp; First try converting the file and write the file only when it did<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not fail. (partly by Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/testdir/test_writefile.vim<br>
<br>
Patch 8.0.0686<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When typing&nbsp;<span class="Special">CTRL-L</span>&nbsp;in a window that's not the first one, another<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;redraw will happen later. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Reset must_redraw after calling screenclear().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.0687<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Minor issues related to quickfix.<br>
Solution:&nbsp;&nbsp; Set the proper return status for all cases in setqflist() and at<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test cases for this.&nbsp;&nbsp;Move the &quot;adding&quot; flag outside of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FEAT_WINDOWS. Minor update to the setqflist() help text. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0688<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot resize the window in a FileType autocommand. (Ingo Karkat)<br>
Solution:&nbsp;&nbsp; Add the CMDWIN flag to :resize. (test by Ingo Karkat,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1804)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0689<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The ~ character is not escaped when adding to the search pattern<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;<span class="Special">CTRL-L</span>. (Ramel Eshed)<br>
Solution:&nbsp;&nbsp; Escape the character. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim<br>
<br>
Patch 8.0.0690<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning on non-Unix system.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0691<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning without the linebreak feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 8.0.0692<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;<span class="Special">CTRL-G</span>&nbsp;with&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;and ? goes in the wrong direction.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ramel Eshed)<br>
Solution:&nbsp;&nbsp; Adjust search_start. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim<br>
<br>
Patch 8.0.0693<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No terminal emulator support.&nbsp;&nbsp;Cannot properly run commands in the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GUI.&nbsp;&nbsp;Cannot run a job interactively with an ssh connection.<br>
Solution:&nbsp;&nbsp; Very early implementation of the :terminal command.&nbsp;&nbsp;Includes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;libvterm converted to ANSI C.&nbsp;&nbsp;Many parts still missing.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/Makefile, src/configure.ac, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.mk.in, src/config.h.in, src/terminal.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmdidxs.h, src/ex_docmd.c,&nbsp;&nbsp;src/option.c, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/proto/terminal.pro, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt, runtime/doc/Makefile, Filelist,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/.bzrignore, src/libvterm/.gitignore,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/LICENSE, src/libvterm/README, src/libvterm/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/tbl2inc_c.pl, src/libvterm/vterm.pc.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/bin/unterm.c, src/libvterm/bin/vterm-ctrl.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/bin/vterm-dump.c, src/libvterm/doc/URLs,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/doc/seqs.txt, src/libvterm/include/vterm.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/include/vterm_keycodes.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/encoding.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/encoding/DECdrawing.inc,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/encoding/DECdrawing.tbl,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/encoding/uk.inc,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/encoding/uk.tbl, src/libvterm/src/keyboard.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/mouse.c, src/libvterm/src/parser.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/pen.c, src/libvterm/src/rect.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/screen.c, src/libvterm/src/state.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/unicode.c, src/libvterm/src/utf8.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/vterm.c, src/libvterm/src/vterm_internal.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/02parser.test, src/libvterm/t/03encoding_utf8.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/10state_putglyph.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/11state_movecursor.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/12state_scroll.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/13state_edit.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/14state_encoding.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/15state_mode.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/16state_resize.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/17state_mouse.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/18state_termprops.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/20state_wrapping.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/21state_tabstops.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/22state_save.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/25state_input.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/26state_query.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/27state_reset.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/28state_dbl_wh.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/29state_fallback.test, src/libvterm/t/30pen.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/40screen_ascii.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/41screen_unicode.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/42screen_damage.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/43screen_resize.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/44screen_pen.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/45screen_protect.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/46screen_extent.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/47screen_dbl_wh.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/48screen_termprops.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/90vttest_01-movement-1.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/90vttest_01-movement-2.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/90vttest_01-movement-3.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/90vttest_01-movement-4.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/90vttest_02-screen-1.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/90vttest_02-screen-2.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/90vttest_02-screen-3.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/90vttest_02-screen-4.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/92lp1640917.test, src/libvterm/t/harness.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/run-test.pl<br>
<br>
Patch 8.0.0694<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building in shadow directory does not work.&nbsp;&nbsp;Running Vim fails.<br>
Solution:&nbsp;&nbsp; Add the new libvterm directory.&nbsp;&nbsp;Add missing change in command<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/ex_cmds.h<br>
<br>
Patch 8.0.0695<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing dependencies breaks parallel make.<br>
Solution:&nbsp;&nbsp; Add dependencies for terminal.o.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.0696<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The .inc files are missing in git. (Nazri Ramliy)<br>
Solution:&nbsp;&nbsp; Remove the .inc line from .gitignore.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/.gitignore<br>
<br>
Patch 8.0.0697<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Recorded key sequences may become invalid.<br>
Solution:&nbsp;&nbsp; Add back KE_SNIFF removed in 7.4.1433. Use fixed numbers for the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key_extra enum.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/keymap.h<br>
<br>
Patch 8.0.0698<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a timer uses &quot;:pyeval&quot; or another Python command and it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;happens to be triggered while exiting a Crash may happen.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ricky Zhou)<br>
Solution:&nbsp;&nbsp; Avoid running a Python command after python_end() was called.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do not trigger timers while exiting.&nbsp;&nbsp;(closes #1824)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python.c, src/if_python3.c, src/ex_cmds2.c<br>
<br>
Patch 8.0.0699<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Checksum tests are not actually run.<br>
Solution:&nbsp;&nbsp; Add the tests to the list. (Dominique Pelle, closes #1819)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/test_alot_utf8.vim<br>
<br>
Patch 8.0.0700<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Segfault with QuitPre autocommand closes the window. (Marek)<br>
Solution:&nbsp;&nbsp; Check that the window pointer is still valid. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1817)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabpage.vim, src/ex_docmd.c<br>
<br>
Patch 8.0.0701<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;System test failing when using X11 forwarding.<br>
Solution:&nbsp;&nbsp; Set $XAUTHORITY before changing $HOME. (closes #1812)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also use a better check for the exit value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/setup.vim, src/testdir/test_system.vim<br>
<br>
Patch 8.0.0702<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;An error in a timer can make Vim unusable.<br>
Solution:&nbsp;&nbsp; Don't set the error flag or exception from a timer.&nbsp;&nbsp;Stop a timer<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if it causes an error 3 out of 3 times.&nbsp;&nbsp;Discard an exception<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;caused inside a timer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/structs.h, src/testdir/test_timers.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.0.0703<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access with empty :doau command.<br>
Solution:&nbsp;&nbsp; Check the event for being out of range. (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/fileio.c<br>
<br>
Patch 8.0.0704<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Problems with autocommands when opening help.<br>
Solution:&nbsp;&nbsp; Avoid using invalid &quot;varp&quot; value.&nbsp;&nbsp;Allow using :wincmd if buffer<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is locked. (closes #1806, closes #1804)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/ex_cmds.h<br>
<br>
Patch 8.0.0705 (after 8.0.0702)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when there is an error in a timer callback. (Aron Griffis,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ozaki Kiichi)<br>
Solution:&nbsp;&nbsp; Check did_throw before discarding an exception.&nbsp;&nbsp;NULLify<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;current_exception when no longer valid.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_eval.c, src/ex_cmds2.c<br>
<br>
Patch 8.0.0706<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when cancelling the cmdline window in Ex mode. (James McCoy)<br>
Solution:&nbsp;&nbsp; Do not set cmdbuff to NULL, make it empty.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.0.0707<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Freeing wrong memory when manipulating buffers in autocommands.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(James McCoy)<br>
Solution:&nbsp;&nbsp; Also set the w_s pointer if w_buffer was NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.0.0708<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some tests are old style.<br>
Solution:&nbsp;&nbsp; Change a few tests from old style to new style. (pschuh,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1813)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/main.aap,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test23.in, src/testdir/test23.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test24.in, src/testdir/test24.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test26.in, src/testdir/test26.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test67.in, src/testdir/test67.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test75.in, src/testdir/test75.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test97.in, src/testdir/test97.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_comparators.in, src/testdir/test_comparators.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_comparators.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_escaped_glob.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_exec_while_if.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_exists_autocmd.vim, src/testdir/test_getcwd.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_getcwd.ok, src/testdir/test_getcwd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_maparg.vim, src/testdir/test_plus_arg_edit.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_regex_char_classes.vim<br>
<br>
Patch 8.0.0709<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Libvterm cannot use vsnprintf(), it does not exist in C90.<br>
Solution:&nbsp;&nbsp; Use vim_vsnprintf() instead.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/Makefile, src/proto.h, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c, src/libvterm/src/vterm.c<br>
<br>
Patch 8.0.0710<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A job that writes to a buffer clears command line completion.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ramel Eshed)<br>
Solution:&nbsp;&nbsp; Do not redraw while showing the completion menu.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.0711 (after 8.0.0710)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without the wildmenu feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.0712<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The terminal implementation is incomplete.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<span class="MissingTag">'termkey'</span>&nbsp;option.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/option.h, src/structs.h<br>
<br>
Patch 8.0.0713 (after 8.0.0712)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="MissingTag">'termkey'</span>&nbsp;option not fully implemented.<br>
Solution:&nbsp;&nbsp; Add initialisation.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.0714<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a timer causes a command line redraw the &quot; that is displayed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;<span class="Special">CTRL-R</span>&nbsp;goes missing.<br>
Solution:&nbsp;&nbsp; Remember an extra character to display.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.0.0715<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Writing to the wrong buffer if the buffer that a channel writes to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;was closed.<br>
Solution:&nbsp;&nbsp; Do not write to a buffer that was unloaded.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel_write.py<br>
<br>
Patch 8.0.0716<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to start Vim cleanly without changing the viminfo file.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Not possible to know whether the -i command line flag was used.<br>
Solution:&nbsp;&nbsp; Add the --clean command line argument.&nbsp;&nbsp;Add the&nbsp;<a class="Type" href="options.html#'viminfofile'">'viminfofile'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;option.&nbsp;&nbsp;Add &quot;-u DEFAULTS&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, runtime/doc/starting.txt, src/option.c, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/globals.h, runtime/doc/options.txt<br>
<br>
Patch 8.0.0717<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal feature not included in :version output.<br>
Solution:&nbsp;&nbsp; Add +terminal or -terminal.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/terminal.c<br>
<br>
Patch 8.0.0718<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Output of job in terminal is not displayed.<br>
Solution:&nbsp;&nbsp; Connect the job output to the terminal.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/terminal.pro, src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/screen.c, src/proto/screen.pro<br>
<br>
Patch 8.0.0719<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure without +terminal feature.<br>
Solution:&nbsp;&nbsp; Add #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/channel.c<br>
<br>
Patch 8.0.0720<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unfinished mapping not displayed when running timer.<br>
Solution:&nbsp;&nbsp; Also use the extra_char while waiting for a mapping and digraph.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #1844)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.0.0721<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:argedit can only have one argument.<br>
Solution:&nbsp;&nbsp; Allow for multiple arguments. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/editing.txt, src/ex_cmds.h, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim<br>
<br>
Patch 8.0.0722<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Screen is messed by timer up at inputlist() prompt.<br>
Solution:&nbsp;&nbsp; Set state to ASKMORE. (closes #1843)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 8.0.0723 (after 8.0.0721)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Arglist test fails if file name case is ignored.<br>
Solution:&nbsp;&nbsp; Wipe existing buffers, check for fname_case property.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim<br>
<br>
Patch 8.0.0724<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The message for yanking doesn't indicate the register.<br>
Solution:&nbsp;&nbsp; Show the register name in the &quot;<span class="Special">N</span>&nbsp;lines yanked&quot; message. (LemonBoy,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1803, closes #1809)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/Makefile, src/testdir/test_registers.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 8.0.0725<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A terminal window does not handle keyboard input.<br>
Solution:&nbsp;&nbsp; Add terminal_loop().&nbsp;&nbsp;&quot;:term bash -i&quot; sort of works now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/terminal.c, src/proto/terminal.pro, src/normal.c<br>
<br>
Patch 8.0.0726<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Translations cleanup script is too conservative.<br>
Solution:&nbsp;&nbsp; Also delete untranslated messages.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/cleanup.vim<br>
<br>
Patch 8.0.0727<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Message about what register to yank into is not translated.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(LemonBoy)<br>
Solution:&nbsp;&nbsp; Add _().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 8.0.0728<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The terminal structure is never freed.<br>
Solution:&nbsp;&nbsp; Free the structure and unreference what it contains.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/buffer.c, src/proto/terminal.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro, src/evalfunc.c<br>
<br>
Patch 8.0.0729<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The help for the terminal configure option is wrong.<br>
Solution:&nbsp;&nbsp; Change &quot;Disable&quot; to &quot;Enable&quot;. (E Kawashima, closes #1849)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Improve alignment.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.0730<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal feature only supports Unix-like systems.<br>
Solution:&nbsp;&nbsp; Prepare for adding an MS-Windows implementation.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0731<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build the terminal feature on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add the Makefile changes. (Yasuhiro Matsumoto, closes #1851)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 8.0.0732<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When updating a buffer for a callback the modeless selection is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lost.<br>
Solution:&nbsp;&nbsp; Do not insert or delete screen lines when redrawing for a callback<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and there is a modeless selection.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.0733<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can only add entries to one list in the quickfix stack.<br>
Solution:&nbsp;&nbsp; Move state variables from qf_list_T to qf_list_T. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.0734<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The script to check translations can be improved.<br>
Solution:&nbsp;&nbsp; Restore the view when no errors are found.&nbsp;&nbsp;Check for matching<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line break at the end of the message. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/check.vim<br>
<br>
Patch 8.0.0735<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no way to notice that the quickfix window contents has<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;changed.<br>
Solution:&nbsp;&nbsp; Increment b:changedtick when updating the quickfix window.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/quickfix.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0736<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The OptionSet autocommand event is not triggered when entering<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;diff mode.<br>
Solution:&nbsp;&nbsp; use set_option_value() instead of setting the option directly.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Change the tests from old to new style. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/testdir/Make_all.mak, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/testdir/test_autocmd_option.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd_option.ok<br>
<br>
Patch 8.0.0737<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when X11 selection is very big.<br>
Solution:&nbsp;&nbsp; Use static items instead of allocating them.&nbsp;&nbsp;Add callbacks.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_quotestar.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.0.0738<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use the mouse to resize window while the focus is in a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;terminal window.<br>
Solution:&nbsp;&nbsp; Recognize nice mouse events in the terminal window.&nbsp;&nbsp;A few more<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fixes for the terminal window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0739<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal resizing doesn't work well.<br>
Solution:&nbsp;&nbsp; Resize the terminal to the Vim window and the other way around.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Avoid mapping typed keys.&nbsp;&nbsp;Set the environment properly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/os_unix.c, src/structs.h<br>
<br>
Patch 8.0.0740<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot resize a terminal window by the command running in it.<br>
Solution:&nbsp;&nbsp; Add support for the window size escape sequence.&nbsp;&nbsp;Make BS work.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/libvterm/src/state.c<br>
<br>
Patch 8.0.0741<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with HPUX.<br>
Solution:&nbsp;&nbsp; Rename envbuf_TERM to envbuf_Term. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.0742<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal feature does not work on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use libvterm and libwinpty on MS-Windows. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLpc.txt, src/Make_cyg_ming.mak, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/channel.pro, src/terminal.c<br>
<br>
Patch 8.0.0743<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;<span class="MissingTag">'termsize'</span>&nbsp;option can be set to an invalid value.<br>
Solution:&nbsp;&nbsp; Check the&nbsp;<span class="MissingTag">'termsize'</span>&nbsp;option to be valid.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/gen_opt_test.vim<br>
<br>
Patch 8.0.0744<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A terminal window uses pipes instead of a pty.<br>
Solution:&nbsp;&nbsp; Add pty support.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/os_unix.c, src/terminal.c, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_unix.pro, src/os_win32.c, src/proto/os_win32.pro<br>
<br>
Patch 8.0.0745<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;multi-byte characters in a terminal window are not displayed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properly.<br>
Solution:&nbsp;&nbsp; Set the unused screen characters. (Yasuhiro Matsumoto, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1857)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0746<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When :term fails the job is not properly cleaned up.<br>
Solution:&nbsp;&nbsp; Free the terminal. Handle a job that failed to start. (closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1858)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/channel.c, src/terminal.c<br>
<br>
Patch 8.0.0747<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:terminal without an argument doesn't work.<br>
Solution:&nbsp;&nbsp; Use the&nbsp;<a class="Type" href="options.html#'shell'">'shell'</a>&nbsp;option. (Yasuhiro Matsumoto, closes #1860)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0748<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When running Vim in a terminal window it does not detect the right<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number of colors available.<br>
Solution:&nbsp;&nbsp; Detect the version string that libvterm returns.&nbsp;&nbsp;Pass the number<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of colors in $COLORS.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/os_unix.c<br>
<br>
Patch 8.0.0749<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some unicode digraphs are hard to remember.<br>
Solution:&nbsp;&nbsp; Add alternatives with a backtick. (Chris Harding, closes #1861)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/digraph.c<br>
<br>
Patch 8.0.0750<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;OpenPTY missing in non-GUI build.<br>
Solution:&nbsp;&nbsp; Always include pty.c, add an #ifdef to skip over the contents.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/pty.c, src/Makefile<br>
<br>
Patch 8.0.0751 (after 8.0.0750)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;OpenPTY missing with some combination of features. (Kazunobu<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kuriyama)<br>
Solution:&nbsp;&nbsp; Adjust #ifdef.&nbsp;&nbsp;Also include pty.pro when needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/pty.c, src/misc2.c, src/proto.h<br>
<br>
Patch 8.0.0752<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Change #ifdef for set_color_count().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0753<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A job running in a terminal does not get notified of changes in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the terminal size.<br>
Solution:&nbsp;&nbsp; Use ioctl() and SIGWINCH to report the terminal size.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/os_unix.c, src/proto/os_unix.pro<br>
<br>
Patch 8.0.0754<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window does not support colors.<br>
Solution:&nbsp;&nbsp; Lookup the color attribute.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/syntax.c, src/proto/syntax.pro<br>
<br>
Patch 8.0.0755<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window does not have colors in the GUI.<br>
Solution:&nbsp;&nbsp; Lookup the GUI color.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/syntax.c, src/proto/syntax.pro, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/term.pro, src/gui_gtk_x11.c, src/proto/gui_gtk_x11.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c, src/proto/gui_x11.pro, src/gui_mac.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_mac.pro, src/gui_photon.c, src/proto/gui_photon.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/proto/gui_w32.pro,<br>
<br>
Patch 8.0.0756<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build libvterm with MSVC.<br>
Solution:&nbsp;&nbsp; Add an MSVC Makefile to libvterm. (Yasuhiro Matsumoto, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1865)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLpc.txt, src/Make_mvc.mak, src/libvterm/Makefile.msc<br>
<br>
Patch 8.0.0757<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Libvterm MSVC Makefile not included in the distribution.<br>
Solution:&nbsp;&nbsp; Add the file to the list.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.0.0758<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Possible crash when using a terminal window.<br>
Solution:&nbsp;&nbsp; Check for NULL pointers. (Yasuhiro Matsumoto, closes #1864)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0759<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: terminal does not adjust size to the Vim window size.<br>
Solution:&nbsp;&nbsp; Add a call to winpty_set_size(). (Yasuhiro Matsumoto, closes #1863)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0760<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window colors wrong with&nbsp;<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>.<br>
Solution:&nbsp;&nbsp; Add&nbsp;<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>&nbsp;support.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/syntax.c, src/proto/syntax.pro<br>
<br>
Patch 8.0.0761<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Options of a buffer for a terminal window are not set properly.<br>
Solution:&nbsp;&nbsp; Add &quot;terminal&quot; value for&nbsp;<a class="Type" href="options.html#'buftype'">'buftype'</a>.&nbsp;&nbsp;Make&nbsp;<a class="Type" href="options.html#'buftype'">'buftype'</a>&nbsp;and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'bufhidden'">'bufhidden'</a>&nbsp;not depend on the quickfix feature.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also set the buffer name and show &quot;running&quot; or &quot;finished&quot; in the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window title.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/terminal.c, src/proto/terminal.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/quickfix.c, src/proto/quickfix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/buffer.c, src/ex_docmd.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.0762<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ml_get error with :psearch in buffer without a name. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Solution:&nbsp;&nbsp; Use the buffer number instead of the file name.&nbsp;&nbsp;Check the cursor<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_preview.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 8.0.0763<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Libvterm can be improved.<br>
Solution:&nbsp;&nbsp; Various small improvements, more comments.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/README, src/libvterm/include/vterm.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/include/vterm_keycodes.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/keyboard.c, src/libvterm/src/parser.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/screen.c, src/libvterm/src/state.c<br>
<br>
Patch 8.0.0764<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="MissingTag">'termkey'</span>&nbsp;does not work yet.<br>
Solution:&nbsp;&nbsp; Implement&nbsp;<span class="MissingTag">'termkey'</span>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/option.c, src/proto/option.pro<br>
<br>
Patch 8.0.0765<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails with tiny features.<br>
Solution:&nbsp;&nbsp; Adjust #ifdef. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/option.h<br>
<br>
Patch 8.0.0766<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Option test fails with +terminal feature.<br>
Solution:&nbsp;&nbsp; Fix using the right option when checking the value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.0767<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure with Athena and Motif.<br>
Solution:&nbsp;&nbsp; Move local variable declarations. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c<br>
<br>
Patch 8.0.0768<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window status shows &quot;[Scratch]&quot;.<br>
Solution:&nbsp;&nbsp; Show &quot;[Terminal]&quot; when no title was set. (Yasuhiro Matsumoto)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Store the terminal title that vterm sends and use it.&nbsp;&nbsp;Update the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;special buffer name.&nbsp;&nbsp;(closes #1869)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/proto/terminal.pro, src/buffer.c<br>
<br>
Patch 8.0.0769<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build problems with terminal on MS-Windows using MSVC.<br>
Solution:&nbsp;&nbsp; Remove stdbool.h dependency. Only use ScreenLinesUC when it was<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;allocated. Fix typos. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/bin/vterm-ctrl.c, runtime/doc/terminal.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLpc.txt, src/Make_cyg_ming.mak, src/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/Makefile.msc, src/terminal.c<br>
<br>
Patch 8.0.0770<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for missing field initializer.<br>
Solution:&nbsp;&nbsp; Add two more values. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/encoding.c<br>
<br>
Patch 8.0.0771<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor in a terminal window not always updated in the GUI.<br>
Solution:&nbsp;&nbsp; Call gui_update_cursor(). (Yasuhiro Matsumoto, closes #1868)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0772<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Other stdbool.h dependencies in libvterm.<br>
Solution:&nbsp;&nbsp; Remove the dependency and use TRUE/FALSE/int. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/include/vterm.h, src/libvterm/src/mouse.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/pen.c, src/libvterm/t/harness.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/bin/unterm.c<br>
<br>
Patch 8.0.0773<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mixing 32 and 64 bit libvterm builds fails.<br>
Solution:&nbsp;&nbsp; Use OUTDIR. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak, src/libvterm/Makefile.msc<br>
<br>
Patch 8.0.0774<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure without the multi-byte feature on HPUX.<br>
Solution:&nbsp;&nbsp; Move #ifdefs. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0775<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In a terminal the cursor is updated too often.<br>
Solution:&nbsp;&nbsp; Only flush when needed. (Yasuhiro Matsumoto).&nbsp;&nbsp;Remember whether the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cursor is visible. (closes #1873)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0776<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Function prototypes missing without the quickfix feature. (Tony<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mechelynck)<br>
Solution:&nbsp;&nbsp; Move non-quickfix functions to buffer.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/proto/buffer.pro, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/quickfix.pro<br>
<br>
Patch 8.0.0777<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings with 64 bit compiler.<br>
Solution:&nbsp;&nbsp; Add type casts. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/pen.c, src/libvterm/src/state.c, src/terminal.c<br>
<br>
Patch 8.0.0778<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In a terminal the cursor may be hidden and screen updating lags<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;behind. (Nazri Ramliy)<br>
Solution:&nbsp;&nbsp; Switch the cursor on and flush output when needed. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0779<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:term without an argument uses empty buffer name but runs the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shell.<br>
Solution:&nbsp;&nbsp; Change the command to the shell earlier.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0780<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure on Travis.<br>
Solution:&nbsp;&nbsp; Set distribution explicitly. Use Lua and Ruby dev. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1884)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.0781<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Memory leak when using :terminal.<br>
Solution:&nbsp;&nbsp; Handle failures properly. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0782<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory in quickfix code. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Handle a help window differently. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/proto/buffer.pro, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim, src/ex_cmds.c, src/window.c<br>
<br>
Patch 8.0.0783<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Job of terminal may be freed too early.<br>
Solution:&nbsp;&nbsp; Increment job refcount. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0784<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Job of terminal may be garbage collected.<br>
Solution:&nbsp;&nbsp; Set copyID on job in terminal. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/eval.c, src/proto/terminal.pro<br>
<br>
Patch 8.0.0785<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wildcards are not expanded for :terminal.<br>
Solution:&nbsp;&nbsp; Add FILES to the command flags. (Yasuhiro Matsumoto, closes #1883)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also complete commands.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/ex_docmd.c<br>
<br>
Patch 8.0.0786<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failures on Travis.<br>
Solution:&nbsp;&nbsp; Go back to precise temporarily.&nbsp;&nbsp;Disable coverage with clang.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.0787<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot send&nbsp;<span class="Special">CTRL-W</span>&nbsp;command to terminal job.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<span class="Special">CTRL-W</span>&nbsp;. a prefix for sending a key to the job.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, runtime/doc/terminal.txt, src/option.c<br>
<br>
Patch 8.0.0788<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: cannot build with terminal feature.<br>
Solution:&nbsp;&nbsp; Move set_ref_in_term(). (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0789<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When splitting a terminal window where the terminal follows the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;size of the window doesn't work.<br>
Solution:&nbsp;&nbsp; Use the size of the smallest window. (Yasuhiro Matsumoto, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1885)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0790<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MSVC compiler warning for strncpy in libvterm.<br>
Solution:&nbsp;&nbsp; Add a define to stop the warnings. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.0.0791<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal colors depend on the system.<br>
Solution:&nbsp;&nbsp; Use the highlight color lookup tables.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/proto/syntax.pro, src/terminal.c<br>
<br>
Patch 8.0.0792<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Spell test leaves files behind.<br>
Solution:&nbsp;&nbsp; Delete the files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_spell.vim<br>
<br>
Patch 8.0.0793<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using wrong terminal name for terminal window.<br>
Solution:&nbsp;&nbsp; When&nbsp;<a class="Type" href="options.html#'term'">'term'</a>&nbsp;starts with &quot;xterm&quot; use it for $TERM in a terminal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.0794<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The script to check translations fails if there is more than one<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NL in one line.<br>
Solution:&nbsp;&nbsp; Count the number of NL characters.&nbsp;&nbsp;Make count() accept a string.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/check.vim, src/evalfunc.c, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.0.0795<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal feature does not build with older MSVC.<br>
Solution:&nbsp;&nbsp; Do not use stdint.h.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/include/vterm.h<br>
<br>
Patch 8.0.0796<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No coverage on Travis with clang.<br>
Solution:&nbsp;&nbsp; Use a specific coveralls version. (Ozaki Kiichi, closes #1888)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.0797<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Finished job in terminal window is not handled.<br>
Solution:&nbsp;&nbsp; Add the scrollback buffer.&nbsp;&nbsp;Use it to fill the buffer when the job<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;has ended.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/screen.c, src/proto/terminal.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/os_unix.c, src/buffer.c<br>
<br>
Patch 8.0.0798<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No highlighting in a terminal window with a finished job.<br>
Solution:&nbsp;&nbsp; Highlight the text.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/proto/terminal.pro, src/screen.c, src/undo.c<br>
<br>
Patch 8.0.0799<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing semicolon.<br>
Solution:&nbsp;&nbsp; Add it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0800<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window scrollback contents is wrong.<br>
Solution:&nbsp;&nbsp; Fix handling of multi-byte characters (Yasuhiro Matsumoto) Handle<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;empty lines correctly. (closes #1891)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0801<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The terminal window title sometimes still says &quot;running&quot; even<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;though the job has finished.<br>
Solution:&nbsp;&nbsp; Also consider the job finished when the channel has been closed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0802<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After a job exits the last line in the terminal window does not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get color attributes.<br>
Solution:&nbsp;&nbsp; Fix off-by-one error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0803<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window functions not yet implemented.<br>
Solution:&nbsp;&nbsp; Implement several functions. Add a first test. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #1871)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/Makefile, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/evalfunc.pro, src/proto/terminal.pro, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0804<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running tests fails when stdin is /dev/null. (James McCoy)<br>
Solution:&nbsp;&nbsp; Do not bail out from getting input if the --not-a-term argument<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;was given. (closes #1460)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalfunc.c<br>
<br>
Patch 8.0.0805<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI test fails with gnome2.<br>
Solution:&nbsp;&nbsp; Set $HOME to an existing directory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/setup.vim, src/testdir/runtest.vim<br>
<br>
Patch 8.0.0806<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests may try to create XfakeHOME twice.<br>
Solution:&nbsp;&nbsp; Avoid loading setup.vim twice.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/setup.vim<br>
<br>
Patch 8.0.0807<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window can't handle mouse buttons. (Hirohito Higashi)<br>
Solution:&nbsp;&nbsp; Implement mouse buttons and many other keys.&nbsp;&nbsp;Ignore the ones that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;are not implemented.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0808<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with terminal feature and DEBUG defined. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Solution:&nbsp;&nbsp; Use DEBUG_LOG3().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/pen.c<br>
<br>
Patch 8.0.0809<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: tests hang.<br>
Solution:&nbsp;&nbsp; Delete the XfakeHOME directory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak<br>
<br>
Patch 8.0.0810<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: tests still hang.<br>
Solution:&nbsp;&nbsp; Only create the XfakeHOME directory if it does not exist yet.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/setup.vim<br>
<br>
Patch 8.0.0811<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: test_expand_dllpath fails.<br>
Solution:&nbsp;&nbsp; Change backslashes to forward slashes<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expand_dllpath.vim<br>
<br>
Patch 8.0.0812<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window colors shift when&nbsp;<a class="Type" href="options.html#'number'">'number'</a>&nbsp;is set. (Nazri Ramliy)<br>
Solution:&nbsp;&nbsp; Use vcol instead of col.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.0813<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use Vim commands in a terminal window while the job is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;running.<br>
Solution:&nbsp;&nbsp; Implement Terminal Normal mode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/proto/terminal.pro, src/main.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/option.c, runtime/doc/terminal.txt<br>
<br>
Patch 8.0.0814 (after 8.0.0757)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;File in Filelist does not exist.<br>
Solution:&nbsp;&nbsp; Remove the line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.0.0815<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window not correctly updated when&nbsp;<a class="Type" href="options.html#'statusline'">'statusline'</a>&nbsp;invokes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;:sleep&quot;. (NIkolay Pavlov)<br>
Solution:&nbsp;&nbsp; Clear got_int.&nbsp;&nbsp;Repeat redrawing when needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0816<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using invalid buffer number.<br>
Solution:&nbsp;&nbsp; Check for NULL buffer. (Yasuhiro Matsumoto, closes #1899)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0817<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get the line of a terminal window at the cursor.<br>
Solution:&nbsp;&nbsp; Make the row argument optional. (Yasuhiro Matsumoto, closes #1898)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/terminal.c<br>
<br>
Patch 8.0.0818<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get the cursor position of a terminal.<br>
Solution:&nbsp;&nbsp; Add term_getcursor().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/terminal.pro<br>
<br>
Patch 8.0.0819<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After changing current window the cursor position in the terminal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window is not updated.<br>
Solution:&nbsp;&nbsp; Set w_wrow, w_wcol and w_valid.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0820<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI: cursor in terminal window lags behind.<br>
Solution:&nbsp;&nbsp; call gui_update_cursor() under different conditions. (Ozaki<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kiichi, closes #1893)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0821<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get the title and status of a terminal window.<br>
Solution:&nbsp;&nbsp; Implement term_gettitle() and term_getstatus().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/terminal.c, src/proto/terminal.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.0.0822<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_with_partial_callback is a tiny bit flaky.<br>
Solution:&nbsp;&nbsp; Add it to the list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.0823<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot paste text into a terminal window.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<span class="Special">CTRL-W</span>&nbsp;&quot; work.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0824<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In Terminal mode the cursor and screen gets redrawn when the job<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;produces output.<br>
Solution:&nbsp;&nbsp; Check for tl_terminal_mode. (partly by Yasuhiro Matsumoto, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1904)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0825<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to see that a window is a terminal window.<br>
Solution:&nbsp;&nbsp; Add StatusLineTerm highlighting.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/vim.h, src/screen.c, src/syntax.c<br>
<br>
Patch 8.0.0826<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use text objects in Terminal mode.<br>
Solution:&nbsp;&nbsp; Check for pending operator and Visual mode first. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #1906)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 8.0.0827<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity: could leak pty file descriptor, theoretically.<br>
Solution:&nbsp;&nbsp; If channel is NULL, free the file descriptors.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.0828<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity: may dereference NULL pointer.<br>
Solution:&nbsp;&nbsp; Bail out if calloc_state() returns NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 8.0.0829<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A job running in a terminal window cannot easily communicate with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the Vim it is running in.<br>
Solution:&nbsp;&nbsp; Pass v:servername in an environment variable. (closes #1908)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.0830<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Translating messages is not ideal.<br>
Solution:&nbsp;&nbsp; Add a remark about obsolete messages.&nbsp;&nbsp;Use msgfmt in the check<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;script. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/README.txt, src/po/check.vim<br>
<br>
Patch 8.0.0831 (after 8.0.0791)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With 8 colors the bold attribute is not set properly.<br>
Solution:&nbsp;&nbsp; Move setting HL_TABLE() out of lookup_color. (closes #1901)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/proto/syntax.pro, src/terminal.c<br>
<br>
Patch 8.0.0832<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal function arguments are not consistent.<br>
Solution:&nbsp;&nbsp; Use one-based instead of zero-based rows and cols.&nbsp;&nbsp;Use &quot;.&quot; for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the current row.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, runtime/doc/eval.txt<br>
<br>
Patch 8.0.0833<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test fails.<br>
Solution:&nbsp;&nbsp; Update the row argument to one based.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0834<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build without the client-server feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.0835<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Translations check with msgfmt does not work.<br>
Solution:&nbsp;&nbsp; Add a space before the file name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/check.vim<br>
<br>
Patch 8.0.0836<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a terminal buffer is changed it can still be accidentally<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;abandoned.<br>
Solution:&nbsp;&nbsp; When making a change reset the&nbsp;<a class="Type" href="options.html#'buftype'">'buftype'</a>&nbsp;option.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim, src/option.c<br>
<br>
Patch 8.0.0837<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Signs can be drawn on top of console messages.<br>
Solution:&nbsp;&nbsp; don't redraw at a prompt or when scrolled up. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1907)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.0838<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Buffer hangs around when terminal window is closed.<br>
Solution:&nbsp;&nbsp; When the job has ended wipe out a terminal buffer when the window<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is closed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/terminal.c, src/proto/terminal.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0839<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot kill a job in a terminal with&nbsp;<span class="Special">CTRL-C</span>.<br>
Solution:&nbsp;&nbsp; Set the controlling tty and send SIGINT. (closes #1910)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/terminal.c, src/proto/os_unix.pro<br>
<br>
Patch 8.0.0840<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: fopen() and open() prototypes do not match the ones in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the system header file.&nbsp;&nbsp;Can't build without FEAT_MBYTE.<br>
Solution:&nbsp;&nbsp; Add &quot;const&quot;.&nbsp;&nbsp;Move macro to after including protoo.h.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/proto/os_win32.pro, src/macros.h, src/vim.h<br>
<br>
Patch 8.0.0841<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;term_getline() may cause a crash.<br>
Solution:&nbsp;&nbsp; Check that the row is valid. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0842<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using slave pty after closing it.<br>
Solution:&nbsp;&nbsp; Do the ioctl() before dup'ing it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.0843<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: compiler warning for signed/unsigned.<br>
Solution:&nbsp;&nbsp; Add type cast. (Yasuhiro Matsumoto, closes #1912)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0844<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong function prototype because of missing static.<br>
Solution:&nbsp;&nbsp; Add &quot;static&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/proto/os_win32.pro<br>
<br>
Patch 8.0.0845<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: missing semicolon in terminal code.<br>
Solution:&nbsp;&nbsp; Add it. (Naruhiko Nishino, closes #1923)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0846<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get the name of the pty of a job.<br>
Solution:&nbsp;&nbsp; Add the &quot;tty&quot; entry to the job info. (Ozaki Kiichi, closes #1920)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add the term_gettty() function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/channel.c, src/os_unix.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/proto/terminal.pro, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0847<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:argadd without argument can't handle space in file name. (Harm te<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hennepe)<br>
Solution:&nbsp;&nbsp; Escape the space. (Yasuhiro Matsumoto, closes #1917)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/proto/ex_cmds2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim<br>
<br>
Patch 8.0.0848<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using multiple ch_log functions is clumsy.<br>
Solution:&nbsp;&nbsp; Use variable arguments. (Ozaki Kiichi, closes #1919)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/message.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0849<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when job exit callback wipes the terminal.<br>
Solution:&nbsp;&nbsp; Check for b_term to be NULL.&nbsp;&nbsp;(Yasuhiro Matsumoto, closes #1922)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Implement options for term_start() to be able to test.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make term_wait() more reliable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim, src/channel.c<br>
<br>
Patch 8.0.0850<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Depending on the console encoding, an error message<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that is given during startup may be broken.<br>
Solution:&nbsp;&nbsp; Convert the message to the console codepage. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1927)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 8.0.0851<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'smartindent'">'smartindent'</a>&nbsp;is used even when&nbsp;<a class="Type" href="options.html#'indentexpr'">'indentexpr'</a>&nbsp;is set.<br>
Solution:&nbsp;&nbsp; Ignore&nbsp;<a class="Type" href="options.html#'smartindent'">'smartindent'</a>&nbsp;when&nbsp;<a class="Type" href="options.html#'indentexpr'">'indentexpr'</a>&nbsp;is set. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test_smartindent.vim<br>
<br>
Patch 8.0.0852 (after 8.0.0850)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: possible crash when giving a message on startup.<br>
Solution:&nbsp;&nbsp; Initialize length. (Yasuhiro Matsumoto, closes #1931)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 8.0.0853<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when running terminal with unknown command.<br>
Solution:&nbsp;&nbsp; Check &quot;term&quot; not to be NULL. (Yasuhiro Matsumoto, closes #1932)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0854<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No redraw after terminal was closed.<br>
Solution:&nbsp;&nbsp; Set typebuf_was_filled. (Yasuhiro Matsumoto, closes #1925, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1924)&nbsp;&nbsp;Add function to check for messages even when input is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;available.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/os_unix.c, src/proto/os_unix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/proto/os_win32.pro, src/os_mswin.c<br>
<br>
Patch 8.0.0855<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: can't get tty name of terminal.<br>
Solution:&nbsp;&nbsp; Use the winpty process number. (Yasuhiro Matsumoto, closes #1929)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0856<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: terminal job doesn't take options.<br>
Solution:&nbsp;&nbsp; Call job_set_options(). (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0857<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Sleep a fraction of a second.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0858<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can exit while a terminal is still running a job.<br>
Solution:&nbsp;&nbsp; Consider a buffer with a running job like a changed file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c, src/terminal.c, src/option.h, src/buffer.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0859<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;NULL pointer access when term_free_vterm called twice.<br>
Solution:&nbsp;&nbsp; Return when tl_vterm is NULL. (Yasuhiro Matsumoto, closes #1934)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0860<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There may be side effects when a channel appends to a buffer that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is not the current buffer.<br>
Solution:&nbsp;&nbsp; Properly switch to another buffer before appending. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #1926, closes #1937)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/buffer.c, src/proto/buffer.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 8.0.0861<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still many old style tests.<br>
Solution:&nbsp;&nbsp; Convert several tests to new style. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/main.aap, src/testdir/test104.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test104.ok, src/testdir/test22.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test22.ok, src/testdir/test77.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test77.ok, src/testdir/test84.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test84.ok, src/testdir/test9.in, src/testdir/test9.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test98.in, src/testdir/test98.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/testdir/test_curswant.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_file_size.vim, src/testdir/test_let.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_lineending.vim, src/testdir/test_scrollbind.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.0862 (after 8.0.0862)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;File size test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Set fileformat after opening new buffer.&nbsp;&nbsp;Strip CR.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_file_size.vim<br>
<br>
Patch 8.0.0863<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A remote command starting with&nbsp;<span class="Special">CTRL-\</span>&nbsp;<span class="Special">CTRL-N</span>&nbsp;does not work in the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;terminal window. (Christian J. Robinson)<br>
Solution:&nbsp;&nbsp; Use&nbsp;<span class="Special">CTRL-\</span>&nbsp;<span class="Special">CTRL-N</span>&nbsp;as a prefix or a Normal mode command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, runtime/doc/terminal.txt<br>
<br>
Patch 8.0.0864<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot specify the name of a terminal.<br>
Solution:&nbsp;&nbsp; Add the &quot;term_name&quot; option. (Yasuhiro Matsumoto, closes #1936)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/structs.h, src/terminal.c, runtime/doc/eval.txt<br>
<br>
Patch 8.0.0865<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with channel but without terminal feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.0866<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Solaris also doesn't have MIN and MAX.<br>
Solution:&nbsp;&nbsp; Define MIN and MAX whenever they are not defined. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1939)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0867<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using a job or channel value as a dict value, when turning it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;into a string the quotes are missing.<br>
Solution:&nbsp;&nbsp; Add quotes to the job and channel values. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1930)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/list.c, src/eval.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0868<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot specify the terminal size on the command line.<br>
Solution:&nbsp;&nbsp; Use the address range for the terminal size. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1941)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0869<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Job output is sometimes not displayed in a terminal.<br>
Solution:&nbsp;&nbsp; Flush output before closing the channel.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/terminal.c<br>
<br>
Patch 8.0.0870<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mouse escape codes sent to terminal unintentionally.<br>
Solution:&nbsp;&nbsp; Fix libvterm to send mouse codes only when enabled.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/libvterm/src/mouse.c<br>
<br>
Patch 8.0.0871<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The status line for a terminal window always has &quot;[+]&quot;.<br>
Solution:&nbsp;&nbsp; Do make the status line include &quot;[+]&quot; for a terminal window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.0872<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using mouse scroll while a terminal window has focus and the mouse<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pointer is on another window does not work.&nbsp;&nbsp;Same for focus in a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;non-terminal window and the mouse pointer is over a terminal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.<br>
Solution:&nbsp;&nbsp; Send the scroll action to the right window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/normal.c, src/proto/terminal.pro<br>
<br>
Patch 8.0.0873<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In a terminal window cannot use&nbsp;<span class="Special">CTRL-\</span>&nbsp;<span class="Special">CTRL-N</span>&nbsp;to start Visual<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mode.<br>
Solution:&nbsp;&nbsp; After&nbsp;<span class="Special">CTRL-\</span>&nbsp;<span class="Special">CTRL-N</span>&nbsp;enter Terminal-Normal mode for one command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/terminal.c, src/proto/terminal.pro<br>
<br>
Patch 8.0.0874 (after 8.0.0873)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with terminal feature.<br>
Solution:&nbsp;&nbsp; Include change to term_use_loop(). (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 8.0.0875<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash with weird command sequence. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Use vim_snprintf() instead of STRCPY().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 8.0.0876<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Backslashes and wildcards in backticks don't work.<br>
Solution:&nbsp;&nbsp; Do not handle backslashes inside backticks in the wrong place.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto, closes #1942)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/os_win32.c<br>
<br>
Patch 8.0.0877<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;<span class="Special">CTRL-\</span>&nbsp;<span class="Special">CTRL-N</span>&nbsp;in terminal is inconsistent.<br>
Solution:&nbsp;&nbsp; Stay in Normal mode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/proto/terminal.pro, src/main.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.0878<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No completion for :mapclear.<br>
Solution:&nbsp;&nbsp; Add completion (Nobuhiro Takasaki et al. closes #1943)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/map.txt, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/proto/ex_docmd.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim, src/vim.h<br>
<br>
Patch 8.0.0879<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when shifting with huge number.<br>
Solution:&nbsp;&nbsp; Check for overflow. (Dominique Pelle, closes #1945)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_visual.vim<br>
<br>
Patch 8.0.0880<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Travis uses an old Ubuntu version.<br>
Solution:&nbsp;&nbsp; Switch from precise to trusty. (Ken Takata, closes #1897)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml, Filelist, src/testdir/if_ver-1.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/if_ver-2.vim, src/testdir/lsan-suppress.txt<br>
<br>
Patch 8.0.0881<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;win32.mak no longer included in Windows SDK.<br>
Solution:&nbsp;&nbsp; Do not include win32.mak. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/Makefile, src/Make_mvc.mak<br>
<br>
Patch 8.0.0882<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;term_scrape() and term_getline() require two arguments but it is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not enforced.<br>
Solution:&nbsp;&nbsp; Correct minimal number of arguments. (Hirohito Higashi)&nbsp;&nbsp;Update<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;documentation. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, runtime/doc/eval.txt<br>
<br>
Patch 8.0.0883<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access with nonsensical script.<br>
Solution:&nbsp;&nbsp; Check &quot;dstlen&quot; being positive. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 8.0.0884<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't specify the wait time for term_wait().<br>
Solution:&nbsp;&nbsp; Add an optional second argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/terminal.c, runtime/doc/eval.txt<br>
<br>
Patch 8.0.0885<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window scrollback is stored inefficiently.<br>
Solution:&nbsp;&nbsp; Store the text in the Vim buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0886<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using &quot;:term ls&quot;.<br>
Solution:&nbsp;&nbsp; Fix line number computation.&nbsp;&nbsp;Add a test for this.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0887<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can create a logfile in the sandbox.<br>
Solution:&nbsp;&nbsp; Disable ch_logfile() in the sandbox. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.0.0888<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings with 64 bit build.<br>
Solution:&nbsp;&nbsp; Add type cast of change the type. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/os_mswin.c, src/os_win32.c<br>
<br>
Patch 8.0.0889<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Gcc gives warnings for uninitialized variables. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Initialize variables even though they are not used.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0890<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still many old style tests.<br>
Solution:&nbsp;&nbsp; Convert several tests to new style. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test103.in, src/testdir/test103.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test107.in, src/testdir/test107.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test51.in, src/testdir/test51.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test91.in, src/testdir/test91.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_getvar.vim, src/testdir/test_highlight.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_visual.vim, src/testdir/test_window_cmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.0891<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Uninitialized memory use with empty line in terminal.<br>
Solution:&nbsp;&nbsp; Initialize growarray earlier. (Yasuhiro Matsumoto, closes #1949)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0892<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When opening a terminal the pty size doesn't always match.<br>
Solution:&nbsp;&nbsp; Update the pty size after opening the terminal. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0893<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get the scroll count of a terminal window.<br>
Solution:&nbsp;&nbsp; Add term_getscrolled().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/proto/terminal.pro, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0894<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no test for runtime filetype detection.<br>
Solution:&nbsp;&nbsp; Test a list of filetypes from patterns.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_filetype.vim, runtime/filetype.vim<br>
<br>
Patch 8.0.0895 (after 8.0.0894)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Filetype test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Fix file names.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_filetype.vim<br>
<br>
Patch 8.0.0896<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot automatically close a terminal window when the job ends.<br>
Solution:&nbsp;&nbsp; Add the ++close argument to :term.&nbsp;&nbsp;Add the term_finish option to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;term_start(). (Yasuhiro Matsumoto, closes #1950)&nbsp;&nbsp;Also add<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;++open.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/terminal.txt, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0897 (after 8.0.0896)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong error message for invalid term_finish value<br>
Solution:&nbsp;&nbsp; Pass the right argument to emsg().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.0898<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't use the alternate screen in a terminal window.<br>
Solution:&nbsp;&nbsp; Initialize the alternate screen. (Yasuhiro Matsumoto, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1957)&nbsp;&nbsp;Add term_getaltscreen().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/include/vterm.h, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/terminal.pro, src/evalfunc.c, runtime/doc/eval.txt<br>
<br>
Patch 8.0.0899<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Function name mch_stop_job() is confusing.<br>
Solution:&nbsp;&nbsp; Rename to mch_signal_job().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/os_unix.c, src/proto/os_unix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/proto/os_win32.pro, src/terminal.c<br>
<br>
Patch 8.0.0900<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:tab options doesn't open a new tab page. (Aviany)<br>
Solution:&nbsp;&nbsp; Support the :tab modifier. (closes #1960)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, runtime/optwin.vim<br>
<br>
Patch 8.0.0901<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Asan suppress file missing from distribution.<br>
Solution:&nbsp;&nbsp; Add the file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.0.0902<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot specify directory or environment for a job.<br>
Solution:&nbsp;&nbsp; Add the &quot;cwd&quot; and &quot;env&quot; arguments to job options. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #1160)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/channel.txt, src/channel.c, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_win32.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0903 (after 8.0.0902)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Early return from test function.<br>
Solution:&nbsp;&nbsp; Remove the return.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0904<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot set a location list from text.<br>
Solution:&nbsp;&nbsp; Add the &quot;text&quot; argument to setqflist(). (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0905<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: broken multi-byte characters in the console.<br>
Solution:&nbsp;&nbsp; Restore all regions of the console buffer. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.0.0906<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Don't recognize Couchbase files.<br>
Solution:&nbsp;&nbsp; Add filetype detection. (Eugene Ciurana, closes #1951)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim, src/testdir/test_filetype.vim<br>
<br>
Patch 8.0.0907<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With cp932 font names might be misinterpreted.<br>
Solution:&nbsp;&nbsp; Do not see &quot;_&quot; as a space when it is the second byte of a double<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte character. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.0.0908<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot set terminal size with options.<br>
Solution:&nbsp;&nbsp; Add &quot;term_rows&quot;, &quot;term_cols&quot; and &quot;vertical&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, runtime/doc/eval.txt, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/channel.pro, src/structs.h, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0909<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test fails.<br>
Solution:&nbsp;&nbsp; Allow for &quot;cwd&quot; and &quot;env&quot; arguments.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.0910<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot create a terminal in the current window.<br>
Solution:&nbsp;&nbsp; Add option &quot;curwin&quot; and ++curwin.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, runtime/doc/eval.txt, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/ex_cmds.h, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0911<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test takes too long.<br>
Solution:&nbsp;&nbsp; Instead of &quot;sleep 1&quot; use a Python program to briefly sleep.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/testdir/test_short_sleep.py<br>
<br>
Patch 8.0.0912<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot run a job in a hidden terminal.<br>
Solution:&nbsp;&nbsp; Add option &quot;hidden&quot; and ++hidden.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/structs.h, src/channel.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0913<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows:&nbsp;<span class="Special">CTRL-C</span>&nbsp;kills shell in terminal window instead of the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;command running in the shell.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<span class="Special">CTRL-C</span>&nbsp;only send a CTRL_C_EVENT and have&nbsp;<span class="Special">CTRL-B</span>REAK kill the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;job. (partly by Yasuhiro Matsumoto, closes #1962)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/gui_w32.c, src/terminal.c, src/globals.h<br>
<br>
Patch 8.0.0914<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Highlight attributes are always combined.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<span class="MissingTag">'nocombine'</span>&nbsp;value to replace attributes instead of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combining them. (scauligi, closes #1963)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/syntax.txt, src/syntax.c, src/vim.h<br>
<br>
Patch 8.0.0915<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong initialisation of global.<br>
Solution:&nbsp;&nbsp; Use INIT().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h<br>
<br>
Patch 8.0.0916<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot specify properties of window for when opening a window for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a finished terminal job.<br>
Solution:&nbsp;&nbsp; Add &quot;term_opencmd&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/structs.h, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0917<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows:<span class="Special">CTRL-C</span>&nbsp;handling in terminal window is wrong<br>
Solution:&nbsp;&nbsp; Pass&nbsp;<span class="Special">CTRL-C</span>&nbsp;as a key. Turn&nbsp;<span class="Special">CTRL-B</span>REAK into a key stroke. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #1965)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/terminal.c<br>
<br>
Patch 8.0.0918<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get terminal window cursor shape or attributes.<br>
Solution:&nbsp;&nbsp; Support cursor shape, attributes and color.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/include/vterm.h, src/libvterm/src/state.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/vterm.c, src/feature.h, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ui.pro, src/term.c, src/proto/term.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/term.h<br>
<br>
Patch 8.0.0919<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor color isn't set on startup.<br>
Solution:&nbsp;&nbsp; Initialize showing_mode to invalid value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0920<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The cursor shape is wrong after switch back from an alternate<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screen in a terminal window. (Marius Gedminas)<br>
Solution:&nbsp;&nbsp; Change bitfield to unsigned.&nbsp;&nbsp;Set flag that cursor shape was set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/libvterm/src/vterm_internal.h<br>
<br>
Patch 8.0.0921<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window cursor shape not supported in the GUI.<br>
Solution:&nbsp;&nbsp; Use the terminal window cursor shape in the GUI.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/proto/terminal.pro, src/gui.c, src/syntax.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/syntax.pro<br>
<br>
Patch 8.0.0922<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix list always added after current one.<br>
Solution:&nbsp;&nbsp; Make it possible to add a quickfix list after the last one.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.0923<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash in GUI when terminal job exits. (Kazunobu Kuriyama)<br>
Solution:&nbsp;&nbsp; reset in_terminal_loop when a terminal is freed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0924<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window not updated after using term_sendkeys().<br>
Solution:&nbsp;&nbsp; Call redraw_after_callback().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0925<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows GUI: channel I/O not handled right away.<br>
Solution:&nbsp;&nbsp; Don't call process_message() unless a message is available.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto, closes #1969)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.0.0926<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When job in terminal window ends topline may be wrong.<br>
Solution:&nbsp;&nbsp; When the job ends adjust topline so that the active part of the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;terminal is displayed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0927<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If a terminal job sends a blank title &quot;running&quot; is not shown.<br>
Solution:&nbsp;&nbsp; When the title is blank make it empty.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0928<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: passing arglist to job has escaping problems.<br>
Solution:&nbsp;&nbsp; Improve escaping. (Yasuhiro Matsumoto, closes #1954)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro, src/terminal.c<br>
<br>
Patch 8.0.0929<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:term without argument does not work.<br>
Solution:&nbsp;&nbsp; Use shell for empty command. (Yasuhiro Matsumoto, closes #1970)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0930<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal buffers are stored in the viminfo file while they can't<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be useful.<br>
Solution:&nbsp;&nbsp; Skip terminal buffers for file marks and buffer list<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/mark.c<br>
<br>
Patch 8.0.0931<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getwininfo() does not indicate a terminal window.<br>
Solution:&nbsp;&nbsp; Add &quot;terminal&quot; to the dictionary.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c<br>
<br>
Patch 8.0.0932<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal may not use right characters for BS and Enter.<br>
Solution:&nbsp;&nbsp; Get the characters from the tty.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/proto/os_unix.pro, src/terminal.c<br>
<br>
Patch 8.0.0933<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test tries to start GUI when it's not possible.<br>
Solution:&nbsp;&nbsp; Check if the GUI can run. (James McCoy, closes #1971)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim, src/testdir/test_gui_init.vim<br>
<br>
Patch 8.0.0934 (after 8.0.0932)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Change to struts.h missing in patch.<br>
Solution:&nbsp;&nbsp; Include adding ttyinfo_T.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 8.0.0935<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot recognize a terminal buffer in :ls output.<br>
Solution:&nbsp;&nbsp; Use R for a running job and F for a finished job.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 8.0.0936<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;mode() returns wrong value for a terminal window.<br>
Solution:&nbsp;&nbsp; Return 't' when typed keys go to a job.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0937<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;User highlight groups are not adjusted for StatusLineTerm.<br>
Solution:&nbsp;&nbsp; Combine attributes like for StatusLineNC.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/globals.h, src/screen.c<br>
<br>
Patch 8.0.0938<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Scrolling in terminal window is inefficient.<br>
Solution:&nbsp;&nbsp; Use win_del_lines().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0939<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_terminal_env is flaky. (James McCoy)<br>
Solution:&nbsp;&nbsp; Use WaitFor() instead of term_wait().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0940<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_terminal_scrape_multibyte is flaky. (James McCoy)<br>
Solution:&nbsp;&nbsp; Use WaitFor() instead of term_wait().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0941<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Existing color schemes don't work well with StatusLineTerm.<br>
Solution:&nbsp;&nbsp; Don't use &quot;reverse&quot;, use fg and bg colors.&nbsp;&nbsp;Also add<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;StatusLineTermNC.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/vim.h, src/screen.c, src/globals.h, src/option.c<br>
<br>
Patch 8.0.0942<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory with &quot;:terminal&quot; if an autocommand changes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'shell'">'shell'</a>&nbsp;when splitting the window. (Marius Gedminas)<br>
Solution:&nbsp;&nbsp; Make a copy of&nbsp;<a class="Type" href="options.html#'shell'">'shell'</a>. (closes #1974)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0943<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_terminal_scrape_multibyte fails if the codepage is not utf-8.<br>
Solution:&nbsp;&nbsp; Start &quot;cmd&quot; with the utf-8 codepage. (micbou, closes #1975)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0944<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_profile is a little bit flaky.<br>
Solution:&nbsp;&nbsp; Accept a match when self and total time are the same. (James<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;McCoy, closes #1972)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_profile.vim<br>
<br>
Patch 8.0.0945<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;64-bit compiler warnings.<br>
Solution:&nbsp;&nbsp; Use &quot;size_t&quot; instead of &quot;int&quot;. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.0.0946<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using PATH_MAX does not work well on some systems.<br>
Solution:&nbsp;&nbsp; use MAXPATHL instead. (James McCoy, closes #1973)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.0.0947<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When in Insert mode and using&nbsp;<span class="Special">CTRL-O</span>&nbsp;<span class="Special">CTRL-W</span>&nbsp;<span class="Special">CTRL-W</span>&nbsp;to move to a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;terminal window, get in a weird Insert mode.<br>
Solution:&nbsp;&nbsp; Don't go to Insert mode in a terminal window. (closes #1977)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 8.0.0948<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash if timer closes window while dragging status line.<br>
Solution:&nbsp;&nbsp; Check if the window still exists. (Yasuhiro Matsumoto, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1979)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/evalfunc.c, src/gui.c, src/normal.c, src/ui.c<br>
<br>
Patch 8.0.0949<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;winpty.dll name is fixed.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<a class="Type" href="options.html#'winptydll'">'winptydll'</a>&nbsp;option. Make the default name depend on<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;whether it is a 32-bit or 64-bit build. (idea by Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #1978)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/option.h, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt<br>
<br>
Patch 8.0.0950<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: wrong #ifdef, compiler warnings for signed/unsigned.<br>
Solution:&nbsp;&nbsp; Change variable type. Change TERMINAL to FEAT_TERMINAL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/option.h<br>
<br>
Patch 8.0.0951<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Another wrong #ifdef.<br>
Solution:&nbsp;&nbsp; Change TERMINAL to FEAT_TERMINAL. (closes #1981)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.0952<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: has(<span class="MissingTag">'terminal'</span>) does not check existence of dll file.<br>
Solution:&nbsp;&nbsp; Check if the winpty dll file can be loaded. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/proto/terminal.pro, src/terminal.c<br>
<br>
Patch 8.0.0953<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get &quot;no write since last change&quot; error in terminal window.<br>
Solution:&nbsp;&nbsp; Use another message when closing a terminal window. Make &quot;:quit!&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;also end the job.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/buffer.c, src/proto/buffer.pro, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/ex_docmd.c, src/quickfix.c, src/terminal.c<br>
<br>
Patch 8.0.0954<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;/proc/self/exe might be a relative path.<br>
Solution:&nbsp;&nbsp; Make the path a full path. (James McCoy, closes #1983)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.0.0955<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_existent_file() fails on some file systems.<br>
Solution:&nbsp;&nbsp; Run the test again with a sleep when the test fails without a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sleep. (James McCoy, closes #1984)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_stat.vim<br>
<br>
Patch 8.0.0956<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Scrolling in a terminal hwindow as flicker when the Normal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;background differs from the terminal window background.<br>
Solution:&nbsp;&nbsp; Set the attribute to clear with.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/screen.c, src/proto/screen.pro, src/message.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 8.0.0957<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When term_sendkeys() sends many keys it may get stuck in writing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to the job.<br>
Solution:&nbsp;&nbsp; Make the write non-blocking, buffer keys to be sent.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0958<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The terminal test fails on MS-Windows when compiled with the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;terminal feature but the winpty DLL is missing.<br>
Solution:&nbsp;&nbsp; Check if the terminal feature works. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0959<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use ioctlsocket() instead of fcntl().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.0960<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Job in terminal does not get&nbsp;<span class="Special">CTRL-C</span>, we send a SIGINT instead.<br>
Solution:&nbsp;&nbsp; Don't call may_send_sigint() on&nbsp;<span class="Special">CTRL-C</span>.&nbsp;&nbsp;Make&nbsp;<span class="Special">CTRL-W</span>&nbsp;<span class="Special">CTRL-C</span>&nbsp;end<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the job.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, runtime/doc/terminal.txt<br>
<br>
Patch 8.0.0961<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The script to build the installer does not include winpty.<br>
Solution:&nbsp;&nbsp; Add winpty32.dll and winpty-agent.exe like diff.exe<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/gvim.nsi<br>
<br>
Patch 8.0.0962<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash with virtualedit and joining lines. (Joshua T Corbin, Neovim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#6726)<br>
Solution:&nbsp;&nbsp; When using a mark check that coladd is valid.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/misc2.c, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_virtualedit.vim, src/testdir/test_alot.vim<br>
<br>
Patch 8.0.0963<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test fails on MacOS. (chdiza)<br>
Solution:&nbsp;&nbsp; Wait for the shell to echo the characters. (closes #1991)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0964<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel write buffer does not work with poll().<br>
Solution:&nbsp;&nbsp; Use the same mechanism as with select().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.0965<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The cursor shape is not reset after it was changed in a terminal.<br>
Solution:&nbsp;&nbsp; Request the original cursor shape and restore it.&nbsp;&nbsp;Add t_RS.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do not add t_SH for now, it does not work properly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/term.h, src/option.c, src/terminal.c<br>
<br>
Patch 8.0.0966 (after 8.0.0965)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure without terminal feature.<br>
Solution:&nbsp;&nbsp; Move #endif.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0967<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using a terminal may cause the cursor to blink.<br>
Solution:&nbsp;&nbsp; Do not set t_vs, since we cannot restore the old blink state.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0968<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when switching terminal modes. (Nikolai Pavlov)<br>
Solution:&nbsp;&nbsp; Check that there are scrollback lines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0969<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warning for unused return value.<br>
Solution:&nbsp;&nbsp; Add (void) to avoid the warning.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.0970<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;if there is no StatusLine highlighting and there is StatusLineNC<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or StatusLineTermNC highlighting then an invalid highlight id is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;passed to combine_stl_hlt(). (Coverity)<br>
Solution:&nbsp;&nbsp; Check id_S to be -1 instead of zero.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.0971<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'winptydll'">'winptydll'</a>&nbsp;missing from :options.<br>
Solution:&nbsp;&nbsp; Add the entry.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim<br>
<br>
Patch 8.0.0972<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for unused variables. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0973<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;initial info about blinking cursor is wrong<br>
Solution:&nbsp;&nbsp; Invert the blink flag.&nbsp;&nbsp;Add t_VS to stop a blinking cursor.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/proto/term.pro, src/term.h, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0974<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Resetting a string option does not trigger OptionSet. (Rick Howe)<br>
Solution:&nbsp;&nbsp; Set the origval.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.0975<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory when setting&nbsp;<a class="Type" href="options.html#'backspace'">'backspace'</a>.<br>
Solution:&nbsp;&nbsp; When changing oldval also change origval.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.0976<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot send lines to a terminal job.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<span class="Special">[range]</span>terminal send selected lines to the job.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use ++rows and ++cols for the terminal size.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/terminal.c, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0977<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot send lines to a terminal job on MS-Windows.<br>
Solution:&nbsp;&nbsp; Set jv_in_buf.&nbsp;&nbsp;Command doesn't get EOF yet though.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0978<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Writing to terminal job is not tested.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0979<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal noblock test fails on MS-Windows. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Ignore empty line below &quot;done&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0980<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warning for failing to open /dev/null.<br>
Solution:&nbsp;&nbsp; When /dev/null can't be opened exit the child.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.0981<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor in terminal window blinks by default, while in a real xterm<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it does not blink, unless the -bc argument is used.<br>
Solution:&nbsp;&nbsp; Do not use a blinking cursor by default.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0982<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;is set to a multi-byte encoding other than utf-8<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the characters from their terminal are messed up.<br>
Solution:&nbsp;&nbsp; Convert displayed text from utf-8 to&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;for MS-Windows.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto, close #2000)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0983<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnecessary check for NULL pointer.<br>
Solution:&nbsp;&nbsp; Remove the NULL check in dialog_changed(), it already happens in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dialog_msg(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 8.0.0984<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal blinking cursor not correct in the GUI.<br>
Solution:&nbsp;&nbsp; Set blinkoff correctly.&nbsp;&nbsp;Also make the cursor blink on MS-Windows<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by default. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0985<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Libvterm has its own idea of character width.<br>
Solution:&nbsp;&nbsp; Use the Vim functions for character width and composing to avoid a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mismatch. (idea by Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/libvterm/src/unicode.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/mbyte.pro, src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 8.0.0986<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal feature always requires multi-byte feature.<br>
Solution:&nbsp;&nbsp; Remove #ifdef FEAT_MBYTE, disable terminal without multi-byte.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/feature.h<br>
<br>
Patch 8.0.0987<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;terminal: second byte of double-byte char wrong<br>
Solution:&nbsp;&nbsp; Set the second byte to NUL only for utf-8 and non-multibyte.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0988<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning from Covscan about using NULL pointer.<br>
Solution:&nbsp;&nbsp; Add extra check for NULL. (zdohnal)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/undo.c<br>
<br>
Patch 8.0.0989<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ActiveTcl dll name has changed in 8.6.6.<br>
Solution:&nbsp;&nbsp; Adjust the makefile. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLpc.txt, src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 8.0.0990<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;is a double-byte encoding, pasting a register into<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a terminal ends up with the wrong characters.<br>
Solution:&nbsp;&nbsp; Convert from&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;to utf-8. (Yasuhiro Matsumoto, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#2007)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0991<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using wrong character conversion for DBCS.<br>
Solution:&nbsp;&nbsp; Use utf_char2bytes instead of mb_char2bytes. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2012)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0992<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal title is wrong when&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;is DBCS.<br>
Solution:&nbsp;&nbsp; Convert the title from DBCS to utf-8. (Yasuhiro Matsumoto, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#2009)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0993<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sometimes an xterm sends an extra&nbsp;<span class="Special">CTRL-X</span>&nbsp;after the response for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the background color.&nbsp;&nbsp;Related to t_RS.<br>
Solution:&nbsp;&nbsp; Check for the&nbsp;<span class="Special">CTRL-X</span>&nbsp;after the terminating 0x7.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0994<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: cursor in terminal blinks even though the blinking<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cursor was disabled on the system.<br>
Solution:&nbsp;&nbsp; Use GetCaretBlinkTime(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.0995<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal tests fail on Mac.<br>
Solution:&nbsp;&nbsp; Add workaround: sleep a moment in between sending keys.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.0996<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mac: t_RS is echoed on the screen in Terminal.app.&nbsp;&nbsp;Even though<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$TERM is set to &quot;xterm-256colors&quot; it cannot handle this xterm<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;escape sequence.<br>
Solution:&nbsp;&nbsp; Recognize Terminal.app from the termresponse and skip sending t_RS<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if it looks like Terminal.app.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0997 (after 8.0.0996)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Libvterm and Terminal.app not recognized from termresponse.<br>
Solution:&nbsp;&nbsp; Adjust string compare.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.0998<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Strange error when using K while only spaces are selected.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian J. Robinson)<br>
Solution:&nbsp;&nbsp; Check for blank argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_help.vim<br>
<br>
Patch 8.0.0999<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Indenting raw C++ strings is wrong.<br>
Solution:&nbsp;&nbsp; Add special handling of raw strings. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test_cindent.vim<br>
<br>
Patch 8.0.1000<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot open a terminal without running a job in it.<br>
Solution:&nbsp;&nbsp; Make &quot;:terminal NONE&quot; open a terminal with a pty.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/os_unix.c, src/proto/os_unix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.c, src/misc2.c, src/gui_gtk_x11.c<br>
<br>
Patch 8.0.1001<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;makes&nbsp;<a class="Type" href="options.html#'printheader'">'printheader'</a>&nbsp;invalid.<br>
Solution:&nbsp;&nbsp; Do not translate the default value of&nbsp;<a class="Type" href="options.html#'printheader'">'printheader'</a>. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #2026)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.1002<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnecessarily updating screen after timer callback.<br>
Solution:&nbsp;&nbsp; Check if calling the timer sets must_redraw.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/channel.c, src/screen.c, src/proto/screen.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1003<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;64 bit compiler warning<br>
Solution:&nbsp;&nbsp; Add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.1004<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;matchstrpos() without a match returns too many items.<br>
Solution:&nbsp;&nbsp; Also remove the second item when the position is beyond the end of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the string. (Hirohito Higashi)&nbsp;&nbsp;Use an enum for the type.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_match.vim<br>
<br>
Patch 8.0.1005<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal without job updates slowly in GUI.<br>
Solution:&nbsp;&nbsp; Poll for input when a channel has the keep_open flag.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro, src/gui_gtk_x11.c<br>
<br>
Patch 8.0.1006<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot parse text with&nbsp;<a class="Type" href="options.html#'errorformat'">'errorformat'</a>&nbsp;without changing a quickfix<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list.<br>
Solution:&nbsp;&nbsp; Add the &quot;text&quot; argument to getqflist(). (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/proto/quickfix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1007<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for filetype detection for scripts.<br>
Solution:&nbsp;&nbsp; Add a first test file script filetype detection.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_filetype.vim, runtime/scripts.vim<br>
<br>
Patch 8.0.1008<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Slow updating of terminal window in Motif.<br>
Solution:&nbsp;&nbsp; Add a timeout to the wait-for-character loop.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c<br>
<br>
Patch 8.0.1009<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Xterm cursor blinking status may be inverted.<br>
Solution:&nbsp;&nbsp; Use another request to get the blink status and compare with the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cursor style report<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/proto/term.pro, src/term.h, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1010 (after 8.0.1009)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure without termresponse feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1011<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test fails with Athena and Motif.<br>
Solution:&nbsp;&nbsp; Ignore the error for the input context. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1012<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Problem with $HOME when it was set internally.<br>
Solution:&nbsp;&nbsp; Only use the $HOME default internally. (Yasuhiro Matsumoto, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#2013)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/Make_all.mak, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_windows_home.vim<br>
<br>
Patch 8.0.1013<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A terminal window with a running job behaves different from a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window containing a changed buffer.<br>
Solution:&nbsp;&nbsp; Do not set&nbsp;<a class="Type" href="options.html#'bufhidden'">'bufhidden'</a>&nbsp;to &quot;hide&quot;.&nbsp;&nbsp;Fix that a buffer where a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;terminal used to run is listed as &quot;[Scratch]&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, runtime/doc/terminal.txt, src/buffer.c<br>
<br>
Patch 8.0.1014<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old compiler doesn't know uint32_t. Warning for using NULL instead<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of NUL.<br>
Solution:&nbsp;&nbsp; Use UINT32_T.&nbsp;&nbsp;Use NUL instead of NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/proto/mbyte.pro, src/misc1.c<br>
<br>
Patch 8.0.1015 (after 8.0.1013)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing update to terminal test.<br>
Solution:&nbsp;&nbsp; Add the changes to the test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1016<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Gnome terminal echoes t_RC.<br>
Solution:&nbsp;&nbsp; Detect Gnome terminal by the version string.&nbsp;&nbsp;Add v: variables for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all the term responses.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/eval.c, src/vim.h, runtime/doc/eval.txt<br>
<br>
Patch 8.0.1017<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for MS-Windows $HOME always passes.<br>
Solution:&nbsp;&nbsp; Rename the test function.&nbsp;&nbsp;Make the test pass.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_windows_home.vim<br>
<br>
Patch 8.0.1018<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings from 64-bit compiler. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Add type casts.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1019<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Pasting in virtual edit happens in the wrong place.<br>
Solution:&nbsp;&nbsp; Do not adjust coladd when after the end of the line (closes #2015)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_virtualedit.vim, src/misc2.c<br>
<br>
Patch 8.0.1020<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a timer calls getchar(1) input is overwritten.<br>
Solution:&nbsp;&nbsp; Increment tb_change_cnt in inchar(). (closes #1940)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.0.1021<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Older Gnome terminal still echoes t_RC. (François Ingelrest)<br>
Solution:&nbsp;&nbsp; Check for version &gt; 3000 instead of 4000.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1022<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 80 is old style.<br>
Solution:&nbsp;&nbsp; Turn it into a new style test. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test80.in, src/testdir/test80.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_substitute.vim<br>
<br>
Patch 8.0.1023<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not easy to identify a quickfix list.<br>
Solution:&nbsp;&nbsp; Add the &quot;id&quot; field. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/quickfix.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1024<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Manual folds are lost when a session file has the same buffer in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;two windows. (Jeansen)<br>
Solution:&nbsp;&nbsp; Use &quot;:edit&quot; only once. (Christian Brabandt, closes #1958)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_mksession.vim<br>
<br>
Patch 8.0.1025<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Stray copy command in test.<br>
Solution:&nbsp;&nbsp; Remove the copy command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim<br>
<br>
Patch 8.0.1026<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GTK on-the-spot input has problems. (Gerd Wachsmuth)<br>
Solution:&nbsp;&nbsp; Support over-the-spot. (Yukihiro Nakadaira, Ken Takata, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1215)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/mbyte.txt, runtime/doc/options.txt, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/mbyte.c, src/misc1.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/screen.c, src/undo.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/gen_opt_test.vim<br>
<br>
Patch 8.0.1027<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More terminals can't handle requesting cursor mode.<br>
Solution:&nbsp;&nbsp; Recognize Putty. (Hirohito Higashi)&nbsp;&nbsp;Also include Xfce in the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;version check. (Dominique Pelle)&nbsp;&nbsp;Recognize Konsole.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1028<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: viminfo uses $VIM/_viminfo if $HOME not set. (Yongwei<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wu)<br>
Solution:&nbsp;&nbsp; Use vim_getenv() but check it's returning the default &quot;C:/&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.0.1029<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Return value of getqflist() is inconsistent.&nbsp;&nbsp;(Lcd47)<br>
Solution:&nbsp;&nbsp; Always return an &quot;items&quot; entry.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1030<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: wrong size computation in is_cygpty().<br>
Solution:&nbsp;&nbsp; Compute the size properly. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/iscygpty.c, src/iscygpty.h<br>
<br>
Patch 8.0.1031<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot; argument for getqflist() is confusing. (Lcd47)<br>
Solution:&nbsp;&nbsp; Use &quot;lines&quot; instead. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1032<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make tags&quot; doesn't work well on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add or fix tags target. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 8.0.1033<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Detecting background color does not work in screen, even when it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is working like an xterm.<br>
Solution:&nbsp;&nbsp; Make &quot;screen.xterm&quot; use termcap entries like an xterm. (Lubomir<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rintel, closes #2048)&nbsp;&nbsp;When termresponse version is huge also<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recognize as not being an xterm.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/term.c<br>
<br>
Patch 8.0.1034<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sending buffer lines to terminal doesn't work on MS-Windows.<br>
Solution:&nbsp;&nbsp; Send&nbsp;<span class="Special">CTRL-D</span>&nbsp;to mark the end of the text. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2043) Add the &quot;eof_chars&quot; option.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/terminal.pro, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/structs.h<br>
<br>
Patch 8.0.1035<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sending buffer lines to terminal doesn't work on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use CR instead of NL after every line.&nbsp;&nbsp;Make the EOF text work<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;properly.&nbsp;&nbsp;Add the ++eof argument to :terminal.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/channel.c, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt, runtime/doc/eval.txt<br>
<br>
Patch 8.0.1036<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;++eof argument for terminal only available on MS-Windows.<br>
Solution:&nbsp;&nbsp; Also support ++eof on Unix.&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/terminal.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1037<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;icase&quot; of&nbsp;<a class="Type" href="options.html#'diffopt'">'diffopt'</a>&nbsp;is not used for highlighting differences.<br>
Solution:&nbsp;&nbsp; Also use &quot;icase&quot;. (Rick Howe)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/testdir/test_diffmode.vim<br>
<br>
Patch 8.0.1038<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Strike-through text not supported.<br>
Solution:&nbsp;&nbsp; Add support for the &quot;strikethrough&quot; attribute. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/syntax.txt, runtime/doc/term.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/gui.h, src/gui_gtk_x11.c, src/gui_mac.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/gui_x11.c, src/option.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/term.c, src/term.h, src/terminal.c, src/vim.h<br>
<br>
Patch 8.0.1039<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot change a line in a buffer other than the current one.<br>
Solution:&nbsp;&nbsp; Add setbufline(). (Yasuhiro Matsumoto, Ozaki Kiichi, closes #1953)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, runtime/doc/eval.txt, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufline.vim, src/testdir/test_alot.vim<br>
<br>
<br>
Patch 8.0.1040<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use another error format in getqflist().<br>
Solution:&nbsp;&nbsp; Add the &quot;efm&quot; argument to getqflist(). (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1041<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Bogus characters appear when indenting kicks in while doing a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visual-block append.<br>
Solution:&nbsp;&nbsp; Recompute when indenting is done. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/visual.txt, src/charset.c, src/edit.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/proto/charset.pro, src/proto/misc1.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/spell.c, src/testdir/test_cindent.vim<br>
<br>
Patch 8.0.1042 (after 8.0.1038)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Without the syntax feature highlighting doesn't work.<br>
Solution:&nbsp;&nbsp; Always use unsigned short to store attributes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.0.1043<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for uninitialized variable. (John Marriott)<br>
Solution:&nbsp;&nbsp; Move code to check indent inside &quot;if&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 8.0.1044<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for uninitialized variable. (John Marriott)<br>
Solution:&nbsp;&nbsp; Initialize ind_pre.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 8.0.1045<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running tests may pollute shell history. (Manuel Ortega)<br>
Solution:&nbsp;&nbsp; Make $HISTFILE empty.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/setup.vim<br>
<br>
Patch 8.0.1046<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code duplication in diff mode.<br>
Solution:&nbsp;&nbsp; Use diff_equal_char() also in diff_cmp(). (Rick Howe)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c<br>
<br>
Patch 8.0.1047<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Buffer overflow in Ruby.<br>
Solution:&nbsp;&nbsp; Allocate one more byte. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.0.1048<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for what 8.0.1020 fixes.<br>
Solution:&nbsp;&nbsp; Add test_feedinput().&nbsp;&nbsp;Add a test. (Ozaki Kiichi, closes #2046)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_timers.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.0.1049<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Shell on Mac can't handle long text, making terminal test fail.<br>
Solution:&nbsp;&nbsp; Only write 1000 characters instead of 5000.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1050<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window feature not included by default.<br>
Solution:&nbsp;&nbsp; Include the terminal feature for the &quot;huge&quot; build.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1051<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot run terminal with spaces in argument.<br>
Solution:&nbsp;&nbsp; Accept backslash to escape space and other characters. (closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1999)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1052<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;term_start() does not allow in_io, out_io and err_io options.<br>
Solution:&nbsp;&nbsp; Add JO_OUT_IO to get_job_options().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1053<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;setline() does not work on startup. (Manuel Ortega)<br>
Solution:&nbsp;&nbsp; Do not check for ml_mfp to be set for the current buffer.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufline.vim, src/testdir/test_timers.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.0.1054<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Disable the redirection test for now.&nbsp;&nbsp;Improve scrape test to make<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it less flaky.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1055<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Bufline test hangs on MS-Windows.<br>
Solution:&nbsp;&nbsp; Avoid message for writing file.&nbsp;&nbsp;Source shared.vim when running<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test individually.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufline.vim, src/testdir/test_timers.vim<br>
<br>
Patch 8.0.1056<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with the diff feature but without the multi-byte<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feature.<br>
Solution:&nbsp;&nbsp; Remove #ifdefs. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c<br>
<br>
Patch 8.0.1057<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal scrape test waits too long, it checks for one instead of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;three.<br>
Solution:&nbsp;&nbsp; Check there are three characters. (micbou)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1058<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal redirection test is flaky.<br>
Solution:&nbsp;&nbsp; Wait for job to finish.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1059<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;older Gnome terminal returns smaller version number. (antarestrue)<br>
Solution:&nbsp;&nbsp; Lower version limit from 2800 to 2500. (#2032)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1060<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When imstyle is zero, mapping&nbsp;<span class="Special">&lt;Left&gt;</span>&nbsp;breaks preediting.<br>
Solution:&nbsp;&nbsp; Pass though preediting key-events. (Yasuhiro Matsumoto, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#2064, closes #2063)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/mbyte.c<br>
<br>
Patch 8.0.1061<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity: no check for NULL command.<br>
Solution:&nbsp;&nbsp; Check for NULL list item.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1062<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warnings in libvterm.<br>
Solution:&nbsp;&nbsp; Add (void) to avoid warning for not checking return value.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add &quot;break&quot; before &quot;case&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/screen.c, src/libvterm/src/state.c<br>
<br>
Patch 8.0.1063<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for NULL check and using variable pointer as an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array.<br>
Solution:&nbsp;&nbsp; Remove the NULL check.&nbsp;&nbsp;Make &quot;argvar&quot; an array.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1064<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for leaking resource.<br>
Solution:&nbsp;&nbsp; Free pty_master_fd on failure.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.1065<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all macro examples are included in the self-installing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;executable. (lkintact)<br>
Solution:&nbsp;&nbsp; Add the directories to the NSIS script. (closes #2065)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/gvim.nsi<br>
<br>
Patch 8.0.1066<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some terminals can't handle requesting cursor mode. (Steven<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hartland)<br>
Solution:&nbsp;&nbsp; Recognize vandyke SecureCRT. (closes #2008)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1067<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using try/catch in timer does not prevent it from being stopped.<br>
Solution:&nbsp;&nbsp; Reset the exception context and use did_emsg instead of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_emsg.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_timers.vim, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 8.0.1068 (after 8.0.1066)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vandyke SecureCRT terminal can't handle cursor mode request.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Steven Hartland)<br>
Solution:&nbsp;&nbsp; Fix pointer computation. (closes #2008)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1069<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still get&nbsp;<span class="Special">CTRL-X</span>&nbsp;sometimes for t_RS request.<br>
Solution:&nbsp;&nbsp; Also skip 0x18 after a key code response.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1070<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test is flaky on Mac.<br>
Solution:&nbsp;&nbsp; Add Test_terminal_noblock() to list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.1071<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;$TERM names starting with &quot;putty&quot; and &quot;cygwin&quot; are likely to have<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a dark background, but are not recognized.<br>
Solution:&nbsp;&nbsp; Only check the first few characters of $TERM to match &quot;putty&quot; or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;cygwin&quot;. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.1072<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The :highlight command causes a redraw even when nothing changed.<br>
Solution:&nbsp;&nbsp; Only set &quot;need_highlight_changed&quot; when an attribute changed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.1073<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May get an endless loop if&nbsp;<a class="Type" href="options.html#'statusline'">'statusline'</a>&nbsp;changes a highlight.<br>
Solution:&nbsp;&nbsp; Do not let evaluating&nbsp;<a class="Type" href="options.html#'statusline'">'statusline'</a>&nbsp;trigger a redraw.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 8.0.1074<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:term NONE&quot; does not work on MS-Windows.<br>
Solution:&nbsp;&nbsp; Make it work.&nbsp;&nbsp;Split &quot;pty&quot; into &quot;pty_in&quot; and &quot;pty_out&quot;. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #2058, closes #2045)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/evalfunc.c, src/os_unix.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1075<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: mouse does not work in terminal.<br>
Solution:&nbsp;&nbsp; Force the winpty mouse on. (Yasuhiro Matsumoto, closes #2072)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1076<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;term_start() does not take callbacks. When using two terminals<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;without a job only one is read from.&nbsp;&nbsp;A terminal without a window<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;returns the wrong pty.<br>
Solution:&nbsp;&nbsp; Support &quot;callback&quot;, &quot;out_cb&quot; and &quot;err_cb&quot;.&nbsp;&nbsp;Fix terminal without a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window. Fix reading from multiple channels.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/proto/terminal.pro, src/channel.c<br>
<br>
Patch 8.0.1077<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No debugger making use of the terminal window.<br>
Solution:&nbsp;&nbsp; Add the term debugger plugin.&nbsp;&nbsp;So far only displays the current<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line when stopped.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.0.1078<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory with &quot;:hi Normal&quot;.<br>
Solution:&nbsp;&nbsp; Get &quot;item&quot; again after updating the table.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.1079<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak when remote_foreground() fails.<br>
Solution:&nbsp;&nbsp; Free the error message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/if_xcmdsrv.c<br>
<br>
Patch 8.0.1080<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak for eof_chars terminal option and buffer name.<br>
Solution:&nbsp;&nbsp; Free job options. Free the buffer name<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1081<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak for the channel write queue.<br>
Solution:&nbsp;&nbsp; Free the write queue when clearing a channel.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.1082<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests fail when run under valgrind.<br>
Solution:&nbsp;&nbsp; Increase waiting times.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_clientserver.vim, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1083<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory in input part of channel.<br>
Solution:&nbsp;&nbsp; Clear the input part of channel.&nbsp;&nbsp;Free the entry. Move failing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;command test to a separate file to avoid bogus leak reports<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clouding tests that should not leak.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_terminal.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal_fail.vim, src/testdir/Make_all.mak<br>
<br>
Patch 8.0.1084<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GTK build has compiler warnings. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Get screen size with a different function. (Ken Takata, Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/gui_gtk_x11.c, src/proto/gui_gtk_x11.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c<br>
<br>
Patch 8.0.1085<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The terminal debugger can't set breakpoints.<br>
Solution:&nbsp;&nbsp; Add :Break and :Delete commands.&nbsp;&nbsp;Also commands for stepping<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;through code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt<br>
<br>
Patch 8.0.1086 (after 8.0.1084)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with GTK 3.<br>
Solution:&nbsp;&nbsp; Rename function argument. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 8.0.1087<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_terminal_cwd is flaky. MS-Windows: term_start() &quot;cwd&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;argument does not work.<br>
Solution:&nbsp;&nbsp; Wait for the condition to be true instead of using a sleep.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pass the directory to winpty.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/terminal.c<br>
<br>
Patch 8.0.1088<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Occasional memory use after free.<br>
Solution:&nbsp;&nbsp; Use the highlight table directly, don't keep a pointer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.1089<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get range count in user command.<br>
Solution:&nbsp;&nbsp; Add&nbsp;<span class="Special">&lt;range&gt;</span>&nbsp;argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, runtime/doc/map.txt<br>
<br>
Patch 8.0.1090<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;cannot get the text under the cursor like v:beval_text<br>
Solution:&nbsp;&nbsp; Add&nbsp;<span class="Special">&lt;cexpr&gt;</span>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_normal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/cmdline.txt<br>
<br>
Patch 8.0.1091 (after 8.0.1090)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for&nbsp;<span class="Special">&lt;cexpr&gt;</span>&nbsp;fails without +balloon_eval feature.<br>
Solution:&nbsp;&nbsp; Remove #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 8.0.1092<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal debugger can't evaluate expressions.<br>
Solution:&nbsp;&nbsp; Add :Evaluate and K.&nbsp;&nbsp;Various other improvements.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt<br>
<br>
Patch 8.0.1093<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various small quickfix issues.<br>
Solution:&nbsp;&nbsp; Remove &quot;:&quot; prefix from title set by a user. Add the qf_id2nr().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function. Add a couple more tests.&nbsp;&nbsp;Update documentation.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/quickfix.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/quickfix.pro, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1094<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using ssh from Terminal.app runs into xterm incompatibility.<br>
Solution:&nbsp;&nbsp; Also detect Terminal.app on non-Mac systems.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1095<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal multibyte scrape test is flaky.<br>
Solution:&nbsp;&nbsp; Add another condition to wait for.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1096<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window in Normal mode has wrong background.<br>
Solution:&nbsp;&nbsp; Store the default background and use it for clearing until the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end of the line.&nbsp;&nbsp;Not for below the last line, since there is no<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text there.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/terminal.c<br>
<br>
Patch 8.0.1097 (after 8.0.1096)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Background color wrong if job changes background color.<br>
Solution:&nbsp;&nbsp; Get the background color from vterm.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/screen.c<br>
<br>
Patch 8.0.1098<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure if libvterm installed on the system. (Oleh<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hushchenkov)<br>
Solution:&nbsp;&nbsp; Change the CCCTERM argument order. (Ken Takata, closes #2080)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.1099<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings for GDK calls.<br>
Solution:&nbsp;&nbsp; Use other calls for GTK 3 and fix a few problems. (Kazunobu<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 8.0.1100<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Stuck in redraw loop when&nbsp;<a class="Type" href="options.html#'lazyredraw'">'lazyredraw'</a>&nbsp;is set.<br>
Solution:&nbsp;&nbsp; Don't loop on update_screen() when not redrawing. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #2082)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/screen.c, src/proto/screen.pro<br>
<br>
Patch 8.0.1101<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel write fails if writing to log fails.<br>
Solution:&nbsp;&nbsp; Ignore return value of fwrite(). (Ozaki Kiichi, closes #2081)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.1102<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window does not use Normal colors.<br>
Solution:&nbsp;&nbsp; For the GUI and when&nbsp;<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>&nbsp;is enabled, use the actual<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;foreground and background colors for the terminal.&nbsp;&nbsp;(Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #2067)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use the &quot;Terminal&quot; highlight group if defined.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/syntax.c, src/proto/syntax.pro<br>
<br>
Patch 8.0.1103 (after 8.0.1102)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Converting cterm color fails for grey ramp.<br>
Solution:&nbsp;&nbsp; Use index instead of number.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1104<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The qf_jump() function is too long.<br>
Solution:&nbsp;&nbsp; Split of parts to separate functions. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.1105<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;match() and matchend() are not tested.<br>
Solution:&nbsp;&nbsp; Add tests. (Ozaki Kiichi, closes #2088)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/testdir/test_match.vim<br>
<br>
Patch 8.0.1106<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal colors on an MS-Windows console are not matching the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;normal colors.<br>
Solution:&nbsp;&nbsp; Use the normal colors for the terminal. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2087)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1107<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal debugger jumps to non-existing file.<br>
Solution:&nbsp;&nbsp; Check that the file exists.&nbsp;&nbsp;Add an option to make the Vim width<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wide. Fix removing highlight groups.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt<br>
<br>
Patch 8.0.1108<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot specify mappings for the terminal window.<br>
Solution:&nbsp;&nbsp; Add the :tmap command and associated code.&nbsp;&nbsp;(Jacob Askeland,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2073)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/map.txt, runtime/doc/terminal.txt, src/ex_cmdidxs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/ex_docmd.c, src/getchar.c, src/gui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/terminal.pro, src/main.c, src/evalfunc.c<br>
<br>
Patch 8.0.1109<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Timer causes error on exit from Ex mode. (xtal8)<br>
Solution:&nbsp;&nbsp; save and restore the ex_pressedreturn flag. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2079)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/proto/ex_docmd.pro, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 8.0.1110<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;FORTIFY_SOURCE from Perl causes problems. (Scott Baker)<br>
Solution:&nbsp;&nbsp; Filter out the flag. (Christian Brabandt, closes #2068)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1111<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syntax error in configure when using Perl.<br>
Solution:&nbsp;&nbsp; Add missing quote<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1112<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't get size or current index from quickfix list.<br>
Solution:&nbsp;&nbsp; Add &quot;idx&quot; and &quot;size&quot; options. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1113<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can go to Insert mode from Terminal-Normal mode.<br>
Solution:&nbsp;&nbsp; Prevent :startinsert and &quot;VA&quot; to enter Insert mode. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #2092)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 8.0.1114<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Default for&nbsp;<a class="Type" href="options.html#'iminsert'">'iminsert'</a>&nbsp;is annoying.<br>
Solution:&nbsp;&nbsp; Make the default always zero. (Yasuhiro Matsumoto, closes #2071)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, runtime/doc/options.txt<br>
<br>
Patch 8.0.1115<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using foldtextresult() recursively.<br>
Solution:&nbsp;&nbsp; Avoid recursive calls. (Yasuhiro Matsumoto, closes #2098)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_fold.vim<br>
<br>
Patch 8.0.1116<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Wait for the text to appear. (micbou, closes #2097)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1117<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_terminal_no_cmd hangs on MS-Windows with GUI. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Solution:&nbsp;&nbsp; Run the command with &quot;start&quot; and wait for the text to appear.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(micbou, closes #2096)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1118<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;FEAT_WINDOWS adds a lot of #ifdefs while it is nearly always<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enabled and only adds 7% to the binary size of the tiny build.<br>
Solution:&nbsp;&nbsp; Graduate FEAT_WINDOWS.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/window.c, src/vim.h, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/gui.h, src/if_py_both.h, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.h, src/buffer.c, src/charset.c, src/digraph.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/eval.c, src/evalfunc.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c, src/getchar.c, src/gui.c, src/gui_athena.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c, src/gui_gtk.c, src/gui_motif.c, src/gui_w32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c, src/if_lua.c, src/if_mzsch.c, src/if_python.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python3.c, src/if_ruby.c, src/if_tcl.c, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mark.c, src/memline.c, src/misc1.c, src/misc2.c, src/move.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c, src/normal.c, src/option.c, src/popupmnu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/screen.c, src/search.c, src/spell.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/tag.c, src/term.c, src/ui.c, src/version.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/workshop.c, src/if_perl.xs, src/testdir/test_normal.vim<br>
<br>
Patch 8.0.1119<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quitting a split terminal window kills the job. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Solution:&nbsp;&nbsp; Only stop terminal job if it is the last window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1120 (after 8.0.1108)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:tm means :tmap instead of :tmenu. (Taro Muraoka)<br>
Solution:&nbsp;&nbsp; Move the new entry below the old entry. (closes #2102)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, runtime/doc/map.txt<br>
<br>
Patch 8.0.1121<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can uncheck executables in MS-Windows installer.<br>
Solution:&nbsp;&nbsp; Make the choice read-only. (Ken Takata, closes #2106)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/gvim.nsi<br>
<br>
Patch 8.0.1122<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;vimtutor.bat doesn't work well with vim.bat.<br>
Solution:&nbsp;&nbsp; Use &quot;call vim&quot;. (Ken Takata, closes #2105)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vimtutor.bat<br>
<br>
Patch 8.0.1123<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot define a toolbar for a window.<br>
Solution:&nbsp;&nbsp; Add a window-local toolbar.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/proto/syntax.pro, src/structs.h, src/menu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/menu.pro, src/testdir/test_winbar.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/Make_all.mak, src/if_perl.xs,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalfunc.c, src/window.c, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/gui.txt, runtime/doc/terminal.txt<br>
<br>
Patch 8.0.1124<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Use of MZSCHEME_VER is unclear.<br>
Solution:&nbsp;&nbsp; Add a comment. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 8.0.1125<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong window height when splitting window with window toolbar.<br>
Solution:&nbsp;&nbsp; Add or subtract the window toolbar height.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.0.1126<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Endless resize when terminal showing in two buffers. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Solution:&nbsp;&nbsp; Set a flag to prevent resizing the window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1127<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_peek_and_get_char fails on 32 bit system. (Elimar<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Riesebieter)<br>
Solution:&nbsp;&nbsp; Avoid an integer overflow. (James McCoy, closes #2116)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 8.0.1128<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old xterm sends&nbsp;<span class="Special">CTRL-X</span>&nbsp;in response to t_RS.<br>
Solution:&nbsp;&nbsp; Only send t_RS for xterm 279 and later.&nbsp;&nbsp;Remove the workaround to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ignore&nbsp;<span class="Special">CTRL-X</span>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1129<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Window toolbar missing a part of the patch.<br>
Solution:&nbsp;&nbsp; Add change in vim.h.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.0.1130<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The qf_jump() function is still too long.<br>
Solution:&nbsp;&nbsp; Split of parts to separate functions. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.1131<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not easy to trigger an autocommand for new terminal window.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Marco Restelli)<br>
Solution:&nbsp;&nbsp; Trigger BufWinEnter after setting&nbsp;<a class="Type" href="options.html#'buftype'">'buftype'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1132<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;#if condition is not portable.<br>
Solution:&nbsp;&nbsp; Add defined(). (Zuloloxi, closes #2136)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/vterm.c<br>
<br>
Patch 8.0.1133<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syntax timeout not used correctly.<br>
Solution:&nbsp;&nbsp; Do not pass the timeout to syntax_start() but set it explicitly.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto, closes #2139)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/syntax.pro, src/screen.c, src/syntax.c<br>
<br>
Patch 8.0.1134<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Superfluous call to syn_get_final_id().<br>
Solution:&nbsp;&nbsp; Remove it. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.1135<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;W_WINCOL() is always the same.<br>
Solution:&nbsp;&nbsp; Expand the macro.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/ex_docmd.c, src/gui_gtk.c, src/gui_w32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c, src/popupmnu.c, src/screen.c, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/ui.c, src/window.c, src/if_py_both.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/vim.h<br>
<br>
Patch 8.0.1136<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;W_WIDTH() is always the same.<br>
Solution:&nbsp;&nbsp; Expand the macro.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c, src/edit.c, src/evalfunc.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/getchar.c, src/gui.c, src/gui_beval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_mac.c, src/if_lua.c, src/if_mzsch.c, src/if_py_both.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c, src/misc1.c, src/misc2.c, src/move.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c, src/quickfix.c, src/screen.c, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/ui.c, src/vim.h, src/window.c<br>
<br>
Patch 8.0.1137 (after 8.0.1136)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with Ruby.<br>
Solution:&nbsp;&nbsp; Fix misplaced brace.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.0.1138<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Click in window toolbar starts Visual mode.<br>
Solution:&nbsp;&nbsp; Add the MOUSE_WINBAR flag.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c, src/vim.h, src/normal.c<br>
<br>
Patch 8.0.1139<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using window toolbar changes state.<br>
Solution:&nbsp;&nbsp; Always execute window toolbar actions in Normal mode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/gui.txt, src/structs.h, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_docmd.pro, src/menu.c<br>
<br>
Patch 8.0.1140<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still old style tests.<br>
Solution:&nbsp;&nbsp; Convert two tests to new style. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test56.in, src/testdir/test56.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test57.in, src/testdir/test57.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_sort.vim, src/testdir/test_vimscript.vim<br>
<br>
Patch 8.0.1141<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows build dependencies are incomplete.<br>
Solution:&nbsp;&nbsp; Fix the dependencies. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg.mak, src/Make_cyg_ming.mak, src/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.0.1142<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Window toolbar menu gets a tear-off item.<br>
Solution:&nbsp;&nbsp; Recognize the window toolbar.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/menu.c<br>
<br>
Patch 8.0.1143<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Macros always expand to the same thing.<br>
Solution:&nbsp;&nbsp; Remove W_VSEP_WIDTH() and W_STATUS_HEIGHT().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/structs.h, src/gui.c, src/ex_getln.c, src/screen.c<br>
<br>
Patch 8.0.1144<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using wrong #ifdef for computing length.<br>
Solution:&nbsp;&nbsp; use BACKSLASH_IN_FILENAME instead of COLON_IN_FILENAME. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #2153)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.1145<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning when compiling with Perl.<br>
Solution:&nbsp;&nbsp; Remove unused variable. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 8.0.1146<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Redraw when highlight is set with same names. (Ozaki Kiichi)<br>
Solution:&nbsp;&nbsp; Only free and save a name when it changed. (closes #2120)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.1147<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Fail to build with tiny features. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Move #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.1148<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;gN&quot; doesn't work on last match with&nbsp;<a class="Type" href="options.html#'wrapscan'">'wrapscan'</a>&nbsp;off. (fcpg)<br>
Solution:&nbsp;&nbsp; Adjust for searching backward. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_gn.vim<br>
<br>
Patch 8.0.1149<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;libvterm colors differ from xterm.<br>
Solution:&nbsp;&nbsp; Use the xterm colors for libvterm.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/libvterm/src/pen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/xterm_ramp.vim, Filelist<br>
<br>
Patch 8.0.1150<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows GUI: dialog font size is incorrect.<br>
Solution:&nbsp;&nbsp; Pass flag to indicate&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;or active codepage. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #2160)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.0.1151<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;vim -c startinsert!&quot; doesn't append.<br>
Solution:&nbsp;&nbsp; Correct line number on startup. (Christian Brabandt, closes #2117)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_startup.vim<br>
<br>
Patch 8.0.1152<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Encoding of error message wrong in Cygwin terminal.<br>
Solution:&nbsp;&nbsp; Get locale from environment variables. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/mbyte.c, src/proto/mbyte.pro<br>
<br>
Patch 8.0.1153<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for diff_hlID() and diff_filler().<br>
Solution:&nbsp;&nbsp; Add tests. (Dominique Pelle, closes #2156)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_diffmode.vim<br>
<br>
Patch 8.0.1154<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'indentkeys'">'indentkeys'</a>&nbsp;does not work properly. (Gary Johnson)<br>
Solution:&nbsp;&nbsp; Get the cursor line again. (Christian Brabandt, closes #2151)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_edit.vim<br>
<br>
Patch 8.0.1155<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ruby command triggers a warning when RUBYOPT is set to &quot;-w&quot;.<br>
Solution:&nbsp;&nbsp; use &quot;-e_=0&quot; instead of &quot;-e0&quot;. (Masataka Pocke Kuwabara, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#2143)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.0.1156<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Removing one -W argument from Perl CFLAGS may cause trouble.<br>
Solution:&nbsp;&nbsp; Remove all -W flags. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1157<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add type cast. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.0.1158<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still old style tests.<br>
Solution:&nbsp;&nbsp; Convert several tests to new style. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/main.aap, src/testdir/test33.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test33.ok, src/testdir/test41.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test41.ok, src/testdir/test43.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test43.ok, src/testdir/test53.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test53.ok, src/testdir/test_file_size.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_lispwords.vim, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textobjects.vim<br>
<br>
Patch 8.0.1159<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in #ifdef.<br>
Solution:&nbsp;&nbsp; Change &quot;PROT&quot; to &quot;PROTO&quot;. (Nobuhiro Takasaki, closes #2165)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.1160<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Getting tab-local variable fails after closing window.<br>
Solution:&nbsp;&nbsp; set tp_firstwin and tp_lastwin. (Jason Franklin, closes #2170)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/evalfunc.c, src/testdir/test_getvar.vim<br>
<br>
Patch 8.0.1161<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup menu drawing problem when resizing terminal.<br>
Solution:&nbsp;&nbsp; Redraw after resizing also when a popup menu is visible. (Ozaki<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kiichi, closes #2110)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c, src/term.c, src/testdir/shared.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 8.0.1162<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Shared script for tests cannot be included twice.<br>
Solution:&nbsp;&nbsp; Include it where needed, it will &quot;finish&quot; if loaded again.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/test_bufline.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 8.0.1163<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup test is flaky.<br>
Solution:&nbsp;&nbsp; Add a WaitFor() and fix another.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 8.0.1164<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Changing StatusLine highlight while evaluating&nbsp;<a class="Type" href="options.html#'statusline'">'statusline'</a>&nbsp;may<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not change the status line color.<br>
Solution:&nbsp;&nbsp; When changing highlighting while redrawing don't cause another<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;redraw. (suggested by Ozaki Kiichi, closes #2171, closes #2120)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/syntax.c<br>
<br>
Patch 8.0.1165<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup test is still flaky.<br>
Solution:&nbsp;&nbsp; Add a term_wait() call. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 8.0.1166<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:terminal doesn't work on Mac High Sierra.<br>
Solution:&nbsp;&nbsp; Change #ifdef for OpenPTY(). (Ozaki Kiichi, Kazunobu Kuriyama,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2162)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/pty.c<br>
<br>
Patch 8.0.1167<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Motif: typing in terminal window is slow.<br>
Solution:&nbsp;&nbsp; Do not redraw the whole terminal window but only what was changed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1168<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;wrong highlighting with combination of match and&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>.<br>
Solution:&nbsp;&nbsp; Use &quot;line_attr&quot; when appropriate. (Ozaki Kiichi, closes #2111)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;But don't highlight more than one character.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_highlight.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/view_util.vim<br>
<br>
Patch 8.0.1169<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Highlighting one char too many with&nbsp;<a class="Type" href="options.html#'list'">'list'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'cul'">'cul'</a>.<br>
Solution:&nbsp;&nbsp; Check for&nbsp;<a class="Type" href="options.html#'list'">'list'</a>&nbsp;being active. (Ozaki Kiichi, closes #2177)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_highlight.vim<br>
<br>
Patch 8.0.1170<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using termdebug results in 100% CPU time. (tomleb)<br>
Solution:&nbsp;&nbsp; Use polling instead of select().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/channel.c, src/proto/channel.pro<br>
<br>
Patch 8.0.1171<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup test is still a bit flaky.<br>
Solution:&nbsp;&nbsp; Change term_wait() calls. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 8.0.1172<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When E734 is given option is still set.<br>
Solution:&nbsp;&nbsp; Assign NULL to &quot;s&quot;. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_assign.vim<br>
<br>
Patch 8.0.1173<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window is not redrawn after&nbsp;<span class="Special">CTRL-L</span>. (Marcin Szamotulski)<br>
Solution:&nbsp;&nbsp; Redraw the whole terminal when w_redr_type is NOT_VALID.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1174<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mac Terminal.app has wrong color for white.<br>
Solution:&nbsp;&nbsp; Use white from the color cube.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/term.c, src/syntax.c<br>
<br>
Patch 8.0.1175 (after&nbsp;&nbsp;8.0.1174)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure without +termresponse.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.1176<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Job_start() does not handle quote and backslash correctly.<br>
Solution:&nbsp;&nbsp; Remove quotes, recognize and remove backslashes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/os_unix.c<br>
<br>
Patch 8.0.1177<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In a terminal window the popup menu is not cleared. (Gerry<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Agbobada)<br>
Solution:&nbsp;&nbsp; Redraw when SOME_VALID is used instead of NOT_VALID. (closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#2194)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1178<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old compiler on MS-Windows.<br>
Solution:&nbsp;&nbsp; Switch default build on MS-Windows to use MSVC 2015. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/msvc2015.bat, src/INSTALLpc.txt, src/GvimExt/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/tee/Make_mvc.mak, src/xxd/Make_mvc.mak<br>
<br>
Patch 8.0.1179<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_popup_and_window_resize() does not always pass.<br>
Solution:&nbsp;&nbsp; Do not use $VIMPROG, pass the Vim executable in the vimcmd file.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ozaki Kiichi, closes #2186)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/shared.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 8.0.1180<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows testclean target deletes the color script.<br>
Solution:&nbsp;&nbsp; Rename the script file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/xterm_ramp.vim, src/testdir/color_ramp.vim<br>
<br>
Patch 8.0.1181<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests using Vim command fail on MS-Windows.<br>
Solution:&nbsp;&nbsp; Do not add quotes around the Vim command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak<br>
<br>
Patch 8.0.1182<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot see or change mzscheme dll name.<br>
Solution:&nbsp;&nbsp; Add&nbsp;<a class="Type" href="options.html#'mzschemedll'">'mzschemedll'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'mzschemegcdll'">'mzschemegcdll'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.c, src/option.h, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_mzsch.txt<br>
<br>
Patch 8.0.1183<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows build instructions are outdated.<br>
Solution:&nbsp;&nbsp; Update instructions for MSVC 2015.&nbsp;&nbsp;Update the build script.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, Makefile, src/INSTALLpc.txt, src/bigvim.bat<br>
<br>
Patch 8.0.1184<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The :marks command is not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #2197)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_marks.vim<br>
<br>
Patch 8.0.1185<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ruby library includes minor version number.<br>
Solution:&nbsp;&nbsp; Only use the API version number. (Ben Boeckel, closes #2199)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1186<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still quite a few old style tests.<br>
Solution:&nbsp;&nbsp; Convert old to new style tests. (Yegappan Lakshmanan)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Avoid ringing the bell while running tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/main.aap,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test31.in, src/testdir/test31.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test4.in, src/testdir/test4.ok, src/testdir/test5.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test5.ok, src/testdir/test60.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test60.ok, src/testdir/test60.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test7.in, src/testdir/test7.ok, src/testdir/test78.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test78.ok, src/testdir/test_autocmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_exists.vim, src/testdir/test_recover.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_winbuf_close.vim, src/testdir/runtest.vim<br>
<br>
Patch 8.0.1187<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with lua fails for OSX on Travis.<br>
Solution:&nbsp;&nbsp; Separate brew-update and brew-install. (Ozaki Kiichi, closes #2203)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.1188<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Autocmd test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Give the buffer a name and find the buffer to be wiped out by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.1189<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;E172 is not actually useful, it's only on Unix anyway.<br>
Solution:&nbsp;&nbsp; Remove the check and the error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, runtime/doc/message.txt<br>
<br>
Patch 8.0.1190<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim becomes unusable after opening new window in BufWritePre<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;event.<br>
Solution:&nbsp;&nbsp; Call not_exiting(). (Martin Tournoij, closes #2205)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also for &quot;2q&quot; when a help window is open.&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_writefile.vim<br>
<br>
Patch 8.0.1191<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: missing 32 and 64 bit files in installer.<br>
Solution:&nbsp;&nbsp; Include both 32 and 64 bit GvimExt and related dll files. Remove<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;old Windows code from the installer. (Ken Takata, closes #2144)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/README.txt, nsis/gvim.nsi, src/GvimExt/gvimext.cpp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c, src/dosinst.h, src/uninstal.c, Makefile<br>
<br>
Patch 8.0.1192<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: terminal feature not enabled by default.<br>
Solution:&nbsp;&nbsp; Enable it. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 8.0.1193<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when wiping out a buffer after using getbufinfo().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yegappan Lakshmanan)<br>
Solution:&nbsp;&nbsp; Remove b:changedtick from the buffer variables.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.1194<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Actual fg and bg colors of terminal are unknown.<br>
Solution:&nbsp;&nbsp; Add t_RF.&nbsp;&nbsp;Store response to t_RB and t_RF, use for terminal.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/term.h, src/proto/term.pro, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/eval.c, runtime/doc/eval.txt<br>
<br>
Patch 8.0.1195 (after 8.0.1194)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build on MS-Windows.<br>
Solution:&nbsp;&nbsp; Adjust #ifdef and add #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/terminal.c<br>
<br>
Patch 8.0.1196 (after 8.0.1194)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when t_RF is not set. (Brian Pina)<br>
Solution:&nbsp;&nbsp; Add t_RF to the list of terminal options. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.1197<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows build instructions are not up to date.<br>
Solution:&nbsp;&nbsp; Adjust the instructions.&nbsp;&nbsp;Fix the nsis script.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makefile, nsis/gvim.nsi<br>
<br>
Patch 8.0.1198<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Older compilers don't know uint8_t.<br>
Solution:&nbsp;&nbsp; Use char_u instead.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/proto/term.pro<br>
<br>
Patch 8.0.1199<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'clipboard'">'clipboard'</a>&nbsp;is &quot;autoselectplus&quot; the star register is also<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set. (Gilles Moris)<br>
Solution:&nbsp;&nbsp; Don't set the star register in this situation.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 8.0.1200<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests switch the bell off twice.<br>
Solution:&nbsp;&nbsp; Don't set&nbsp;<a class="Type" href="options.html#'belloff'">'belloff'</a>&nbsp;in individual tests. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/test_alot_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/testdir/test_cmdline.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_diffmode.vim, src/testdir/test_digraph.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_edit.vim, src/testdir/test_file_size.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gn.vim, src/testdir/test_normal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_packadd.vim, src/testdir/test_popup.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_recover.vim, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textobjects.vim, src/testdir/test_undo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_usercommands.vim, src/testdir/test_visual.vim<br>
<br>
Patch 8.0.1201<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;yL&quot; is affected by&nbsp;<a class="Type" href="options.html#'scrolloff'">'scrolloff'</a>. (Eli the Bearded)<br>
Solution:&nbsp;&nbsp; Don't use&nbsp;<a class="Type" href="options.html#'scrolloff'">'scrolloff'</a>&nbsp;when an operator is pending.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, runtime/doc/motion.txt<br>
<br>
Patch 8.0.1202<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:wall gives an error for a terminal window. (Marius Gedminas)<br>
Solution:&nbsp;&nbsp; Don't try writing a buffer that can't be written. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #2190)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1203<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window mistreats composing characters.<br>
Solution:&nbsp;&nbsp; Count composing characters with the base character. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2195)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1204<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A QuitPre autocommand may get the wrong file name.<br>
Solution:&nbsp;&nbsp; Pass the buffer being closed to apply_autocmds(). (Rich Howe)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.1205<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;1q&quot; it is possible to unload a changed buffer. (Rick Howe)<br>
Solution:&nbsp;&nbsp; Check the right window for changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_edit.vim, src/ex_docmd.c<br>
<br>
Patch 8.0.1206<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No autocmd for entering or leaving the command line.<br>
Solution:&nbsp;&nbsp; Add CmdlineEnter and CmdlineLeave.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, src/ex_getln.c, src/fileio.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.1207<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Profiling skips the first and last script line.<br>
Solution:&nbsp;&nbsp; Check for BOM after setting script ID. (LemonBoy, closes #2103,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2112) Add a test. List the trailing script lines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_profile.vim, src/ex_cmds2.c<br>
<br>
Patch 8.0.1208<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'statusline'">'statusline'</a>&nbsp;drops empty group with highlight change.<br>
Solution:&nbsp;&nbsp; Do not drop an empty group if it changes highlighting. (Marius<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gedminas, closes #2228)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/testdir/test_statusline.vim<br>
<br>
Patch 8.0.1209<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still too many old style tests.<br>
Solution:&nbsp;&nbsp; Convert a few more tests to new style. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2230)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/main.aap, src/testdir/test34.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test34.ok, src/testdir/test54.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test54.ok, src/testdir/test8.in, src/testdir/test8.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/testdir/test_autoformat_join.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autoformat_join.ok, src/testdir/test_join.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_user_func.vim<br>
<br>
Patch 8.0.1210<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When typing a search pattern&nbsp;<span class="Special">CTRL-G</span>&nbsp;and&nbsp;<span class="Special">CTRL-T</span>&nbsp;are ignored when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;there is typeahead.<br>
Solution:&nbsp;&nbsp; Don't pass SEARCH_PEEK and don't call char_avail(). (haya14busa,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2233)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim<br>
<br>
Patch 8.0.1211<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot reorder tab pages with drag &amp; drop.<br>
Solution:&nbsp;&nbsp; Support drag &amp; drop for GTK and MS-Windows. (Ken Takata, Masamichi<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Abe)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/gui_w32.c<br>
<br>
Patch 8.0.1212<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: tear-off menu does not work on 64 bit. (shaggyaxe)<br>
Solution:&nbsp;&nbsp; Change how the menu handle is looked up. (Ken Takata, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#1205)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.0.1213<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting&nbsp;<a class="Type" href="options.html#'mzschemedll'">'mzschemedll'</a>&nbsp;has no effect.<br>
Solution:&nbsp;&nbsp; Move loading .vimrc to before call to mzscheme_main().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.0.1214<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing freed memory when EXITFREE is set and there is more than<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one tab and window. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Free options later.&nbsp;&nbsp;Skip redraw when exiting.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/misc2.c<br>
<br>
Patch 8.0.1215<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Newer gcc warns for implicit fallthrough.<br>
Solution:&nbsp;&nbsp; Consistently use a FALLTHROUGH comment. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/edit.c, src/eval.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/main.c, src/message.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp_nfa.c, src/spell.c, src/window.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 8.0.1216<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tabline is not always updated for :file command. (Norio Takagi)<br>
Solution:&nbsp;&nbsp; Set redraw_tabline. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.0.1217<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't use remote eval to inspect vars in debug mode.<br>
Solution:&nbsp;&nbsp; Don't discard the call stack in debug mode. (closes #2237, #2247)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/ex_cmds2.c, src/main.c<br>
<br>
Patch 8.0.1218<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Writing to freed memory in autocmd.<br>
Solution:&nbsp;&nbsp; Make a copy of the tag line. (Dominique Pelle, closes #2245)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.1219<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test is flaky.<br>
Solution:&nbsp;&nbsp; Add test function to list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.1220<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Skipping empty statusline groups is not correct.<br>
Solution:&nbsp;&nbsp; Also set group_end_userhl. (itchyny)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/testdir/test_statusline.vim<br>
<br>
Patch 8.0.1221<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still too many old style tests.<br>
Solution:&nbsp;&nbsp; Convert a few more tests to new style. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2256)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/main.aap, src/testdir/test19.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test19.ok, src/testdir/test20.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test20.ok, src/testdir/test25.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test25.ok, src/testdir/test28.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test28.ok, src/testdir/test32.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test32.ok, src/testdir/test38.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test38.ok, src/testdir/test66.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test66.ok, src/testdir/test79.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test79.ok, src/testdir/test_ins_complete.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_source_utf8.vim, src/testdir/test_substitute.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tab.vim, src/testdir/test_tagjump.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_undo.vim, src/testdir/test_visual.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test79.ok, src/testdir/test79.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test28.in<br>
<br>
Patch 8.0.1222<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test functions interfere with each other.<br>
Solution:&nbsp;&nbsp; Cleanup tab pages, windows and buffers.&nbsp;&nbsp;Reset option.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/testdir/test_filetype.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabpage.vim, src/testdir/test_lispwords.vim<br>
<br>
Patch 8.0.1223<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using autocomplete and tab pages.<br>
Solution:&nbsp;&nbsp; Check if the current tab changed. (Christian Brabandt, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#2239)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c, src/testdir/test_popup.vim, src/misc1.c,<br>
<br>
Patch 8.0.1224<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still interference between test functions.<br>
Solution:&nbsp;&nbsp; Clear autocommands. Wipe all buffers.&nbsp;&nbsp;Fix tests that depend on a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;specific start context.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/testdir/test_autocmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim, src/testdir/test_bufwintabinfo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_command_count.vim, src/testdir/test_quickfix.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_hardcopy.vim, src/testdir/test_ins_complete.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_packadd.vim, src/testdir/test_signs.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autochdir.vim<br>
<br>
Patch 8.0.1225<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No check for spell region being zero. (geeknik)<br>
Solution:&nbsp;&nbsp; Check for zero. (closes #2252)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spellfile.c, src/testdir/test_spell.vim<br>
<br>
Patch 8.0.1226<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Edit and popup tests failing.<br>
Solution:&nbsp;&nbsp; Make the tests pass.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_edit.vim, src/testdir/test_popup.vim<br>
<br>
Patch 8.0.1227<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Undefined left shift in readfile(). (Brian&nbsp;<span class="MissingTag">'geeknik'</span>&nbsp;Carpenter)<br>
Solution:&nbsp;&nbsp; Add cast to unsigned. (Dominique Pelle, closes #2253)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.0.1228<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access in GUI test.<br>
Solution:&nbsp;&nbsp; Check that the row is not outside of the screen.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.1229<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Condition in vim_str2nr() is always true. (Nikolai Pavlov)<br>
Solution:&nbsp;&nbsp; Remove the condition. (Closes #2259)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c<br>
<br>
Patch 8.0.1230<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-A</span>&nbsp;in Visual mode uses character after selection. (Nikolai<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pavlov)<br>
Solution:&nbsp;&nbsp; Check the length before using a character.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c<br>
<br>
Patch 8.0.1231<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Expanding file name drops dash. (stucki)<br>
Solution:&nbsp;&nbsp; Use the right position. (Christian Brabandt, closes #2184)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.1232<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows users are confused about default mappings.<br>
Solution:&nbsp;&nbsp; Don't map keys in the console where they don't work.&nbsp;&nbsp;Add a choice<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in the installer to use MS-Windows key bindings or not. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, Ken Takata, closes #2093)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, nsis/gvim.nsi, nsis/vimrc.ini, src/dosinst.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/mswin.vim<br>
<br>
Patch 8.0.1233<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in dos installer.<br>
Solution:&nbsp;&nbsp; Remove comma.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c<br>
<br>
Patch 8.0.1234<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: composing characters are not shown properly.<br>
Solution:&nbsp;&nbsp; Pass base character and composing characters to the renderer at<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;once. (Ken Takata, closes #2206)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/gui_w32.c<br>
<br>
Patch 8.0.1235<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot disable the terminal feature in a huge build. (lindhobe)<br>
Solution:&nbsp;&nbsp; Adjust the autoconf check. (Kazunobu Kuriyama, closes #2242)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure, src/Makefile<br>
<br>
Patch 8.0.1236<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mac features are confusing.<br>
Solution:&nbsp;&nbsp; Make feature names more consistent, add &quot;osxdarwin&quot;. Rename<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feature flags, cleanup Mac code. (Kazunobu Kuriyama, closes #2178)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also includes a fix for when Ruby throws an exception inside<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:rubyfile. (ujihisa)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/os_mac.txt, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.h.in, src/configure.ac, src/digraph.c, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/feature.h, src/fileio.c, src/getchar.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/gui.c, src/gui_mac.c, src/if_python.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python3.c, src/if_ruby.c, src/keymap.h, src/macros.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/mbyte.c, src/message.c, src/misc1.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/os_mac.h, src/os_macosx.m, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto.h, src/pty.c, src/structs.h, src/term.c, src/termlib.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c, src/undo.c, src/version.c, src/vim.h, src/window.c<br>
<br>
Patch 8.0.1237<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:set scroll&amp;&quot; often gives an error.<br>
Solution:&nbsp;&nbsp; Don't use a fixed default value, use half the window height. Add a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test. (Ozaki Kiichi, closes #2104)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/option.c, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_scroll_opt.vim<br>
<br>
Patch 8.0.1238<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Incremental search only shows one match.<br>
Solution:&nbsp;&nbsp; When&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'hlsearch'">'hlsearch'</a>&nbsp;are both set highlight all<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matches. (haya14busa, itchyny, closes #2198)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/ex_getln.c, src/proto/search.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_search.vim<br>
<br>
Patch 8.0.1239<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use a lambda for the skip argument to searchpair().<br>
Solution:&nbsp;&nbsp; Evaluate a partial, funcref and lambda. (LemonBoy, closes #1454,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2265)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/proto/evalfunc.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/proto/eval.pro, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim<br>
<br>
Patch 8.0.1240<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: term_start() does not support environment.<br>
Solution:&nbsp;&nbsp; Implement the environment argument. (Yasuhiro Matsumoto, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#2264)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/proto/os_win32.pro, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1241<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup test is flaky. (James McCoy)<br>
Solution:&nbsp;&nbsp; Increase the wait time. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 8.0.1242<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Function argument with only dash is seen as number zero. (Wang<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Shidong)<br>
Solution:&nbsp;&nbsp; See a dash as a string. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ins_complete.vim, src/Makefile, src/eval.c<br>
<br>
Patch 8.0.1243<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for what 8.0.1227 fixes.<br>
Solution:&nbsp;&nbsp; Add a test that triggers the problem. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim, src/testdir/test_search.vim<br>
<br>
Patch 8.0.1244<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Search test does not work correctly on MS-Windows.<br>
Solution:&nbsp;&nbsp; Put text in a file instead of sending it to the terminal.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim<br>
<br>
Patch 8.0.1245<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When WaitFor() has a wrong expression it just waits a second,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;which goes unnoticed. (James McCoy)<br>
Solution:&nbsp;&nbsp; When WaitFor() times out throw an exception.&nbsp;&nbsp;Fix places where the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;expression was wrong.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_netbeans.vim, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1246<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup test has an arbitrary delay.<br>
Solution:&nbsp;&nbsp; Wait for the ruler to show. (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 8.0.1247<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to find Debian build info.<br>
Solution:&nbsp;&nbsp; Add a badge in the README file. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.md<br>
<br>
Patch 8.0.1248 (after 8.0.1247)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Stray + in README file.<br>
Solution:&nbsp;&nbsp; Remove the +.&nbsp;&nbsp;Add a line break.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.md<br>
<br>
Patch 8.0.1249<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No error when WaitFor() gets an invalid wrong expression.<br>
Solution:&nbsp;&nbsp; Do not ignore errors in evaluation of the expression.&nbsp;&nbsp;Fix places<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;where the expression was wrong.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_netbeans.vim<br>
<br>
Patch 8.0.1250<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'hlsearch'">'hlsearch'</a>&nbsp;highlighting not removed after incsearch (lacygoill)<br>
Solution:&nbsp;&nbsp; Redraw all windows. Start search at the end of the match.&nbsp;&nbsp;Improve<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;how&nbsp;<span class="Special">CTRL-G</span>&nbsp;works with incremental search. Add tests. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, Hirohito Higashi, haya14busa, closes #2267)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim<br>
<br>
Patch 8.0.1251 (after 8.0.1249)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid expression passed to WaitFor().<br>
Solution:&nbsp;&nbsp; Check if the variable exists.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_clientserver.vim<br>
<br>
Patch 8.0.1252<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Incomplete translations makefile for MinGW/Cygwin.<br>
Solution:&nbsp;&nbsp; Add missing source files.&nbsp;&nbsp;Make it work with msys2's bash. (Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Make_cyg.mak, src/po/Make_ming.mak, src/po/Make_mvc.mak<br>
<br>
Patch 8.0.1253<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still too many old style tests.<br>
Solution:&nbsp;&nbsp; Convert a few more tests to new style. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2272)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/main.aap, src/testdir/test12.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test12.ok, src/testdir/test40.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test40.ok, src/testdir/test45.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test45.ok, src/testdir/test83.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test83.ok, src/testdir/test_autocmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fold.vim, src/testdir/test_swap.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tagjump.vim<br>
<br>
Patch 8.0.1254<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Undefined left shift in gethexchrs(). (geeknik)<br>
Solution:&nbsp;&nbsp; Use unsigned long. (idea by Christian Brabandt, closes #2255)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp_nfa.c<br>
<br>
<br>
Patch 8.0.1255 (after 8.0.1248)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;duplicate badge README file.<br>
Solution:&nbsp;&nbsp; Remove one. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.md<br>
<br>
Patch 8.0.1256<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in configure variable vim_cv_tgent. (Matthieu Guillard)<br>
Solution:&nbsp;&nbsp; Rename the variable. (closes #2281)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1257 (after 8.0.1254)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for fix of undefined behavior.<br>
Solution:&nbsp;&nbsp; Add a test. (closes #2255)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim<br>
<br>
Patch 8.0.1258<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'ttymouse'">'ttymouse'</a>&nbsp;is set to &quot;sgr&quot; even though it's not supported. (Gary<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Johnson)<br>
Solution:&nbsp;&nbsp; Adjust #ifdef<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1259<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Search test can be flaky.<br>
Solution:&nbsp;&nbsp; Use WaitFor() instead of a delay.&nbsp;&nbsp;Make it possible to pass a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;funcref to WaitFor() to avoid the need for global variables.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(James McCoy, closes #2282)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_search.vim<br>
<br>
Patch 8.0.1260 (after 8.0.1259)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using global variables for WaitFor().<br>
Solution:&nbsp;&nbsp; Use a lambda function instead.&nbsp;&nbsp;Don't check a condition if<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WaitFor() already checked it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_clientserver.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_job_fails.vim, src/testdir/test_quotestar.vim<br>
<br>
Patch 8.0.1261<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Program in terminal window gets NL instead of CR. (Lifepillar)<br>
Solution:&nbsp;&nbsp; Check the tty setup more often. (closes #1998)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1262<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal redir test is flaky.<br>
Solution:&nbsp;&nbsp; Add it to the list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.1263<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Others can read the swap file if a user is careless with his<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;primary group.<br>
Solution:&nbsp;&nbsp; If the group permission allows for reading but the world<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;permissions doesn't, make sure the group is right.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/testdir/test_swap.vim, src/Makefile<br>
<br>
Patch 8.0.1264<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal debugger gets stuck in small window.<br>
Solution:&nbsp;&nbsp; Add &quot;-quiet&quot; to the gdb command. (Christian Brabandt, closes #2154)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.0.1265 (after 8.0.1263)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Swap test not skipped when there is one group.<br>
Solution:&nbsp;&nbsp; Convert list to string for the message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_swap.vim<br>
<br>
Patch 8.0.1266 (after 8.0.1263)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_swap_directory was accidentally commented out.<br>
Solution:&nbsp;&nbsp; Uncomment the test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_swap.vim<br>
<br>
Patch 8.0.1267 (after 8.0.1263)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_swap_group may leave file behind.<br>
Solution:&nbsp;&nbsp; Add a try/finally.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_swap.vim, src/testdir/test_undo.vim<br>
<br>
Patch 8.0.1268<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;PC install instructions are incomplete.<br>
Solution:&nbsp;&nbsp; Update the instructions. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLpc.txt<br>
<br>
Patch 8.0.1269<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Effect of autocommands on marks is not tested.<br>
Solution:&nbsp;&nbsp; Add a couple of tests. (James McCoy, closes #2271)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.1270<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mismatching file name with Filelist.<br>
Solution:&nbsp;&nbsp; Rename color_ramp.vim to xterm_ramp.vim<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/color_ramp.vim, src/testdir/xterm_ramp.vim<br>
<br>
Patch 8.0.1271<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still too many old style tests.<br>
Solution:&nbsp;&nbsp; Convert a few more tests to new style. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2290)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/sautest/autoload/footest.vim, src/testdir/test55.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test55.ok, src/testdir/test_changelist.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_changelist.ok, src/testdir/test_fold.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ins_complete.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_insertcount.in, src/testdir/test_insertcount.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listdict.vim, src/testdir/test_normal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim, src/testdir/test_search_mbyte.in<br>
<br>
Patch 8.0.1272<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings for unused variables in tiny build.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (Dominique Pelle, closes #2288)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1273 (after 8.0.1271)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old test file remaining.<br>
Solution:&nbsp;&nbsp; Delete it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search_mbyte.ok<br>
<br>
Patch 8.0.1274<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;setbufline() fails when using folding.<br>
Solution:&nbsp;&nbsp; Set &quot;curwin&quot; if needed. (Ozaki Kiichi, closes #2293)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_bufline.vim<br>
<br>
Patch 8.0.1275<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;CmdlineLeave autocmd prevents fold from opening. (Waivek)<br>
Solution:&nbsp;&nbsp; Save and restore KeyTyped. (closes #2305)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.0.1276<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typed key is lost when the terminal window is closed in exit<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callback. (Gabriel Barta)<br>
Solution:&nbsp;&nbsp; When the current window changes bail out of the wait loop. (closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#2302)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/terminal.c<br>
<br>
Patch 8.0.1277<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window CR-NL conversions may cause problems.<br>
Solution:&nbsp;&nbsp; Avoid most conversions, only fetch the current backspace key value<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from the tty. (mostly by Ozaki Kiichi, closes #2278)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1278<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI window always resizes when adding/removing a scrollbar,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;toolbar, etc.<br>
Solution:&nbsp;&nbsp; Add the 'k' flag in&nbsp;<a class="Type" href="options.html#'guioptions'">'guioptions'</a>&nbsp;to keep the GUI window size and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change the number of lines/columns instead. (Ychin, closes #703)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/gui.c, src/gui_gtk_x11.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/option.h<br>
<br>
Patch 8.0.1279<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Initializing menus can be slow, especially when there are many<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;keymaps, color schemes, etc.<br>
Solution:&nbsp;&nbsp; Do the globbing for runtime files lazily. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/gui.txt, runtime/menu.vim<br>
<br>
Patch 8.0.1280<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python None cannot be converted to a Vim type.<br>
Solution:&nbsp;&nbsp; Convert it to v:none. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/testdir/test86.ok, src/testdir/test87.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_pyth.txt<br>
<br>
Patch 8.0.1281<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Loading file type detection slows down startup.<br>
Solution:&nbsp;&nbsp; Move functions to an autoload script.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim, runtime/autoload/filetype.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/scripts.vim<br>
<br>
Patch 8.0.1282 (after 8.0.1281)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;script-local variable defined in the wrong script<br>
Solution:&nbsp;&nbsp; Move variable to autoload/filetype.vim.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim, runtime/autoload/filetype.vim<br>
<br>
Patch 8.0.1283<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 86 fails under ASAN.<br>
Solution:&nbsp;&nbsp; Fix that an item was added to a dictionary twice.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 8.0.1284<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Loading file type detection slows down startup.<br>
Solution:&nbsp;&nbsp; Store the last pattern of an autocommand event to make appending<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quicker.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.0.1285<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Distributed autoload files may clash with user files. (Andy<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wokula)<br>
Solution:&nbsp;&nbsp; Use the &quot;autoload/dist&quot; directory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim, runtime/autoload/filetype.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/autoload/dist/ft.vim, runtime/scripts.vim, Filelist,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, nsis/gvim.nsi<br>
<br>
Patch 8.0.1286<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Occasional crash when using a channel. (Marek)<br>
Solution:&nbsp;&nbsp; Decrement reference count later. (closes #2315)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.1287<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The temp file used when updating the viminfo file may have the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wrong permissions if setting the group fails.<br>
Solution:&nbsp;&nbsp; Check if the group matches and reduce permissions if not.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.0.1288<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI: cannot drag the statusline of a terminal window.<br>
Solution:&nbsp;&nbsp; Handle the TERMINAL state. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.0.1289<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mkview always includes the local directory.<br>
Solution:&nbsp;&nbsp; Add the &quot;curdir&quot; value in&nbsp;<a class="Type" href="options.html#'viewoptions'">'viewoptions'</a>. (Eric Roberts, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#2316)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/starting.txt, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.1290<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;seq_cur of undotree() wrong after undo.<br>
Solution:&nbsp;&nbsp; Get the actual sequence number instead of decrementing the current<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;one. (Ozaki Kiichi, closes #2319)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c, src/testdir/test_undo.vim<br>
<br>
Patch 8.0.1291<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;C indent wrong when * immediately follows comment. (John Bowler)<br>
Solution:&nbsp;&nbsp; Do not see &quot;/*&quot; after &quot;*&quot; as a comment start. (closes #2321)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test3.in, src/testdir/test3.ok<br>
<br>
Patch 8.0.1292<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quick clicks in the WinBar start Visual mode.<br>
Solution:&nbsp;&nbsp; Use a double click in the WinBar like a normal click.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.0.1293<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting a breakpoint in the terminal debugger sometimes fails.<br>
Solution:&nbsp;&nbsp; Interrupt the program if needed.&nbsp;&nbsp;Set the interface to async.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt<br>
<br>
Patch 8.0.1294<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI: get stuck when splitting a terminal window.<br>
Solution:&nbsp;&nbsp; Stop blinking when values become zero. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.0.1295<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot automatically get a server name in a terminal.<br>
Solution:&nbsp;&nbsp; Add the --enable-autoservername flag to configure. (Cimbali,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2317)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/various.txt, src/config.h.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/main.c, src/version.c, src/Makefile<br>
<br>
Patch 8.0.1296 (after 8.0.1294)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Checking the same condition twice. (John Marriott)<br>
Solution:&nbsp;&nbsp; Check blinkwait.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.0.1297<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;+autoservername does not show enabled on MS-Windows.<br>
Solution:&nbsp;&nbsp; Always define the flag on MS-Windows. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h<br>
<br>
Patch 8.0.1298<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing test file.<br>
Solution:&nbsp;&nbsp; Add samples/test000. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/samples/test000, Filelist<br>
<br>
Patch 8.0.1299<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Bracketed paste does not work well in terminal window.<br>
Solution:&nbsp;&nbsp; Send translated string to job right away. (Ozaki Kiichi, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#2341)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1300<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;File permissions may end up wrong when writing.<br>
Solution:&nbsp;&nbsp; Use fchmod() instead of chmod() when possible.&nbsp;&nbsp;Don't truncate<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;until we know we can change the file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/proto/os_unix.pro, src/configure.ac,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/auto/configure, src/config.h.in, src/fileio.c<br>
<br>
Patch 8.0.1301<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Generated license file for NSIS has a modeline.<br>
Solution:&nbsp;&nbsp; Adjust the pattern for sed. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/Makefile<br>
<br>
Patch 8.0.1302<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still too many old style tests.<br>
Solution:&nbsp;&nbsp; Convert a few more tests to new style. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2326)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/runtest.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test68.in, src/testdir/test68.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test73.in, src/testdir/test73.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_close_count.in, src/testdir/test_close_count.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_close_count.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_erasebackword.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_erasebackword.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_erasebackword.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_find_complete.vim, src/testdir/test_fixeol.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fixeol.ok, src/testdir/test_fixeol.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listchars.in, src/testdir/test_listchars.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listchars.vim, src/testdir/test_textformat.vim<br>
<br>
Patch 8.0.1303<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'ttymouse'">'ttymouse'</a>&nbsp;is not set to &quot;sgr&quot; for Terminal.app and Iterm2.<br>
Solution:&nbsp;&nbsp; Recognize Iterm2 by the termresponse.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1304<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-G</span>/<span class="Special">CTRL-T</span>&nbsp;don't work with incsearch and empty pattern.<br>
Solution:&nbsp;&nbsp; Use the last search pattern. (Christian Brabandt, closes #2292)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/proto/search.pro, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim<br>
<br>
Patch 8.0.1305<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;writefile() never calls fsync().<br>
Solution:&nbsp;&nbsp; Follow the&nbsp;<a class="Type" href="options.html#'fsync'">'fsync'</a>&nbsp;option with override to enable or disable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/evalfunc.c, runtime/doc/eval.txt, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_writefile.vim<br>
<br>
Patch 8.0.1306<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ASAN error stack trace is not useful.<br>
Solution:&nbsp;&nbsp; Add &quot;asan_symbolize&quot;. (James McCoy, closes #2344)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.1307 (after 8.0.1300)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for ignoring return value of ftruncate(). (Tony<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mechelynck)<br>
Solution:&nbsp;&nbsp; Assign returned value to &quot;ignore&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.0.1308<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The &quot;Reading from stdin&quot; message may be undesired and there is no<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;easy way to skip it.<br>
Solution:&nbsp;&nbsp; Don't show the message with --not-a-term was used.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.0.1309<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use&nbsp;<a class="Type" href="options.html#'balloonexpr'">'balloonexpr'</a>&nbsp;in a terminal.<br>
Solution:&nbsp;&nbsp; Add&nbsp;<a class="Type" href="options.html#'balloonevalterm'">'balloonevalterm'</a>&nbsp;and add code to handle mouse movements in a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;terminal. Initial implementation for Unix with GUI.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/option.h, src/os_unix.c, src/proto/os_unix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/misc2.c, src/keymap.h, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/message.c, src/misc1.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/getchar.c, src/ex_cmds2.c, src/gui_beval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_beval.pro, src/evalfunc.c, src/popupmnu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupmnu.pro, src/version.c, src/globals.h, src/gui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.0.1310<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cproto generates errors because of missing type.<br>
Solution:&nbsp;&nbsp; Define _Float128 when generating prototypes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.0.1311<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for strpart().<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #2347)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.0.1312 (after 8.0.1309)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;balloon_show() only works in terminal when compiled with the GUI.<br>
Solution:&nbsp;&nbsp; Add FEAT_BEVAL_GUI and refactor to move common code out of the GUI<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;specific file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/evalfunc.c, src/gui.c, src/gui_athena.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c, src/proto/gui_beval.pro, src/beval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/beval.pro, src/gui_motif.c, src/gui_w32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c, src/integration.c, src/workshop.c, src/menu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c, src/option.c, src/os_unix.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/version.c, src/gui.h, src/gui_beval.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/beval.h, src/option.h, src/ex_cmds2.c, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/normal.c, src/popupmnu.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/Make_cyg_ming.mak, src/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms, Filelist<br>
<br>
Patch 8.0.1313 (after 8.0.1312)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing dependencies cause parallel make to fail.<br>
Solution:&nbsp;&nbsp; Update dependencies.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.1314 (after 8.0.1312)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails on Mac. (chdiza)<br>
Solution:&nbsp;&nbsp; Add #ifdef around GUI fields.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/beval.h<br>
<br>
Patch 8.0.1315 (after 8.0.1312)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build still fails on Mac. (chdiza)<br>
Solution:&nbsp;&nbsp; Remove bogus typedef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_macosx.m<br>
<br>
Patch 8.0.1316 (after 8.0.1312)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build still still fails on Mac. (chdiza)<br>
Solution:&nbsp;&nbsp; Remove another bogus typedef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mac_conv.c<br>
<br>
Patch 8.0.1317<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing freed memory in term_wait(). (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Check that the buffer still exists.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1318<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal balloon only shows one line.<br>
Solution:&nbsp;&nbsp; Split into several lines in a clever way.&nbsp;&nbsp;Add balloon_split().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Make balloon_show() accept a list in the terminal.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c, src/proto/popupmnu.pro, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/beval.c, src/proto/beval.pro, src/testdir/test_popup.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.0.1319<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build GUI on MS-Windows.<br>
Solution:&nbsp;&nbsp; Don't define the balloon_split() function in a GUI-only build.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, runtime/doc/eval.txt<br>
<br>
Patch 8.0.1320<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup test fails on GUI-only build.<br>
Solution:&nbsp;&nbsp; Don't test balloon_split() when it's not available.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 8.0.1321<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build huge version with Athena. (Mark Kelly)<br>
Solution:&nbsp;&nbsp; Move including beval.h to before structs.h. Include beval.pro like<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;other proto files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/beval.h, src/proto.h<br>
<br>
Patch 8.0.1322<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Textformat test isn't run. (Yegappan Lakshmanan)<br>
Solution:&nbsp;&nbsp; Add target to the list of tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 8.0.1323<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mouse events in a terminal window may cause endless loop.<br>
Solution:&nbsp;&nbsp; Adjust position computation.&nbsp;&nbsp;Don't stuff a mouse event when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;coming from normal_cmd().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/terminal.c<br>
<br>
Patch 8.0.1324<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some xterm sends different mouse move codes.<br>
Solution:&nbsp;&nbsp; Also accept 0x80 as a move event.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1325<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More tests are not run.<br>
Solution:&nbsp;&nbsp; Add targets to the list of tests. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 8.0.1326<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Largefile test fails on CI, glob test on MS-Windows.<br>
Solution:&nbsp;&nbsp; Remove largefile test from list of all tests. Don't run<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test_glob() on non-unix systems.&nbsp;&nbsp;More cleanup. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #2354)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_escaped_glob.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_plus_arg_edit.vim<br>
<br>
Patch 8.0.1327<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New proto file missing from distribution.<br>
Solution:&nbsp;&nbsp; Add it. (closes #2355)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.0.1328<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Trouble when using &quot;:term ++close&quot; with autocmd. (Gabriel Barta)<br>
Solution:&nbsp;&nbsp; Use aucmd_prepbuf() and aucmd_restbuf() instead of setting curbuf.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #2339)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1329<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a flaky test fails it also often fails the second time.<br>
Solution:&nbsp;&nbsp; Sleep a couple of seconds before the second try.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.1330<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: job in terminal can't get back to Vim.<br>
Solution:&nbsp;&nbsp; set VIM_SERVERNAME in the environment. (Yasuhiro Matsumoto, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#2360)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt, src/os_win32.c, src/proto/os_win32.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1331<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Possible crash when window can be zero lines high. (Joseph<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dornisch)<br>
Solution:&nbsp;&nbsp; Only set w_fraction if the window is at least two lines high.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.0.1332<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Highlighting in quickfix window could be better. (Axel Bender)<br>
Solution:&nbsp;&nbsp; Use the qfSeparator highlight item. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.1333<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some tests are run twice.<br>
Solution:&nbsp;&nbsp; Invoked most utf8 tests only from test_alot_utf8. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #2369)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_alot_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession_utf8.vim<br>
<br>
Patch 8.0.1334<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Splitting a window with a WinBar damages window layout.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Lifepillar)<br>
Solution:&nbsp;&nbsp; Take the winbar into account when computing the new window<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position.&nbsp;&nbsp;Add WINBAR_HEIGHT().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/window.c<br>
<br>
Patch 8.0.1335<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;writefile() using fsync() may give an error for a device.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto)<br>
Solution:&nbsp;&nbsp; Ignore fsync() failing. (closes #2373)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.0.1336<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use imactivatefunc() unless compiled with +xim.<br>
Solution:&nbsp;&nbsp; Allow using imactivatefunc() when not compiled with +xim.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto, closes #2349)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/mbyte.txt, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/option.h, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_iminsert.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/vim.h<br>
<br>
Patch 8.0.1337 (after 8.0.1336)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in #ifdef.<br>
Solution:&nbsp;&nbsp; Fix the #if line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 8.0.1338 (after 8.0.1337)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;USE_IM_CONTROL is confusing and incomplete.<br>
Solution:&nbsp;&nbsp; Just use FEAT_MBYTE.&nbsp;&nbsp;Call&nbsp;<a class="Type" href="options.html#'imactivatefunc'">'imactivatefunc'</a>&nbsp;also without GUI.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/edit.c, src/ex_getln.c, src/getchar.c, src/gui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_mac.c, src/gui_w32.c, src/mbyte.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/ui.c, src/globals.h, src/option.h<br>
<br>
Patch 8.0.1339<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for what 8.0.1335 fixes.<br>
Solution:&nbsp;&nbsp; Add a test. (Yasuhiro Matsumoto, closes #2373)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_writefile.vim<br>
<br>
Patch 8.0.1340<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: cannot build GUI without IME.<br>
Solution:&nbsp;&nbsp; Define im_get_status() and im_set_active() when IME is not used.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 8.0.1341<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'imactivatefunc'">'imactivatefunc'</a>&nbsp;test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Skip the text.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_iminsert.vim, runtime/doc/options.txt<br>
<br>
Patch 8.0.1342<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with Motif and multi-byte. (Mohamed Boughaba)<br>
Solution:&nbsp;&nbsp; Use the right input method status flag. (closes #2374)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 8.0.1343<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: does not show colored emojis.<br>
Solution:&nbsp;&nbsp; Implement colored emojis. Improve drawing speed. Make&nbsp;<span class="MissingTag">'taamode'</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;work. (Taro Muraoka, Yasuhiro Matsumoto, Ken Takata, close #2375)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;appveyor.yml, runtime/doc/options.txt, src/gui_dwrite.cpp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_dwrite.h, src/gui_w32.c, src/proto/gui_w32.pro<br>
<br>
Patch 8.0.1344<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;<a class="Type" href="options.html#'imactivatefunc'">'imactivatefunc'</a>&nbsp;in the GUI does not work.<br>
Solution:&nbsp;&nbsp; Do not use&nbsp;<a class="Type" href="options.html#'imactivatefunc'">'imactivatefunc'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'imstatusfunc'">'imstatusfunc'</a>&nbsp;in the GUI.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_iminsert.vim<br>
<br>
Patch 8.0.1345<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Race condition between stat() and open() for the viminfo temp<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file. (Simon Ruderich)<br>
Solution:&nbsp;&nbsp; use open() with O_EXCL to atomically check if the file exists.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Don't try using a temp file, renaming it will fail anyway.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.0.1346<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when passing 50 char string to balloon_split().<br>
Solution:&nbsp;&nbsp; Fix off-by-one error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim, src/popupmnu.c<br>
<br>
Patch 8.0.1347<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: build broken by misplaced curly.<br>
Solution:&nbsp;&nbsp; Move curly after #endif.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.0.1348<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Make testclean deletes script file on MS-Windows.<br>
Solution:&nbsp;&nbsp; Rename file to avoid it starting with an &quot;x&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/xterm_ramp.vim, src/testdir/color_ramp.vim, Filelist<br>
<br>
Patch 8.0.1349<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Options test fails when using Motif or GTK GUI.<br>
Solution:&nbsp;&nbsp; Use &quot;fixed&quot; instead of &quot;fixedsys&quot; for Unix. Don't try &quot;xxx&quot; for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;guifonteset.&nbsp;&nbsp;Don't set&nbsp;<a class="Type" href="options.html#'termencoding'">'termencoding'</a>&nbsp;to anything but &quot;utf-8&quot; for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GTK.&nbsp;&nbsp;Give an error if&nbsp;<a class="Type" href="options.html#'termencoding'">'termencoding'</a>&nbsp;can't be converted.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/gen_opt_test.vim, src/option.c<br>
<br>
Patch 8.0.1350<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with +eval and -multi_byte.<br>
Solution:&nbsp;&nbsp; Adjust #ifdefs. (John Marriott)&nbsp;&nbsp;Always include the multi_byte<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feature when an input method feature is enabled.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/feature.h<br>
<br>
Patch 8.0.1351<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for unused variables building with MinGW.<br>
Solution:&nbsp;&nbsp; Change a few #ifdefs (suggested by John Marriott). Remove<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;superfluous checks of FEAT_MBYTE.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.0.1352<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dead URLs in the help go unnoticed.<br>
Solution:&nbsp;&nbsp; Add a script to check URLs in the help files. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/Makefile, runtime/doc/test_urls.vim, Filelist<br>
<br>
Patch 8.0.1353<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;QuickFixCmdPost is not used consistently.<br>
Solution:&nbsp;&nbsp; Invoke QuickFixCmdPost consistently after QuickFixCmdPre.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yegappan Lakshmanan, closes #2377)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1354<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Shift-Insert doesn't always work in MS-Windows console.<br>
Solution:&nbsp;&nbsp; Handle K_NUL differently. (Yasuhiro Matsumoto, closes #2381)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.0.1355 (after 8.0.1354)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor keys don't work in MS-Windows console.<br>
Solution:&nbsp;&nbsp; Revert the previous patch.&nbsp;&nbsp;Also delete dead code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.0.1356<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using simalt in a GUIEnter autocommand inserts strange characters.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Chih-Long Chang)<br>
Solution:&nbsp;&nbsp; Ignore K_NOP in Insert mode. (closes #2379)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/ex_getln.c<br>
<br>
Patch 8.0.1357<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Startup test fails on OpenBSD. (Edd Barrett)<br>
Solution:&nbsp;&nbsp; Check for &quot;BSD&quot; instead of &quot;FreeBSD&quot; being defined. (James McCoy,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2376, closes #2378)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.0.1358<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Undercurl is not used in the terminal. (Kovid Goyal)<br>
Solution:&nbsp;&nbsp; Only fall back to underline when undercurl highlighting is not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defined. (closes #1306)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.1359<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Libvterm ANSI colors can not always be recognized from the RGB<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;values. The default color is wrong when t_RB is empty.<br>
Solution:&nbsp;&nbsp; Add the ANSI color index to VTermColor.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/include/vterm.h, src/libvterm/src/pen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1360<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The Terminal highlighting doesn't work in a terminal. (Ozaki<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kiichi)<br>
Solution:&nbsp;&nbsp; Use the Terminal highlighting when the cterm index is zero.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1361<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some users don't want to diff with hidden buffers.<br>
Solution:&nbsp;&nbsp; Add the &quot;hiddenoff&quot; item to&nbsp;<a class="Type" href="options.html#'diffopt'">'diffopt'</a>. (Alisue, closes #2394)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/buffer.c, src/diff.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/diff.pro, src/testdir/test_diffmode.vim<br>
<br>
Patch 8.0.1362<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window colors wrong when using Terminal highlighting.<br>
Solution:&nbsp;&nbsp; Set ansi_index when setting the default color.&nbsp;&nbsp;Also cache the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color index for Terminal. (Ozaki Kiichi, closes #2393)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/pen.c, src/proto/terminal.pro, src/syntax.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1363<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Recovering does not work when swap file ends in .stz.<br>
Solution:&nbsp;&nbsp; Check for all possible swap file names. (Elfling, closes #2395,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2396)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 8.0.1364<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no easy way to get the window position.<br>
Solution:&nbsp;&nbsp; Add win_screenpos().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_window_cmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.0.1365<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When one channel test fails others fail as well.<br>
Solution:&nbsp;&nbsp; Stop the job after a failure.&nbsp;&nbsp;Also add a couple of tests to the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/runtest.vim<br>
<br>
Patch 8.0.1366<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Balloon shows when cursor is in WinBar.<br>
Solution:&nbsp;&nbsp; Don't show the balloon when row is negative.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/beval.c<br>
<br>
Patch 8.0.1367<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;terminal test hangs, executing abcde. (Stucki)<br>
Solution:&nbsp;&nbsp; Rename abcde to abxde.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1368<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot drag status line or vertical separator of new terminal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window. (UncleBill)<br>
Solution:&nbsp;&nbsp; Adjust mouse row and column computation. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2410)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1369<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: drawing underline, curl and strikethrough is slow,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mFallbackDC not properly updated.<br>
Solution:&nbsp;&nbsp; Several performance improvements. (Ken Takata, Taro Muraoka,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Yasuhiro Matsumoto, closes #2401)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/gui_dwrite.cpp, src/gui_dwrite.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.0.1370<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test for callback is flaky.<br>
Solution:&nbsp;&nbsp; Add the test to the list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.1371<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Shift-Insert doesn't always work in MS-Windows console.<br>
Solution:&nbsp;&nbsp; Handle K_NUL differently if the second character is more than one<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte. (Yasuhiro Matsumoto, closes #2381)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.0.1372<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Profile log may be truncated halfway a character.<br>
Solution:&nbsp;&nbsp; Find the start of the character. (Ozaki Kiichi, closes #2385)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_profile.vim<br>
<br>
Patch 8.0.1373<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No error when setting&nbsp;<a class="Type" href="options.html#'renderoptions'">'renderoptions'</a>&nbsp;to an invalid value before<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;starting the GUI.<br>
Solution:&nbsp;&nbsp; Always check the value. (Ken Takata, closes #2413)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/option.c<br>
<br>
Patch 8.0.1374<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-A</span>&nbsp;does not work with an empty line. (Alex)<br>
Solution:&nbsp;&nbsp; Decrement the end only once. (Hirohito Higashi, closes #2387)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_increment.vim<br>
<br>
Patch 8.0.1375<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Window size wrong after maximizing with WinBar. (Lifepillar)<br>
Solution:&nbsp;&nbsp; Fix height computations. Redraw window when it is zero height but<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;has a WinBar. (closes #2356)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/screen.c, src/vim.h<br>
<br>
Patch 8.0.1376<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor in terminal not always updated.<br>
Solution:&nbsp;&nbsp; Call gui_mch_flush(). (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1377<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot call a dict function in autoloaded dict.<br>
Solution:&nbsp;&nbsp; Call get_lval() passing the read-only flag.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/eval.c, src/testdir/sautest/autoload/foo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/sautest/autoload/globone.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/sautest/autoload/globtwo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_escaped_glob.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autoload.vim, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 8.0.1378<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Autoload script sources itself when defining function.<br>
Solution:&nbsp;&nbsp; Pass TFN_NO_AUTOLOAD to trans_function_name(). (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #2423)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/testdir/test_autoload.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/sautest/autoload/sourced.vim<br>
<br>
Patch 8.0.1379<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure check for selinux does not check for header file.<br>
Solution:&nbsp;&nbsp; Add an AC_CHECK_HEADER(). (Benny Siegert)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1380<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When recovering a file with &quot;vim -r swapfile&quot; the hit-enter prompt<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is at the top of the window.<br>
Solution:&nbsp;&nbsp; Invalidate the cursor position.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1381<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ch_readraw() waits for NL if channel mode is NL.<br>
Solution:&nbsp;&nbsp; Pass a &quot;raw&quot; flag to channel_read_block(). (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_channel_pipe.py<br>
<br>
Patch 8.0.1382<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get &quot;no write since last change&quot; message if a terminal is open.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Fritz mehner)<br>
Solution:&nbsp;&nbsp; Don't consider a buffer changed if it's a terminal window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/undo.c, src/proto/undo.pro<br>
<br>
Patch 8.0.1383<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Local additions in help skips some files. (joshklod)<br>
Solution:&nbsp;&nbsp; Check the base file name length equals.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_help.vim<br>
<br>
Patch 8.0.1384<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough quickfix help; confusing winid.<br>
Solution:&nbsp;&nbsp; Add more examples in the help. When the quickfix window is not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;present, return zero for getqflist() with&nbsp;<span class="MissingTag">'winid'</span>. Add more tests<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for jumping to quickfix list entries. (Yegappan Lakshmanan, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#2427)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/quickfix.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1385<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python 3.5 is getting old.<br>
Solution:&nbsp;&nbsp; Make Python 3.6 the default. (Ken Takata, closes #2429)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_pyth.txt, src/INSTALLpc.txt, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/bigvim.bat<br>
<br>
Patch 8.0.1386<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot select modified buffers with getbufinfo().<br>
Solution:&nbsp;&nbsp; Add the &quot;bufmodified&quot; flag. (Yegappan Lakshmanan, closes #2431)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufwintabinfo.vim<br>
<br>
Patch 8.0.1387<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wordcount test is old style.<br>
Solution:&nbsp;&nbsp; Change into a new style test. (Yegappan Lakshmanan, closes #2434)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms, src/testdir/test_wordcount.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_wordcount.ok, src/testdir/test_wordcount.vim<br>
<br>
Patch 8.0.1388<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Char not overwritten with ambiguous width char, if the ambiguous<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;char is single width but we reserve double-width space.<br>
Solution:&nbsp;&nbsp; First clear the screen cells. (Ozaki Kiichi, closes #2436)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.1389<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getqflist() items are missing if not set, that makes it more<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;difficult to handle the values.<br>
Solution:&nbsp;&nbsp; When a value is not available return zero or another invalid<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value. (Yegappan Lakshmanan, closes #2430)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1390<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;DirectX scrolling can be slow, vertical positioning is off.<br>
Solution:&nbsp;&nbsp; Make scroll slightly faster when using &quot;scrlines:1&quot;. Fix y<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position of displayed text. Fix DirectX with non-utf8 encoding.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ken Takata, closes #2440)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLpc.txt, src/Make_cyg_ming.mak, src/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_dwrite.cpp, src/gui_w32.c<br>
<br>
Patch 8.0.1391<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Encoding empty string to JSON sometimes gives &quot;null&quot;.<br>
Solution:&nbsp;&nbsp; Handle NULL string as empty string. (closes #2446)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_json.vim, src/json.c<br>
<br>
Patch 8.0.1392<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails with --with-features=huge --disable-channel.<br>
Solution:&nbsp;&nbsp; Don't enable the terminal feature when the channel feature is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;missing. (Dominique Pelle, closes #2453)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1393<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too much highlighting with&nbsp;<a class="Type" href="options.html#'hlsearch'">'hlsearch'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;set.<br>
Solution:&nbsp;&nbsp; Do not highlight matches when the pattern matches everything.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.0.1394<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot intercept a yank command.<br>
Solution:&nbsp;&nbsp; Add the TextYankPost autocommand event. (Philippe Vaucher et al.,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2333)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, runtime/doc/eval.txt, src/dict.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/fileio.c, src/ops.c, src/proto/dict.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/proto/fileio.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/vim.h<br>
<br>
Patch 8.0.1395<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not easy to see if a colorscheme is well written.<br>
Solution:&nbsp;&nbsp; Add a script that checks for common mistakes. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/colors/check_colors.vim, runtime/colors/README.txt<br>
<br>
Patch 8.0.1396<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak when&nbsp;<span class="Special">CTRL-G</span>&nbsp;in search command line fails.<br>
Solution:&nbsp;&nbsp; Move restore_last_search_pattern to after &quot;if&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.0.1397<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Pattern with \&amp; following nothing gives an error.<br>
Solution:&nbsp;&nbsp; Emit an empty node when needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test_search.vim<br>
<br>
Patch 8.0.1398<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:packadd does not load packages from the &quot;start&quot; directory.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Alejandro Hernandez)<br>
Solution:&nbsp;&nbsp; Make :packadd look in the &quot;start&quot; directory if those packages were<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not loaded on startup.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_packadd.vim<br>
<br>
Patch 8.0.1399<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings and errors when building tiny version. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/ops.c<br>
<br>
Patch 8.0.1400<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Color scheme check script shows up as color scheme.<br>
Solution:&nbsp;&nbsp; Move it to the &quot;tools&quot; subdirectory. (closes #2457)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, runtime/colors/check_colors.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/colors/tools/check_colors.vim, runtime/colors/README.txt<br>
<br>
Patch 8.0.1401<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with GTK but without XIM. (Guido)<br>
Solution:&nbsp;&nbsp; Adjust #ifdef. (closes #2461)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.0.1402<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash with nasty autocommand. (gy741, Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Check that the new current buffer isn't wiped out. (closes #2447)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.1403<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed buffer in grep command. (gy741, Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Lock the dummy buffer to avoid autocommands wiping it out.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.1404<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access on exit when autocommands wipe out a buffer.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gy741, Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Check if the buffer is still valid. (closes #2449)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.0.1405<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Duplicated code for getting a typed character. CursorHold is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called too often in the GUI. (lilydjwg)<br>
Solution:&nbsp;&nbsp; Refactor code to move code up from mch_inchar().&nbsp;&nbsp;Don't fire<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CursorHold if feedkeys() was used. (closes #2451)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/proto/gui.pro, src/main.c, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ui.pro, src/os_unix.c<br>
<br>
Patch 8.0.1406<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Difficult to track changes to a quickfix list.<br>
Solution:&nbsp;&nbsp; Add a &quot;changedtick&quot; value. (Yegappan Lakshmanan, closes #2460)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/quickfix.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1407<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI: CursorHold may trigger before&nbsp;<a class="Type" href="options.html#'updatetime'">'updatetime'</a>&nbsp;when using timers.<br>
Solution:&nbsp;&nbsp; Check that&nbsp;<a class="Type" href="options.html#'updatetime'">'updatetime'</a>&nbsp;has passed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.0.1408<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash in setqflist().<br>
Solution:&nbsp;&nbsp; Check for string to be NULL. (Dominique Pelle, closes #2464)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1409<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Buffer overflow in :tags command.<br>
Solution:&nbsp;&nbsp; Use vim_snprintf(). (Dominique Pelle, closes #2471, closes #2475)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_taglist.vim, src/tag.c<br>
<br>
Patch 8.0.1410<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Hang when using count() with an empty string.<br>
Solution:&nbsp;&nbsp; Return zero for an empty string. (Dominique Pelle, closes #2465)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.0.1411<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Reading invalid memory with&nbsp;<span class="Special">CTRL-W</span>&nbsp;:.<br>
Solution:&nbsp;&nbsp; Correct the command characters. (closes #2469)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_window_cmd.vim, src/ops.c<br>
<br>
Patch 8.0.1412<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using free memory using setloclist(). (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Mark location list context as still in use when needed. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #2462)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1413<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing freed memory in :cbuffer.<br>
Solution:&nbsp;&nbsp; Get quickfix list after executing autocmds. (closes #2470)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.1414<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing freed memory in :lfile.<br>
Solution:&nbsp;&nbsp; Get the current window after executing autocommands. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #2473)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1415<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for unused function without timers feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.0.1416<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when searching for a sentence.<br>
Solution:&nbsp;&nbsp; Return NUL when getting character at MAXCOL. (closes #2468)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/misc2.c, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.0.1417<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test doesn't search for a sentence. Still fails when searching for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start of sentence. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Add paren. Check for MAXCOL in dec().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim, src/misc2.c<br>
<br>
Patch 8.0.1418<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for expanding backticks.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #2479)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim<br>
<br>
Patch 8.0.1419<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor column is not updated after ]s. (Gary Johnson)<br>
Solution:&nbsp;&nbsp; Set the curswant flag.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_spell.vim, src/normal.c, src/evalfunc.c<br>
<br>
Patch 8.0.1420<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing freed memory in vimgrep.<br>
Solution:&nbsp;&nbsp; Check that the quickfix list is still valid. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2474)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_autocmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1421<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing invalid memory with overlong byte sequence.<br>
Solution:&nbsp;&nbsp; Check for NUL character. (test by Dominique Pelle, closes #2485)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/testdir/test_functions.vim<br>
<br>
Patch 8.0.1422<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No fallback to underline when undercurl is not set. (Ben Jackson)<br>
Solution:&nbsp;&nbsp; Check for the value to be empty instead of NULL. (closes #2424)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.1423<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error in return not caught by try/catch.<br>
Solution:&nbsp;&nbsp; Call update_force_abort(). (Yasuhiro Matsumoto, closes #2483)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_eval.in, src/testdir/test_eval_stuff.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/userfunc.c<br>
<br>
Patch 8.0.1424<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The timer_pause test is flaky on Travis.<br>
Solution:&nbsp;&nbsp; Accept a longer sleep time on Mac.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 8.0.1425<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;execute() does not work in completion of user command. (thinca)<br>
Solution:&nbsp;&nbsp; Switch off redir_off and restore it. (Ozaki Kiichi, closes #2492)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_usercommands.vim<br>
<br>
Patch 8.0.1426<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;gf&quot; and&nbsp;<span class="Special">&lt;cfile&gt;</span>&nbsp;don't accept ? and &amp; in URL. (Dmitrii Tcyganok)<br>
Solution:&nbsp;&nbsp; Check for a URL and allow for extra characters. (closes #2493)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_gf.vim<br>
<br>
Patch 8.0.1427<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The :leftabove modifier doesn't work for :copen.<br>
Solution:&nbsp;&nbsp; Respect the split modifier. (Yegappan Lakshmanan, closes #2496)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1428<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning on 64 bit MS-Windows system.<br>
Solution:&nbsp;&nbsp; Change type from &quot;int&quot; to &quot;size_t&quot;. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.0.1429<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when calling term_start() with empty argument.<br>
Solution:&nbsp;&nbsp; Check for invalid argument. (Yasuhiro Matsumoto, closes #2503)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fix memory leak.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1430 (after 8.0.1429)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when term_start() fails.<br>
Solution:&nbsp;&nbsp; Initialize winpty_err.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1431<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: vimtutor fails if %TMP% has special chars.<br>
Solution:&nbsp;&nbsp; Add quotes. (Tamce, closes #2561)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vimtutor.bat<br>
<br>
Patch 8.0.1432<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After &quot;:copen&quot; can't get the window-ID of the quickfix window.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(FalacerSelene)<br>
Solution:&nbsp;&nbsp; Make it work without a quickfix list.&nbsp;&nbsp;Add a test. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #2541)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1433<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access after undo. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Avoid the column becomes negative. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2533)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/testdir/test_undo.vim<br>
<br>
Patch 8.0.1434<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GTK: :promtfind does not put focus on text input. (Adam Novak)<br>
Solution:&nbsp;&nbsp; When re-opening the dialog put focus on the text input. (Kazunobu<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kuriyama, closes #2563)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk.c<br>
<br>
Patch 8.0.1435<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak in test_arabic.<br>
Solution:&nbsp;&nbsp; Free the from and to parts. (Christian Brabandt, closes #2569)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/digraph.c, src/proto/digraph.pro<br>
<br>
Patch 8.0.1436<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough information about what Python version may work.<br>
Solution:&nbsp;&nbsp; Add &quot;python_compiled&quot;, &quot;python3_compiled&quot;, &quot;python_dynamic&quot; and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;python3_dynamic&quot; values for has().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, runtime/doc/eval.txt<br>
<br>
Patch 8.0.1437<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Pkg-config doesn't work with cross compiling.<br>
Solution:&nbsp;&nbsp; Use AC_PATH_TOOL() instead of AC_PATH_PROG(). (James McCoy,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2513)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1438<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Filetype detection test not updated for change.<br>
Solution:&nbsp;&nbsp; Update the test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_filetype.vim<br>
<br>
Patch 8.0.1439<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If cscope fails a search Vim may hang.<br>
Solution:&nbsp;&nbsp; Bail out when a search error is encountered. (Safouane Baroudi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2598)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c<br>
<br>
Patch 8.0.1440<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window: some vterm responses are delayed.<br>
Solution:&nbsp;&nbsp; After writing input. check if there is output to read. (Ozaki<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kiichi, closes #2594)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1441<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;:undo 0&quot; leaves undo in wrong state.<br>
Solution:&nbsp;&nbsp; Instead of searching for state 1 and go above, just use the start.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ozaki Kiichi, closes #2595)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c, src/testdir/test_undo.vim<br>
<br>
Patch 8.0.1442 (after 8.0.1439)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using pointer before it is set.<br>
Solution:&nbsp;&nbsp; Search in whole buffer instead of next token.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c<br>
<br>
Patch 8.0.1443 (after 8.0.1441)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler complains about uninitialized variable. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Assign a value to the variable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 8.0.1444<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing -D_FILE_OFFSET_BITS=64 may cause problems if a library is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;compiled with it.<br>
Solution:&nbsp;&nbsp; Include -D_FILE_OFFSET_BITS if some CFLAGS has it. (James McCoy,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2600)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1445<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot act on edits in the command line.<br>
Solution:&nbsp;&nbsp; Add the CmdlineChanged autocommand event. (xtal8, closes #2603,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2524)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, src/ex_getln.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/vim.h<br>
<br>
Patch 8.0.1446<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing freed memory after window command in auto command.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(gy741)<br>
Solution:&nbsp;&nbsp; Adjust the pointer in the parent frame. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2467)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.0.1447<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still too many old style tests.<br>
Solution:&nbsp;&nbsp; Turn a few tests into new style. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2509)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/main.aap, src/testdir/test15.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test15.ok, src/testdir/test36.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test36.ok, src/testdir/test50.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test50.ok, src/testdir/test_regex_char_classes.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_shortpathname.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textformat.vim<br>
<br>
Patch 8.0.1448<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Segmentation fault when Ruby throws an exception inside :rubyfile<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;command.<br>
Solution:&nbsp;&nbsp; Use rb_protect() instead of rb_load_protect(). (ujihisa,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2147, greywolf, closes #2512, #2511)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c, src/testdir/test_ruby.vim<br>
<br>
Patch 8.0.1449<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Slow redrawing with DirectX.<br>
Solution:&nbsp;&nbsp; Avoid calling gui_mch_flush() unnecessarily, especially when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;updating the cursor. (Ken Takata, closes #2560)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/channel.c, src/edit.c, src/getchar.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/gui_dwrite.cpp, src/gui_dwrite.h, src/gui_w32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h, src/main.c, src/message.c, src/netbeans.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui.pro, src/proto/term.pro, src/screen.c, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/ui.c<br>
<br>
Patch 8.0.1450<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Endless loop when gui_mch_stop_blink() is called while blink_state<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is BLINK_OFF. (zdohnal)<br>
Solution:&nbsp;&nbsp; Avoid calling gui_update_cursor() recursively.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/gui_gtk_x11.c, src/proto/gui_gtk_x11.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_mac.c, src/proto/gui_mac.pro, src/gui_photon.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_photon.pro, src/gui_w32.c, src/proto/gui_w32.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c, src/proto/gui_x11.pro<br>
<br>
Patch 8.0.1451<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is difficult to set the python home directory properly for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Python 2.7 and 3.5 since both use $PYTHONHOME.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<a class="Type" href="options.html#'pythonhome'">'pythonhome'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'pythonthreehome'">'pythonthreehome'</a>&nbsp;options. (Kazuki<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sakamoto, closes #1266)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/quickref.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim, src/if_python.c, src/if_python3.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/option.h<br>
<br>
Patch 8.0.1452<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test fails on some systems. (jonathonf)<br>
Solution:&nbsp;&nbsp; Use &quot;cat&quot; instead of Python to produce the input.&nbsp;&nbsp;Add a delay.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #2607)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1453<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test fails on some slow terminals.<br>
Solution:&nbsp;&nbsp; Increase timeout to 10 seconds.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1454<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When in silent mode too much output is buffered.<br>
Solution:&nbsp;&nbsp; Use line buffering instead of fully buffered. (Brian M. Carlson,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2537)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.0.1455<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If $SHELL contains a space then the default value of&nbsp;<a class="Type" href="options.html#'shell'">'shell'</a>&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;incorrect. (Matthew Horan)<br>
Solution:&nbsp;&nbsp; Escape spaces in $SHELL. (Christian Brabandt, closes #459)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim<br>
<br>
Patch 8.0.1456<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Timer test on travis Mac is still flaky.<br>
Solution:&nbsp;&nbsp; Increase time range a bit more.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 8.0.1457<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clojure now supports a shebang line.<br>
Solution:&nbsp;&nbsp; Detect clojure script from the shebang line. (David Burgin,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2570)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/scripts.vim<br>
<br>
Patch 8.0.1458<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Filetype detection test does not check all scripts.<br>
Solution:&nbsp;&nbsp; Add most scripts to the test<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_filetype.vim<br>
<br>
Patch 8.0.1459<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot handle change of directory.<br>
Solution:&nbsp;&nbsp; Add the DirChanged autocommand event. (Andy Massimino,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #888)&nbsp;&nbsp;Avoid changing directory for&nbsp;<a class="Type" href="options.html#'autochdir'">'autochdir'</a>&nbsp;too often.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, src/buffer.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/main.c, src/vim.h, src/proto/misc2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_mac.c, src/netbeans.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.1460 (after 8.0.1459)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing file in patch.<br>
Solution:&nbsp;&nbsp; Add changes to missing file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 8.0.1461 (after 8.0.1459)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing another file in patch.<br>
Solution:&nbsp;&nbsp; Add changes to missing file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.0.1462 (after 8.0.1459)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing yet another file in patch.<br>
Solution:&nbsp;&nbsp; Add changes to missing file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.0.1463<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test fails without&nbsp;<a class="Type" href="options.html#'autochdir'">'autochdir'</a>&nbsp;option.<br>
Solution:&nbsp;&nbsp; Skip test if&nbsp;<a class="Type" href="options.html#'autochdir'">'autochdir'</a>&nbsp;is not supported.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.1464<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completing directory after :find does not add slash.<br>
Solution:&nbsp;&nbsp; Adjust the flags for globpath(). (Genki Sky)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test_find_complete.vim<br>
<br>
Patch 8.0.1465<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python2 and python3 detection not tested. (Matej Cepl)<br>
Solution:&nbsp;&nbsp; Add test for detecting python2 and python3.&nbsp;&nbsp;Also detect a script<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;using &quot;js&quot; as javascript.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/scripts.vim, src/testdir/test_filetype.vim<br>
<br>
Patch 8.0.1466<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Older GTK versions don't have gtk_entry_get_text_length().<br>
Solution:&nbsp;&nbsp; Add a function with #ifdefs to take care of GTK version<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;differences. (Kazunobu Kuriyama, closes #2605)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk.c<br>
<br>
Patch 8.0.1467<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Libvterm doesn't handle illegal byte sequence correctly.<br>
Solution:&nbsp;&nbsp; After the invalid code check if there is space to store another<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;character.&nbsp;&nbsp;Allocate one more character. (zhykzhykzhyk, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#2614, closes #2613)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/encoding.c, src/libvterm/src/state.c<br>
<br>
Patch 8.0.1468<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access in del_bytes().<br>
Solution:&nbsp;&nbsp; Check for negative byte count. (Christian Brabandt, closes #2466)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/misc1.c<br>
<br>
Patch 8.0.1469<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When package path is a symlink adding it to&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>&nbsp;happens<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;at the end.<br>
Solution:&nbsp;&nbsp; Do not resolve symlinks before locating the position in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>. (Ozaki Kiichi, closes #2604)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_packadd.vim<br>
<br>
Patch 8.0.1470<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Integer overflow when using regexp pattern. (geeknik)<br>
Solution:&nbsp;&nbsp; Use a long instead of int. (Christian Brabandt, closes #2251)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 8.0.1471 (after 8.0.1401)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On MS-Windows CursorIM highlighting no longer works.<br>
Solution:&nbsp;&nbsp; Adjust #if statements. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.0.1472<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: nsis installer is a bit slow.<br>
Solution:&nbsp;&nbsp; Use ReserveFile for vimrc.ini. (Ken Takata, closes #2522)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/gvim.nsi<br>
<br>
Patch 8.0.1473<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: D&amp;D fails between 32 and 64 bit apps.<br>
Solution:&nbsp;&nbsp; Add the /HIGHENTROPYVA:NO linker option. (Ken Takata, closes #2504)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.0.1474<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Visual C 2017 has multiple MSVCVER numbers.<br>
Solution:&nbsp;&nbsp; Assume the 2017 version if MSVCVER &gt;= 1910. (Leonardo Valeri<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Manera, closes #2619)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.0.1475<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access in read_redo(). (gy741)<br>
Solution:&nbsp;&nbsp; Convert the replacement character back from a negative number to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CR or NL. (hint by Dominique Pelle, closes #2616)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_undo.vim, src/normal.c, src/vim.h, src/ops.c<br>
<br>
Patch 8.0.1476<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Screen isn't always updated right away.<br>
Solution:&nbsp;&nbsp; Adjust #ifdef: Call out_flush() when not running the GUI.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.0.1477<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Redraw flicker when moving the mouse outside of terminal window.<br>
Solution:&nbsp;&nbsp; Instead of updating the cursor color and shape every time leaving<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and entering a terminal window, only update when different from<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the previously used cursor.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1478<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnecessary condition for &quot;len&quot; being zero.<br>
Solution:&nbsp;&nbsp; Remove the condition. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 8.0.1479<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insert mode completion state is confusing.<br>
Solution:&nbsp;&nbsp; Move ctrl_x_mode into edit.c.&nbsp;&nbsp;Add CTRL_X_NORMAL for zero.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/globals.h, src/proto/edit.pro, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.0.1480 (after 8.0.1479)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Patch missing change.<br>
Solution:&nbsp;&nbsp; Add missing change.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.0.1481<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clearing a pointer takes two lines.<br>
Solution:&nbsp;&nbsp; Add vim_clear() to free and clear the pointer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/proto/misc2.pro, src/edit.c<br>
<br>
Patch 8.0.1482<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using feedkeys() does not work to test Insert mode completion.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Lifepillar)<br>
Solution:&nbsp;&nbsp; Do not check for typed keys when executing :normal or feedkeys().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fix thesaurus completion not working when&nbsp;<a class="Type" href="options.html#'complete'">'complete'</a>&nbsp;is empty.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_ins_complete.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim, src/testdir/test_edit.vim<br>
<br>
Patch 8.0.1483<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;searchpair() might return an invalid value on timeout.<br>
Solution:&nbsp;&nbsp; When the second search times out, do not accept a match from the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;first search. (Daniel Hahler, closes #2552)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 8.0.1484<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Redundant conditions.<br>
Solution:&nbsp;&nbsp; Remove them. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1485<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Weird autocmd may cause arglist to be changed recursively.<br>
Solution:&nbsp;&nbsp; Prevent recursively changing the argument list. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #2472)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/globals.h<br>
<br>
Patch 8.0.1486<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing invalid memory with &quot;it&quot;. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Avoid going over the end of the line. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2532)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_textobjects.vim<br>
<br>
Patch 8.0.1487 (after 8.0.1486)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 14 fails.<br>
Solution:&nbsp;&nbsp; Fix of-by-one error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 8.0.1488 (after 8.0.1218)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Emacs tags no longer work. (zdohnal)<br>
Solution:&nbsp;&nbsp; Do not skip over end of line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/testdir/test_tagjump.vim<br>
<br>
Patch 8.0.1489<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no easy way to get the global directory, esp. if some<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;windows have a local directory.<br>
Solution:&nbsp;&nbsp; Make getcwd(-1) return the global directory. (Andy Massimino,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2606)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_getcwd.vim<br>
<br>
Patch 8.0.1490<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Number of spell regions is spread out through the code.<br>
Solution:&nbsp;&nbsp; Define MAXREGIONS.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.h, src/spellfile.c<br>
<br>
Patch 8.0.1491<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The minimum width of the popup menu is hard coded.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<a class="Type" href="options.html#'pumwidth'">'pumwidth'</a>&nbsp;option. (Christian Brabandt, James McCoy,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2314)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/option.c, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.0.1492<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak in balloon_split().<br>
Solution:&nbsp;&nbsp; Free the balloon lines. Free the balloon when exiting.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/evalfunc.c<br>
<br>
Patch 8.0.1493<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completion items cannot be annotated.<br>
Solution:&nbsp;&nbsp; Add a &quot;user_data&quot; entry to the completion item. (Ben Jackson,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2608, closes #2508)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/insert.txt, src/edit.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ins_complete.vim<br>
<br>
Patch 8.0.1494<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No autocmd triggered in Insert mode with visible popup menu.<br>
Solution:&nbsp;&nbsp; Add TextChangedP. (Prabir Shrestha, Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2372, closes #1691)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fix that the TextChanged autocommands are not always triggered<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when sourcing a script.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, src/edit.c, src/globals.h, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/proto/fileio.pro, src/vim.h, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.1495<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Having&nbsp;<a class="Type" href="options.html#'pumwidth'">'pumwidth'</a>&nbsp;default to zero has no merit.<br>
Solution:&nbsp;&nbsp; Make the default 15, as the actual default value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c, src/option.c<br>
<br>
Patch 8.0.1496<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clearing a pointer takes two lines.<br>
Solution:&nbsp;&nbsp; Add VIM_CLEAR() and replace vim_clear(). (Hirohito Higashi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2629)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/channel.c, src/crypt.c, src/edit.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/fileio.c, src/gui_gtk_x11.c, src/gui_photon.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/gui_x11.c, src/hardcopy.c, src/if_cscope.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h, src/main.c, src/mark.c, src/mbyte.c, src/memfile.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/menu.c, src/message.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/netbeans.c, src/normal.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/os_amiga.c, src/os_mac_conv.c, src/os_mswin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_win32.c, src/popupmnu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc2.pro, src/quickfix.c, src/regexp.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/screen.c, src/search.c, src/spell.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spellfile.c, src/syntax.c, src/tag.c, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/ui.c, src/undo.c, src/userfunc.c, src/window.c<br>
<br>
Patch 8.0.1497<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Getting the jump list requires parsing the output of :jumps.<br>
Solution:&nbsp;&nbsp; Add getjumplist(). (Yegappan Lakshmanan, closes #2609)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/list.c, src/proto/list.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_jumplist.vim<br>
<br>
Patch 8.0.1498 (after 8.0.1497)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getjumplist() returns duplicate entries. (lacygoill)<br>
Solution:&nbsp;&nbsp; Call cleanup_jumplist(). (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/mark.c, src/proto/mark.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_jumplist.vim<br>
<br>
Patch 8.0.1499<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Out-of-memory situation not correctly handled. (Coverity)<br>
Solution:&nbsp;&nbsp; Check for NULL value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1500<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Possible NULL pointer dereference. (Coverity)<br>
Solution:&nbsp;&nbsp; Check for the pointer not being NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.1501<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Out-of-memory situation not correctly handled. (Coverity)<br>
Solution:&nbsp;&nbsp; Check for NULL value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 8.0.1502<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In out-of-memory situation character is not restored. (Coverity)<br>
Solution:&nbsp;&nbsp; Restore the character in all situations.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.0.1503<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Access memory beyond end of string. (Coverity)<br>
Solution:&nbsp;&nbsp; Keep allocated memory in separate pointer.&nbsp;&nbsp;Avoid outputting the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;NUL character.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hardcopy.c<br>
<br>
Patch 8.0.1504<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: the screen may be cleared on startup.<br>
Solution:&nbsp;&nbsp; Only call shell_resized() when the size actually changed. (Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata, closes #2527)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.0.1505<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Debugger can't break on a condition. (Charles Campbell)<br>
Solution:&nbsp;&nbsp; Add &quot;:breakadd expr&quot;. (Christian Brabandt, closes #859)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/repeat.txt, src/eval.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/ex_cmds2.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/proto/ex_cmds2.pro, src/structs.h<br>
<br>
Patch 8.0.1506<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New version of HP NonStop (Tandem) doesn't like the default header<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for setenv().<br>
Solution:&nbsp;&nbsp; Put a #ifdef around the setenv() entry. (Joachim Schmitz)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/osdef2.h.in<br>
<br>
Patch 8.0.1507<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Timer test is a bit flaky.<br>
Solution:&nbsp;&nbsp; Add it to the list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.1508<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The :drop command is not always available.<br>
Solution:&nbsp;&nbsp; Include :drop in all builds. (Yasuhiro Matsumoto, closes #2639)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/windows.txt, src/ex_cmds.c, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_normal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabpage.vim<br>
<br>
Patch 8.0.1509 (after 8.0.1508)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for failing drag-n-drop command no longer fails.<br>
Solution:&nbsp;&nbsp; Check for the &quot;dnd&quot; feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim<br>
<br>
Patch 8.0.1510<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot test if a command causes a beep.<br>
Solution:&nbsp;&nbsp; Add assert_beeps().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/misc1.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim, src/testdir/test_assert.vim<br>
<br>
Patch 8.0.1511 (after 8.0.1505)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some code for the debugger watch expression is clumsy.<br>
Solution:&nbsp;&nbsp; Clean up the code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/eval.c, src/proto/eval.pro<br>
<br>
Patch 8.0.1512<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for possibly using NULL pointer. (Coverity)<br>
Solution:&nbsp;&nbsp; Skip using the pointer if it's NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.0.1513<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The jumplist is not always properly cleaned up.<br>
Solution:&nbsp;&nbsp; Call fname2fnum() before cleanup_jumplist(). (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/mark.c, src/proto/mark.pro<br>
<br>
Patch 8.0.1514<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Getting the list of changes is not easy.<br>
Solution:&nbsp;&nbsp; Add the getchangelist() function. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2634)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_changelist.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.1515<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;BufWinEnter event fired when opening hidden terminal.<br>
Solution:&nbsp;&nbsp; Do not fire BufWinEnter when the terminal is hidden and does not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;open a window. (Kenta Sato, closes #2636)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1516<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Errors for job options are not very specific.<br>
Solution:&nbsp;&nbsp; Add more specific error messages.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/globals.h<br>
<br>
Patch 8.0.1517<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access with pattern using look-behind match.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Get a pointer to the right line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 8.0.1518<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error messages suppressed after &quot;:silent! try&quot;. (Ben Reilly)<br>
Solution:&nbsp;&nbsp; Restore emsg_silent before executing :try. (closes #2531)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_eval_stuff.vim<br>
<br>
Patch 8.0.1519<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getchangelist() does not use argument as bufname().<br>
Solution:&nbsp;&nbsp; Use get_buf_tv(). (Yegappan Lakshmanan, closes #2641)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_changelist.vim<br>
<br>
Patch 8.0.1520<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor is in the wrong line when using a WinBar in a Terminal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.<br>
Solution:&nbsp;&nbsp; Adjust the row number. (Christian Brabandt, closes #2362)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/terminal.c<br>
<br>
Patch 8.0.1521<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Shift-Tab does not work in a terminal window.<br>
Solution:&nbsp;&nbsp; Recognize Shift-Tab key press. (Jsees Luehrs, closes #2644)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1522 (after 8.0.1491)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup menu is positioned in the wrong place. (Davit Samvelyan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Boris Staletic)<br>
Solution:&nbsp;&nbsp; Correct computation of the column and the conditions for that.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Hirohito Higashi, closes #2640)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.0.1523<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot write and read terminal screendumps.<br>
Solution:&nbsp;&nbsp; Add term_dumpwrite(), term_dumpread() and term_dumpdiff().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also add assert_equalfile().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/proto/terminal.pro, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/eval.c, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/testdir/test_assert.vim<br>
<br>
Patch 8.0.1524 (after 8.0.1523)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for uninitialized variables. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Initialize variables.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1525<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using :wqa exits even if a job runs in a terminal window. (Jason<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Felice)<br>
Solution:&nbsp;&nbsp; Check if a terminal has a running job. (closes #2654)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/buffer.c, src/proto/buffer.pro, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1526<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test using a screen dump yet.<br>
Solution:&nbsp;&nbsp; Add a test for C syntax highlighting.&nbsp;&nbsp;Add helper functions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_syntax.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/screendump.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_syntax_c_01.dump, runtime/doc/terminal.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/README.txt<br>
<br>
Patch 8.0.1527 (after 8.0.1526)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Screen dump test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Skip dump test on MS-Windows for now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim<br>
<br>
Patch 8.0.1528<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dead code found.<br>
Solution:&nbsp;&nbsp; Remove the useless lines. (CodeAi, closes #2656)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/spell.c, src/syntax.c, src/window.c<br>
<br>
Patch 8.0.1529<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Assert_equalfile() does not close file descriptors. (Coverity)<br>
Solution:&nbsp;&nbsp; Close the file descriptors.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.0.1530<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dump test fails when using a shadow directory.<br>
Solution:&nbsp;&nbsp; Add the directory to the list of symlinks to make (Elimar<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Riesebieter)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.1531<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use 24 bit colors in MS-Windows console.<br>
Solution:&nbsp;&nbsp; Add support for vcon. (Nobuhiro Takasaki, Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fixes #1270, fixes #2060)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/misc1.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/os_win32.c, src/proto/os_win32.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/proto/term.pro, src/screen.c, src/syntax.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/testdir/gen_opt_test.vim, src/version.c<br>
<br>
Patch 8.0.1532<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings without termguicolors feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (John Marriott)&nbsp;&nbsp;Cleanup the code a bit.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1533<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Libterm doesn't support requesting fg and bg color.<br>
Solution:&nbsp;&nbsp; Implement t_RF and t_RB.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/vterm_internal.h, src/libvterm/src/state.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/vterm.c<br>
<br>
Patch 8.0.1534<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;C syntax test fails when using gvim<br>
Solution:&nbsp;&nbsp; Force running in a terminal.&nbsp;&nbsp;Check that&nbsp;<a class="Type" href="options.html#'background'">'background'</a>&nbsp;is correct<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;even when $COLORFGBG is set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim, src/testdir/screendump.vim<br>
<br>
Patch 8.0.1535 (after 8.0.1534)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;C syntax test still fails when using gvim.<br>
Solution:&nbsp;&nbsp; Clear Normal cterm highlighting instead of setting it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim, src/testdir/screendump.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_syntax_c_01.dump<br>
<br>
Patch 8.0.1536<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quotestar test is flaky when using the GUI.<br>
Solution:&nbsp;&nbsp; Add check that the star register arrived at the server.&nbsp;&nbsp;Increase<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;timeouts.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quotestar.vim<br>
<br>
Patch 8.0.1537<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Xxd does not skip NUL lines when using ebcdic.<br>
Solution:&nbsp;&nbsp; Check for a NUL before converting a character for ebcdic. (Tim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sell, closes #2668)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xxd/xxd.c<br>
<br>
Patch 8.0.1538<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popupmenu is too far left when completion is long. (Linwei)<br>
Solution:&nbsp;&nbsp; Adjust column computations. (Hirohito Higashi, closes #2661)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.0.1539<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for the popup menu positioning.<br>
Solution:&nbsp;&nbsp; Add a screendump test for the popup menu.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_syntax.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_position_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_position_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_position_03.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.0.1540<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup menu positioning fails with longer string.<br>
Solution:&nbsp;&nbsp; Only align with right side of window when width is less than<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'pumwidth'">'pumwidth'</a>&nbsp;(closes #2661)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c, src/testdir/screendump.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_position_04.dump<br>
<br>
Patch 8.0.1541<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;synpat_T is taking too much memory.<br>
Solution:&nbsp;&nbsp; Reorder members to reduce padding. (Dominique Pelle, closes #2671)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.1542<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal screen dump does not include cursor position.<br>
Solution:&nbsp;&nbsp; Mark the cursor position in the dump.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_position_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_position_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_position_03.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_position_04.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_syntax_c_01.dump<br>
<br>
Patch 8.0.1543<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With&nbsp;<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>&nbsp;Normal color doesn't work correctly.<br>
Solution:&nbsp;&nbsp; Set cterm_normal_bg_gui_color and cterm_normal_fg_color always.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Kazunobu Kuriyama, closes #981, closes #2332)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.1544<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using&nbsp;<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>&nbsp;SpellBad doesn't show.<br>
Solution:&nbsp;&nbsp; When the GUI colors are not set fall back to the cterm colors.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/screen.c, src/gui.h, src/structs.h<br>
<br>
Patch 8.0.1545<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Screen dumps not included in distribution.<br>
Solution:&nbsp;&nbsp; Add dumps to the list of distributed files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.0.1546<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using feedkeys() in a terminal window may trigger mappings.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Charles Sheridan)<br>
Solution:&nbsp;&nbsp; Avoid triggering a mapping when peeking for a key.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/terminal.c<br>
<br>
Patch 8.0.1547<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Undo in the options window makes it empty.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'undolevels'">'undolevels'</a>&nbsp;while filling the buffer. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2645)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim<br>
<br>
Patch 8.0.1548<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Screen dump test script not included in distribution.<br>
Solution:&nbsp;&nbsp; Add the script to the list of distributed files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.0.1549<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various small problems in test files.<br>
Solution:&nbsp;&nbsp; Include small changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.py, src/testdir/shared.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim, src/testdir/test_gui_init.vim<br>
<br>
Patch 8.0.1550<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various small problems in source files.<br>
Solution:&nbsp;&nbsp; Fix the problems.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/README.txt, src/beval.c, src/json_test.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/include/vterm_keycodes.h, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk.c, src/if_xcmdsrv.c, src/pty.c, src/if_python.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, uninstal.txt, src/dosinst.c, src/iscygpty.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vimrun.c, src/os_vms.c<br>
<br>
Patch 8.0.1551<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On Mac&nbsp;<a class="Type" href="options.html#'maxmemtot'">'maxmemtot'</a>&nbsp;is set to a weird value.<br>
Solution:&nbsp;&nbsp; For Mac use total memory and subtract system memory. For other<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;systems accept both a 32 bit and 64 bit result. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2646)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.1552<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May leak file descriptors when executing job.<br>
Solution:&nbsp;&nbsp; Close more file descriptors. (Ozaki Kiichi, closes #2651)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/testdir/test_channel.vim<br>
<br>
Patch 8.0.1553<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot see what digraph is used to insert a character.<br>
Solution:&nbsp;&nbsp; Show the digraph with the &quot;ga&quot; command. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/various.txt, src/digraph.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/digraph.pro, src/testdir/shared.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_matchadd_conceal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_digraph.vim, src/testdir/test_ga.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arabic.vim<br>
<br>
Patch 8.0.1554<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Custom plugins loaded with --clean.<br>
Solution:&nbsp;&nbsp; Do not include the home directory in&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/main.c, src/proto/option.pro, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.h, src/os_amiga.h, src/os_dos.h, src/os_mac.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/starting.txt<br>
<br>
Patch 8.0.1555<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build error for some combination of features.<br>
Solution:&nbsp;&nbsp; Declare variable in more situations.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.0.1556<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May not parse the t_RS response correctly, resulting in wrong<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;characters in the input stream.<br>
Solution:&nbsp;&nbsp; When the t_RS response is partly received wait for more<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;characters.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1557<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;printf() does not work with only one argument. (Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Allow using just the format. (Ken Takata, closes #2687)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_expr.vim<br>
<br>
Patch 8.0.1558<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No right-click menu in a terminal.<br>
Solution:&nbsp;&nbsp; Implement the right click menu for the terminal.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c, src/proto/popupmnu.pro, src/normal.c, src/menu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/menu.pro, src/feature.h<br>
<br>
Patch 8.0.1559<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure without GUI.<br>
Solution:&nbsp;&nbsp; Adjust #ifdef for get_fpos_of_mouse().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.0.1560<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure without GUI on MS-Windows.<br>
Solution:&nbsp;&nbsp; Adjust #ifdef for vcol2col().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.0.1561<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash with rust syntax highlighting. (Edd Barrett)<br>
Solution:&nbsp;&nbsp; Avoid going past the end of an empty line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.1562<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The terminal debugger can't set a breakpoint with the mouse.<br>
Solution:&nbsp;&nbsp; Add popup menu entries.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt<br>
<br>
Patch 8.0.1563<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Timeout of getwinposx() can be too short. (lilydjwg)<br>
Solution:&nbsp;&nbsp; Add getwinpos(). (closes #2689)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/term.c, src/proto/term.pro, runtime/doc/eval.txt<br>
<br>
Patch 8.0.1564<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many #ifdefs.<br>
Solution:&nbsp;&nbsp; Graduate the +autocmd feature. Takes away 450 #ifdefs and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increases code size of tiny Vim by only 40 Kbyte.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/diff.c, src/edit.c, src/eval.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/getchar.c, src/globals.h, src/gui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c, src/if_xcmdsrv.c, src/main.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/menu.c, src/misc1.c, src/gui_mac.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/move.c, src/netbeans.c, src/normal.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/option.h, src/feature.h, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_amiga.c, src/os_mswin.c, src/os_unix.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/screen.c, src/search.c, src/spell.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/syntax.c, src/tag.c, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/ui.c, src/undo.c, src/userfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/window.c<br>
<br>
Patch 8.0.1565<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build Mac version without GUI.<br>
Solution:&nbsp;&nbsp; Adjust when IME_WITHOUT_XIM is defined.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.0.1566<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many #ifdefs.<br>
Solution:&nbsp;&nbsp; Graduate FEAT_SCROLLBIND and FEAT_CURSORBIND.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/diff.c, src/edit.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/gui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/move.c, src/normal.c, src/option.c, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/window.c, src/globals.h, src/macros.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/structs.h<br>
<br>
Patch 8.0.1567<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build Win32 GUI without IME. (John Marriott)<br>
Solution:&nbsp;&nbsp; Adjust when IME_WITHOUT_XIM and HAVE_INPUT_METHOD are defined and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use it in a few more places.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/gui.c<br>
<br>
Patch 8.0.1568<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build on older Mac, header file is missing.<br>
Solution:&nbsp;&nbsp; Remove the header file. (Ozaki Kiichi, closes #2691)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.1569<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for uninitialized variable from gcc.<br>
Solution:&nbsp;&nbsp; Initialize the variable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.1570<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't use :popup for a menu in the terminal. (Wei Zhang)<br>
Solution:&nbsp;&nbsp; Make :popup work in the terminal.&nbsp;&nbsp;Also fix that entries were<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;included that don't work in the current state.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/popupmnu.c, src/proto/popupmnu.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/menu.c, src/proto/menu.pro<br>
<br>
Patch 8.0.1571 (after 8.0.1571)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build without GUI.<br>
Solution:&nbsp;&nbsp; Adjust #ifdef for gui_find_menu().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/menu.c<br>
<br>
Patch 8.0.1572<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mac: getting memory size doesn't work everywhere.<br>
Solution:&nbsp;&nbsp; Use MACOS_X instead of MACOS_X_DARWIN. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.1573<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getwinpos(1) may cause response to be handled as command.<br>
Solution:&nbsp;&nbsp; Handle any cursor position report once one was requested. (partly<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;by Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1574<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Show cursor in wrong place when using popup menu. (Wei Zhang)<br>
Solution:&nbsp;&nbsp; Force updating the cursor position.&nbsp;&nbsp;Fix skipping over unused<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;entries.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/proto/screen.pro, src/popupmnu.c<br>
<br>
Patch 8.0.1575<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using virtual replace.<br>
Solution:&nbsp;&nbsp; Adjust orig_line_count.&nbsp;&nbsp;Add more tests. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_visual.vim<br>
<br>
Patch 8.0.1576<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Perl VIM::Buffers() does not find every buffer.<br>
Solution:&nbsp;&nbsp; Also find unlisted buffer by number or name. (Chris Weyl,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2692)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 8.0.1577<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Virtual replace test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Make adding a termcap entry work for a builtin terminal.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Restore terminal keys in a better way.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/testdir/test_visual.vim<br>
<br>
Patch 8.0.1578<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for :popup in terminal.<br>
Solution:&nbsp;&nbsp; Add a screen dump test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_command_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_command_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_command_03.dump<br>
<br>
Patch 8.0.1579<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Virtual replace test fails in GUI.<br>
Solution:&nbsp;&nbsp; Don't save key options if they were not set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_visual.vim<br>
<br>
Patch 8.0.1580<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;FEAT_CURSORBIND and FEAT_SCROLLBIND are unused.<br>
Solution:&nbsp;&nbsp; Delete them.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h<br>
<br>
Patch 8.0.1581<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build Win32 GUI without +eval.<br>
Solution:&nbsp;&nbsp; Define HAVE_INPUT_METHOD without +eval. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.0.1582<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In the MS-Windows console mouse movement is not used.<br>
Solution:&nbsp;&nbsp; Pass mouse movement events when useful.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/proto/os_win32.pro, src/feature.h<br>
<br>
Patch 8.0.1583<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using C99 comment.<br>
Solution:&nbsp;&nbsp; Use old style comment. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.1584<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using C99 in Mac file gives compiler warning messages.<br>
Solution:&nbsp;&nbsp; Add #pragmas to avoid the warnings. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_macosx.m<br>
<br>
Patch 8.0.1585<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Enabling beval_term feature in Win32 GUI.<br>
Solution:&nbsp;&nbsp; Only enable beval_term in Win32 console.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h<br>
<br>
Patch 8.0.1586<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Imactivatefunc does not work on non-GUI Mac.<br>
Solution:&nbsp;&nbsp; Fix logic in #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.0.1587<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;inserting from the clipboard doesn't work literally<br>
Solution:&nbsp;&nbsp; When pasting from the * or + register always assume literally.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/proto/ops.pro, src/testdir/test_paste.vim<br>
<br>
Patch 8.0.1588<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup menu hangs after typing&nbsp;<span class="Special">CTRL-C</span>.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<span class="Special">CTRL-C</span>&nbsp;exit the loop. (Ozaki Kiichi, closes #2697)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.0.1589<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error for setting&nbsp;<a class="Type" href="options.html#'modifiable'">'modifiable'</a>&nbsp;when resetting it.<br>
Solution:&nbsp;&nbsp; Check if&nbsp;<a class="Type" href="options.html#'modifiable'">'modifiable'</a>&nbsp;was actually set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.1590<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Padding in list type wastes memory.<br>
Solution:&nbsp;&nbsp; Reorder struct members to optimize padding. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2704)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 8.0.1591<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: when reparsing the arguments&nbsp;<a class="Type" href="options.html#'wildignore'">'wildignore'</a>&nbsp;matters.<br>
Solution:&nbsp;&nbsp; Save and reset&nbsp;<a class="Type" href="options.html#'wildignore'">'wildignore'</a>. (Yasuhiro Matsumoto, closes #2702)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.0.1592<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal windows in a session are not properly restored.<br>
Solution:&nbsp;&nbsp; Add &quot;terminal&quot; in&nbsp;<a class="Type" href="options.html#'sessionoptions'">'sessionoptions'</a>.&nbsp;&nbsp;When possible restore the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;command running in a terminal.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/option.h, src/ex_docmd.c, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/terminal.pro, src/evalfunc.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_mksession.vim<br>
<br>
Patch 8.0.1593<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:qall never exits with an active terminal window.<br>
Solution:&nbsp;&nbsp; Add a way to kill a job in a terminal window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/terminal.c, src/proto/terminal.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/channel.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, runtime/doc/terminal.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.0.1594<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:confirm qall not tested with active terminal window.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1595<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No autocommand triggered before exiting.<br>
Solution:&nbsp;&nbsp; Add the ExitPre autocommand event.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/fileio.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_exit.vim, src/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt<br>
<br>
Patch 8.0.1596<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No autocommand specifically for opening a terminal window.<br>
Solution:&nbsp;&nbsp; Add TerminalOpen. (Yasuhiro Matsumoto, closes #2484)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, src/fileio.c, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/vim.h<br>
<br>
Patch 8.0.1597<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Autocommand events are not sorted.<br>
Solution:&nbsp;&nbsp; Sort the autocommand events.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.0.1598<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot select text in a terminal with the mouse.<br>
Solution:&nbsp;&nbsp; When a job in a terminal is not consuming mouse events, use them<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for modeless selection.&nbsp;&nbsp;Also stop Insert mode when clicking in a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;terminal window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/include/vterm.h, src/libvterm/src/state.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/vterm_internal.h, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/terminal.pro, src/ui.c<br>
<br>
Patch 8.0.1599<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No error message when gdb does not support the terminal debugger.<br>
Solution:&nbsp;&nbsp; Check for the response to open the Machine Interface.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.0.1600<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when setting t_Co to zero when&nbsp;<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>&nbsp;is set.<br>
Solution:&nbsp;&nbsp; Use IS_CTERM instead of checking the number of colors.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #2710)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_highlight.vim<br>
<br>
Patch 8.0.1601<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Highlight test fails on Win32.<br>
Solution:&nbsp;&nbsp; Check for vtp and vcon support.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_highlight.vim<br>
<br>
Patch 8.0.1602<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash in parsing JSON.<br>
Solution:&nbsp;&nbsp; Fail when using array or dict as dict key. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/testdir/test_json.vim<br>
<br>
Patch 8.0.1603<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with +terminal but without +menu.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1604<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Paste test may fail if $DISPLAY is not set.<br>
Solution:&nbsp;&nbsp; Add WorkingClipboard() and use it in the paste test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_paste.vim<br>
<br>
Patch 8.0.1605<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test is a bit flaky.<br>
Solution:&nbsp;&nbsp; Check for the shell prompt.&nbsp;&nbsp;Use more lambda functions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1606<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Singular/plural variants not translated.<br>
Solution:&nbsp;&nbsp; Add NGETTEXT argument to xgettext. (Sergey Alyoshin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Make_cyg.mak, src/po/Make_ming.mak, src/po/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Makefile<br>
<br>
Patch 8.0.1607<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;--clean loads user settings from .gvimrc.<br>
Solution:&nbsp;&nbsp; Behave like &quot;-U NONE&quot; was used. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, runtime/doc/starting.txt<br>
<br>
Patch 8.0.1608<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: directx not enabled by default.<br>
Solution:&nbsp;&nbsp; Change Makefile to enable directx by default. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/various.txt, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.0.1609<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Shell commands in the GUI use a dumb terminal.<br>
Solution:&nbsp;&nbsp; Add the &quot;!&quot; flag to&nbsp;<a class="Type" href="options.html#'guioptions'">'guioptions'</a>&nbsp;to execute system commands in a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;special terminal window.&nbsp;&nbsp;Only for Unix now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/option.h, src/evalfunc.c, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/terminal.pro, src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, runtime/doc/options.txt<br>
<br>
Patch 8.0.1610 (after 8.0.1609)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without GUI.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1611<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-W</span>&nbsp;in system terminal does not go to job.<br>
Solution:&nbsp;&nbsp; Do not use&nbsp;<span class="Special">CTRL-W</span>&nbsp;as a terminal command in a system terminal.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1612<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Need to close terminal after shell stopped.<br>
Solution:&nbsp;&nbsp; Make :terminal without argument close the window by default.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt<br>
<br>
Patch 8.0.1613<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for unused variable in tiny build. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Move declaration to inner block.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.1614<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make tags&quot; doesn't include libvterm.<br>
Solution:&nbsp;&nbsp; Add the libvterm sources to the tags command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.1615<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;term_dumpload() does not use the right colors.<br>
Solution:&nbsp;&nbsp; Initialize colors when not using create_vterm().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1616<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: shell commands in the GUI open a new console.<br>
Solution:&nbsp;&nbsp; Use a terminal window for interactive use when&nbsp;<a class="Type" href="options.html#'guioptions'">'guioptions'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contains &quot;!&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.0.1617 (after 8.0.1616)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: :shell command in the GUI crashes.<br>
Solution:&nbsp;&nbsp; Handle the situation that &quot;cmd&quot; is NULL. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2721)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.0.1618<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Color Grey50, used for ToolbarLine, is missing in the compiled-in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table.<br>
Solution:&nbsp;&nbsp; Add the color to the list. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1619<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32 GUI: crash when winpty is not installed and trying to use<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:shell in a terminal window.<br>
Solution:&nbsp;&nbsp; Check for NULL return form term_start(). (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2727)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.0.1620<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Reading spell file has no good EOF detection.<br>
Solution:&nbsp;&nbsp; Check for EOF at every character read for a length field.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 8.0.1621<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using invalid default value for highlight attribute.<br>
Solution:&nbsp;&nbsp; Use zero instead of -1.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.0.1622<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Possible NULL pointer dereference. (Coverity)<br>
Solution:&nbsp;&nbsp; Reverse the check for a NULL pointer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.1623<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal kill tests are flaky.<br>
Solution:&nbsp;&nbsp; Instead of running Vim in a terminal, run it as a normal command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1624<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Options for term_dumpdiff() and term_dumpload() not implemented<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yet.<br>
Solution:&nbsp;&nbsp; Implement the relevant options.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, runtime/doc/eval.txt<br>
<br>
Patch 8.0.1625<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_quotestar is flaky when run in GTK GUI.<br>
Solution:&nbsp;&nbsp; Do not call lose_selection when invoked from<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;selection_clear_event().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 8.0.1626<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for possible loss of data.<br>
Solution:&nbsp;&nbsp; Use size_t instead of int. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1627<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for visibility attribute not supported on MinGW<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;builds.<br>
Solution:&nbsp;&nbsp; Don't add the attribute when we don't expect it to work.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/vterm_internal.h<br>
<br>
Patch 8.0.1628<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel log doesn't mention exiting.<br>
Solution:&nbsp;&nbsp; Add a ch_log() call in getout().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.0.1629<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mac: getpagesize() is deprecated.<br>
Solution:&nbsp;&nbsp; Use sysconf() instead. (Ozaki Kiichi, closes #2741)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.0.1630<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Trimming white space is not that easy.<br>
Solution:&nbsp;&nbsp; Add the trim() function. (Bukn, Yasuhiro Matsumoto, closes #1280)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.0.1631<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Testing with Vim running in terminal is a bit flaky.<br>
Solution:&nbsp;&nbsp; Delete any .swp file so that later tests don't fail.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim<br>
<br>
Patch 8.0.1632<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In a terminal dump NUL and space considered are different,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;although they are displayed the same.<br>
Solution:&nbsp;&nbsp; When encountering NUL handle it like space.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1633<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A TextChanged autocmd triggers when it is defined after creating a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.<br>
Solution:&nbsp;&nbsp; Set b_last_changedtick when opening a buffer. (Hirohito Higashi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2742)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.1634<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The ex_vimgrep() function is too long.<br>
Solution:&nbsp;&nbsp; Split it in smaller functions. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.1635<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Undefining _POSIX_THREADS causes problems with Python 3. (Micah<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bucy, closes #2748)<br>
Solution:&nbsp;&nbsp; Remove the lines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python3.c<br>
<br>
Patch 8.0.1636<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for term_dumpload() and term_dumpdiff().<br>
Solution:&nbsp;&nbsp; Add tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1637<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for term_dumpdiff() options argument.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1638<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup test fails depending on environment variable.<br>
Solution:&nbsp;&nbsp; Reset $COLORFGBG when running Vim in a terminal. (closes #2693)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim<br>
<br>
Patch 8.0.1639<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Libvterm code lags behind master.<br>
Solution:&nbsp;&nbsp; Sync to head, solve merge problems.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/README, src/libvterm/bin/unterm.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/bin/vterm-ctrl.c, src/libvterm/bin/vterm-dump.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/doc/URLs, src/libvterm/doc/seqs.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/include/vterm.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/include/vterm_keycodes.h, src/libvterm/src/mouse.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/parser.c, src/libvterm/src/pen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/screen.c, src/libvterm/src/state.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/vterm.c, src/libvterm/src/vterm_internal.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/10state_putglyph.test,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/25state_input.test, src/libvterm/t/harness.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/26state_query.test<br>
<br>
Patch 8.0.1640<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_cwd() is flaky.<br>
Solution:&nbsp;&nbsp; Add to list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.0.1641<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Job in terminal can't communicate with Vim.<br>
Solution:&nbsp;&nbsp; Add the terminal API.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/buffer.c, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim, runtime/doc/terminal.txt<br>
<br>
Patch 8.0.1642<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running Vim in terminal fails with two windows.<br>
Solution:&nbsp;&nbsp; Pass the number of rows to RunVimInTerminal().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1643<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal API tests fail.<br>
Solution:&nbsp;&nbsp; Explicitly set&nbsp;<a class="Type" href="options.html#'title'">'title'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1644<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal API tests still fail.<br>
Solution:&nbsp;&nbsp; Explicitly set&nbsp;<a class="Type" href="options.html#'title'">'title'</a>&nbsp;in the terminal job. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2750)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/testdir/screendump.vim<br>
<br>
Patch 8.0.1645<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for terminal response to escape sequence fails for some<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;people. (toothpik)<br>
Solution:&nbsp;&nbsp; Run &quot;cat&quot; and let it echo the characters.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1646<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: executable contains unreferenced functions and data.<br>
Solution:&nbsp;&nbsp; Add /opt:ref to the compiler command. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.0.1647<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal API may call a function not meant to be called by this<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;API.<br>
Solution:&nbsp;&nbsp; Require the function to start with Tapi_.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1648<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Resource fork tool doesn't work on Python 3.<br>
Solution:&nbsp;&nbsp; Use &quot;print()&quot; instead of &quot;print&quot;. (Marius Gedminas)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dehqx.py<br>
<br>
Patch 8.0.1649<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No completion for argument list commands.<br>
Solution:&nbsp;&nbsp; Add arglist completion. (Yegappan Lakshmanan, closes #2706)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/map.txt, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/ex_getln.c, src/proto/ex_cmds2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim, src/vim.h<br>
<br>
Patch 8.0.1650<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many #ifdefs.<br>
Solution:&nbsp;&nbsp; Graduate FEAT_LISTCMDS, no reason to leave out buffer commands.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/various.txt, src/buffer.c, src/charset.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/feature.h<br>
<br>
Patch 8.0.1651<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot filter :ls output for terminal buffers.<br>
Solution:&nbsp;&nbsp; Add flags for terminal buffers. (Marcin Szamotulski, closes #2751)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/windows.txt, src/buffer.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1652<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;term_dumpwrite() does not output composing characters.<br>
Solution:&nbsp;&nbsp; Use the cell index.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1653<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Screen dump is made too soon.<br>
Solution:&nbsp;&nbsp; Wait until the ruler is displayed. (Ozaki Kiichi, closes #2755)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_command_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_command_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim, src/testdir/test_autocmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1654<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings for conversion of void to function pointer.<br>
Solution:&nbsp;&nbsp; Use a temp variable that is a function pointer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python.c, src/if_python3.c<br>
<br>
Patch 8.0.1655<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Outdated gdb message in terminal debugger unclear.<br>
Solution:&nbsp;&nbsp; Specifically mention the required gdb version.&nbsp;&nbsp;Avoid getting<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stuck on pagination.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.0.1656<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No option to have xxd produce upper case variable names.<br>
Solution:&nbsp;&nbsp; Add the -C argument. (Matt Panaro, closes #2772)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xxd/xxd.c<br>
<br>
Patch 8.0.1657<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when reading a channel.<br>
Solution:&nbsp;&nbsp; Clear the write flag before writing. (idea by Shinya Ohyanagi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2769).<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.1658<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Capitalize argument not available in long form.<br>
Solution:&nbsp;&nbsp; Recognize -capitalize.&nbsp;&nbsp;Update man page.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xxd/xxd.c, runtime/doc/xxd.1, runtime/doc/xxd.man<br>
<br>
Patch 8.0.1659<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Scroll events not recognized for some xterm emulators.<br>
Solution:&nbsp;&nbsp; Recognize mouse codes 0x40 and 0x41 as scroll events.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1660<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The terminal API &quot;drop&quot; command doesn't support options.<br>
Solution:&nbsp;&nbsp; Implement the options.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/ex_docmd.c, src/proto/ex_docmd.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/eval.c, src/misc2.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, runtime/doc/terminal.txt<br>
<br>
Patch 8.0.1661<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings from 64 bit compiler.<br>
Solution:&nbsp;&nbsp; Add type casts. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1662<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Showing dump diff doesn't mention both file names.<br>
Solution:&nbsp;&nbsp; Add the file name in the separator line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1663 (after 8.0.1660)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without multi-byte feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.0.1664<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test failure because of not allocating enough space.<br>
Solution:&nbsp;&nbsp; Allocate more bytes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1665<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When running a terminal from the GUI&nbsp;<a class="Type" href="options.html#'term'">'term'</a>&nbsp;is not useful.<br>
Solution:&nbsp;&nbsp; Use $TERM in the GUI if it starts with &quot;xterm&quot;. (closes #2776)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, runtime/doc/terminal.txt<br>
<br>
Patch 8.0.1666<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;% argument in ch_log() causes trouble.<br>
Solution:&nbsp;&nbsp; Use string as third argument in internal ch_log(). (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle, closes #2784)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_channel.vim<br>
<br>
Patch 8.0.1667<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window tests are flaky.<br>
Solution:&nbsp;&nbsp; Increase the waiting time for Vim to start.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim<br>
<br>
Patch 8.0.1668<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal debugger: can't re-open source code window.<br>
Solution:&nbsp;&nbsp; Add the :Source command.&nbsp;&nbsp;Also create the window if needed when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gdb stops at a source line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt<br>
<br>
Patch 8.0.1669<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:vimgrep may add entries to the wrong quickfix list.<br>
Solution:&nbsp;&nbsp; Use the list identifier. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1670<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window tests are still a bit flaky.<br>
Solution:&nbsp;&nbsp; Increase the waiting time for the buffer to be created.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1671<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when passing non-dict argument as env to job_start().<br>
Solution:&nbsp;&nbsp; Check for valid argument. (Ozaki Kiichi, closes #2765)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 8.0.1672<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error during completion causes command to be cancelled.<br>
Solution:&nbsp;&nbsp; Reset did_emsg before waiting for another character. (Tom M.)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.1673<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window tests are still a bit flaky.<br>
Solution:&nbsp;&nbsp; Increase the waiting time even more. (Elimar Riesebieter)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1674<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Libvterm can't handle a long OSC string that is split.<br>
Solution:&nbsp;&nbsp; When an incomplete OSC string is received copy it to the parser<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer. Increase the size of the parser buffer to be able to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handle longer strings.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/parser.c, src/libvterm/src/vterm.c<br>
<br>
Patch 8.0.1675<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unused macro argument in libvterm. (Randall W. Morris)<br>
Solution:&nbsp;&nbsp; Remove the argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/parser.c<br>
<br>
Patch 8.0.1676<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No compiler warning for wrong printf format.<br>
Solution:&nbsp;&nbsp; Add a printf attribute for gcc. Fix reported problems. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle, closes #2789)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/vim.h, src/proto/channel.pro<br>
<br>
Patch 8.0.1677<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No compiler warning for wrong format in vim_snprintf().<br>
Solution:&nbsp;&nbsp; Add printf attribute for gcc.&nbsp;&nbsp;Fix reported problems.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/proto.h, src/eval.c, src/fileio.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/spellfile.c, src/undo.c, src/json.c<br>
<br>
Patch 8.0.1678<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Errorformat &quot;%r&quot; implies &quot;%&gt;&quot;. (Jan Gosmann)<br>
Solution:&nbsp;&nbsp; Jump to before setting fmt_ptr. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2785)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1679<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for printf format. (Chdiza)<br>
Solution:&nbsp;&nbsp; Change type to &quot;long long&quot;. (closes #2791)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 8.0.1680<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory allocated by libvterm does not show up in profile.<br>
Solution:&nbsp;&nbsp; Pass allocator functions to vterm_new().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1681<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The format attribute fails with MinGW. (John Marriott)<br>
Solution:&nbsp;&nbsp; Don't use the format attribute with MinGW.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/proto.h, src/channel.c<br>
<br>
Patch 8.0.1682<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Auto indenting breaks inserting a block.<br>
Solution:&nbsp;&nbsp; Do not check for cursor movement if indent was changed. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #2778)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_blockedit.vim, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/ops.c<br>
<br>
Patch 8.0.1683<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python upgrade breaks Vim when defining PYTHON_HOME.<br>
Solution:&nbsp;&nbsp; Do not define PYTHON_HOME and PYTHON3_HOME in configure. (Naoki<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Inada, closes #2787)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1684<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ml_get errors when using terminal window for shell command.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Blay263)<br>
Solution:&nbsp;&nbsp; Do not change the size of the current window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1685<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't set ANSI colors of a terminal window.<br>
Solution:&nbsp;&nbsp; Add term_setansicolors(), term_getansicolors() and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g:term_ansi_colors. (Andy Massimino, closes #2747)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/terminal.txt, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/proto/terminal.pro, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1686 (after 8.0.1683)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python does not work when configuring with specific dir. (Rajdeep)<br>
Solution:&nbsp;&nbsp; Do define PYTHON_HOME and PYTHON3_HOME in configure if the Python<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;config dir was specified.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1687<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;64 bit compiler warnings.<br>
Solution:&nbsp;&nbsp; change type, add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1688<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some macros are used without a semicolon, causing auto-indent to be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wrong.<br>
Solution:&nbsp;&nbsp; Use the do-while(0) trick. (Ozaki Kiichi, closes #2729)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/dosinst.c, src/ex_cmds.c, src/gui_at_sb.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h, src/main.c, src/memline.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_vms.c, src/screen.c, src/window.c<br>
<br>
Patch 8.0.1689<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for xxd.<br>
Solution:&nbsp;&nbsp; Add a test. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_xxd.vim, src/testdir/runtest.vim<br>
<br>
Patch 8.0.1690<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to run one test with gvim instead of vim.<br>
Solution:&nbsp;&nbsp; Add VIMTESTTARGET in Makefile.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.1691<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Xxd test sometimes fails.<br>
Solution:&nbsp;&nbsp; Wipe out the XXDfile buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_xxd.vim<br>
<br>
Patch 8.0.1692 (after 8.0.1686)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python may not work when using statically linked library.<br>
Solution:&nbsp;&nbsp; Do not define PYTHON_HOME and PYTHON3_HOME in configure if the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Python library is linked statically.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1693<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Xxd is excluded from coverage statistics.<br>
Solution:&nbsp;&nbsp; Don't skip the xxd directory. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.1694<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal API test is a bit flaky.<br>
Solution:&nbsp;&nbsp; Wait longer for Vim to stop.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim<br>
<br>
Patch 8.0.1695<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Xxd test not run on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use xxd.exe if it exists.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_xxd.vim<br>
<br>
Patch 8.0.1696<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverage statistics don't work.<br>
Solution:&nbsp;&nbsp; Include the xxd directory. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.1697<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various tests are still a bit flaky.<br>
Solution:&nbsp;&nbsp; Increase the default wait time to five seconds.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/screendump.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_clientserver.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quotestar.vim, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1698<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverage statistics don't work on coveralls.<br>
Solution:&nbsp;&nbsp; Use curly braces for $SRCDIR.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.1699<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leftover stuff for Python 1.4.<br>
Solution:&nbsp;&nbsp; Remove outdated Python 1.4 stuff. (Naoki Inada, closes #2794)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/config.aap.in, src/config.mk.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1700<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverage statistics still don't work on coveralls.<br>
Solution:&nbsp;&nbsp; Exclude the xxd directory again.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.0.1701<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can disable COLOR_EMOJI with MSVC but not MinGW.<br>
Solution:&nbsp;&nbsp; Add COLOR_EMOJI flag.&nbsp;&nbsp;Also add some empty lines for readability.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 8.0.1702<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory when autocommands make a quickfix list invalid.<br>
Solution:&nbsp;&nbsp; Call FreeWild(). (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.1703<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In the tutor&nbsp;<a class="Type" href="options.html#'showcmd'">'showcmd'</a>&nbsp;is not set.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'showcmd'">'showcmd'</a>&nbsp;in the vimtutor script. (Ken Takata, closes #2792)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vimtutor<br>
<br>
Patch 8.0.1704<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'backupskip'">'backupskip'</a>&nbsp;default doesn't work for Mac.<br>
Solution:&nbsp;&nbsp; Use &quot;/private/tmp&quot;. (Rainer Müller, closes #2793)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_options.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt<br>
<br>
Patch 8.0.1705<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When making a vertical split the mode message isn't always<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;updated, &quot;VISUAL&quot; remains. (Alexei Averchenko)<br>
Solution:&nbsp;&nbsp; Only reset clear_cmdline when filling all columns of the last<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screen line. (Tom M. closes #2611)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.0.1706<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot send&nbsp;<span class="Special">CTRL-\</span>&nbsp;to a terminal window.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<span class="Special">CTRL-W</span>&nbsp;<span class="Special">CTRL-\</span>&nbsp;send&nbsp;<span class="Special">CTRL-\</span>&nbsp;to a terminal window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, runtime/doc/terminal.txt<br>
<br>
Patch 8.0.1707<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'wfh'">'wfh'</a>&nbsp;is set &quot;:bel 10new&quot; scrolls window. (Andrew Pyatkov)<br>
Solution:&nbsp;&nbsp; Set the fraction before changing the window height. (closes #2798)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.0.1708<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mkdir with 'p' flag fails on existing directory, which is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;different from the mkdir shell command.<br>
Solution:&nbsp;&nbsp; Don't fail if the directory already exists. (James McCoy,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2775)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_eval_stuff.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.0.1709<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some non-C89 code may slip through.<br>
Solution:&nbsp;&nbsp; Enforce C89 in configure. Fix detected problems. (James McCoy,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2735)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/configure.ac, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/if_python3.c<br>
<br>
Patch 8.0.1710<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with Ruby fails.<br>
Solution:&nbsp;&nbsp; Don't add -ansi when building with Ruby.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1711<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Term_setsize() is not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/terminal.c, src/proto/terminal.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, runtime/doc/eval.txt<br>
<br>
Patch 8.0.1712<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal scrollback is not limited.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<span class="MissingTag">'terminalscroll'</span>&nbsp;option.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/option.h, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/terminal.txt<br>
<br>
Patch 8.0.1713<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal debugger doesn't handle arguments.<br>
Solution:&nbsp;&nbsp; Use&nbsp;<span class="Special">&lt;f-args&gt;</span>&nbsp;and pass all the arguments to gdb, e.g. the core file<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or process number. (suggested by Christian Brabandt) Disallow<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;starting the debugger twice.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt<br>
<br>
Patch 8.0.1714<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Term_setsize() does not give an error in a normal buffer.<br>
Solution:&nbsp;&nbsp; Add an error message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1715<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal buffer can be 1 more than&nbsp;<span class="MissingTag">'terminalscroll'</span>&nbsp;lines.<br>
Solution:&nbsp;&nbsp; Change &gt; to &gt;=.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1716<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for term_setsize() does not give a good error message.<br>
Solution:&nbsp;&nbsp; use assert_inrange().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1717<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;C89 check causes too much trouble.<br>
Solution:&nbsp;&nbsp; Remove enforcing C89 for now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1718<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal scrollback test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Check for the last line of output anticipating there might be an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;empty line below it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1719<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot specify which Python executable configure should use.<br>
Solution:&nbsp;&nbsp; Add --with-python-command and --with-python3-command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1720<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a timer is running a terminal window may not close after a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;shell has exited.<br>
Solution:&nbsp;&nbsp; Call job_status() more often.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1721<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for using the&nbsp;<span class="MissingTag">'termsize'</span>&nbsp;option.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1722<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot specify a minimal size for a terminal window.<br>
Solution:&nbsp;&nbsp; Support the &quot;rows*cols&quot; format for&nbsp;<span class="MissingTag">'winsize'</span>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt<br>
<br>
Patch 8.0.1723<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using one item array size declaration is misleading.<br>
Solution:&nbsp;&nbsp; Instead of using &quot;[1]&quot; and actually using a larger array, use<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;[]&quot;.&nbsp;&nbsp;This is to verify that this C99 feature works for all<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;compilers.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/getchar.c<br>
<br>
Patch 8.0.1724<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Declarations cannot be halfway a block.<br>
Solution:&nbsp;&nbsp; Move one declaration to check if this works for all compilers.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.0.1725<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal debugger doesn't handle command arguments.<br>
Solution:&nbsp;&nbsp; Add the :TermdebugCommand command.&nbsp;&nbsp;Use a ! to execute right away.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt<br>
<br>
Patch 8.0.1726 (after 8.0.1724)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Older MSVC doesn't support declarations halfway a block.<br>
Solution:&nbsp;&nbsp; Move the declaration back to the start of the block.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.0.1727<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;qf_get_properties() function is too long.<br>
Solution:&nbsp;&nbsp; Refactor the code. (Yegappan Lakshmanan, closes #2807)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.1728<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Condition always false, useless code.<br>
Solution:&nbsp;&nbsp; Remove the code. (Nikolai Pavlov, closes #2808)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 8.0.1729<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No comma after last enum item.<br>
Solution:&nbsp;&nbsp; Add a few commas to check if this works for all compilers.&nbsp;&nbsp;Also<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add a few // comments.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 8.0.1730<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No configure check for the used C99 features.<br>
Solution:&nbsp;&nbsp; Add a compilation check.&nbsp;&nbsp;Tentatively document C99 features.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure, runtime/doc/develop.txt<br>
<br>
Patch 8.0.1731<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Characters deleted on completion. (Adrià Farrés)<br>
Solution:&nbsp;&nbsp; Also check the last item for the ORIGINAL_TEXT flag. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #1645)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_popup.vim<br>
<br>
Patch 8.0.1732<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when terminal API call deletes the buffer.<br>
Solution:&nbsp;&nbsp; Lock the buffer while calling a function. (closes #2813)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/terminal.c, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.1733<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Incomplete testing for completion fix. (Lifepillar)<br>
Solution:&nbsp;&nbsp; Add a test with&nbsp;<span class="Special">CTRL-P</span>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 8.0.1734<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Package directory not added to&nbsp;<a class="Type" href="options.html#'rtp'">'rtp'</a>&nbsp;if prefix matches.<br>
Solution:&nbsp;&nbsp; Check the match is a full match. (Ozaki Kiichi, closes #2817)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also handle different ways of spelling a path.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_packadd.vim, src/ex_cmds2.c<br>
<br>
Patch 8.0.1735 (after 8.0.1723 and 8.0.1730)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Flexible array member feature not supported by HP-UX. (John<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Marriott)<br>
Solution:&nbsp;&nbsp; Do not use the flexible array member feature of C99.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, runtime/doc/develop.txt<br>
<br>
Patch 8.0.1736<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Check for C99 features is incomplete.<br>
Solution:&nbsp;&nbsp; Use AC_PROG_CC_C99 and when C99 isn't fully supported check the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;features we need. (James McCoy, closes #2820)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1737<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;fchown() used when it is not supported.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.0.1738<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:args&quot; output is hard to read.<br>
Solution:&nbsp;&nbsp; Make columns with the names if the output is more than one line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/version.c, src/proto/version.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim<br>
<br>
Patch 8.0.1739<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows with msys2 cannot build Ruby statically.<br>
Solution:&nbsp;&nbsp; Define RUBY_VERSION. (Gray Wolf, closes #2826)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 8.0.1740<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for signed-unsigned incompatibility.<br>
Solution:&nbsp;&nbsp; Change type from &quot;char *&quot; to &quot;char_u *&quot;. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 8.0.1741<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows with msys2 cannot build Ruby statically.<br>
Solution:&nbsp;&nbsp; Add RUBY_VERSION to CFLAGS later. (Gray Wolf, closes #2833)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 8.0.1742<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get a list of all the jobs.&nbsp;&nbsp;Cannot get the command of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the job.<br>
Solution:&nbsp;&nbsp; When job_info() is called without an argument return a list of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jobs.&nbsp;&nbsp;Otherwise, include the command that the job is running.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/channel.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/channel.pro, src/structs.h, src/testdir/test_channel.vim<br>
<br>
Patch 8.0.1743<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window options are named inconsistently.<br>
Solution:&nbsp;&nbsp; prefix terminal window options with &quot;termwin&quot;.&nbsp;&nbsp;Keep the old names<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for now as an alias.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/option.h, src/structs.h, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/testdir/gen_opt_test.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/quickref.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt, runtime/optwin.vim<br>
<br>
Patch 8.0.1744<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On some systems /dev/stdout isn't writable.<br>
Solution:&nbsp;&nbsp; Skip test if writing is not possible. (James McCoy, closes #2830)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_writefile.vim<br>
<br>
Patch 8.0.1745<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure on MS-Windows.<br>
Solution:&nbsp;&nbsp; Build job arguments for MS-Windows. Fix allocating job twice.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/channel.c, src/os_unix.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/proto/misc2.pro<br>
<br>
Patch 8.0.1746<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: channel tests fail.<br>
Solution:&nbsp;&nbsp; Make a copy of the command before splitting it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.1747<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: term_start() does not set job_info() cmd.<br>
Solution:&nbsp;&nbsp; Share the code from job_start() to set jv_argv.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/channel.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc2.pro, src/terminal.c<br>
<br>
Patch 8.0.1748<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;CmdlineEnter command uses backslash instead of slash.<br>
Solution:&nbsp;&nbsp; Don't treat the character as a file name. (closes #2837)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 8.0.1749<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;VMS: 100% CPU use, redefining mch_open() and mch_fopen() fails.<br>
Solution:&nbsp;&nbsp; Do not wait indefinitely in RealWaitForChar(). (Neil Rieck)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do not redefine mch_open() and mch_fopen() on VMS. (Zoltan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Arpadffy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_vms.c, src/vim.h<br>
<br>
Patch 8.0.1750<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when clearing location list in autocommand.<br>
Solution:&nbsp;&nbsp; Check if &quot;qi&quot; equals &quot;ql_info&quot;. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1751<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;#ifdef causes bad highlighting.<br>
Solution:&nbsp;&nbsp; Move code around. (Ozaki Kiichi, closes #2731)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.0.1752<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;qf_set_properties() is to long.<br>
Solution:&nbsp;&nbsp; Refactor the function.&nbsp;&nbsp;Define INVALID_QFIDX. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #2812)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1753<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various warnings from a static analyser<br>
Solution:&nbsp;&nbsp; Add type casts, remove unneeded conditions. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2770)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_cmds2.c, src/fileio.c, src/getchar.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/os_unix.c, src/search.c, src/term.c<br>
<br>
Patch 8.0.1754<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ex_helpgrep() is too long.<br>
Solution:&nbsp;&nbsp; Refactor the function. (Yegappan Lakshmanan, closes #2766)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1755<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows GUI: high unicode char received as two utf-16 words.<br>
Solution:&nbsp;&nbsp; Keep the first word until the second word is received. (Chris<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Morgan, closes #2800)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.0.1756<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI: after prompting for a number the mouse shape is sometimes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wrong.<br>
Solution:&nbsp;&nbsp; Call setmouse() after setting &quot;State&quot;. (Hirohito Higashi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2709)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 8.0.1757<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnecessary changes in libvterm.<br>
Solution:&nbsp;&nbsp; Bring back // comments and trailing comma in enums.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/bin/unterm.c, src/libvterm/bin/vterm-ctrl.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/bin/vterm-dump.c, src/libvterm/include/vterm.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/include/vterm_keycodes.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/encoding.c, src/libvterm/src/keyboard.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/parser.c, src/libvterm/src/pen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/screen.c, src/libvterm/src/state.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/unicode.c, src/libvterm/src/utf8.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/vterm.c, src/libvterm/src/vterm_internal.h<br>
<br>
Patch 8.0.1758<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;open_line() returns TRUE/FALSE for success/failure.<br>
Solution:&nbsp;&nbsp; Return OK or FAIL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/normal.c, src/edit.c<br>
<br>
Patch 8.0.1759<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak from duplicate options. (Yegappan Lakshmanan)<br>
Solution:&nbsp;&nbsp; Don't set the default value twice.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.0.1760<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong number of arguments to vms_read().<br>
Solution:&nbsp;&nbsp; Drop the first argument. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.0.1761<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Job in terminal window with no output channel is killed.<br>
Solution:&nbsp;&nbsp; Keep the job running when the input is a tty. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2734)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/os_unix.c, src/testdir/test_channel.vim<br>
<br>
Patch 8.0.1762<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal debug logging is a bit complicated.<br>
Solution:&nbsp;&nbsp; Make log_tr() use variable arguments (Ozaki Kiichi, closes #2730)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1763<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:argedit does not reuse an empty unnamed buffer.<br>
Solution:&nbsp;&nbsp; Add the BLN_CURBUF flag and fix all the side effects. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #2713)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/ex_cmds2.c, src/proto/buffer.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim, src/testdir/test_command_count.vim<br>
<br>
Patch 8.0.1764<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Lgtm considers tutor.es to be EcmaScript.<br>
Solution:&nbsp;&nbsp; Add a config file for lgtm. (Bas van Schaik, closes #2844)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.lgtm.yml, Filelist<br>
<br>
Patch 8.0.1765<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-G</span>&nbsp;j in Insert mode is incorrect when&nbsp;<a class="Type" href="options.html#'virtualedit'">'virtualedit'</a>&nbsp;is set.<br>
Solution:&nbsp;&nbsp; Take coladd into account. (Christian Brabandt, closes #2743)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c, src/testdir/test_virtualedit.vim<br>
<br>
Patch 8.0.1766 (after 8.0.1758)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Expanding abbreviation doesn't work. (Tooth Pik)<br>
Solution:&nbsp;&nbsp; Return OK instead of FALSE and FAIL instead of TRUE. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_mapping.vim<br>
<br>
Patch 8.0.1767<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;text may jump up and down. ()<br>
Solution:&nbsp;&nbsp; Besides w_botline also save and restore w_empty_rows.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #2530)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_scrolling_01.dump<br>
<br>
Patch 8.0.1768<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;SET_NO_HLSEARCH() used in a wrong way.<br>
Solution:&nbsp;&nbsp; Make it a function. (suggested by Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2850)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/ex_docmd.c, src/proto/ex_docmd.pro, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/option.c, src/screen.c, src/tag.c<br>
<br>
Patch 8.0.1769<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Repeated saving and restoring viewstate for&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>.<br>
Solution:&nbsp;&nbsp; Use a structure.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.0.1770<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Assert functions don't return anything.<br>
Solution:&nbsp;&nbsp; Return non-zero when the assertion fails.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/eval.c, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_assert.vim, runtime/doc/eval.txt<br>
<br>
Patch 8.0.1771<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In tests, when WaitFor() fails it doesn't say why. (James McCoy)<br>
Solution:&nbsp;&nbsp; Add WaitForAssert(), which produces an assert error when it fails.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim, src/testdir/test_autocmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_clientserver.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_job_fails.vim<br>
<br>
Patch 8.0.1772<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix: mixup of FALSE and FAIL, returning -1.<br>
Solution:&nbsp;&nbsp; Use FAIL and INVALID_QFIDX. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.1773<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dialog messages are not translated.<br>
Solution:&nbsp;&nbsp; Add N_() and _() where needed. (Sergey Alyoshin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/ex_cmds2.c, src/ex_docmd.c, src/message.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Make_cyg.mak, src/po/Make_ming.mak, src/po/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Makefile, src/quickfix.c, src/vim.h<br>
<br>
Patch 8.0.1774<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Reading very long lines can be slow.<br>
Solution:&nbsp;&nbsp; Read up to 1 Mbyte at a time to avoid a lot of copying.&nbsp;&nbsp;Add a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;check for going over the column limit.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.0.1775<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: warning for unused variable.<br>
Solution:&nbsp;&nbsp; Move declaration inside #ifdef. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.1776<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In tests, when WaitFor() fails it doesn't say why.<br>
Solution:&nbsp;&nbsp; Turn a few more WaitFor() into WaitForAssert().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim, src/testdir/test_quotestar.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 8.0.1777<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot cleanup before loading another colorscheme.<br>
Solution:&nbsp;&nbsp; Add the ColorSchemePre autocommand event.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/syntax.c, src/vim.h, src/testdir/test_gui.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/colors/README.txt<br>
<br>
Patch 8.0.1778<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Script to check translations does not always work.<br>
Solution:&nbsp;&nbsp; Go to first line before searching for MIME.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/check.vim<br>
<br>
Patch 8.0.1779<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Deleting in a block selection causes problems.<br>
Solution:&nbsp;&nbsp; Check the length of the line before adding bd.textcol and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bd.textlen. (Christian Brabandt, closes #2825)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_blockedit.vim<br>
<br>
Patch 8.0.1780<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test fails because Vim in a terminal uses wrong&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>.<br>
Solution:&nbsp;&nbsp; Set encoding in the test where it matters. (James McCoy,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2847)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1781<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;File names in quickfix window are not always shortened.<br>
Solution:&nbsp;&nbsp; Shorten the file name when opening the quickfix window. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #2851, closes #2846)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim, src/fileio.c, src/proto/fileio.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.1782<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No simple way to label quickfix entries.<br>
Solution:&nbsp;&nbsp; Add the &quot;module&quot; item, to be used instead of the file name for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;display purposes. (Marcin Szamotulski, closes #1757)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/quickfix.txt, src/alloc.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1783<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use 256 colors in a MS-Windows console.<br>
Solution:&nbsp;&nbsp; Add 256 color support. (Nobuhiro Takasaki, closes #2821)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/option.c, src/os_win32.c, src/proto/os_win32.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/proto/term.pro, src/terminal.c<br>
<br>
Patch 8.0.1784 (after 8.0.1782)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Gvim test gets stuck in dialog.<br>
Solution:&nbsp;&nbsp; Rename the file used.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1785 (after 8.0.1783)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing symbol in Win32 small build.<br>
Solution:&nbsp;&nbsp; Define VTERM_ANSI_INDEX_NONE without the terminal feature. Also<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fix unused function with #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/os_win32.c<br>
<br>
Patch 8.0.1786<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>.<br>
Solution:&nbsp;&nbsp; Add a test.&nbsp;&nbsp;Make feedkeys() handle terminal_loop() returning<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;before characters are consumed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/terminal.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/getchar.c, src/keymap.h<br>
<br>
Patch 8.0.1787<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot insert the whole cursor line.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<span class="Special">CTRL-R</span>&nbsp;<span class="Special">CTRL-L</span>&nbsp;work. (Andy Massimino, closes #2857)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/cmdline.txt, src/ex_getln.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.1788<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tool to check a color scheme is not installed.<br>
Solution:&nbsp;&nbsp; Update the install rule. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.1789<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;BufWinEnter does not work well for a terminal window.<br>
Solution:&nbsp;&nbsp; Do not trigger BufWinEnter when opening a terminal window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, runtime/doc/autocmd.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1790<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'winfixwidth'">'winfixwidth'</a>&nbsp;is not always respected by :close.<br>
Solution:&nbsp;&nbsp; Prefer a frame without&nbsp;<a class="Type" href="options.html#'winfixwidth'">'winfixwidth'</a>&nbsp;or&nbsp;<a class="Type" href="options.html#'winfixheight'">'winfixheight'</a>. (Jason<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_winbuf_close.vim<br>
<br>
Patch 8.0.1791<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using uint8_t does not work everywhere.<br>
Solution:&nbsp;&nbsp; Use char_u instead.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/proto/term.pro, src/os_win32.c<br>
<br>
Patch 8.0.1792<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows users expect -? to work like --help.<br>
Solution:&nbsp;&nbsp; Add -?. (Christian Brabandt, closes #2867)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.0.1793<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for &quot;vim -g&quot;.<br>
Solution:&nbsp;&nbsp; Add a test for &quot;-g&quot; and &quot;-y&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_gui.vim<br>
<br>
Patch 8.0.1794<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Duplicate term options after renaming.<br>
Solution:&nbsp;&nbsp; Remove the old names&nbsp;<span class="MissingTag">'termkey'</span>,&nbsp;<span class="MissingTag">'termsize'</span>&nbsp;and&nbsp;<span class="MissingTag">'terminalscroll'</span>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/terminal.c, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/gen_opt_test.vim, src/testdir/screendump.vim<br>
<br>
Patch 8.0.1795<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Lose contact with jobs when :gui forks.<br>
Solution:&nbsp;&nbsp; Don't fork when there is a running job. Make log message for a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;died job clearer.&nbsp;&nbsp;Also close the terminal when stderr and stdout<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;are the same FD.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.h, src/gui.c, src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/terminal.c<br>
<br>
Patch 8.0.1796<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI: click on tab fails when the focus is in a terminal window.<br>
Solution:&nbsp;&nbsp; Handle K_TABLINE.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1797<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window is redrawn too often and scrolling is repeated.<br>
Solution:&nbsp;&nbsp; Don't scroll immediately but only when redrawing.&nbsp;&nbsp;Avoid redrawing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the whole terminal window on every change.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/screen.c, src/proto/terminal.pro<br>
<br>
Patch 8.0.1798<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: file considered read-only when another program has<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opened it.<br>
Solution:&nbsp;&nbsp; Pass file sharing flag to CreateFile(). (Linwei, closes #2860)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.0.1799<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for :registers command.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #2880)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_registers.vim<br>
<br>
Patch 8.0.1800<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;X11: getting color is slow.<br>
Solution:&nbsp;&nbsp; Avoid using sprintf() and XParseColor(), put the RGB values in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;XColor directly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c<br>
<br>
Patch 8.0.1801<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: redirecting terminal output does not work.<br>
Solution:&nbsp;&nbsp; Intercept the text written to the terminal and write it to the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1802 (after 8.0.1802)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: terminal test fails.<br>
Solution:&nbsp;&nbsp; Close redirected output file earlier.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1803<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for uninitialized variable. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Initialize it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1804<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using :normal in terminal window causes problems. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Solution:&nbsp;&nbsp; Don't call terminal_loop() for :normal. (closes #2886)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/proto/ex_docmd.pro, src/evalfunc.c<br>
<br>
Patch 8.0.1805<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;qf_parse_line() is too long.<br>
Solution:&nbsp;&nbsp; Split it in parts.&nbsp;&nbsp;Properly handle vim_realloc() failing.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yegappan Lakshmanan, closes #2881)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.1806<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;InsertCharPre causes problems for autocomplete. (Lifepillar)<br>
Solution:&nbsp;&nbsp; Check for InsertCharPre before calling vpeekc(). (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #2876)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_popup.vim<br>
<br>
Patch 8.0.1807<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Function to set terminal name is too long.<br>
Solution:&nbsp;&nbsp; Refactor the function.&nbsp;&nbsp;Fix typo in test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/testdir/test_options.vim<br>
<br>
Patch 8.0.1808 (after 8.0.1807)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build without TGETENT.<br>
Solution:&nbsp;&nbsp; Add #ifdef<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.0.1809<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various typos.<br>
Solution:&nbsp;&nbsp; Correct the mistakes, change &quot;cursur&quot; to &quot;cursor&quot;. (closes #2887)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/normal.c, src/screen.c, src/proto/screen.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.0.1810<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Buffer of a terminal only updated in Terminal-Normal mode.<br>
Solution:&nbsp;&nbsp; Copy the terminal window content to the buffer when in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Terminal-Job mode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/proto/terminal.pro, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds2.pro<br>
<br>
Patch 8.0.1811<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for winrestcmd().<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #2894)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.0.1812<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The qf_jump_to_usable_window() function is too long.<br>
Solution:&nbsp;&nbsp; Split it in parts. (Yegappan Lakshmanan, closes #2891)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.0.1813<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Windows installer doesn't install terminal debugger.<br>
Solution:&nbsp;&nbsp; Add the package to the list of files to install.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/gvim.nsi<br>
<br>
Patch 8.0.1814<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash with terminal window and with&nbsp;<a class="Type" href="options.html#'lazyredraw'">'lazyredraw'</a>&nbsp;set. (Antoine)<br>
Solution:&nbsp;&nbsp; Check the terminal still exists after update_screen().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1815 (after 8.0.1814)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still a crash with terminal window and with&nbsp;<a class="Type" href="options.html#'lazyredraw'">'lazyredraw'</a>&nbsp;set.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Antoine)<br>
Solution:&nbsp;&nbsp; Do not wipe out the buffer when updating the screen.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/proto/terminal.pro, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/screen.pro, src/ui.c<br>
<br>
Patch 8.0.1816<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for setcmdpos().<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #2901)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.0.1817<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A timer may change v:count unexpectedly.<br>
Solution:&nbsp;&nbsp; Save and restore v:count and similar variables when a timer<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callback is invoked. (closes #2897)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/proto/eval.pro, src/ex_cmds2.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 8.0.1818 (after 8.0.1810)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Lines remove from wrong buffer when using terminal window.<br>
Solution:&nbsp;&nbsp; Make sure to use tl_buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1819<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Swap file warning for a file in a non-existing directory, if there<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is another with the same file name. (Juergen Weigert)<br>
Solution:&nbsp;&nbsp; When expanding the file name fails compare the file names.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_swap.vim, src/memline.c<br>
<br>
Patch 8.0.1820<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window redirecting stdout does not show stderr. (Matéo<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Zanibelli)<br>
Solution:&nbsp;&nbsp; When stdout is not connected to pty_master_fd then use it for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;stderr. (closes #2903)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1821<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor in terminal window moves when pressing&nbsp;<span class="Special">CTRL-W</span>. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Solution:&nbsp;&nbsp; Do not more the cursor or redraw when not in Terminal-Normal mode.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #2904)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1822<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Make uninstall does not remove colors/tools.<br>
Solution:&nbsp;&nbsp; Add a line to delete the tools directory. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.1823<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for terminal stdout redirection is flaky.<br>
Solution:&nbsp;&nbsp; Wait for the job to finish.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1824<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for variable that may be uninitialized.<br>
Solution:&nbsp;&nbsp; Initialize the variable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1825<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Might use NULL pointer when out of memory. (Coverity)<br>
Solution:&nbsp;&nbsp; Handle NULL pointer better.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.0.1826<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure uses old compiler flag.<br>
Solution:&nbsp;&nbsp; Remove _DARWIN_C_SOURCE. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.0.1827<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for signed/unsigned char pointers. (Cesar Romani)<br>
Solution:&nbsp;&nbsp; Change the type of jv_argv.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/structs.h<br>
<br>
Patch 8.0.1828<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get no clue why :gui does not fork.<br>
Solution:&nbsp;&nbsp; Add a channel log message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.0.1829<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: script for vimdiff can't handle ! chars.<br>
Solution:&nbsp;&nbsp; Escape the ! chars. (Hans Ginzel, closes #2896)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c<br>
<br>
Patch 8.0.1830<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Switching to Terminal-Normal mode does not redraw. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Solution:&nbsp;&nbsp; Also redraw when not updating the snapshot. (closes #2904)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1831<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sometimes the quickfix title is incorrectly prefixed with ':'.<br>
Solution:&nbsp;&nbsp; Prepend the colon in another way. (Yegappan Lakshmanan, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#2905)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1832<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use :unlet for an environment variable.<br>
Solution:&nbsp;&nbsp; Make it work.&nbsp;&nbsp;Use unsetenv() if available. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2855)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/config.h.in, src/configure.ac,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/auto/configure, src/eval.c, src/misc1.c, src/proto/misc1.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_unlet.vim<br>
<br>
Patch 8.0.1833<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;X11: &quot;:echo 3.14&quot; gives E806.<br>
Solution:&nbsp;&nbsp; set LC_NUMERIC to &quot;C&quot;. (Dominique Pelle, closes #2368)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c<br>
<br>
Patch 8.0.1834<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI: find/replace dialog does not handle some chars properly.<br>
Solution:&nbsp;&nbsp; Escape '?' when needed.&nbsp;&nbsp;Always escape backslash. (closes #2418,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2435)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.0.1835<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Print document name does not support multi-byte.<br>
Solution:&nbsp;&nbsp; Use StartDocW() if needed. (Yasuhiro Matsumoto, closes #2478)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c<br>
<br>
Patch 8.0.1836<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Buffer-local window options may not be recent if the buffer is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;still open in another window.<br>
Solution:&nbsp;&nbsp; Copy the options from the window instead of the outdated window<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;options. (Bjorn Linse, closes #2336)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/testdir/test_options.vim<br>
<br>
Patch 8.0.1837<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;One character cmdline abbreviation not triggered after '&lt;,'&gt;.<br>
Solution:&nbsp;&nbsp; Skip over the special range. (Christian Brabandt, closes #2320)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_mapping.vim<br>
<br>
Patch 8.0.1838<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor in wrong position when switching to Terminal-Normal mode.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Move to the end of the line if coladvance() fails.&nbsp;&nbsp;Do not take a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;snapshot a second time.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.0.1839<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Script to check .po file doesn't check for plural header.<br>
Solution:&nbsp;&nbsp; Add a check that the plural header is present when needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/check.vim<br>
<br>
Patch 8.0.1840<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getwinpos() is not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #2911)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 8.0.1841<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;HP-UX does not have setenv().<br>
Solution:&nbsp;&nbsp; Use vim_setenv(). (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 8.0.1842<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup menu inside terminal window isn't cleared.<br>
Solution:&nbsp;&nbsp; Use NOT_VALID in pum_undisplay(). (suggested by Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #2908)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.0.1843<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Entry for&nbsp;<a class="Type" href="options.html#'wrap'">'wrap'</a>&nbsp;in options window is wrong. (John Little)<br>
Solution:&nbsp;&nbsp; Make the change apply locally.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim<br>
<br>
Patch 8.0.1844<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Superfluous quickfix code, missing examples.<br>
Solution:&nbsp;&nbsp; Remove unneeded code.&nbsp;&nbsp;Add a few examples.&nbsp;&nbsp;Add a bit more<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;testing. (Yegappan Lakshmanan, closes #2916)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/quickfix.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.0.1845<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various comment updates needed, missing white space.<br>
Solution:&nbsp;&nbsp; Update comments, add white space.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/testdir/test_cscope.vim, src/gui_mac.c<br>
<br>
Patch 8.0.1846<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python interface is incompatible with lldb.<br>
Solution:&nbsp;&nbsp; For OutputType set the base to be PyFile_Type. (Boxu Zhang)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Partly disabled to avoid a crash.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/if_python.c, src/if_python3.c<br>
<br>
Patch 8.0.1847<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some build options don't have an example.<br>
Solution:&nbsp;&nbsp; Add a couple more examples and compiler flags.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.0.1848<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'termwinscroll'">'termwinscroll'</a>&nbsp;does not work properly. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Subtract removed scrollback from the scrollback count.&nbsp;&nbsp;Add a test<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;<a class="Type" href="options.html#'termwinscroll'">'termwinscroll'</a>. (closes #2909)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.0.1849<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused arguments and missing prototype.<br>
Solution:&nbsp;&nbsp; Add UNUSED.&nbsp;&nbsp;Add static.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/if_ruby.c<br>
<br>
Patch 8.0.1850<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Todo items in source code not visible for users.<br>
Solution:&nbsp;&nbsp; Move the todo items to the help file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
<br>
<span class="PreProc">==============================================================================</span><br>
バージョン 8.2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#version-8.2" name="version-8.2">version-8.2</a>&nbsp;<a class="Constant" href="version8.html#version8.2" name="version8.2">version8.2</a>&nbsp;<a class="Constant" href="version8.html#vim-8.2" name="vim-8.2">vim-8.2</a><br>
<br>
このセクションでは、バージョン 8.1 と 8.2 の間の改善点について説明します。<br>
<br>
このリリースには何百ものバグ修正、いくつかの新機能、多くのマイナーな改善点が含<br>
まれます。<br>
<br>
<br>
ボップアップウィンドウ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#new-popup-window" name="new-popup-window">new-popup-window</a><br>
<span class="PreProc">----------------------</span><br>
<br>
ポップアップウィンドウは他のウィンドウの上にテキストを表示するために使えます。<br>
これは、「ビルドが正常に終了しました」のような単純なメッセージを表示したり、関<br>
数呼び出しを編集中に関数プロトタイプを表示したり、柔軟なポップアップメニューや<br>
他の多くの用途に使えます。<a class="Identifier" href="popup.html#popup-window">popup-window</a>&nbsp;を参照してください。<br>
<br>
ポップアップウィンドウはとても柔軟です: テキストとの相対位置に配置したり、絶対<br>
位置に配置したり、あるいは単に画面の中央に配置することができます。サイズは固定<br>
することもテキストに合わせることもできます。&quot;zindex&quot; の値はどのポップアップウィ<br>
ンドウを他のものの上に持ってくるかを指定します。<br>
<br>
新しい&nbsp;<a class="Type" href="options.html#'wincolor'">'wincolor'</a>&nbsp;オプションはポップアップウィンドウ全体の色を設定することがで<br>
きます。これは通常のウィンドウにも作用します。<br>
<br>
<br>
テキストプロパティ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#new-text-properties" name="new-text-properties">new-text-properties</a><br>
<span class="PreProc">------------------</span><br>
<br>
テキストプロパティはプラグインの作者に何をハイライトするかについての柔軟性を与<br>
えます。これは外部の非同期パーサーによってシンタックスハイライトを行うために使<br>
うことができます。あるいはポップアップウィンドウのテキストをハイライトするのに<br>
も使います。テキストプロパティは文字が削除や挿入されたときでもテキストにくっつ<br>
いて離れず、これによりテキストマーカーとしても役立ちます。<a class="Identifier" href="textprop.html#text-properties">text-properties</a>&nbsp;を<br>
参照してください。<br>
<br>
ハイライトを動的に更新したり、シンタックスエラーなどをマークしたりできるよう<br>
に、テキストの変更をサーバーに通知するためのリスナー関数が追加されました。<br>
<a class="Identifier" href="eval.html#listener_add()">listener_add()</a>&nbsp;を参照してください。<br>
<br>
<br>
Vim script の改良点&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#new-vimscript-8.2" name="new-vimscript-8.2">new-vimscript-8.2</a><br>
<span class="PreProc">-------------------</span><br>
<br>
関数は、&quot;-&gt;&quot; を使って連鎖で呼び出すことができるようになりました:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mylist-&gt;filter(filterexpr)-&gt;map(mapexpr)-&gt;sort()-&gt;join()</div>
連鎖が結果を持たない場合には新しい&nbsp;<a class="Comment" href="eval.html#:eval">:eval</a>&nbsp;コマンドが使えます。<br>
<br>
関数引数はデフォルト値を渡すことでオプショナルにすることができます<br>
<a class="Identifier" href="eval.html#optional-function-argument">optional-function-argument</a>:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function Something(key, value = 10)</div>
<br>
後方互換性の無い変更を許可するために&nbsp;<a class="Comment" href="repeat.html#:scriptversion">:scriptversion</a>&nbsp;コマンドが追加されまし<br>
た。例: &quot;.&quot; を一貫して辞書メンバーへのアクセスに使えるようにするため、文字列結<br>
合には &quot;..&quot; のみを使用します。<br>
<br>
変更できない変数を宣言できるようにするため&nbsp;<a class="Comment" href="eval.html#:const">:const</a>&nbsp;が追加されました:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;const TIMER_DELAY = 400</div>
<br>
行のリストを引用符や行継続を使わずに簡単に変数に代入できるようにするため、<br>
heredoc スタイルの代入が追加されました:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let lines =&lt;&lt; trim END<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; line one<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; line two<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;END</div>
<br>
<a class="Identifier" href="eval.html#Blob">Blob</a>&nbsp;型が追加されました。これはバイナリデータを扱いやすくします。<br>
<br>
/= と %= の代入演算子が追加されました。<br>
<br>
辞書は #{} を使ってリテラルキーで定義できるようになりました。これでたくさんの<br>
引用符を使うことを避けられます:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;let options = #{width: 30, height: 24}</div>
<br>
<br>
その他の改良点&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#new-other-8.2" name="new-other-8.2">new-other-8.2</a><br>
<span class="PreProc">--------------</span><br>
<br>
-&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;がセットされているとき&nbsp;<a class="Comment" href="change.html#:substitute">:substitute</a>&nbsp;にも適用されます。<br>
- より多くのキーの組み合わせがマッピングできるように&nbsp;<a class="Identifier" href="map.html#modifyOtherKeys">modifyOtherKeys</a>&nbsp;が追加<br>
&nbsp;&nbsp;されました。<br>
- Windows 10 用に ConPTY 対応が追加され、端末でフルカラーをサポートしました。<br>
- MS-Windows インストーラは翻訳やサイレントインストールに対応し、見栄えもよく<br>
&nbsp;&nbsp;なりました。<br>
<br>
<br>
変更点&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#changed-8.2" name="changed-8.2">changed-8.2</a><br>
<span class="PreProc">------</span><br>
<br>
外部 diff プログラムの必要を避け、差分の更新をより高速化するために、xdiff ライ<br>
ブラリが取り込まれました。<br>
<br>
コードは、// コメントのようなさらにいくつかの現代的な C の機能を使っています。<br>
<br>
古いコンパイラの対応が削除されました: Borland C++, MSVC 2008<br>
<br>
ハングル入力対応が削除されました。実際はもはや動いていませんでした。<br>
<br>
古い Amiga コンパイラ向けのメイクファイルが削除されました: Dice, Manx と SAS<br>
<br>
変更のないスワップファイルが見つかったときは自動的に削除されます。<br>
<br>
FEAT_TAG_OLDSTATIC コードは削除されました。それはタグの検索を遅くしていました。<br>
FEAT_TAG_ANYWHITE コードは削除されました。それはどのビルドでも有効化されていま<br>
せんでした。<br>
UNICODE16 コードは削除されました。それは有用ではありませんでした。<br>
Workshop 対応は削除されました。誰もそれを使っていませんでした。<br>
Aap ビルドファイルは削除されました。それらは古くなっていました。<br>
ペルシア語対応は削除されました。それは古くなり使われていませんでした。<br>
<br>
VIMDLL は再実装されました。これはインストールサイズを減らすために vim と gvim<br>
の共通部分を 1 つにまとめます。<br>
<br>
以下の機能は今では全てのバージョンに含まれています:&nbsp;<a class="Identifier" href="various.html#+multi_byte">+multi_byte</a>,<br>
<a class="Identifier" href="various.html#+virtualedit">+virtualedit</a>,&nbsp;<a class="Identifier" href="various.html#+vreplace">+vreplace</a>,&nbsp;<a class="Identifier" href="various.html#+localmap">+localmap</a>,&nbsp;<a class="Identifier" href="various.html#+cmdline_hist">+cmdline_hist</a>,&nbsp;<a class="Identifier" href="various.html#+cmdline_compl">+cmdline_compl</a>,<br>
<a class="Identifier" href="various.html#+insert_expand">+insert_expand</a>,&nbsp;<a class="Identifier" href="various.html#+modify_fname">+modify_fname</a>,&nbsp;<a class="Identifier" href="various.html#+comments">+comments</a><br>
<br>
<br>
追加要素&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#added-8.2" name="added-8.2">added-8.2</a><br>
<span class="PreProc">--------</span><br>
<br>
追加された関数:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;全ての popup_ 関数。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;全ての prop_ 関数。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;全ての sign_ 関数。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;全ての sound_ 関数。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#appendbufline()">appendbufline()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#balloon_gettext()">balloon_gettext()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#bufadd()">bufadd()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#bufload()">bufload()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="channel.html#ch_readblob()">ch_readblob()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#chdir()">chdir()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#debugbreak()">debugbreak()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#deletebufline()">deletebufline()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#environ()">environ()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#expandcmd()">expandcmd()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#getenv()">getenv()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#getimstatus()">getimstatus()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#getmousepos()">getmousepos()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#gettagstack()">gettagstack()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#interrupt()">interrupt()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#isinf()">isinf()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#list2str()">list2str()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#listener_add()">listener_add()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#listener_flush()">listener_flush()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#listener_remove()">listener_remove()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#prompt_setcallback()">prompt_setcallback()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#prompt_setinterrupt()">prompt_setinterrupt()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#prompt_setprompt()">prompt_setprompt()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#pum_getpos()">pum_getpos()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#rand()">rand()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#readdir()">readdir()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#reg_executing()">reg_executing()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#reg_recording()">reg_recording()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#rubyeval()">rubyeval()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#screenchars()">screenchars()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#screenpos()">screenpos()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#screenstring()">screenstring()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#setenv()">setenv()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#settagstack()">settagstack()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#srand()">srand()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#state()">state()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#str2list()">str2list()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#strptime()">strptime()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#swapinfo()">swapinfo()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#swapname()">swapname()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="terminal.html#term_setapi()">term_setapi()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="testing.html#test_getvalue()">test_getvalue()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="testing.html#test_null_blob()">test_null_blob()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="testing.html#test_refcount()">test_refcount()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="testing.html#test_scrollbar()">test_scrollbar()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="testing.html#test_setmouse()">test_setmouse()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#win_execute()">win_execute()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#win_splitmove()">win_splitmove()</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="eval.html#winlayout()">winlayout()</a><br>
<br>
追加された自動コマンド:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="autocmd.html#CompleteChanged">CompleteChanged</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="autocmd.html#DiffUpdated">DiffUpdated</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="autocmd.html#SafeState">SafeState</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="autocmd.html#SafeStateAgain">SafeStateAgain</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="autocmd.html#SourcePost">SourcePost</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="autocmd.html#TerminalWinOpen">TerminalWinOpen</a><br>
<br>
追加されたコマンド:<br>
&nbsp;&nbsp;&nbsp;&nbsp;カーソル位置からの相対位置でエラーにジャンプする:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="quickfix.html#:cabove">:cabove</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="quickfix.html#:cafter">:cafter</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="quickfix.html#:cbefore">:cbefore</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="quickfix.html#:cbelow">:cbelow</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="quickfix.html#:labove">:labove</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="quickfix.html#:lbefore">:lbefore</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="quickfix.html#:lbelow">:lbelow</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="quickfix.html#:lafter">:lafter</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;タブローカルディレクトリ:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="editing.html#:tcd">:tcd</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="editing.html#:tchdir">:tchdir</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;その他:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="eval.html#:const">:const</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="eval.html#:eval">:eval</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="various.html#:redrawtabline">:redrawtabline</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="repeat.html#:scriptversion">:scriptversion</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="spell.html#:spellrare">:spellrare</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="gui.html#:tlmenu">:tlmenu</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="gui.html#:tlnoremenu">:tlnoremenu</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="gui.html#:tlunmenu">:tlunmenu</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Comment" href="various.html#:xrestore">:xrestore</a><br>
<br>
追加されたオプション:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'completepopup'">'completepopup'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'completeslash'">'completeslash'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'cursorlineopt'">'cursorlineopt'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'modelineexpr'">'modelineexpr'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'previewpopup'">'previewpopup'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'scrollfocus'">'scrollfocus'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'tagfunc'">'tagfunc'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'termwintype'">'termwintype'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'varsofttabstop'">'varsofttabstop'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'vartabstop'">'vartabstop'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'wincolor'">'wincolor'</a><br>
<br>
<br>
パッチ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="version8.html#patches-8.2" name="patches-8.2">patches-8.2</a><br>
<span class="PreProc">------</span><br>
<br>
これらのパッチは 8.1 リリースの後に適用され、8.2 リリースに含まれています。<br>
<br>
Patch 8.1.0001<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The netrw plugin does not work.<br>
Solution:&nbsp;&nbsp; Make it accept version 8.x.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/autoload/netrw.vim<br>
<br>
Patch 8.1.0002<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:stopinsert changes the message position.<br>
Solution:&nbsp;&nbsp; Save and restore msg_col and msg_row in clearmode(). (Jason<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_messages.vim<br>
<br>
Patch 8.1.0003<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The :compiler command is not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #2930)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_compiler.vim<br>
<br>
Patch 8.1.0004<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for :compiler command sometimes fails.<br>
Solution:&nbsp;&nbsp; Be less strict about the error message. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_compiler.vim<br>
<br>
Patch 8.1.0005<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for :compiler command fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Ignore difference in path.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_compiler.vim<br>
<br>
Patch 8.1.0006<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;syn_id2cterm_bg() may be undefined. (Axel Bender)<br>
Solution:&nbsp;&nbsp; Adjust #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.1.0007<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for &quot;o&quot; and &quot;O&quot; in Visual block mode.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #2932)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_visual.vim<br>
<br>
Patch 8.1.0008<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for strwidth().<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #2931)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0009<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tabpages insufficiently tested.<br>
Solution:&nbsp;&nbsp; Add more test coverage. (Dominique Pelle, closes #2934)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabpage.vim<br>
<br>
Patch 8.1.0010<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;efm_to_regpat() is too long.<br>
Solution:&nbsp;&nbsp; Split off three functions. (Yegappan Lakshmanan, closes #2924)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0011<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;maparg() and mapcheck() confuse empty and non-existing.<br>
Solution:&nbsp;&nbsp; Return&nbsp;<span class="Special">&lt;Nop&gt;</span>&nbsp;for an existing non-empty mapping. (closes #2940)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_maparg.vim<br>
<br>
Patch 8.1.0012<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Misplaced #endif.<br>
Solution:&nbsp;&nbsp; Move the #endif to after the expression. (David Binderman)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.1.0013<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory when changing terminal cursor color.<br>
Solution:&nbsp;&nbsp; Make a copy of the color. (Dominique Pelle, closes #2938,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2941)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.0014<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;qf_init_ext() is too long.<br>
Solution:&nbsp;&nbsp; Split it into multiple functions. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2939)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0015<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor color wrong when closing a terminal window, ending up in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;another terminal window. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Bail out of terminal_loop() when the buffer changes.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #2942)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.0016<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Possible crash in term_wait(). (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Check for a valid buffer after ui_delay(). (closes #2944)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.0017<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Shell command completion has duplicates. (Yegappan Lakshmanan)<br>
Solution:&nbsp;&nbsp; Use a hash table to avoid duplicates. (Ozaki Kiichi, closes #539,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2733)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 8.1.0018<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;gn&quot; may select wrong text when wrapping.<br>
Solution:&nbsp;&nbsp; Avoid wrapping when searching forward. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_gn.vim<br>
<br>
Patch 8.1.0019<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error when defining a Lambda with index of a function result.<br>
Solution:&nbsp;&nbsp; When not evaluating an expression and skipping a function call,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set the return value to VAR_UNKNOWN.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/testdir/test_lambda.vim<br>
<br>
Patch 8.1.0020<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot tell whether a register is being used for executing or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recording.<br>
Solution:&nbsp;&nbsp; Add reg_executing() and reg_recording(). (Hirohito Higashi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2745)&nbsp;&nbsp;Rename the global variables for consistency.&nbsp;&nbsp;Store<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the register name in reg_executing.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/getchar.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/globals.h, src/edit.c, src/fileio.c, src/message.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.0021<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clang warns for undefined behavior.<br>
Solution:&nbsp;&nbsp; Move #ifdef outside of sprintf() call. (suggestion by Michael<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jarvis, closes #2946)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.1.0022<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Repeating put from expression register fails.<br>
Solution:&nbsp;&nbsp; Re-evaluate the expression register. (Andy Massimino,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2945)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/testdir/test_put.vim<br>
<br>
Patch 8.1.0023<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;gcc 8.1 warns for use of strncpy(). (John Marriott)<br>
Solution:&nbsp;&nbsp; Use mch_memmove() instead of STRNCPY().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 8.1.0024<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;% command not tested on #ifdef and comment.<br>
Solution:&nbsp;&nbsp; Add tests. (Dominique Pelle, closes #2956)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_goto.vim<br>
<br>
Patch 8.1.0025<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for the undofile() function.<br>
Solution:&nbsp;&nbsp; Add test. (Dominique Pelle, closes #2958)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_undo.vim<br>
<br>
Patch 8.1.0026<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test fails with very tall terminal. (Tom)<br>
Solution:&nbsp;&nbsp; Fix the terminal window size in the test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0027<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Difficult to make a plugin that feeds a line to a job.<br>
Solution:&nbsp;&nbsp; Add the initial code for the &quot;prompt&quot; buftype.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/channel.txt, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/tags, runtime/doc/todo.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/buffer.c, src/channel.c, src/diff.c, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/normal.c, src/ops.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/buffer.pro, src/proto/channel.pro, src/proto/edit.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ops.pro, src/structs.h, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim, src/testdir/test_prompt_buffer.vim<br>
<br>
Patch 8.1.0028 (after 8.1.0027)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Prompt buffer test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Disable the test for now. Remove stray assert.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_prompt_buffer.vim<br>
<br>
Patch 8.1.0029<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test fails on MS-Windows when &quot;wc&quot; exists.<br>
Solution:&nbsp;&nbsp; Skip test with redirection on MS-Windows.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0030<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Stopping Vim running in a terminal may not work.<br>
Solution:&nbsp;&nbsp; Instead of sending&nbsp;<span class="Special">&lt;Esc&gt;</span>&nbsp;send&nbsp;<span class="Special">CTRL-O</span>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim, src/testdir/test_prompt_buffer.vim<br>
<br>
Patch 8.1.0031<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test aucmd_on_close is flaky.<br>
Solution:&nbsp;&nbsp; Wait a bit longer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0032<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;BS in prompt buffer starts new line.<br>
Solution:&nbsp;&nbsp; Do not allow BS over the prompt.&nbsp;&nbsp;Make term_sendkeys() handle<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;special keys. Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/terminal.c, src/testdir/test_prompt_buffer.vim<br>
<br>
Patch 8.1.0033<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Keys to stop Vim in terminal are wrong. (Marius Gedminas)<br>
Solution:&nbsp;&nbsp; Move &quot;:&quot; to before&nbsp;<span class="Special">CTRL-U</span>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim<br>
<br>
Patch 8.1.0034<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor not restored with &quot;:edit #&quot;.<br>
Solution:&nbsp;&nbsp; Don't assume autocommands moved the cursor when it was moved to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the first non-blank.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_edit.vim<br>
<br>
Patch 8.1.0035<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to switch between prompt buffer and other windows.<br>
Solution:&nbsp;&nbsp; Accept&nbsp;<span class="Special">CTRL-W</span>&nbsp;commands in Insert mode.&nbsp;&nbsp;Start and stop Insert mode<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as one would expect.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/ex_docmd.c, src/structs.h, src/window.c<br>
<br>
Patch 8.1.0036<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not restoring Insert mode if leaving a prompt buffer by using a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mouse click.<br>
Solution:&nbsp;&nbsp; Set b_prompt_insert appropriately. Also correct cursor position<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when moving cursor to last line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/edit.c, src/window.c<br>
<br>
Patch 8.1.0037<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot easily append lines to another buffer.<br>
Solution:&nbsp;&nbsp; Add appendbufline().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufline.vim, src/testdir/test_edit.vim<br>
<br>
Patch 8.1.0038<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup test causes Vim to exit.<br>
Solution:&nbsp;&nbsp; Disable the broken part of the test for now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 8.1.0039<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot easily delete lines in another buffer.<br>
Solution:&nbsp;&nbsp; Add deletebufline().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_bufline.vim<br>
<br>
Patch 8.1.0040<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings from 64-bit compiler.<br>
Solution:&nbsp;&nbsp; Add type casts. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 8.1.0041<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Attribute &quot;width&quot; missing from python window attribute list.<br>
Solution:&nbsp;&nbsp; Add the item. (Ken Takata) Order the list like the items are used<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in the WindowAttr() function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/testdir/test86.ok, src/testdir/test87.ok<br>
<br>
Patch 8.1.0042<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If omni completion opens a window Insert mode is stopped.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Hirohito Higashi)<br>
Solution:&nbsp;&nbsp; Only set stop_insert_mode in a prompt buffer window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.1.0043<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;++bad argument of :edit does not work properly.<br>
Solution:&nbsp;&nbsp; Return FAIL from get_bad_opt() only when there is no valid<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;argument. (Dominique Pelle, Christian Brabandt, closes #2966,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2947)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_plus_arg_edit.vim<br>
<br>
Patch 8.1.0044<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If a test function exits Vim this may go unnoticed.<br>
Solution:&nbsp;&nbsp; Check for a test function quitting Vim.&nbsp;&nbsp;Fix tests that did exit<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vim.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/testdir/test_assert.vim<br>
<br>
Patch 8.1.0045 (after 8.1.0038)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup test isn't run completely.<br>
Solution:&nbsp;&nbsp; Remove &quot;finish&quot;.&nbsp;&nbsp;Clean up function definitions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 8.1.0046<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Loading a session file fails if&nbsp;<a class="Type" href="options.html#'winheight'">'winheight'</a>&nbsp;is a big number.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<span class="MissingTag">'minwinheight'</span>&nbsp;to zero at first.&nbsp;&nbsp;Don't give an error when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setting&nbsp;<span class="MissingTag">'minwinheight'</span>&nbsp;while&nbsp;<a class="Type" href="options.html#'winheight'">'winheight'</a>&nbsp;is a big number.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fix using vertical splits. Fix setting&nbsp;<span class="MissingTag">'minwinwidth'</span>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #2970)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim, src/option.c, src/window.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/window.pro<br>
<br>
Patch 8.1.0047<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No completion for :unlet $VAR.<br>
Solution:&nbsp;&nbsp; Add completion. (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_unlet.vim<br>
<br>
Patch 8.1.0048<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;vim_str2nr() does not handle numbers close to the maximum.<br>
Solution:&nbsp;&nbsp; Check for overflow more precisely. (Ken Takata, closes #2746)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c<br>
<br>
Patch 8.1.0049<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Shell cannot tell running in a terminal window.<br>
Solution:&nbsp;&nbsp; Add the VIM_TERMINAL environment variable. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt, src/os_unix.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0050 (after 8.1.0049)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;$VIM_TERMINAL is also set when not in a terminal window.<br>
Solution:&nbsp;&nbsp; Pass a flag to indicate whether the job runs in a terminal.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/os_unix.c, src/proto/os_unix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.0051 (after 8.1.0050)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: missing #endif.<br>
Solution:&nbsp;&nbsp; Add the #endif.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.0052<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a mapping to&nbsp;<span class="Special">&lt;Nop&gt;</span>&nbsp;times out the next mapping is skipped.<br>
Solution:&nbsp;&nbsp; Reset &quot;timedout&quot; when waiting for a character. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #2921)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.1.0053<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The first argument given to&nbsp;<a class="Type" href="options.html#'completefunc'">'completefunc'</a>&nbsp;can be Number or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;String, depending on the value.<br>
Solution:&nbsp;&nbsp; Avoid guessing the type of an argument, use typval_T in the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;callers of call_vim_function(). (Ozaki Kiichi, closes #2993)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/eval.c, src/ex_getln.c, src/mbyte.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/testdir/test_ins_complete.vim<br>
<br>
Patch 8.1.0054<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for using %ld for &quot;long long&quot;.<br>
Solution:&nbsp;&nbsp; Add a type cast. (closes #3002)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.1.0055 (after 8.1.0053)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Complete test has wrong order of arguments. Wrong type for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sentinel variable.<br>
Solution:&nbsp;&nbsp; Swap arguments, use VAR_UNKNOWN. (Ozaki Kiichi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/testdir/test_ins_complete.vim<br>
<br>
Patch 8.1.0056<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using :hardcopy with illegal byte.<br>
Solution:&nbsp;&nbsp; Check for string_convert() returning NULL. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hardcopy.c, src/testdir/test_hardcopy.vim<br>
<br>
Patch 8.1.0057<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup menu displayed wrong when using autocmd.<br>
Solution:&nbsp;&nbsp; Use aucmd_prepbuf().&nbsp;&nbsp;Force updating status line if the popup menu<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is going to be redrawn anyway. (Christian Brabandt, closes #3009)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/screen.c, src/proto/screen.pro<br>
<br>
Patch 8.1.0058<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Display problem with margins and scrolling.<br>
Solution:&nbsp;&nbsp; Place the cursor in the right column. (Kouichi Iwamoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3016)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.0059<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Displayed digraph for &quot;ga&quot; wrong with&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;&quot;cp1251&quot;.<br>
Solution:&nbsp;&nbsp; Convert from&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;to &quot;utf-8&quot; if needed. (closes #3015)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/digraph.c, src/testdir/test_digraph.vim<br>
<br>
Patch 8.1.0060<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when autocommands delete the current buffer. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Solution:&nbsp;&nbsp; Check that autocommands don't change the buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0061<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Window title is wrong after resetting and setting&nbsp;<a class="Type" href="options.html#'title'">'title'</a>.<br>
Solution:&nbsp;&nbsp; Move resetting the title into maketitle(). (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/buffer.c<br>
<br>
Patch 8.1.0062<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup menu broken if a callback changes the window layout. (Qiming<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Zhao)<br>
Solution:&nbsp;&nbsp; Recompute the popup menu position if needed.&nbsp;&nbsp;Redraw the ruler<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;even when the popup menu is displayed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c, src/proto/popupmnu.pro, src/screen.c<br>
<br>
Patch 8.1.0063<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mac: NSStringPboardType is deprecated.<br>
Solution:&nbsp;&nbsp; Use NSPasteboardTypeString. (Akshay Hegde, closes #3022)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_macosx.m<br>
<br>
Patch 8.1.0064<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typing&nbsp;<span class="Special">CTRL-W</span>&nbsp;in a prompt buffer shows mode &quot;-- --&quot;.<br>
Solution:&nbsp;&nbsp; Set restart_edit to 'A' and check for it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/window.c, src/screen.c<br>
<br>
Patch 8.1.0065 (after 8.1.0062)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Balloon displayed at the wrong position.<br>
Solution:&nbsp;&nbsp; Do not reposition the popup menu at the cursor position.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.1.0066<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Nasty autocommand causes using freed memory. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Do not force executing autocommands if the value of&nbsp;<a class="Type" href="options.html#'syntax'">'syntax'</a>&nbsp;or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'filetype'">'filetype'</a>&nbsp;did not change.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.1.0067<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syntax highlighting not working when re-entering a buffer.<br>
Solution:&nbsp;&nbsp; Do force executing autocommands when not called recursively.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.1.0068<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Nasty autocommands can still cause using freed memory.<br>
Solution:&nbsp;&nbsp; Disallow using setloclist() and setqflist() recursively.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.0069<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot handle pressing&nbsp;<span class="Special">CTRL-C</span>&nbsp;in a prompt buffer.<br>
Solution:&nbsp;&nbsp; Add prompt_setinterrupt().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/edit.c, src/evalfunc.c, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/channel.pro<br>
<br>
Patch 8.1.0070<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing part of the changes for prompt_setinterrupt().<br>
Solution:&nbsp;&nbsp; Add the missing changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 8.1.0071<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal debugger only works with the terminal feature.<br>
Solution:&nbsp;&nbsp; Make it also work with a prompt buffer.&nbsp;&nbsp;Makes it possible to use<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on MS-Windows. Various other improvements. (closes #3012)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.1.0072<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Use of&nbsp;<a class="Type" href="options.html#'termwinkey'">'termwinkey'</a>&nbsp;is inconsistent.<br>
Solution:&nbsp;&nbsp; Change the documentation and the behavior. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, runtime/doc/terminal.txt<br>
<br>
Patch 8.1.0073<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when autocommands call setloclist(). (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; If the quickfix list changes then don't jump to the error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0074 (after 8.1.0073)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when running quickfix tests.<br>
Solution:&nbsp;&nbsp; Do not alloc a new location list when checking for the reference<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to be still valid.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0075<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No Vim logo in README file.<br>
Solution:&nbsp;&nbsp; Add one. (Árni Dagur, closes #3024)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.md<br>
<br>
Patch 8.1.0076<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Command getting cleared with&nbsp;<span class="Special">CTRL-W</span>&nbsp;: in a terminal window. (Jason<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Franklin)<br>
Solution:&nbsp;&nbsp; Call redraw_after_callback() when editing the command line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.0077<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Header of README file is not nice.<br>
Solution:&nbsp;&nbsp; Move text to the bottom.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.md<br>
<br>
Patch 8.1.0078<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;...&quot; used inconsistently in messages.<br>
Solution:&nbsp;&nbsp; Drop the space before &quot; ...&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spellfile.c, src/regexp_nfa.c<br>
<br>
Patch 8.1.0079<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Superfluous space in messages.<br>
Solution:&nbsp;&nbsp; Remove the spaces. (closes #3030)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.1.0080<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't see the breakpoint number in the terminal debugger.<br>
Solution:&nbsp;&nbsp; Use the breakpoint number for the sign. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.1.0081<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The terminal debugger doesn't adjust to changed&nbsp;<a class="Type" href="options.html#'background'">'background'</a>.<br>
Solution:&nbsp;&nbsp; Add an OptionSet autocommand. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.1.0082<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In terminal window, typing : at more prompt, inserts ':' instead<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of starting another Ex command.<br>
Solution:&nbsp;&nbsp; Add skip_term_loop and set it when putting ':' in the typeahead<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/main.c, src/message.c<br>
<br>
Patch 8.1.0083<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;is&quot; and &quot;as&quot; have trouble with quoted punctuation.<br>
Solution:&nbsp;&nbsp; Check for punctuation before a quote. (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_textobjects.vim<br>
<br>
Patch 8.1.0084<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;User name completion does not work on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use NetUserEnum() to get user names. (Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_ivc.mak, src/Make_cyg_ming.mak, src/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 8.1.0085<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for completing user name and language.<br>
Solution:&nbsp;&nbsp; Add tests. (Dominique Pelle, closes #2978)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.1.0086<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for libcall() and libcallnr().<br>
Solution:&nbsp;&nbsp; Add tests. (Dominique Pelle, closes #2982)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0087<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;v:shell_error is always zero when using terminal for &quot;!cmd&quot;.<br>
Solution:&nbsp;&nbsp; Use &quot;exitval&quot; of terminal-job. (Ozaki Kiichi, closes #2994)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_win32.c, src/proto/terminal.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0088<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test for stdout and stderr is a bit flaky.<br>
Solution:&nbsp;&nbsp; Wait for both stdout and stderr to have been processed. (Ozaki<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kiichi, closes #2991)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0089<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;error when ending the terminal debugger<br>
Solution:&nbsp;&nbsp; Fix deleting defined signs for breakpoints.&nbsp;&nbsp;Make the debugger<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;work better on MS-Windows.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.1.0090<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;...&quot; used inconsistently in a message.<br>
Solution:&nbsp;&nbsp; Define the message with &quot; ...&quot; once. (hint by Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 8.1.0091<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Cannot interrupt gdb when program is running.<br>
Solution:&nbsp;&nbsp; Add debugbreak() and use it in the terminal debugger.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Respect&nbsp;<a class="Type" href="options.html#'modified'">'modified'</a>&nbsp;in a prompt buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, runtime/doc/eval.txt, src/undo.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.1.0092 (after 8.1.0091)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Prompt buffer test fails.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'nomodified'">'nomodified'</a>&nbsp;before closing the window. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3051)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_prompt_buffer.vim<br>
<br>
Patch 8.1.0093<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;non-MS-Windows: Cannot interrupt gdb when program is running.<br>
Solution:&nbsp;&nbsp; Only use debugbreak() on MS-Windows.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.1.0094<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Help text &quot;usage:&quot; is not capitalized.<br>
Solution:&nbsp;&nbsp; Make it &quot;Usage:&quot;. (closes #3044)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.1.0095<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dialog for &quot;:browse tabnew&quot; says &quot;new window&quot;.<br>
Solution:&nbsp;&nbsp; Use &quot;new tab page&quot;. (closes #3053)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.1.0096<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Inconsistent use of the word autocommands.<br>
Solution:&nbsp;&nbsp; Don't use auto-commands or &quot;auto commands&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.1.0097<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Superfluous space before exclamation mark.<br>
Solution:&nbsp;&nbsp; Remove the space.&nbsp;&nbsp;Don't translate debug message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 8.1.0098<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Segfault when pattern with \z() is very slow.<br>
Solution:&nbsp;&nbsp; Check for NULL regprog.&nbsp;&nbsp;Add &quot;nfa_fail&quot; to test_override() to be<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;able to test this.&nbsp;&nbsp;Fix that&nbsp;<span class="MissingTag">'searchhl'</span>&nbsp;resets called_emsg.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, runtime/doc/eval.txt, src/evalfunc.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim, src/globals.h, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp_nfa.c<br>
<br>
Patch 8.1.0099<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Exclamation mark in error message not needed.<br>
Solution:&nbsp;&nbsp; Remove the exclamation mark.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 8.1.0100<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal debugger: error when setting a watch point.<br>
Solution:&nbsp;&nbsp; Don't try defining a sign for a watch point.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.1.0101<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for getcmdwintype().<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3068)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.1.0102<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without syntax highlighting.<br>
Solution:&nbsp;&nbsp; Add #ifdef around using reg_do_extmatch.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 8.1.0103<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Long version string cannot be translated.<br>
Solution:&nbsp;&nbsp; Build the string in init_longVersion().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/version.h, src/version.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/version.pro, src/main.c<br>
<br>
Patch 8.1.0104<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build without the +eval feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 8.1.0105<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;All tab stops are the same.<br>
Solution:&nbsp;&nbsp; Add the variable tabstop feature. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2711)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/change.txt, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/various.txt, runtime/optwin.vim, src/beval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/beval.h, src/buffer.c, src/charset.c, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_cmds.c, src/feature.h, src/gui_beval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/hardcopy.c, src/message.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/option.c, src/option.h, src/proto/misc1.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/option.pro, src/screen.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/gen_opt_test.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_breakindent.vim, src/testdir/test_vartabs.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/workshop.c, src/Makefile<br>
<br>
Patch 8.1.0106 (after 8.1.0103)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails when HAVE_DATE_TIME is undefined.<br>
Solution:&nbsp;&nbsp; Always define init_longVersion(). (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3075)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c<br>
<br>
Patch 8.1.0107<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python: getting buffer option clears message. (Jacob Niehus)<br>
Solution:&nbsp;&nbsp; Don't use aucmd_prepbuf(). (closes #3079)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.1.0108<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No Danish translations.<br>
Solution:&nbsp;&nbsp; Add Danish message translations. (closes #3073)&nbsp;&nbsp;Move list of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;languages to a common makefile.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Makefile, src/po/Make_cyg.mak, src/po/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Make_ming.mak, src/po/Make_all.mak, src/po/da.po<br>
<br>
Patch 8.1.0109<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New po makefile missing from distribution.<br>
Solution:&nbsp;&nbsp; Add it to the file list.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.1.0110<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;File name not displayed with &quot;:file&quot; when 'F' is in&nbsp;<a class="Type" href="options.html#'shortmess'">'shortmess'</a>.<br>
Solution:&nbsp;&nbsp; Always display the file name when there is no argument (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #3070)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_options.vim<br>
<br>
Patch 8.1.0111<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;.po files do not use recommended names.<br>
Solution:&nbsp;&nbsp; Give a warning if the recommended name is not used.&nbsp;&nbsp;Accept the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recommended name for conversion. (Christian Brabandt, Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Makefile, src/po/sjiscorr.c, src/po/check.vim<br>
<br>
Patch 8.1.0112<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No error when using bad arguments with searchpair().<br>
Solution:&nbsp;&nbsp; Add error messages.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_search.vim<br>
<br>
Patch 8.1.0113<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused variable. (Yegappan Lakshmanan)<br>
Solution:&nbsp;&nbsp; Add UNUSED. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.0114<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Confusing variable name.<br>
Solution:&nbsp;&nbsp; Rename new_ts to new_vts_array.&nbsp;&nbsp;Change zero to NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/option.c<br>
<br>
Patch 8.1.0115<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The matchparen plugin may throw an error.<br>
Solution:&nbsp;&nbsp; Change the skip argument from zero to &quot;0&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/plugin/matchparen.vim<br>
<br>
Patch 8.1.0116<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Display problem with&nbsp;<a class="Type" href="options.html#'vartabstop'">'vartabstop'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>. (Chauca<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fuentes)<br>
Solution:&nbsp;&nbsp; Call tabstop_padding(). (Christian Brabandt, closes #3076)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_vartabs.vim<br>
<br>
Patch 8.1.0117<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;URL in install program still points to SourceForge.<br>
Solution:&nbsp;&nbsp; Change it to&nbsp;<span class="Constant">www.vim.org</span>. (closes #3100)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c<br>
<br>
Patch 8.1.0118<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Duplicate error message for put command.<br>
Solution:&nbsp;&nbsp; Check return value of u_save(). (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_messages.vim src/testdir/test_put.vim<br>
<br>
Patch 8.1.0119<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Failing test goes unnoticed because testdir/messages is not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;written.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'nomodifiable'">'nomodifiable'</a>&nbsp;only local to the buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_put.vim<br>
<br>
Patch 8.1.0120<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Buffer&nbsp;<a class="Type" href="options.html#'modified'">'modified'</a>&nbsp;set even when :sort has no changes.<br>
Solution:&nbsp;&nbsp; Only set&nbsp;<a class="Type" href="options.html#'modified'">'modified'</a>&nbsp;when lines are moved. (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_sort.vim<br>
<br>
Patch 8.1.0121<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using ballooneval related to&nbsp;<a class="Type" href="options.html#'vartabstop'">'vartabstop'</a>.<br>
Solution:&nbsp;&nbsp; Initialize balloonEval-&gt;vts to NULL. (Markus Braun)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/gui_beval.c, src/gui_w32.c, src/gui.c<br>
<br>
Patch 8.1.0122<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Translators don't always understand the maintainer message.<br>
Solution:&nbsp;&nbsp; Add a comment that ends up in the generated po file. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #3037)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 8.1.0123<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: colors are wrong after setting&nbsp;<span class="MissingTag">'notgc'</span>.<br>
Solution:&nbsp;&nbsp; Only call control_console_color_rgb() for the win32 terminal.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Nobuhiro Takasaki, closes #3107)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.1.0124<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;has(<span class="MissingTag">'vcon'</span>) returns true even for non-win32 terminal.<br>
Solution:&nbsp;&nbsp; Check the terminal type. (Nobuhiro Takasaki, closes #3106)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.0125<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Virtual edit replace with multi-byte fails at end of line. (Lukas<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Werling)<br>
Solution:&nbsp;&nbsp; use ins_char() to add the character. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3114)&nbsp;&nbsp;Rename PCHAR() to PBYTE() to avoid mistakes like<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_virtualedit.vim, src/macros.h<br>
<br>
Patch 8.1.0126<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various problems with&nbsp;<a class="Type" href="options.html#'vartabstop'">'vartabstop'</a>.<br>
Solution:&nbsp;&nbsp; Fix memory leak.&nbsp;&nbsp;Fix crash. Add a few more tests. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #3076)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/option.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vartabs.vim<br>
<br>
Patch 8.1.0127<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure when disabling the session feature. (Pawel Slowik)<br>
Solution:&nbsp;&nbsp; Adjust #ifdef for vim_chdirfile().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 8.1.0128<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with MinGW does not work out-of-the-box.<br>
Solution:&nbsp;&nbsp; Add instructions for MSYS2.&nbsp;&nbsp;Set default WINVER.&nbsp;&nbsp;Add batch files<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to set $PATH for MSYS2.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/INSTALLpc.txt, src/msys32.bat,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/msys64.bat, Filelist<br>
<br>
Patch 8.1.0129<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still some xterm-like terminals get a stray &quot;p&quot; on startup.<br>
Solution:&nbsp;&nbsp; Consider all terminals that reply with a version smaller than 95<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;as not an xterm. (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.1.0130<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:profdel func&quot; does not work if func was called already.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Reset uf_profiling and add a flag to indicate initialization was<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;done.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/userfunc.c<br>
<br>
Patch 8.1.0131<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:profdel is not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3123)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_profile.vim<br>
<br>
Patch 8.1.0132<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Lua tests are old style.<br>
Solution:&nbsp;&nbsp; Convert to new style tests.&nbsp;&nbsp;Improve coverage. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3091)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test85.in, src/testdir/test_lua.vim<br>
<br>
Patch 8.1.0133<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;tagfiles() can have duplicate entries.<br>
Solution:&nbsp;&nbsp; Simplify the filename to make checking for duplicates work better.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add a test. (Dominique Pelle, closes #2979)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/testdir/test_taglist.vim<br>
<br>
Patch 8.1.0134<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Lua interface does not support funcref.<br>
Solution:&nbsp;&nbsp; Add funcref support. (Luis Carvalho)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c, src/testdir/test_lua.vim<br>
<br>
Patch 8.1.0135<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Undo message delays screen update for&nbsp;<span class="Special">CTRL-O</span>&nbsp;u.<br>
Solution:&nbsp;&nbsp; Add smsg_attr_keep(). (closes #3125)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/proto.h, src/undo.c<br>
<br>
Patch 8.1.0136<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Lua tests don't cover new features.<br>
Solution:&nbsp;&nbsp; Add more tests. (Dominique Pelle, closes #3130)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_lua.txt, src/testdir/test_lua.vim<br>
<br>
Patch 8.1.0137<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;CI does not run with TCL.<br>
Solution:&nbsp;&nbsp; Add TCL to the travis config. (Dominique Pelle, closes #3133)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.0138<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Negative value of&nbsp;<a class="Type" href="options.html#'softtabstop'">'softtabstop'</a>&nbsp;not used correctly.<br>
Solution:&nbsp;&nbsp; Use get_sts_value(). (Tom Ryder)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/option.c, src/Makefile, src/testdir/test_tab.vim<br>
<br>
Patch 8.1.0139<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Lua tests fail on some platforms.<br>
Solution:&nbsp;&nbsp; Accept a hex number with and without &quot;0x&quot;. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3137)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_lua.vim<br>
<br>
Patch 8.1.0140<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Recording into a register has focus events. (Michael Naumann)<br>
Solution:&nbsp;&nbsp; Don't record K_FOCUSGAINED and K_FOCUSLOST. (closes #3143)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.1.0141<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:cexpr no longer jumps to the first error.<br>
Solution:&nbsp;&nbsp; Use the quickfix list identifier. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3092)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0142<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Xterm and vt320 builtin termcap missing keypad keys.<br>
Solution:&nbsp;&nbsp; Add the escape sequences. (Kouichi Iwamoto, closes #2973)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.1.0143<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Matchit and matchparen don't handle E363.<br>
Solution:&nbsp;&nbsp; Catch the E363 error. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/matchit/plugin/matchit.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/plugin/matchparen.vim<br>
<br>
Patch 8.1.0144<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The :cd command does not have good test coverage.<br>
Solution:&nbsp;&nbsp; Add more tests. (Dominique Pelle, closes #2972)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cd.vim<br>
<br>
Patch 8.1.0145<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test with grep is failing on MS-Windows.<br>
Solution:&nbsp;&nbsp; Skip the test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0146<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When $LANG is set the compiler test may fail.<br>
Solution:&nbsp;&nbsp; Unset $LANG.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_compiler.vim<br>
<br>
Patch 8.1.0147<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning when building with Python 3.7.<br>
Solution:&nbsp;&nbsp; #undef PySlice_GetIndicesEx before redefining it. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3153)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python3.c<br>
<br>
Patch 8.1.0148<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak when using :tcl expr command.<br>
Solution:&nbsp;&nbsp; Free the result of expression evaluation. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3150)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_tcl.c<br>
<br>
Patch 8.1.0149<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The generated sessions file does not restore tabs properly if :lcd<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;was used in one of them.<br>
Solution:&nbsp;&nbsp; Create the tab pages before setting the directory. (Yee Cheng<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Chin, closes #3152)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.0150<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insufficient test coverage for Tcl.<br>
Solution:&nbsp;&nbsp; Add more tests. (Dominique Pelle, closes #3140)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tcl.vim<br>
<br>
Patch 8.1.0151<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mksession test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Always use an argument for :lcd.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.0152<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot easily run individual tests on MS-Windows.<br>
Solution:&nbsp;&nbsp; Move the list of tests to a separate file.&nbsp;&nbsp;Add a build rule in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the MSVC makefile.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Makefile, src/Make_all.mak, src/Make_mvc.mak<br>
<br>
Patch 8.1.0153 (after 8.1.0152)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build with SHADOWDIR fails. (Elimar Riesebieter)<br>
Solution:&nbsp;&nbsp; Create a link for Make_all.mak. (Tony Mechelynck)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.1.0154<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash with &quot;set smarttab shiftwidth=0 softtabstop=-1&quot;.<br>
Solution:&nbsp;&nbsp; Fall back to using&nbsp;<a class="Type" href="options.html#'tabstop'">'tabstop'</a>. (closes #3155)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_tab.vim<br>
<br>
Patch 8.1.0155<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Evim.man missing from the distribution.<br>
Solution:&nbsp;&nbsp; Add it to the list.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.1.0156<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows compiler warning.<br>
Solution:&nbsp;&nbsp; Add a type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c<br>
<br>
Patch 8.1.0157<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old iTerm2 is not recognized, resulting in stray output.<br>
Solution:&nbsp;&nbsp; Recognize the termresponse.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.1.0158<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI: input() fails if&nbsp;<span class="Special">CTRL-C</span>&nbsp;was pressed before. (Michael Naumann)<br>
Solution:&nbsp;&nbsp; call vpeekc() to drop the&nbsp;<span class="Special">CTRL-C</span>&nbsp;from the input stream.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.1.0159<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completion for user names does not work if a prefix is also a full<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;matching name. (Nazri Ramliy)<br>
Solution:&nbsp;&nbsp; Accept both full and partial matches. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/ex_docmd.c<br>
<br>
Patch 8.1.0160<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No Danish manual translations.<br>
Solution:&nbsp;&nbsp; Add the Danish manual translations to the file list.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.1.0161<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Buffer not updated with&nbsp;<a class="Type" href="options.html#'autoread'">'autoread'</a>&nbsp;set if file was deleted.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Michael Naumann)<br>
Solution:&nbsp;&nbsp; Don't set the timestamp to zero. (closes #3165)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/testdir/test_stat.vim<br>
<br>
Patch 8.1.0162<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Danish and German man pages are not installed. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Adjust the makefile<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.1.0163<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insufficient testing for Tcl.<br>
Solution:&nbsp;&nbsp; Add a few more tests. (Dominique Pelle, closes #3166)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tcl.vim<br>
<br>
Patch 8.1.0164<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;luaeval('vim.buffer().name') returns an error.<br>
Solution:&nbsp;&nbsp; Return an empty string. (Dominique Pelle, closes #3167)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c, src/testdir/test_lua.vim<br>
<br>
Patch 8.1.0165<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:clist output can be very long.<br>
Solution:&nbsp;&nbsp; Support filtering :clist entries. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0166<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using dict_add_nr_str() is clumsy.<br>
Solution:&nbsp;&nbsp; Split into two functions. (Ozaki Kiichi, closes #3154)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/dict.c, src/edit.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/ops.c, src/option.c, src/proto/dict.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/tag.c, src/terminal.c, src/undo.c<br>
<br>
Patch 8.1.0167<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Lock flag in new dictitem is reset in many places.<br>
Solution:&nbsp;&nbsp; Always reset the lock flag.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dict.c, src/channel.c, src/ex_cmds2.c, src/userfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs, src/if_py_both.h<br>
<br>
Patch 8.1.0168<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Output of :marks is too short with multi-byte chars. (Tony<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mechelynck)<br>
Solution:&nbsp;&nbsp; Get more bytes from the text line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mark.c, src/testdir/test_marks.vim<br>
<br>
Patch 8.1.0169 (after 8.1.0165)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Calling message_filtered() a bit too often.<br>
Solution:&nbsp;&nbsp; Only call message_filtered() when filtering is already false.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, runtime/doc/quickfix.txt<br>
<br>
Patch 8.1.0170<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory use with complicated pattern. (Andy Massimino)<br>
Solution:&nbsp;&nbsp; Reallocate the list of listids when needed. (closes #3175)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove unnecessary function prototypes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 8.1.0171<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typing&nbsp;<span class="Special">CTRL-W</span>&nbsp;n in a terminal window causes ml_get error.<br>
Solution:&nbsp;&nbsp; When resizing the terminal outside of terminal_loop() make sure<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the snapshot is complete.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0172<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'viminfofile'">'viminfofile'</a>&nbsp;option does not behave like a file name.<br>
Solution:&nbsp;&nbsp; Add the P_EXPAND flag. (closes #3178)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.1.0173<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/state.c<br>
<br>
Patch 8.1.0174<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After paging up and down fold line is wrong.<br>
Solution:&nbsp;&nbsp; Correct the computation of w_topline and w_botline. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c, src/testdir/test_fold.vim<br>
<br>
Patch 8.1.0175<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Marks test fails in very wide window. (Vladimir Lomov)<br>
Solution:&nbsp;&nbsp; Extend the text to match&nbsp;<a class="Type" href="options.html#'columns'">'columns'</a>. (closes #3180, closes #3181)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_marks.vim<br>
<br>
Patch 8.1.0176<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Overlapping string argument for strcpy(). (Coverity)<br>
Solution:&nbsp;&nbsp; Use STRMOVE() instead of STRCPY(). (Dominique Pelle, closes #3187)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.1.0177<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Defining function in sandbox is inconsistent, cannot use :function<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;but can define a lambda.<br>
Solution:&nbsp;&nbsp; Allow defining a function in the sandbox, but also use the sandbox<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when executing it. (closes #3182)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/ex_cmds.h<br>
<br>
Patch 8.1.0178<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for passing pointer to non-pointer argument.<br>
Solution:&nbsp;&nbsp; Use zero instead of NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ole.cpp<br>
<br>
Patch 8.1.0179<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Redundant condition for boundary check.<br>
Solution:&nbsp;&nbsp; Remove the condition. (Dominique Pelle). Change FALSE to FAIL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 8.1.0180<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Static analysis errors in Lua interface. (Coverity)<br>
Solution:&nbsp;&nbsp; Check for NULL pointers.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c<br>
<br>
Patch 8.1.0181<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak with trailing characters in skip expression.<br>
Solution:&nbsp;&nbsp; Free the return value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_search.vim<br>
<br>
Patch 8.1.0182<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unicode standard was updated.<br>
Solution:&nbsp;&nbsp; Include the changes. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 8.1.0183<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Lua API changed, breaking the build.<br>
Solution:&nbsp;&nbsp; Adjust prototype of lua_rawgeti(). (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3157, closes #3144)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c<br>
<br>
Patch 8.1.0184<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to figure out the window layout.<br>
Solution:&nbsp;&nbsp; Add &quot;wincol&quot; and &quot;winrow&quot; to what getwininfo() returns.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_bufwintabinfo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.1.0185<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running tests writes lua.vim even though it is not used.<br>
Solution:&nbsp;&nbsp; Stop writing lua.vim.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test1.in, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile<br>
<br>
Patch 8.1.0186<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for getwininfo() fails in GUI.<br>
Solution:&nbsp;&nbsp; Account for missing tabline.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufwintabinfo.vim<br>
<br>
Patch 8.1.0187 (after 8.1.0184)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getwininfo() and win_screenpos() return different numbers.<br>
Solution:&nbsp;&nbsp; Add one to &quot;wincol&quot; and &quot;winrow&quot; from getwininfo().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_bufwintabinfo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.1.0188<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for &quot;:cscope add&quot;.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3212)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cscope.vim<br>
<br>
Patch 8.1.0189<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Function defined in sandbox not tested.<br>
Solution:&nbsp;&nbsp; Add a text.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0190<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Perl refcounts are wrong.<br>
Solution:&nbsp;&nbsp; Improve refcounting.&nbsp;&nbsp;Add a test. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs, src/testdir/test_perl.vim<br>
<br>
Patch 8.1.0191 (after 8.1.0190)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Perl test fails in 24 line terminal.<br>
Solution:&nbsp;&nbsp; Create fewer windows.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_perl.vim<br>
<br>
Patch 8.1.0192<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Executing regexp recursively fails with a crash.<br>
Solution:&nbsp;&nbsp; Move global variables into &quot;rex&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp.h, src/regexp_nfa.c<br>
<br>
Patch 8.1.0193<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal debugger buttons don't always work. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'cpo'">'cpo'</a>&nbsp;to its default value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.1.0194<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Possibly use of NULL pointer. (Coverity)<br>
Solution:&nbsp;&nbsp; Reset the re_in_use flag earlier.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 8.1.0195<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal debugger commands don't always work. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'cpo'">'cpo'</a>&nbsp;to its default value when defining commands. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.1.0196<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal debugger error with .gdbinit file.<br>
Solution:&nbsp;&nbsp; Check two lines for the &quot;new ui&quot; response. (hint from Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.1.0197<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Windows GUI: title for search/replace is wrong.<br>
Solution:&nbsp;&nbsp; Remove remark about doubling backslash. (closes #3230)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_win32.c<br>
<br>
Patch 8.1.0198<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no hint that syntax is disabled for&nbsp;<a class="Type" href="options.html#'redrawtime'">'redrawtime'</a>.<br>
Solution:&nbsp;&nbsp; Add a message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.1.0199<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;spellbadword() does not check for caps error. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Adjust capcol when advancing.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 8.1.0200<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;spellbadword() not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3235)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_spell.vim<br>
<br>
Patch 8.1.0201<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Newer Python uses &quot;importlib&quot; instead of &quot;imp&quot;.<br>
Solution:&nbsp;&nbsp; Use &quot;importlib&quot; for newer Python versions. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3163)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/testdir/test87.in<br>
<br>
Patch 8.1.0202<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:version always shows +packages. (Takuya Fujiwara)<br>
Solution:&nbsp;&nbsp; Add #ifdef (closes #3198) Also for has().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/evalfunc.c<br>
<br>
Patch 8.1.0203<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with Perl 5.28 fails on Windows.<br>
Solution:&nbsp;&nbsp; Define Perl_mg_get. (closes #3196)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 8.1.0204<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;inputlist() is not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3240)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0205<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access with invalid modeline.<br>
Solution:&nbsp;&nbsp; Pass pointer limit. Add a test. (closes #3241)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_all.mak, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_modeline.vim, src/option.c<br>
<br>
Patch 8.1.0206 (after 8.1.0205)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Duplicate test function name.<br>
Solution:&nbsp;&nbsp; Rename both functions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_modeline.vim, src/testdir/test_glob2regpat.vim<br>
<br>
Patch 8.1.0207<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Need many menu translation files to cover regions.<br>
Solution:&nbsp;&nbsp; When there is no region match, try without. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/menu.vim<br>
<br>
Patch 8.1.0208 (after 8.1.0205)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;File left behind after running individual test.<br>
Solution:&nbsp;&nbsp; Delete the file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_modeline.vim<br>
<br>
Patch 8.1.0209<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Stderr output from Ruby messes up display.<br>
Solution:&nbsp;&nbsp; Turn the stderr output into a Vim message. (Masataka Pocke<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kuwabara, closes #3238)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.1.0210<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still a few K&amp;R function declarations.<br>
Solution:&nbsp;&nbsp; Use ANSI function declarations (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalfunc.c, src/list.c<br>
<br>
Patch 8.1.0211<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Expanding a file name &quot;~&quot; results in $HOME. (Aidan Shafran)<br>
Solution:&nbsp;&nbsp; Change &quot;~&quot; to &quot;./~&quot; before expanding. (closes #3072)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expand.vim, src/ex_docmd.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/evalfunc.c, src/if_cscope.c, src/misc1.c<br>
<br>
Patch 8.1.0212<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Preferred cursor column not set in interfaces.<br>
Solution:&nbsp;&nbsp; Set w_set_curswant when setting the cursor. (David Hotham,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3060)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c, src/if_mzsch.c, src/if_perl.xs, src/if_py_both.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c, src/if_tcl.c, src/testdir/test_lua.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_perl.vim, src/testdir/test_python2.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_python3.vim, src/testdir/test_ruby.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tcl.vim<br>
<br>
Patch 8.1.0213<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-W</span>&nbsp;CR does not work properly in a quickfix window.<br>
Solution:&nbsp;&nbsp; Split the window if needed. (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/proto/quickfix.pro, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim, src/window.c<br>
<br>
Patch 8.1.0214<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;+autochdir feature not reported by has() or :version.<br>
Solution:&nbsp;&nbsp; Add the feature in the list.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/version.c<br>
<br>
Patch 8.1.0215<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No error if configure --with-x cannot configure X.<br>
Solution:&nbsp;&nbsp; Check that when --with-x is used X can be configured.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.1.0216<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Part of file not indented properly.<br>
Solution:&nbsp;&nbsp; Adjust the indent. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.1.0217<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for variable set but not used.<br>
Solution:&nbsp;&nbsp; Move tilde_file inside #ifdef. (Hirohito Higashi, closes #3255)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.1.0218<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot add matches to another window. (Qiming Zhao)<br>
Solution:&nbsp;&nbsp; Add the &quot;window&quot; argument to matchadd() and matchaddpos().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #3260)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, runtime/doc/eval.txt, src/testdir/test_match.vim<br>
<br>
Patch 8.1.0219<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Expanding ## fails to escape backtick.<br>
Solution:&nbsp;&nbsp; Escape a backtick in a file name. (closes #3257)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_edit.vim<br>
<br>
Patch 8.1.0220<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ruby converts v:true and v:false to a number.<br>
Solution:&nbsp;&nbsp; Use Qtrue and Qfalse instead. (Masataka Pocke Kuwabara,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3259)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c, src/testdir/test_ruby.vim<br>
<br>
Patch 8.1.0221<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough testing for the Ruby interface.<br>
Solution:&nbsp;&nbsp; Add more tests. (Dominique Pelle, closes #3252)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_ruby.txt, src/testdir/test_ruby.vim<br>
<br>
Patch 8.1.0222<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Errors are reported for &quot;make install&quot;.<br>
Solution:&nbsp;&nbsp; Skip missing language files. (Christian Brabandt, closes #3254)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/installman.sh<br>
<br>
Patch 8.1.0223<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completing shell command finds sub-directories in $PATH.<br>
Solution:&nbsp;&nbsp; Remove EW_DIR when completing an item in $PATH. (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 8.1.0224<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Hang in bracketed paste mode when t_PE not encountered.<br>
Solution:&nbsp;&nbsp; Break out of the loop when got_int is set. (suggested by Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #3146)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 8.1.0225<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mode() does not indicate using&nbsp;<span class="Special">CTRL-O</span>&nbsp;from Insert mode.<br>
Solution:&nbsp;&nbsp; Add &quot;niI&quot;, &quot;niR&quot; and &quot;niV&quot; to mode() result. (closes #3000)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0226<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many #ifdefs.<br>
Solution:&nbsp;&nbsp; Graduate the +vreplace feature, it's not much code and quite a few<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/change.txt, runtime/doc/various.txt, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/gui.c, src/misc1.c, src/misc2.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/screen.c, src/version.c, src/feature.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/macros.h, src/vim.h<br>
<br>
Patch 8.1.0227<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Spaces instead of tabs in makefile.<br>
Solution:&nbsp;&nbsp; Use tabs and fix sorting. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Make_all.mak<br>
<br>
Patch 8.1.0228<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dropping files is ignored while Vim is busy.<br>
Solution:&nbsp;&nbsp; Postpone the effect of dropping files until it's safe.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/proto/ex_docmd.pro, src/gui.c, src/gui.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/main.c, src/gui_mac.c<br>
<br>
Patch 8.1.0229<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when dumping profiling data.<br>
Solution:&nbsp;&nbsp; Reset flag indicating that initialization was done.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 8.1.0230<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Directly checking&nbsp;<a class="Type" href="options.html#'buftype'">'buftype'</a>&nbsp;value.<br>
Solution:&nbsp;&nbsp; Add the bt_normal() function. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/ex_docmd.c, src/fileio.c, src/proto/buffer.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0231<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:help -? goes to help for -+.<br>
Solution:&nbsp;&nbsp; Add -? to list of special cases. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_help_tagjump.vim<br>
<br>
Patch 8.1.0232<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ruby error does not include backtrace.<br>
Solution:&nbsp;&nbsp; Add an error backtrace. (Masataka Pocke Kuwabara, closes #3267)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.1.0233<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;safe&quot; argument of call_vim_function() is always FALSE.<br>
Solution:&nbsp;&nbsp; Remove the argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/proto/eval.pro, src/edit.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/ex_getln.c<br>
<br>
Patch 8.1.0234<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Incorrect reference counting in Perl interface.<br>
Solution:&nbsp;&nbsp; Call SvREFCNT_inc more often, add a test. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs, src/testdir/test_perl.vim<br>
<br>
Patch 8.1.0235 (after 8.1.0231)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More help tags that jump to the wrong location.<br>
Solution:&nbsp;&nbsp; Add more exceptions and a table for &quot;expr-&quot; tags. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_help_tagjump.vim<br>
<br>
Patch 8.1.0236 (after 8.1.0232)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ruby build fails when ruby_intern is missing.<br>
Solution:&nbsp;&nbsp; Do not use ruby_intern2. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.1.0237<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ruby on Cygwin doesn't always work.<br>
Solution:&nbsp;&nbsp; Use LIBRUBY_SO if LIBRUBY_ALIASES isn't set. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.1.0238<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'buftype'">'buftype'</a>&nbsp;is cleared when using &quot;:term ++hidden cat&quot;. (Marcin<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Szamotulski)<br>
Solution:&nbsp;&nbsp; Set the &quot;options initialized&quot; flag earlier. (closes #3278)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0239 (after 8.1.0236)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Now Ruby build fails on other systems.<br>
Solution:&nbsp;&nbsp; Always define rb_intern. (Ken Takata, closes #3275)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.1.0240<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;g:actual_curbuf set in wrong scope. (Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Prepend the &quot;g:&quot; name space. (closes #3279)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 8.1.0241<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Effect of &quot;:tabmove&nbsp;<span class="Special">N</span>&quot; is not clear.<br>
Solution:&nbsp;&nbsp; Add a test that shows the behavior. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3288)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabpage.vim<br>
<br>
Patch 8.1.0242<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insert mode completion may use an invalid buffer pointer. (Akib<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nizam)<br>
Solution:&nbsp;&nbsp; Check for ins_buf to be valid. (closes #3290)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 8.1.0243<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using :term ++close ++hidden closes a window. (Marcin Szamotulski)<br>
Solution:&nbsp;&nbsp; Don't close the window if only using it temporarily for unloading<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the terminal buffer. (closes #3287)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0244<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No redraw when using a STOP signal on Vim and then a CONT signal.<br>
Solution:&nbsp;&nbsp; Catch the CONT signal and force a redraw. (closes #3285)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/term.c, src/proto/term.pro<br>
<br>
Patch 8.1.0245<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Calling setline() in TextChangedI autocmd breaks undo. (Jason<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Felice)<br>
Solution:&nbsp;&nbsp; Don't save lines for undo when already saved. (closes #3291)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 8.1.0246 (after 8.1.0245)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure without the +eval feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 8.1.0247<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python: error message for failing import is incorrect.<br>
Solution:&nbsp;&nbsp; Adjust how modules are loaded. (Ozaki Kiichi, closes #3162)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/testdir/test86.ok, src/testdir/test87.ok<br>
<br>
Patch 8.1.0248<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;duplicated quickfix code.<br>
Solution:&nbsp;&nbsp; Move the code to a function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0249<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GTK: when screen DPI changes Vim does not handle it.<br>
Solution:&nbsp;&nbsp; Handle the gtk-xft-dpi signal. (Roel van de Kraats,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2357)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 8.1.0250<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows using VTP: windows size change incorrect.<br>
Solution:&nbsp;&nbsp; Call SetConsoleScreenBufferSize() first. (Nobuhiro Takasaki,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3164)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.0251<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using a full path is supported for&nbsp;<a class="Type" href="options.html#'directory'">'directory'</a>&nbsp;but not for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'backupdir'">'backupdir'</a>. (Mikolaj Machowski)<br>
Solution:&nbsp;&nbsp; Support&nbsp;<a class="Type" href="options.html#'backupdir'">'backupdir'</a>&nbsp;as well. (Christian Brabandt, closes #179)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/fileio.c, src/memline.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/memline.pro, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_backup.vim, src/Make_all.mak<br>
<br>
Patch 8.1.0252<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix functions are too long.<br>
Solution:&nbsp;&nbsp; Refactor. (Yegappan Lakshmanan, closes #2950)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0253<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Saving and restoring window title does not always work.<br>
Solution:&nbsp;&nbsp; Use the stack push and pop commands. (Kouichi Iwamoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3059)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/term.txt, src/main.c, src/option.c, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/term.pro, src/term.c, src/term.h, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/ex_docmd.c, src/option.c, src/os_amiga.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/os_win32.c<br>
<br>
Patch 8.1.0254 (after 8.1.0253)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build on MS-Windows; Unused macro HAVE_HANDLE_DROP.<br>
Solution:&nbsp;&nbsp; Adjust #ifdef. Delete the macro.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/vim.h<br>
<br>
Patch 8.1.0255 (after 8.1.0251)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Backup test fails when using shadow directory.<br>
Solution:&nbsp;&nbsp; Remove check for &quot;src&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_backup.vim<br>
<br>
Patch 8.1.0256 (after 8.1.0245)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using setline() in TextChangedI splits undo.<br>
Solution:&nbsp;&nbsp; Use another solution for undo not working properly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 8.1.0257<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for pathshorten().<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3295)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0258<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough testing for the CompleteDone event.<br>
Solution:&nbsp;&nbsp; Add a test. (closes #3297)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ins_complete.vim<br>
<br>
Patch 8.1.0259<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for fixed quickfix issue.<br>
Solution:&nbsp;&nbsp; Add a test.&nbsp;&nbsp;Clean up the code a bit. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0260<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No LGTM logo in README file.<br>
Solution:&nbsp;&nbsp; Add one. (Bas van Schaik, closes #3305)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.md<br>
<br>
Patch 8.1.0261<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity complains about a negative array index.<br>
Solution:&nbsp;&nbsp; When qf_id2nr() cannot find the list then don't set qf_curlist.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0262<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough testing for getftype().<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3300)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_stat.vim<br>
<br>
Patch 8.1.0263<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel log doesn't show part of channel.<br>
Solution:&nbsp;&nbsp; Add &quot;sock&quot;, &quot;out&quot;, &quot;err&quot; or &quot;in&quot;. (Ozaki Kiichi, closes #3303)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.1.0264<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Backup tests fail when CWD is in /tmp.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<a class="Type" href="options.html#'backupskip'">'backupskip'</a>&nbsp;empty. (Christian Brabandt, closes #3301)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_backup.vim<br>
<br>
Patch 8.1.0265<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The getcmdline() function is way too big.<br>
Solution:&nbsp;&nbsp; Factor out the incremental search highlighting.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.1.0266<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Parsing Ex address range is not a separate function.<br>
Solution:&nbsp;&nbsp; Refactor do_one_cmd() to separate address parsing.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/proto/ex_docmd.pro<br>
<br>
Patch 8.1.0267<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No good check if restoring quickfix list worked.<br>
Solution:&nbsp;&nbsp; Let qf_restore_list() return OK/FAIL. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0268<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;File type checking has too many #ifdef.<br>
Solution:&nbsp;&nbsp; Always define the S_IF macros. (Ken Takata, closes #3306)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/evalfunc.c, src/fileio.c, src/if_cscope.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_unix.h, src/vim.h<br>
<br>
Patch 8.1.0269<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ruby Kernel.#p method always returns nil.<br>
Solution:&nbsp;&nbsp; Copy p method implementation from Ruby code. (Masataka Pocke<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kuwabara, closes #3315)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c, src/testdir/test_ruby.vim<br>
<br>
Patch 8.1.0270<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Checking for a Tab in a line could be faster.<br>
Solution:&nbsp;&nbsp; Use strchr() instead of strrchr(). (closes #3312)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.1.0271<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;doesn't work for :s, :g or :v.<br>
Solution:&nbsp;&nbsp; Also use&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;for other commands that use a pattern.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/globals.h, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim<br>
<br>
Patch 8.1.0272<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Options test fails if temp var ends in slash. (Tom Briden)<br>
Solution:&nbsp;&nbsp; Check for optional slash. (closes #3308)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim<br>
<br>
Patch 8.1.0273<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access when using&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>.<br>
Solution:&nbsp;&nbsp; Reset &quot;patlen&quot; when using previous search pattern.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.1.0274<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;triggers on &quot;:source&quot;.<br>
Solution:&nbsp;&nbsp; Check for the whole command name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim<br>
<br>
Patch 8.1.0275<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;with :s doesn't start at cursor line.<br>
Solution:&nbsp;&nbsp; Set cursor before parsing address. (closes #3318)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also accept a match at the start of the first line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim<br>
<br>
Patch 8.1.0276<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;highlighting with :s.<br>
Solution:&nbsp;&nbsp; Add a screendump test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_01.dump<br>
<br>
Patch 8.1.0277<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;highlighting wrong in a few cases.<br>
Solution:&nbsp;&nbsp; Fix using last search pattern.&nbsp;&nbsp;Restore highlighting when changing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;command. (issue #3321)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_03.dump<br>
<br>
Patch 8.1.0278<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;highlighting does not accept reverse range.<br>
Solution:&nbsp;&nbsp; Swap the range when needed. (issue #3321)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_04.dump<br>
<br>
Patch 8.1.0279<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;highlighting does not skip white space.<br>
Solution:&nbsp;&nbsp; Skip white space after the command. (issue #3321)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_05.dump<br>
<br>
Patch 8.1.0280<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;highlighting does not work for &quot;:g!/&quot;.<br>
Solution:&nbsp;&nbsp; Skip the exclamation mark. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim<br>
<br>
Patch 8.1.0281<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Parsing command modifiers is not separated.<br>
Solution:&nbsp;&nbsp; Move command modifier parsing to a separate function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/proto/ex_docmd.pro, src/ex_cmds.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/feature.h<br>
<br>
Patch 8.1.0282<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;does not work with command modifiers.<br>
Solution:&nbsp;&nbsp; Skip command modifiers.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/proto/ex_docmd.pro, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim<br>
<br>
Patch 8.1.0283 (after 8.1.0282)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing test dump.<br>
Solution:&nbsp;&nbsp; Add the dump file<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_06.dump<br>
<br>
Patch 8.1.0284<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>&nbsp;highlighting wrong with&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>.<br>
Solution:&nbsp;&nbsp; Move the cursor back if the match is outside the range.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_07.dump<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_08.dump<br>
<br>
Patch 8.1.0285<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for conversion.<br>
Solution:&nbsp;&nbsp; Add a type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.1.0286<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;does not apply to :smagic and :snomagic.<br>
Solution:&nbsp;&nbsp; Add support. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim<br>
<br>
Patch 8.1.0287<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MAX is not defined everywhere.<br>
Solution:&nbsp;&nbsp; Define MAX where needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.1.0288<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix code uses cmdidx too often.<br>
Solution:&nbsp;&nbsp; Add is_loclist_cmd(). (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/proto/ex_docmd.pro, src/quickfix.c<br>
<br>
Patch 8.1.0289<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor moves to wrong column after quickfix jump.<br>
Solution:&nbsp;&nbsp; Set the curswant flag. (Andy Massimino, closes #3331)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0290<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;cit&quot; on an empty HTML tag changes the whole tag.<br>
Solution:&nbsp;&nbsp; Only adjust the area in Visual mode. (Andy Massimino,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3332)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_textobjects.vim<br>
<br>
Patch 8.1.0291<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;highlighting not used for :sort.<br>
Solution:&nbsp;&nbsp; Handle pattern in :sort command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_sort_01.dump<br>
<br>
Patch 8.1.0292<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: the text &quot;self-installing&quot; confuses some users.<br>
Solution:&nbsp;&nbsp; Remove the text from the uninstall entry. (closes #3337)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c<br>
<br>
Patch 8.1.0293<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Checks for type of stack is cryptic.<br>
Solution:&nbsp;&nbsp; Define IS_QF_STACK() and IS_LL_STACK(). (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0294<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: sometimes uses short directory name.<br>
Solution:&nbsp;&nbsp; Expand to long file name with correct caps. (Nobuhiro Takasaki,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3334)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.0295<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;highlighting for :vimgrep and similar commands.<br>
Solution:&nbsp;&nbsp; Parse the :vimgrep command and similar ones to locate the search<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pattern. (Hirohito Higashi, closes #3344)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_vimgrep_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_vimgrep_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_vimgrep_03.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_vimgrep_04.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_vimgrep_05.dump<br>
<br>
Patch 8.1.0296<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Command parsing for&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;is a bit ugly.<br>
Solution:&nbsp;&nbsp; Return when there is no pattern.&nbsp;&nbsp;Put common checks together.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.1.0297 (after 8.1.0294)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: tests fail, Vim crashes.<br>
Solution:&nbsp;&nbsp; Fix long file name handling.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.0298<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Window resize test sometimes fails on Mac.<br>
Solution:&nbsp;&nbsp; Add Test_popup_and_window_resize() to flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.0299 (after 8.1.0298)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;misplaced comment<br>
Solution:&nbsp;&nbsp; Remove comment<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.0300<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The old window title might be freed twice. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Do not free &quot;oldtitle&quot; in a signal handler but set a flag to have<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it freed later.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.1.0301<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GTK: Input method popup displayed on wrong screen.<br>
Solution:&nbsp;&nbsp; Add the screen position offset. (Ken Takata, closes #3268)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c, src/gui_gtk_x11.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_gtk_x11.pro<br>
<br>
Patch 8.1.0302<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using :suspend and &quot;fg&quot;.<br>
Solution:&nbsp;&nbsp; Undo patch 8.1.0244.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/term.c, src/proto/term.pro<br>
<br>
Patch 8.1.0303<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;line2byte() is wrong for last line with&nbsp;<a class="Type" href="options.html#'noeol'">'noeol'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'nofixeol'">'nofixeol'</a>.<br>
Solution:&nbsp;&nbsp; Fix off-by-one error. (Shane Harper, closes #3351)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0304<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No redraw when using a STOP signal on Vim and then a CONT signal.<br>
Solution:&nbsp;&nbsp; Catch the CONT signal and set the terminal to raw mode.&nbsp;&nbsp;This is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;like 8.1.0244 but without the screen redraw and a fix for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;multi-threading suggested by Dominique Pelle.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/term.c, src/proto/term.pro<br>
<br>
Patch 8.1.0305<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing support for Lua 5.4 32 bits on Unix.<br>
Solution:&nbsp;&nbsp; Define lua_newuserdatauv. (Kazunobu Kuriyama)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c<br>
<br>
Patch 8.1.0306<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Plural messages are not translated properly.<br>
Solution:&nbsp;&nbsp; Add more usage of NGETTEXT(). (Sergey Alyoshin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/buffer.c, src/ex_cmds.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/misc1.c, src/ops.c<br>
<br>
Patch 8.1.0307<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no good way to get the window layout.<br>
Solution:&nbsp;&nbsp; Add the winlayout() function. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/proto/window.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_window_id.vim<br>
<br>
Patch 8.1.0308<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A quick undo shows &quot;1 seconds ago&quot;. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add singular/plural message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 8.1.0309<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Profiling does not show a count for condition lines. (Daniel<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hahler)<br>
Solution:&nbsp;&nbsp; Count lines when not skipping. (Ozaki Kiichi, closes #2499)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_profile.vim<br>
<br>
Patch 8.1.0310<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;File info message not always suppressed with 'F' in&nbsp;<a class="Type" href="options.html#'shortmess'">'shortmess'</a>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Asheq Imran)<br>
Solution:&nbsp;&nbsp; Save and restore msg_silent. (Christian Brabandt, closes #3221)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/memline.c, src/testdir/test_options.vim<br>
<br>
Patch 8.1.0311<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Filtering entries in a quickfix list is not easy.<br>
Solution:&nbsp;&nbsp; Add the cfilter plugin. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/cfilter/plugin/cfilter.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/quickfix.txt<br>
<br>
Patch 8.1.0312<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong type for flags used in signal handlers.<br>
Solution:&nbsp;&nbsp; Use sig_atomic_t. (Dominique Pelle, closes #3356)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/os_unix.c, src/os_win32.h<br>
<br>
Patch 8.1.0313<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Information about a swap file is unavailable.<br>
Solution:&nbsp;&nbsp; Add swapinfo(). (Enzo Ferber)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/memline.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/memline.pro, src/testdir/test_swap.vim<br>
<br>
Patch 8.1.0314 (after 8.1.0313)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure without the +eval feature. (Brenton Horne)<br>
Solution:&nbsp;&nbsp; Add #ifdef.&nbsp;&nbsp;Also add the &quot;dirty&quot; item.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, runtime/doc/eval.txt, src/testdir/test_swap.vim<br>
<br>
Patch 8.1.0315<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Helpgrep with language doesn't work properly. (Takuya Fujiwara)<br>
Solution:&nbsp;&nbsp; Check for the language earlier. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0316<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;swapinfo() test fails on Travis.<br>
Solution:&nbsp;&nbsp; Handle a long host name. (Ozaki Kiichi, closes #3361)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also make the version check flexible. (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_swap.vim<br>
<br>
Patch 8.1.0317<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cscope test fails when using shadow directory.<br>
Solution:&nbsp;&nbsp; Resolve symlink in Vim. (James McCoy, closes #3364)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cscope.vim<br>
<br>
Patch 8.1.0318<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The getftype() test may fail for char devices if the file<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;disappeared in between the listing and the getftype() call.<br>
Solution:&nbsp;&nbsp; Ignore empty result. (Ozaki Kiichi, closes #3360)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_stat.vim<br>
<br>
Patch 8.1.0319<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;bzero() function prototype doesn't work for Android.<br>
Solution:&nbsp;&nbsp; Add an #ifdef. (Elliott Hughes, closes #3365)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/osdef1.h.in<br>
<br>
Patch 8.1.0320<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too much&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;highlight for pattern matching everything.<br>
Solution:&nbsp;&nbsp; Add the skiplen to the command and remove the line range.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt)&nbsp;&nbsp;Check for empty pattern earlier.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_09.dump<br>
<br>
Patch 8.1.0321 (after 8.1.0320)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;regression: /\v highlights everything.<br>
Solution:&nbsp;&nbsp; Put back the empty_pattern() check.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_search_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_search_02.dump<br>
<br>
Patch 8.1.0322<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_copy_winopt() does not restore&nbsp;<a class="Type" href="options.html#'hidden'">'hidden'</a>.<br>
Solution:&nbsp;&nbsp; Restore the option, fix indent. (Ozaki Kiichi, closes #3367)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim<br>
<br>
Patch 8.1.0323<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Reverse order of VTP calls only needed the first time.<br>
Solution:&nbsp;&nbsp; Add a flag to remember the state. (Nobuhiro Takasaki, closes #3366)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.0324<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Off-by-one error in cmdidx check. (Coverity)<br>
Solution:&nbsp;&nbsp; Use &quot;&gt;=&quot; instead of &quot;&gt;&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.1.0325<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Strings in swap file may not be NUL terminated. (Coverity)<br>
Solution:&nbsp;&nbsp; Limit the length of the used string.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 8.1.0326<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Screen dump does not consider NUL and space equal.<br>
Solution:&nbsp;&nbsp; Use temp variables instead of character from cell.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/dumps/Test_syntax_c_01.dump<br>
<br>
Patch 8.1.0327<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The &quot;g&nbsp;<span class="Special">CTRL-G</span>&quot; command isn't tested much.<br>
Solution:&nbsp;&nbsp; Add more tests. (Dominique Pelle, closes #3369)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim<br>
<br>
Patch 8.1.0328<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;inputlist() doesn't work with a timer. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Don't redraw when cmdline_row is zero. (Hirohito Higashi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3239)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/screen.c<br>
<br>
Patch 8.1.0329<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using inputlist() during startup results in garbage. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Solution:&nbsp;&nbsp; Make sure the xterm tracing is stopped when disabling the mouse.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.1.0330<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The qf_add_entries() function is too long.<br>
Solution:&nbsp;&nbsp; Split in two parts. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0331<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insufficient test coverage for :mkview and :loadview.<br>
Solution:&nbsp;&nbsp; Add tests. (Dominique Pelle, closes #3385)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.0332<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get Gdk-Critical error on first balloon show.<br>
Solution:&nbsp;&nbsp; Get screen geometry using the draw area widget. (Davit Samvelyan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3386)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c<br>
<br>
Patch 8.1.0333<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:mkview does not restore cursor properly after &quot;$&quot;. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Solution:&nbsp;&nbsp; Position the cursor with &quot;normal! $&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.0334<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'autowrite'">'autowrite'</a>&nbsp;takes effect when buffer is not to be written.<br>
Solution:&nbsp;&nbsp; Don't write buffers that are not supposed to be written. (Even Q<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jones, closes #3391)&nbsp;&nbsp;Add tests for&nbsp;<a class="Type" href="options.html#'autowrite'">'autowrite'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_writefile.vim<br>
<br>
Patch 8.1.0335<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;mkview test fails on CI.<br>
Solution:&nbsp;&nbsp; Attempt to force recomputing curswant after folding.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.0336<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;mkview test still fails on CI.<br>
Solution:&nbsp;&nbsp; Ignore curswant, don't see another solution.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.0337<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:file fails in quickfix command.<br>
Solution:&nbsp;&nbsp; Allow :file without argument when curbuf_lock is set. (Jason<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0338<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: VTP doesn't work properly with PowerShell.<br>
Solution:&nbsp;&nbsp; Adjust the color index. (Nobuhiro Takasaki, closes #3347)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.0339<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong highlight when&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;set and cancelling :s.<br>
Solution:&nbsp;&nbsp; Reset search line range. (Hirohito Higashi, Masamichi Abe)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_10.dump<br>
<br>
Patch 8.1.0340<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for :spellinfo.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3394)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_spell.vim<br>
<br>
Patch 8.1.0341<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:argadd in empty buffer changes the buffer name. (Pavol Juhas)<br>
Solution:&nbsp;&nbsp; Don't re-use the current buffer when not going to edit the file.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #3397)&nbsp;&nbsp;Do re-use the current buffer for :next.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_arglist.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_command_count.vim<br>
<br>
Patch 8.1.0342<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when a callback deletes a window that is being used. (Ozaki<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kiichi)<br>
Solution:&nbsp;&nbsp; Do not unload a buffer that is being displayed while redrawing the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screen. Also avoid invoking callbacks while redrawing.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #2107)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/misc2.c<br>
<br>
Patch 8.1.0343<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'shellslash'">'shellslash'</a>&nbsp;is not used for getcwd() with local directory.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Call slash_adjust() later. (closes #3399)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.0344<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'hlsearch'">'hlsearch'</a>&nbsp;highlighting has a gap after /$.<br>
Solution:&nbsp;&nbsp; Remove suspicious code. (Ricky Zhou, closes #3400)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_hlsearch.vim<br>
<br>
Patch 8.1.0345<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get the window id associated with the location list.<br>
Solution:&nbsp;&nbsp; Add the &quot;filewinid&quot; argument to getloclist(). (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #3202)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0346<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with Aap is outdated and unused.<br>
Solution:&nbsp;&nbsp; Remove the Aap build files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/main.aap, src/testdir/main.aap, src/config.aap.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/macros/maze/main.aap<br>
<br>
Patch 8.1.0347<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some tests fail on Solaris.<br>
Solution:&nbsp;&nbsp; Skip writefile test. Fix path to libc.so. Improve test for Turkish<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case change. (Libor Bukata, Bjorn Linse, closes #3403)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/testdir/test_normal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_writefile.vim<br>
<br>
Patch 8.1.0348<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On Travis the slowest build is run last. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Reorder the build entries.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.0349<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when wiping buffer in a callback.<br>
Solution:&nbsp;&nbsp; Do not handle messages when only peeking for a character.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #2107)&nbsp;&nbsp;Add &quot;redraw_flag&quot; to test_override().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_win32.c, src/screen.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, runtime/doc/eval.txt<br>
<br>
Patch 8.1.0350<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim may block on ch_sendraw() when the job is sending data back to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vim, which isn't read yet. (Nate Bosch)<br>
Solution:&nbsp;&nbsp; Add the &quot;noblock&quot; option to job_start(). (closes #2548)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/structs.h, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/channel.txt<br>
<br>
Patch 8.1.0351<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;for :/foo/s//<span class="Special">&lt;Esc&gt;</span>&nbsp;changes last search pattern.<br>
Solution:&nbsp;&nbsp; Save the last search pattern earlier.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/ex_getln.c, src/testdir/test_search.vim<br>
<br>
Patch 8.1.0352<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Browsing compressed tar files does not always work.<br>
Solution:&nbsp;&nbsp; Use the &quot;file&quot; command to get the compression type.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/autoload/tar.vim<br>
<br>
Patch 8.1.0353<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;An &quot;after&quot; directory of a package is appended to&nbsp;<a class="Type" href="options.html#'rtp'">'rtp'</a>, which<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will be after the user's &quot;after&quot; directory. ()<br>
Solution:&nbsp;&nbsp; Insert the package &quot;after&quot; directory before any other &quot;after&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory in&nbsp;<a class="Type" href="options.html#'rtp'">'rtp'</a>. (closes #3409)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_packadd.vim<br>
<br>
Patch 8.1.0354 (after 8.1.0353)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Packadd test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Ignore difference between forward and backward slashes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_packadd.vim<br>
<br>
Patch 8.1.0355<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Incorrect adjusting the popup menu for the preview window.<br>
Solution:&nbsp;&nbsp; Compute position and height properly. (Ronan Pigott)&nbsp;&nbsp;Also show at<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;least ten items. (closes #3414)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.1.0356<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using :s with&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;prevents&nbsp;<span class="Special">CTRL-R</span>&nbsp;<span class="Special">CTRL-W</span>. (Boris Staletic)<br>
Solution:&nbsp;&nbsp; When past the pattern put cursor back in the start position.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #3413)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim<br>
<br>
Patch 8.1.0357<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Instructions for tests are outdated. (Jason Franklin)<br>
Solution:&nbsp;&nbsp; Update the text.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/README.txt<br>
<br>
Patch 8.1.0358<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using term_dumpwrite() after the job finished.<br>
Solution:&nbsp;&nbsp; Check for a finished job and give an error message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.0359<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No clue what test failed when using a screendump twice.<br>
Solution:&nbsp;&nbsp; Add an extra argument to VerifyScreenDump().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim<br>
<br>
Patch 8.1.0360<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using an external diff program is slow and inflexible.<br>
Solution:&nbsp;&nbsp; Include the xdiff library. (Christian Brabandt, closes #2732)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Use it by default.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, runtime/doc/diff.txt, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak, src/Makefile, src/diff.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/testdir/dumps/Test_diff_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_03.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_04.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_05.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_06.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_07.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_08.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_09.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_10.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_11.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_12.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_13.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_14.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_15.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_16.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_diffmode.vim, src/xdiff/COPYING,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xdiff.h, src/xdiff/xdiffi.c, src/xdiff/xdiffi.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xemit.c, src/xdiff/xemit.h, src/xdiff/xhistogram.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xinclude.h, src/xdiff/xmacros.h, src/xdiff/xpatience.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xprepare.c, src/xdiff/xprepare.h, src/xdiff/xtypes.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xutils.c, src/xdiff/xutils.h, src/xdiff/README.txt<br>
<br>
Patch 8.1.0361<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Remote user not used for completion. (Stucki)<br>
Solution:&nbsp;&nbsp; Use $USER too. (Dominique Pelle, closes #3407)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 8.1.0362<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get the script line number when executing a function.<br>
Solution:&nbsp;&nbsp; Store the line number besides the script ID. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3362)&nbsp;&nbsp;Also display the line number with &quot;:verbose set&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/cmdline.txt, runtime/doc/eval.txt, src/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/eval.c, src/evalfunc.c, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/ex_getln.c, src/fileio.c, src/getchar.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/main.c, src/menu.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/structs.h, src/syntax.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/test_expand_func.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_maparg.vim, src/term.c src/userfunc.c<br>
<br>
Patch 8.1.0363<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Internal diff isn't used by default as advertised.<br>
Solution:&nbsp;&nbsp; Add &quot;internal&quot; to the default value of&nbsp;<a class="Type" href="options.html#'diffopt'">'diffopt'</a>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also add couple of files missing from the distribution.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, runtime/doc/options.txt, Filelist<br>
<br>
Patch 8.1.0364<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning in xdiff code. (Yegappan Lakshmanan)<br>
Solution:&nbsp;&nbsp; Initialize directly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xemit.c, src/xdiff/README.txt<br>
<br>
Patch 8.1.0365<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Function profile doesn't specify where it was defined.<br>
Solution:&nbsp;&nbsp; Show the script name and line number.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/testdir/test_profile.vim<br>
<br>
Patch 8.1.0366<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Pieces of the xdiff code are not used.<br>
Solution:&nbsp;&nbsp; Add &quot;#if 0&quot; to omit unused code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xemit.c<br>
<br>
Patch 8.1.0367<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getchar(1) no longer processes pending messages. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Solution:&nbsp;&nbsp; Call parse_queued_messages().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.0368<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GTK code has too many #ifdefs and building fails with GTK 2.10.<br>
Solution:&nbsp;&nbsp; Always use gtk_widget_get_window() and define it for older GTK<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;versions. (Ken Takata, closes #3421)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c, src/gui_gtk.c, src/gui_gtk_f.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/mbyte.c, src/vim.h<br>
<br>
Patch 8.1.0369<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Continuation lines cannot contain comments.<br>
Solution:&nbsp;&nbsp; Support using &quot;\ .<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_eval_stuff.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/indent/vim.vim, runtime/doc/repeat.txt<br>
<br>
Patch 8.1.0370<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not using internal diff if&nbsp;<a class="Type" href="options.html#'diffopt'">'diffopt'</a>&nbsp;is not changed.<br>
Solution:&nbsp;&nbsp; Correct initialization of diff_flags. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c<br>
<br>
Patch 8.1.0371<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Argument types for select() may be wrong.<br>
Solution:&nbsp;&nbsp; Use a configure macro. (Tobias Ulmer)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.h.in, src/configure.ac, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.1.0372<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Screen updating slow when&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>&nbsp;is set.<br>
Solution:&nbsp;&nbsp; Only redraw the old and new cursor line, not all lines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/move.c, src/screen.c, src/proto/screen.pro<br>
<br>
Patch 8.1.0373 (after 8.1.0372)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Screen updating still slow when&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>&nbsp;is set.<br>
Solution:&nbsp;&nbsp; Fix setting last_cursorline.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 8.1.0374<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Moving the cursor is slow when&nbsp;<a class="Type" href="options.html#'relativenumber'">'relativenumber'</a>&nbsp;is set.<br>
Solution:&nbsp;&nbsp; Only redraw the number column, not all lines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/move.c<br>
<br>
Patch 8.1.0375<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use diff mode with Cygwin diff.exe. (Igor Forca)<br>
Solution:&nbsp;&nbsp; Skip over unrecognized lines in the diff output.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/testdir/test_diffmode.vim<br>
<br>
Patch 8.1.0376<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for uninitialized variable. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Initialize the variable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.0377<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Xdiff doesn't use the Vim memory allocation functions.<br>
Solution:&nbsp;&nbsp; Change the xdl_ defines.&nbsp;&nbsp;Check for out-of-memory.&nbsp;&nbsp;Rename<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ignored&quot; to &quot;vim_ignored&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xdiff.h, src/xdiff/xpatience.c, src/xdiff/xdiffi.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/diff.c, src/evalfunc.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/main.c, src/mbyte.c, src/netbeans.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_win32.c, src/ui.c, src/window.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/term.c<br>
<br>
Patch 8.1.0378<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;CI build failure.<br>
Solution:&nbsp;&nbsp; Include vim.h as ../vim.h.&nbsp;&nbsp;Fix compiler warning.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xdiff.h, src/xdiff/xpatience.c<br>
<br>
Patch 8.1.0379<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build dependencies are incomplete.<br>
Solution:&nbsp;&nbsp; Update the build dependencies, mainly for xdiff.&nbsp;&nbsp;Adjust object<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory for libvterm and xdiff.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/configure.ac, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/screen.c, src/libvterm/src/termscreen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 8.1.0380<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make proto&quot; doesn't work well.<br>
Solution:&nbsp;&nbsp; Define a few more types for cproto.&nbsp;&nbsp;Update proto files.&nbsp;&nbsp;Fix that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;workshop didn't build.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/protodef.h, src/if_ruby.c, src/workshop.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/digraph.pro, src/hardcopy.pro, src/proto/option.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/window.pro<br>
<br>
Patch 8.1.0381<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Variable declaration not at start of block.<br>
Solution:&nbsp;&nbsp; Fix line ordering.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xpatience.c<br>
<br>
Patch 8.1.0382<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some make programs can't handle dependency on &quot;xdiff/../&quot;.<br>
Solution:&nbsp;&nbsp; Strip it out.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.1.0383<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing source file rename.<br>
Solution:&nbsp;&nbsp; Update the dependency.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.1.0384<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sign ordering depends on +netbeans feature.<br>
Solution:&nbsp;&nbsp; Also order signs without +netbeans. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3224)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/buffer.c<br>
<br>
Patch 8.1.0385<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coveralls badge doesn't update.<br>
Solution:&nbsp;&nbsp; Update the URL<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.md<br>
<br>
Patch 8.1.0386<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot test with non-default option value.<br>
Solution:&nbsp;&nbsp; Add test_option_not_set().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/option.c, src/proto/option.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.0387<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for&nbsp;<a class="Type" href="options.html#'ambiwidth'">'ambiwidth'</a>&nbsp;detection.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup_utf8.vim<br>
<br>
Patch 8.1.0388<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity complains about possible NULL pointer use.<br>
Solution:&nbsp;&nbsp; Use get_tv_string() instead of get_tv_string_chk().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.0389<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:behave command is not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3429)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_all.mak, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_behave.vim<br>
<br>
Patch 8.1.0390<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Scrollbars are not tested.<br>
Solution:&nbsp;&nbsp; Add test_scrollbar() and a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_gui.vim<br>
<br>
Patch 8.1.0391<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building in a shadow directory fails.<br>
Solution:&nbsp;&nbsp; Don't link the xdiff directory but what's in it. (closes #3428)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.1.0392<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error while typing :/foo/s// with&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;enabled.<br>
Solution:&nbsp;&nbsp; Do not give search errors when highlighting matches.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/proto/ex_docmd.pro, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim<br>
<br>
Patch 8.1.0393<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all white space difference options available.<br>
Solution:&nbsp;&nbsp; Add &quot;iblank&quot;, &quot;iwhiteall&quot; and &quot;iwhiteeol&quot; to&nbsp;<a class="Type" href="options.html#'diffopt'">'diffopt'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/testdir/test_diffmode.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_17.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_18.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_19.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_20.dump<br>
<br>
Patch 8.1.0394<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Diffs are not always updated correctly.<br>
Solution:&nbsp;&nbsp; When using internal diff update for any changes properly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/diff.c, src/proto/diff.pro, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.1.0395<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning on 64-bit MS-Windows.<br>
Solution:&nbsp;&nbsp; Add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c<br>
<br>
Patch 8.1.0396<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Another compiler warning on 64-bit MS-Windows.<br>
Solution:&nbsp;&nbsp; Add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xutils.c<br>
<br>
Patch 8.1.0397<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No event triggered after updating diffs.<br>
Solution:&nbsp;&nbsp; Add the DiffUpdated event.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/diff.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_diffmode.vim, runtime/doc/autocmd.txt<br>
<br>
Patch 8.1.0398<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for -o and -O command line arguments.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3438)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim<br>
<br>
Patch 8.1.0399<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'hlsearch'">'hlsearch'</a>&nbsp;highlight remains in other window after cancelling<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;command.<br>
Solution:&nbsp;&nbsp; Redraw all windows. Also remove unnecessary delays. (closes #3437)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_11.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_12.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_13.dump<br>
<br>
Patch 8.1.0400<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory with :diffget.<br>
Solution:&nbsp;&nbsp; Skip ex_diffupdate() while updating diffs. (closes #3442)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c<br>
<br>
Patch 8.1.0401<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't get swap name of another buffer.<br>
Solution:&nbsp;&nbsp; Add swapname(). (Ozaki Kiichi, closes #3441)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_swap.vim<br>
<br>
Patch 8.1.0402<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The DiffUpdate event isn't triggered for :diffput.<br>
Solution:&nbsp;&nbsp; Also trigger DiffUpdate for :diffget and :diffput.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c<br>
<br>
Patch 8.1.0403<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Header file missing from distribution.<br>
Solution:&nbsp;&nbsp; Add src/protodef.h.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.1.0404<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing invalid memory with long argument name.<br>
Solution:&nbsp;&nbsp; Use item_count instead of checking for a terminating NULL.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle, closes #3444)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim, src/version.c<br>
<br>
Patch 8.1.0405<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many #ifdefs for GTK.<br>
Solution:&nbsp;&nbsp; Define macros instead of using #ifdef. (Ken Takata, closes #3436)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c, src/gui_gtk.c, src/gui_gtk_f.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/vim.h<br>
<br>
Patch 8.1.0406<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Several command line arguments are not tested.<br>
Solution:&nbsp;&nbsp; Add tests for -A, -F, -H, -p and -V. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3446)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim<br>
<br>
Patch 8.1.0407<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix code mixes using the stack and a list pointer.<br>
Solution:&nbsp;&nbsp; Use a list pointer in more places. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3443)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0408<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MSVC: cannot use the &quot;x64&quot; native compiler option.<br>
Solution:&nbsp;&nbsp; Ignore case for %Platform%.&nbsp;&nbsp;Improve documentation. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLpc.txt, src/msvc2015.bat<br>
<br>
Patch 8.1.0409 (after 8.1.0406)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Startup test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Do the Arabic test in silent Ex mode.&nbsp;&nbsp;Loosen the check for -V2.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim<br>
<br>
Patch 8.1.0410<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The ex_copen() function is too long.<br>
Solution:&nbsp;&nbsp; Refactor to split off two functions. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0411<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Renamed file missing from distribution.<br>
Solution:&nbsp;&nbsp; Rename screen.c to termscreen.c (Zdenek Dohnal, closes #3449)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.1.0412<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with GTK 2.4.<br>
Solution:&nbsp;&nbsp; Add back a few #ifdefs. (Ken Takata, closes #3447)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also support older GTK. (Tom Christensen)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 8.1.0413<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test output is duplicated or missing.<br>
Solution:&nbsp;&nbsp; Adjust the MS-Windows and Unix test makefiles. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3452)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Makefile<br>
<br>
Patch 8.1.0414<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;v:option_old and v:option_new are cleared when using :set in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;OptionSet autocmd. (Gary Johnson)<br>
Solution:&nbsp;&nbsp; Don't trigger OptionSet recursively.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.1.0415<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not actually using 16 colors with vtp.<br>
Solution:&nbsp;&nbsp; Always use 256 colors when vtp is used. (Nobuhiro Takasaki,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3432)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/term.c<br>
<br>
Patch 8.1.0416<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sort doesn't report deleted lines.<br>
Solution:&nbsp;&nbsp; Call msgmore(). (Christian Brabandt, closes #3454)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_sort.vim<br>
<br>
Patch 8.1.0417<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Several command line arguments are not tested.<br>
Solution:&nbsp;&nbsp; Add tests for -m, -M, -R and -Vfile. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3458)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim<br>
<br>
Patch 8.1.0418<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: cannot separate Lua include and library directories.<br>
Solution:&nbsp;&nbsp; Add LUA_LIBDIR and LUA_INCDIR. (Ken Takata, closes #3464)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 8.1.0419<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cygwin: running cproto fails with -O2.<br>
Solution:&nbsp;&nbsp; Strip -O2 for cproto. (Ken Takata, closes #3465)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.1.0420<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Generating vim.lib when using ActivePerl 5.20.3 or later.<br>
Solution:&nbsp;&nbsp; Redefine XS_EXTERNAL(). (Ken Takata, closes #3462)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.xs<br>
<br>
Patch 8.1.0421<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Ruby path is wrong for Ruby 1.9 and later.<br>
Solution:&nbsp;&nbsp; Let -I argument depend on Ruby version. (Ken Takata, closes #3461)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 8.1.0422<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot create map file with MinGW.<br>
Solution:&nbsp;&nbsp; Add support for $MAP. (Ken Takata, closes #3460)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 8.1.0423<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: using dup-close for flushing a file.<br>
Solution:&nbsp;&nbsp; Use _commit(). (Ken Takata, closes #3463)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memfile.c, src/os_mac.h, src/os_win32.h<br>
<br>
Patch 8.1.0424<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test output is very verbose, loading CI log is slow.<br>
Solution:&nbsp;&nbsp; Redirect output to /dev/null. (Ken Takata, closes #3456)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile<br>
<br>
Patch 8.1.0425<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ml_get error and crash with appendbufline(). (Masashi Iizuka)<br>
Solution:&nbsp;&nbsp; Set per-window buffer info. (Hirohito Higashi, closes #3455)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/testdir/test_bufline.vim<br>
<br>
Patch 8.1.0426<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing invalid memory in SmcOpenConnection().<br>
Solution:&nbsp;&nbsp; Reduce size of errorstring by one. (Dominique Pelle, closes #3469)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/testdir/test_startup.vim<br>
<br>
Patch 8.1.0427<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows GUI: using invalid encoded file name.<br>
Solution:&nbsp;&nbsp; Drop the file name and return NULL. (Ken Takata, closes #3467)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.1.0428<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The :suspend command is not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3472)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_all.mak, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_suspend.vim<br>
<br>
Patch 8.1.0429 (after 8.1.0343)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for :lcd with&nbsp;<a class="Type" href="options.html#'shellslash'">'shellslash'</a>.<br>
Solution:&nbsp;&nbsp; Add a test. (Daniel Hahler, closes #3475)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_getcwd.vim<br>
<br>
Patch 8.1.0430<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Xargadd file left behind after running test.<br>
Solution:&nbsp;&nbsp; Delete the file. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim<br>
<br>
Patch 8.1.0431<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The qf_jump() function is too long.<br>
Solution:&nbsp;&nbsp; Refactor to split it into several functions. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0432<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for signed/unsigned.<br>
Solution:&nbsp;&nbsp; Add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xemit.c<br>
<br>
Patch 8.1.0433<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mapping can obtain text from inputsecret(). (Tommy Allen)<br>
Solution:&nbsp;&nbsp; Disallow&nbsp;<span class="Special">CTRL-R</span>&nbsp;= and&nbsp;<span class="Special">CTRL-\</span>&nbsp;e when using inputsecret().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.1.0434<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;copy_loclist() is too long.<br>
Solution:&nbsp;&nbsp; Split in multiple functions. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/quickfix.pro, src/quickfix.c, src/window.c<br>
<br>
Patch 8.1.0435<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursorline highlight not removed in some situation. (Vitaly<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Yashin)<br>
Solution:&nbsp;&nbsp; Reset last_cursorline when resetting&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #3481)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c, src/proto/move.pro, src/option.c<br>
<br>
Patch 8.1.0436<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can get the text of inputsecret() with getcmdline(). (Tommy Allen)<br>
Solution:&nbsp;&nbsp; Don't return the text.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.1.0437<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May access freed memory when syntax HL times out. (Philipp Gesang)<br>
Solution:&nbsp;&nbsp; Clear b_sst_first when clearing b_sst_array.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.1.0438<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The ex_make() function is too long.<br>
Solution:&nbsp;&nbsp; Split it into several functions. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0439<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Recursive use of getcmdline() still not protected.<br>
Solution:&nbsp;&nbsp; Instead of saving the command buffer when making a call which may<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cause recursiveness, save the buffer when actually being called<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;recursively.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/proto/ex_getln.pro, src/getchar.c, src/main.c<br>
<br>
Patch 8.1.0440<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;remove() with a range not sufficiently tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3497)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listdict.vim<br>
<br>
Patch 8.1.0441<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure without command line history.<br>
Solution:&nbsp;&nbsp; Move cmdline_init() outside of #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.1.0442<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI: Cursor not drawn after &quot;:redraw | sleep&quot;.<br>
Solution:&nbsp;&nbsp; Flush the output. (closes #3496)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.1.0443<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnecessary static function prototypes.<br>
Solution:&nbsp;&nbsp; Remove unnecessary prototypes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/arabic.c, src/blowfish.c, src/buffer.c, src/charset.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/crypt_zip.c, src/digraph.c, src/edit.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_eval.c, src/ex_getln.c, src/fileio.c, src/getchar.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/gui_at_fs.c, src/gui_athena.c, src/gui_gtk_x11.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_mac.c, src/gui_motif.c, src/gui_photon.c, src/gui_w32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c, src/hangulin.c, src/hardcopy.c, src/if_cscope.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.c, src/if_python3.c, src/if_xcmdsrv.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/integration.c, src/json.c, src/main.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/message.c, src/misc1.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c, src/netbeans.c, src/normal.c, src/ops.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_win32.c, src/pty.c, src/regexp.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/search.c, src/sha256.c, src/spell.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spellfile.c, src/syntax.c, src/tag.c, src/term.c, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c, src/version.c, src/window.c, src/workshop.c<br>
<br>
Patch 8.1.0444<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnecessary check for NULL pointer.<br>
Solution:&nbsp;&nbsp; Remove check and call vim_free() directly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/beval.c<br>
<br>
Patch 8.1.0445<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting&nbsp;<a class="Type" href="options.html#'term'">'term'</a>&nbsp;does not store location for termcap options.<br>
Solution:&nbsp;&nbsp; Set the script context for termcap options that are changed when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'term'">'term'</a>&nbsp;is set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/proto/option.pro, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim<br>
<br>
Patch 8.1.0446<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Options test fails in the GUI.<br>
Solution:&nbsp;&nbsp; Don't try changing&nbsp;<a class="Type" href="options.html#'term'">'term'</a>&nbsp;in the GUI.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim<br>
<br>
Patch 8.1.0447<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI scrollbar test fails with Athena and Motif.<br>
Solution:&nbsp;&nbsp; When not using on-the-fly scrolling call normal_cmd().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_docmd.c, src/proto/ex_docmd.pro<br>
<br>
Patch 8.1.0448<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursorline not removed when using&nbsp;<a class="Type" href="options.html#'cursorbind'">'cursorbind'</a>. (Justin Keyes)<br>
Solution:&nbsp;&nbsp; Store the last cursor line per window. (closes #3488)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_diffmode.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_with_cursorline_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_with_cursorline_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_with_cursorline_03.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/move.c<br>
<br>
Patch 8.1.0449<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'rnu'">'rnu'</a>&nbsp;is set folded lines are not displayed correctly.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Vitaly Yashin)<br>
Solution:&nbsp;&nbsp; When only redrawing line numbers do draw folded lines.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #3484)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_fold.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_folds_with_rnu_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_folds_with_rnu_02.dump<br>
<br>
Patch 8.1.0450 (after patch 8.1.0449)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure without the +fold feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.0451<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32 console: keypad keys don't work.<br>
Solution:&nbsp;&nbsp; Use numbers instead of characters to avoid the value becoming<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;negative. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.0452<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: not finding intl.dll.<br>
Solution:&nbsp;&nbsp; Also find intl.dll next to libintl.dll. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, runtime/doc/mlang.txt<br>
<br>
Patch 8.1.0453<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: executable() is not reliable.<br>
Solution:&nbsp;&nbsp; Use $PATHEXT properly. (Yasuhiro Matsumoto, closes #3512)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0454<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;resolve() was not tested with a symlink cycle.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3513)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0455<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Checking for empty quickfix stack is not consistent.<br>
Solution:&nbsp;&nbsp; Use qf_stack_empty(). (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0456<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running test hangs when the input file is being edited.<br>
Solution:&nbsp;&nbsp; Use a SwapExists autocommand to ignore editing the test script.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/runtest.vim<br>
<br>
Patch 8.1.0457 (after 8.1.0451)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32 console: key mappings don't work.<br>
Solution:&nbsp;&nbsp; Use another solution for the keypad keys that doesn't break<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mappings. Some values will be negative. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.0458<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ml_get error and crash when using &quot;do&quot;.<br>
Solution:&nbsp;&nbsp; Adjust cursor position also when diffupdate is not needed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/testdir/test_diffmode.vim<br>
<br>
Patch 8.1.0459<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_executable fails when there is a dog in the system.<br>
Solution:&nbsp;&nbsp; Rename the dog. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0460<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;assert_fails() does not take a message argument<br>
Solution:&nbsp;&nbsp; Add the argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/eval.c, src/testdir/test_assert.vim<br>
<br>
Patch 8.1.0461<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix code uses too many /* */ comments.<br>
Solution:&nbsp;&nbsp; Change to // comments. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0462<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using ConPTY Vim can be a child process.<br>
Solution:&nbsp;&nbsp; To find a Vim window use both EnumWindows() and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;EnumChildWindows(). (Nobuhiro Takasaki, closes #3521)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c<br>
<br>
Patch 8.1.0463<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;simalt ~x&quot; in .vimrc blocks swap file prompt.<br>
Solution:&nbsp;&nbsp; Flush buffers before prompting. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3518, closes #2192)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 8.1.0464<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: job_info() has cmd without backslashes. (Daniel<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hahler)<br>
Solution:&nbsp;&nbsp; Use rem_backslash(). (closes #3517, closes #3404)&nbsp;&nbsp;Add a test.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/testdir/test_channel.vim<br>
<br>
Patch 8.1.0465 (after 8.1.0452)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Client-server test fails.<br>
Solution:&nbsp;&nbsp; Change logic in EnumWindows().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c<br>
<br>
Patch 8.1.0466 (after 8.1.0463)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Autocmd test fails.<br>
Solution:&nbsp;&nbsp; Do call inchar() when flushing typeahead.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/getchar.c, src/proto/getchar.pro, src/memline.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/misc1.c<br>
<br>
Patch 8.1.0467 (after 8.1.0063)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with Mac OS X 10.5.<br>
Solution:&nbsp;&nbsp; Change #ifdef into #if. (Akshay Hegde, closes #3022)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_macosx.m<br>
<br>
Patch 8.1.0468<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Filter command with pipe character fails. (Johannes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Riecken)<br>
Solution:&nbsp;&nbsp; Find the pipe character outside of quotes. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1743, closes #3523)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_filter_cmd.vim<br>
<br>
Patch 8.1.0469<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too often indexing in qf_lists[].<br>
Solution:&nbsp;&nbsp; Use a qf_list_T pointer. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0470<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Pointer ownership around fname_expand() is unclear.<br>
Solution:&nbsp;&nbsp; Allow b_ffname and b_sfname to point to the same allocated memory,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;only free one.&nbsp;&nbsp;Update comments.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/structs.h, src/fileio.c, src/ex_cmds.c<br>
<br>
Patch 8.1.0471<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some tests are flaky or fail on some systems.<br>
Solution:&nbsp;&nbsp; Increase waiting time for port number. Use &quot;cmd /c&quot; to execute<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;echo&quot; on win32. (Ken Takata, closes #3534)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_channel.vim<br>
<br>
Patch 8.1.0472<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dosinst command has a few flaws.<br>
Solution:&nbsp;&nbsp; Register DisplayIcon, DisplayVersion and Publisher for the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uninstaller. (closes #3485)&nbsp;&nbsp;Don't set&nbsp;<a class="Type" href="options.html#'diffexpr'">'diffexpr'</a>&nbsp;if internal diff<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is supported. Allow for using Vi compatible from the command line.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove needless sleeps.&nbsp;&nbsp;Add comments in the generated _vimrc.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ken Takata, closes #3525)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c<br>
<br>
Patch 8.1.0473<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;User doesn't notice file does not exist when swap file does.<br>
Solution:&nbsp;&nbsp; Add a&nbsp;<span class="Todo">note</span>&nbsp;that the file cannot be found.&nbsp;&nbsp;Make the &quot;still<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;running&quot; notice stand out.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 8.1.0474<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Directory where if_perl.c is written is inconsistent.<br>
Solution:&nbsp;&nbsp; use auto/if_perl.c for MS-Windows. (Ken Takata, closes #3540)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_bc5.mak, src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 8.1.0475<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory not freed on exit when quit in autocmd.<br>
Solution:&nbsp;&nbsp; Remember funccal stack when executing autocmd.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/userfunc.c, src/proto/userfunc.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/eval.c, src/ex_cmds2.c, src/main.c<br>
<br>
Patch 8.1.0476<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leaks in test_escaped_glob.<br>
Solution:&nbsp;&nbsp; Avoid failure when running the shell, use the sandbox.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_escaped_glob.vim<br>
<br>
Patch 8.1.0477 (after 8.1.0475)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tiny build fails.<br>
Solution:&nbsp;&nbsp; Add a dummy declaration for funccal_entry_T.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 8.1.0478<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with perl using MinGW.<br>
Solution:&nbsp;&nbsp; Add -I. (Ken Takata, Cesar Romani)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 8.1.0479<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Failure when setting&nbsp;<a class="Type" href="options.html#'varsofttabstop'">'varsofttabstop'</a>&nbsp;to end in a comma. (Ralf<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Schandl)<br>
Solution:&nbsp;&nbsp; Reject value with trailing comma.&nbsp;&nbsp;Add test for invalid values<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #3544)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vartabs.vim, src/option.c<br>
<br>
Patch 8.1.0480<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MinGW build file uses different -I flags than MVC.<br>
Solution:&nbsp;&nbsp; Add -I to $CFLAGS. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 8.1.0481<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When &quot;Terminal&quot; highlight is reverted cursor doesn't show.<br>
Solution:&nbsp;&nbsp; Get the colors of the &quot;Terminal&quot; group. (closes #3546)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.0482<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MinGW &quot;make clean&quot; deletes all .exe files.<br>
Solution:&nbsp;&nbsp; Only delete .exe files that it builds. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 8.1.0483<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MinGW does not build tee.exe.<br>
Solution:&nbsp;&nbsp; Add build instructions. (Yasuhiro Matsumoto, closes #3548)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/tee/Makefile<br>
<br>
Patch 8.1.0484<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some file types are not recognized.<br>
Solution:&nbsp;&nbsp; Update the file type detection.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim, src/testdir/test_filetype.vim<br>
<br>
Patch 8.1.0485<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;term_start() does not check if directory is accessible.<br>
Solution:&nbsp;&nbsp; Add mch_access() call. (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0486 (after 8.1.0485)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build in MS-Windows.<br>
Solution:&nbsp;&nbsp; Put mch_access() call inside #ifdef<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.1.0487<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No menus specifically for the terminal window.<br>
Solution:&nbsp;&nbsp; Add :tlmenu. (Yee Cheng Chin, closes #3439) Add a menu test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/delmenu.vim, runtime/doc/autocmd.txt, runtime/doc/gui.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/index.txt, runtime/doc/terminal.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_42.txt, runtime/menu.vim, src/ex_cmdidxs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/ex_docmd.c, src/menu.c, src/proto/menu.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c, src/structs.h, src/testdir/test_menu.vim<br>
<br>
Patch 8.1.0488<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory in quickfix code. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Add the quickfix_busy() flag to postpone deleting quickfix lists<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;until it is safe. (Yegappan Lakshmanan, closes #3538)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/proto/quickfix.pro, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0489<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when autocmd clears vimpgrep location list.<br>
Solution:&nbsp;&nbsp; Return from qf_jump_edit_buffer() early. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0490<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: doesn't handle missing libwinpthread-1.dll.<br>
Solution:&nbsp;&nbsp; Adjust Cygwin/MinGW build file. (Ken Takata, closes #2827)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 8.1.0491<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If a terminal dump has CR it is considered corrupt.<br>
Solution:&nbsp;&nbsp; Ignore CR characters. (Nobuhiro Takasaki, closes #3558)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.0492<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;Edit with existing Vim&quot; list can get long.<br>
Solution:&nbsp;&nbsp; Move the list to a submenu. (Ken Takata, closes #3561)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/gvimext.cpp<br>
<br>
Patch 8.1.0493<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;argv() and argc() only work on the current argument list.<br>
Solution:&nbsp;&nbsp; Add a window ID argument. (Yegappan Lakshmanan, closes #832)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_arglist.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/proto/eval.pro<br>
<br>
Patch 8.1.0494<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Functions do not check for a window ID in other tabs.<br>
Solution:&nbsp;&nbsp; Also find the window ID in other than the current tab.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.0495<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:filter only supports some commands.<br>
Solution:&nbsp;&nbsp; Add :filter support for more commands. (Marcin Szamotulski,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2856)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/various.txt, src/eval.c, src/mark.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/testdir/test_filter_cmd.vim, src/userfunc.c<br>
<br>
Patch 8.1.0496<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for indent files.<br>
Solution:&nbsp;&nbsp; Add a mechanism for running indent file tests.&nbsp;&nbsp;Add a first test<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for Vim indenting.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/indent/Makefile, runtime/indent/testdir/runtest.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/indent/testdir/cleantest.vim, runtime/indent/README.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/indent/testdir/README.txt, runtime/indent/testdir/vim.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/indent/testdir/vim.ok, Filelist<br>
<br>
Patch 8.1.0497<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:%diffput changes order of lines. (Markus Braun)<br>
Solution:&nbsp;&nbsp; Do adjust marks when using internal diff.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/testdir/test_diffmode.vim<br>
<br>
Patch 8.1.0498<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;/etc/gitconfig not recognized at a gitconfig file.<br>
Solution:&nbsp;&nbsp; Add pattern to filetype detection. (closes #3568)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim, src/testdir/test_filetype.vim<br>
<br>
Patch 8.1.0499<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:2vimgrep causes an ml_get error<br>
Solution:&nbsp;&nbsp; Pass tomatch pointer instead of value. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0500<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cleaning up in src/tee may not always work.<br>
Solution:&nbsp;&nbsp; Use &quot;rm&quot; when appropriate. (Michael Soyka, closes #3571)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tee/Makefile<br>
<br>
Patch 8.1.0501<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cppcheck warns for using array index before bounds check.<br>
Solution:&nbsp;&nbsp; Swap the conditions. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 8.1.0502<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Internal diff fails when diffing a context diff. (Hirohito Higashi)<br>
Solution:&nbsp;&nbsp; Only use callback calls with one line. (closes #3581)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/testdir/dumps/test_diff_of_diff_01.dump<br>
<br>
Patch 8.1.0503<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing change to diff test. (Hirohito Higashi)<br>
Solution:&nbsp;&nbsp; Add the missing test function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_diffmode.vim<br>
<br>
Patch 8.1.0504<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<span class="Special">CTRL-C</span>&nbsp;is mapped it triggers InsertLeave.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<span class="Special">CTRL-C</span>&nbsp;behave the same way when typed or used in a mapping.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_edit.vim<br>
<br>
Patch 8.1.0505<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Filter command test may fail if helplang is not set.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'helplang'">'helplang'</a>&nbsp;for the test. (James McCoy, closes #3591)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_filter_cmd.vim<br>
<br>
Patch 8.1.0506<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Modeline test fails when run by root.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'modeline'">'modeline'</a>&nbsp;for the test. (James McCoy, closes #3592)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_modeline.vim<br>
<br>
Patch 8.1.0507<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;.raml files not properly detected.<br>
Solution:&nbsp;&nbsp; Recognize .raml as raml instead of yaml. (closes #3594)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim, src/testdir/test_filetype.vim<br>
<br>
Patch 8.1.0508<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Suspend test fails when run by root.<br>
Solution:&nbsp;&nbsp; Accept both '$' and '#' for the prompt. (James McCoy, closes #3590)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_suspend.vim<br>
<br>
Patch 8.1.0509<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Checking cwd not accessible fails for root. (James McCoy)<br>
Solution:&nbsp;&nbsp; Skip this part of the test for root. (closes #3595)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0510<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Filter test fails when $LANG is C.UTF-8.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'helplang'">'helplang'</a>&nbsp;to &quot;en&quot; for any C language. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3577)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.1.0511<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ml_get error when calling a function with a range.<br>
Solution:&nbsp;&nbsp; Don't position the cursor after the last line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0512<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'helplang'">'helplang'</a>&nbsp;default is inconsistent for C and C.UTF-8.<br>
Solution:&nbsp;&nbsp; Don't accept a value unless it starts with two letters.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 8.1.0513<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No error for set diffopt+=algorithm:.<br>
Solution:&nbsp;&nbsp; Check for missing argument. (Hirohito Higashi, closes #3598)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/testdir/gen_opt_test.vim<br>
<br>
Patch 8.1.0514<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-W</span>&nbsp;^ does not work when alternate buffer has no name.<br>
Solution:&nbsp;&nbsp; Use another method to split and edit the alternate buffer. (Jason<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim, src/testdir/test_window_cmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/window.c, runtime/doc/windows.txt<br>
<br>
Patch 8.1.0515<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Reloading a script gives errors for existing functions.<br>
Solution:&nbsp;&nbsp; Allow redefining a function once when reloading a script.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/userfunc.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/buffer.c, src/ex_cmds2.c, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, runtime/doc/eval.txt<br>
<br>
Patch 8.1.0516<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:move command marks buffer modified when nothing changed.<br>
Solution:&nbsp;&nbsp; Do not set&nbsp;<a class="Type" href="options.html#'modified'">'modified'</a>.&nbsp;&nbsp;Add a test. (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_all.mak, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_move.vim, src/ex_cmds.c<br>
<br>
Patch 8.1.0517<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_window_split_edit_alternate() fails on AppVeyor.<br>
Solution:&nbsp;&nbsp; Disable the failing part for now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.1.0518<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test_window_split_edit_bufnr() fails on AppVeyor.<br>
Solution:&nbsp;&nbsp; Disable the failing part for now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.1.0519<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot save and restore the tag stack.<br>
Solution:&nbsp;&nbsp; Add gettagstack() and settagstack(). (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3604)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/tagsrch.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_41.txt, src/alloc.h, src/dict.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/list.c, src/misc2.c, src/proto/dict.pro, src/proto/list.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc2.pro, src/proto/tag.pro, src/tag.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tagjump.vim<br>
<br>
Patch 8.1.0520<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Screen diff test sometimes fails.<br>
Solution:&nbsp;&nbsp; Add to list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.0521<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with +eval but without +quickfix.<br>
Solution:&nbsp;&nbsp; Remove #ifdef for e_stringreq. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.0522<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:terminal does not show trailing empty lines.<br>
Solution:&nbsp;&nbsp; Add empty lines. (Hirohito Higashi, closes #3605)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0523<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Opening window from quickfix leaves empty buffer behind.<br>
Solution:&nbsp;&nbsp; Add qf_jump_newwin(). (Yegappan Lakshmanan, closes #2574)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/quickfix.pro, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0524 (after 8.1.0522)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test fails on Windows.<br>
Solution:&nbsp;&nbsp; Skip Test_terminal_does_not_truncate_last_newlines() for now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0525 (after 8.1.0524)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test skips part on Windows.<br>
Solution:&nbsp;&nbsp; Fix Test_terminal_does_not_truncate_last_newlines(). (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi, closes #3606)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0526<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running out of signal stack in RealWaitForChar. (Vladimir Marek)<br>
Solution:&nbsp;&nbsp; Make the fd_set variables static.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.1.0527<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using&nbsp;<a class="Type" href="options.html#'shiftwidth'">'shiftwidth'</a>&nbsp;from wrong buffer for folding.<br>
Solution:&nbsp;&nbsp; Use &quot;buf&quot; instead of &quot;curbuf&quot;. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c<br>
<br>
Patch 8.1.0528<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various typos in comments.<br>
Solution:&nbsp;&nbsp; Fix the typos.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/gui.c, src/macros.h, src/screen.c, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/spellfile.c, src/vim.h, src/testdir/README.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALL, src/gui_athena.c, src/gui_gtk.c, src/gui_gtk_x11.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_motif.c, src/gui_xmebw.c, src/if_tcl.c, src/os_amiga.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/os_win32.c, src/gui_mac.c, src/os_vms_fix.com<br>
<br>
Patch 8.1.0529<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Flaky test sometimes fails in different ways.<br>
Solution:&nbsp;&nbsp; When the second run gives a different error, try running the test<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;again, up to five times.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.0530<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel and terminal tests that start a server can be flaky.<br>
Solution:&nbsp;&nbsp; Add all channel and terminal tests that start a server to the list<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.0531<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Flaky tests often fail with a common error message.<br>
Solution:&nbsp;&nbsp; Add a pattern to match an error message indicating a flaky test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.0532<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot distinguish between quickfix and location list.<br>
Solution:&nbsp;&nbsp; Add an explicit type variable. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0533<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Screendump tests can be flaky.<br>
Solution:&nbsp;&nbsp; Add VerifyScreenDump to the pattern of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.0534<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows installer uses different $HOME than Vim.<br>
Solution:&nbsp;&nbsp; Use the Vim logic also in the MS-Windows installer. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3564)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c, src/misc1.c<br>
<br>
Patch 8.1.0535<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Increment/decrement might get interrupted by updating folds.<br>
Solution:&nbsp;&nbsp; Disable fold updating for a moment. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3599)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 8.1.0536<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;File time test fails when using NFS.<br>
Solution:&nbsp;&nbsp; Use three file times instead of localtim(). (James McCoy,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3618)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_stat.vim<br>
<br>
Patch 8.1.0537<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ui_breakcheck() may be called recursively, which doesn't work.<br>
Solution:&nbsp;&nbsp; When called recursively, just return. (James McCoy, closes #3617)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.1.0538<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Evaluating a modeline might invoke using a shell command. (Paul<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Huber)<br>
Solution:&nbsp;&nbsp; Set the sandbox flag when setting options from a modeline.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 8.1.0539<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without the sandbox.<br>
Solution:&nbsp;&nbsp; Set the secure option instead of using the sandbox.&nbsp;&nbsp;Also restrict<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the characters from&nbsp;<a class="Type" href="options.html#'spelllang'">'spelllang'</a>&nbsp;that are used for LANG.vim.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(suggested by Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/buffer.c, src/option.c<br>
<br>
Patch 8.1.0540<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May evaluate insecure value when appending to option.<br>
Solution:&nbsp;&nbsp; Set the secure flag when changing an option that was previously<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set insecurely.&nbsp;&nbsp;Also allow numbers for the characters from<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'spelllang'">'spelllang'</a>&nbsp;that are used for LANG.vim. (closes #3623)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.1.0541<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Help message in dosinst.c is outdated.<br>
Solution:&nbsp;&nbsp; Update the comment. (Ken Takata, closes #3626)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c<br>
<br>
Patch 8.1.0542<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;shiftwidth() does not take&nbsp;<a class="Type" href="options.html#'vartabstop'">'vartabstop'</a>&nbsp;into account.<br>
Solution:&nbsp;&nbsp; Use the cursor position or a position explicitly passed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also make &gt;&gt; and &lt;&lt; work better with&nbsp;<a class="Type" href="options.html#'vartabstop'">'vartabstop'</a>. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/change.txt, runtime/doc/eval.txt, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/normal.c, src/ops.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/edit.pro, src/proto/option.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vartabs.vim<br>
<br>
Patch 8.1.0543<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for leaking memory and using wrong struct.<br>
Solution:&nbsp;&nbsp; Free pointer when allocation fails. Change &quot;boff&quot; to &quot;loff&quot;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #3634)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/move.c<br>
<br>
Patch 8.1.0544 (after 8.1.0540)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting&nbsp;<a class="Type" href="options.html#'filetype'">'filetype'</a>&nbsp;in a modeline causes an error (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi).<br>
Solution:&nbsp;&nbsp; Don't add the P_INSECURE flag when setting&nbsp;<a class="Type" href="options.html#'filetype'">'filetype'</a>&nbsp;from a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;modeline.&nbsp;&nbsp;Also for&nbsp;<a class="Type" href="options.html#'syntax'">'syntax'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_modeline.vim<br>
<br>
Patch 8.1.0545<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When executing indent tests user preferences interfere.<br>
Solution:&nbsp;&nbsp; Add &quot;--clean&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/indent/Makefile, runtime/indent/testdir/runtest.vim<br>
<br>
Patch 8.1.0546<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Modeline test with keymap fails.<br>
Solution:&nbsp;&nbsp; Check that the keymap feature is available.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_modeline.vim<br>
<br>
Patch 8.1.0547<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Modeline test with keymap still fails.<br>
Solution:&nbsp;&nbsp; Check that the keymap feature is available for the failure assert.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_modeline.vim<br>
<br>
Patch 8.1.0548<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when job callback unloads a buffer. (James McCoy)<br>
Solution:&nbsp;&nbsp; Don't round up the wait time to 10 msec in ui_inchar().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.1.0549<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Netbeans test depends on README.txt contents.<br>
Solution:&nbsp;&nbsp; Use a generated file instead.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_netbeans.vim, src/testdir/test_netbeans.py<br>
<br>
Patch 8.1.0550<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Expression evaluation may repeat an error message. (Jason<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Franklin)<br>
Solution:&nbsp;&nbsp; Increment did_emsg and check for the value when giving an error<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for the echo command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/eval.c, src/testdir/test108.ok<br>
<br>
Patch 8.1.0551 (after 8.1.0550)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Expression evaluation may repeat an error message. (Jason<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Franklin)<br>
Solution:&nbsp;&nbsp; Check for the value of did_emsg when giving an error<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for the :execute command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.1.0552<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Saved last search pattern may not be restored.<br>
Solution:&nbsp;&nbsp; Call restore_last_search_pattern().&nbsp;&nbsp;Add a check for balancing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;saving and restoring the last search pattern.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/search.c<br>
<br>
Patch 8.1.0553<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not easy to edit a script that was sourced.<br>
Solution:&nbsp;&nbsp; Add a count to &quot;:scriptnames&quot;, so that &quot;:script 40&quot; edits the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;script with script ID 40.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/ex_cmds2.c, src/testdir/test_scriptnames.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_all.mak, src/testdir/Make_all.mak, runtime/doc/repeat.txt<br>
<br>
Patch 8.1.0554<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup menu overlaps with preview window.<br>
Solution:&nbsp;&nbsp; Adjust the height computation. (Hirohito Higashi, closes #3414)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c, src/testdir/test_popup.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_and_previewwindow_01.dump<br>
<br>
Patch 8.1.0555<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when last search pat is set but not last substitute pat.<br>
Solution:&nbsp;&nbsp; Do not mix up last search pattern and last substitute pattern.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #3647)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_search.vim<br>
<br>
Patch 8.1.0556<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Saving/restoring search patterns share saved last_idx.<br>
Solution:&nbsp;&nbsp; Use a separate saved last_idx for saving search patterns for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions and incremental search.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 8.1.0557<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Termdebug: gdb may use X.Y for breakpoint number. (Ryou Ezoe)<br>
Solution:&nbsp;&nbsp; Handle X.Y breakpoint numbers. (Yasuhiro Matsumoto, close #3641)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.1.0558<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some MS-Windows instructions are outdated.<br>
Solution:&nbsp;&nbsp; Update the uninstall instructions and the NSIS README. (Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata, closes #3614)&nbsp;&nbsp;Also update remark about diff.exe.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/README.txt, uninstal.txt<br>
<br>
Patch 8.1.0559<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Command line completion not sufficiently tested.<br>
Solution:&nbsp;&nbsp; Add more tests. (Dominique Pelle, closes #3622)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim, src/testdir/test_filetype.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_history.vim, src/testdir/test_messages.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim<br>
<br>
Patch 8.1.0560<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use address type &quot;other&quot; with user command.<br>
Solution:&nbsp;&nbsp; Add &quot;other&quot; to the list. (Daniel Hahler, closes #3655)&nbsp;&nbsp;Also<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reject &quot;%&quot; for commands with &quot;other&quot;.&nbsp;&nbsp;Add some more tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_usercommands.vim<br>
<br>
Patch 8.1.0561<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MSVC error format has changed.<br>
Solution:&nbsp;&nbsp; Make the space between the line number and colon optional.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h<br>
<br>
Patch 8.1.0562<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Parsing of&nbsp;<a class="Type" href="options.html#'diffopt'">'diffopt'</a>&nbsp;is slightly wrong.<br>
Solution:&nbsp;&nbsp; Fix the parsing and add a test. (Jason Franklin, Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/testdir/test_diffmode.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_09.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_11.dump, src/testdir/screendump.vim<br>
<br>
Patch 8.1.0563<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting v:errors to a string give confusing error. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Solution:&nbsp;&nbsp; Change internal error into normal error message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.1.0564<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting v:errors to wrong type still possible.<br>
Solution:&nbsp;&nbsp; Return after giving an error message. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_eval_stuff.vim<br>
<br>
Patch 8.1.0565<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Asan complains about reading before allocated block.<br>
Solution:&nbsp;&nbsp; Workaround: Avoid offset from becoming negative.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.1.0566<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;SGR not enabled for mintty because $TERM is &quot;xterm&quot;.<br>
Solution:&nbsp;&nbsp; Detect mintty by the termresponse. (Ken Takata, closes #3667)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.1.0567 (after 8.1.0565)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error for NUL byte in ScreenLines goes unnoticed.<br>
Solution:&nbsp;&nbsp; Add an internal error message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.1.0568 (after 8.1.0567)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error message for NUL byte in ScreenLines breaks Travis CI.<br>
Solution:&nbsp;&nbsp; Use a normal message fornow.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.1.0569<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Execute() always resets display column to zero. (Sha Liu)<br>
Solution:&nbsp;&nbsp; Don't reset it to zero, restore the previous value. (closes #3669)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_execute_func.vim<br>
<br>
Patch 8.1.0570<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'commentstring'">'commentstring'</a>&nbsp;not used when adding fold marker. (Maxim Kim)<br>
Solution:&nbsp;&nbsp; Only use empty&nbsp;<a class="Type" href="options.html#'comments'">'comments'</a>&nbsp;middle when leader is empty. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #3670)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test_fold.vim<br>
<br>
Patch 8.1.0571 (after 8.1.0569)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Non-silent execute() resets display column to zero.<br>
Solution:&nbsp;&nbsp; Keep the display column as-is.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_execute_func.vim<br>
<br>
Patch 8.1.0572<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Stopping a job does not work properly on OpenBSD.<br>
Solution:&nbsp;&nbsp; Do not use getpgid() to check the process group of the job<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process ID, always pass the negative process ID to kill().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(George Koehler, closes #3656)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.1.0573<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot redefine user command without ! in same script<br>
Solution:&nbsp;&nbsp; Allow redefining user command without ! in same script, like with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_usercommands.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/map.txt<br>
<br>
Patch 8.1.0574<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'commentstring'">'commentstring'</a>&nbsp;not used when adding fold marker in C.<br>
Solution:&nbsp;&nbsp; Require white space before middle comment part. (mostly by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test_fold.vim<br>
<br>
Patch 8.1.0575<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Termdebug: clearing multi-breakpoint does not work.<br>
Solution:&nbsp;&nbsp; Delete all X.Y breakpoints.&nbsp;&nbsp;Keep more information about placed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;breakpoints. (Ozaki Kiichi, closes #3641)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.1.0576<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Indent script tests pick up installed scripts.<br>
Solution:&nbsp;&nbsp; Use current runtime indent scripts.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/indent/Makefile<br>
<br>
Patch 8.1.0577<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tabpage right-click menu never shows &quot;Close tab&quot;.<br>
Solution:&nbsp;&nbsp; Always create the &quot;Close tab&quot; item but ignore the event if there<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is only one tab.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/gui_mac.c, src/gui_motif.c, src/gui.c<br>
<br>
Patch 8.1.0578<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot disable arabic, rightleft and farsi in configure.<br>
Solution:&nbsp;&nbsp; Add configure flags. (Diego Fernando Carrión, closes #1867)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure, src/config.h.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/Makefile<br>
<br>
Patch 8.1.0579<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot attach properties to text.<br>
Solution:&nbsp;&nbsp; First part of adding text properties.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, runtime/doc/Makefile, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/textprop.txt, src/Make_all.mak, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Makefile, src/buffer.c, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/feature.h, src/memline.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/proto.h, src/proto/memline.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/textprop.pro, src/screen.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c, src/userfunc.c, src/version.c<br>
<br>
Patch 8.1.0580<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access when using text properties.<br>
Solution:&nbsp;&nbsp; Disable text properties for now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h<br>
<br>
Patch 8.1.0581<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Double free without the text properties feature.<br>
Solution:&nbsp;&nbsp; Reset the dirty flag.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 8.1.0582<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text properties are not enabled.<br>
Solution:&nbsp;&nbsp; Fix sizeof argument and re-enable the text properties feature.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fix memory leak.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/textprop.c<br>
<br>
Patch 8.1.0583<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using illogical name for get_dict_number()/get_dict_string().<br>
Solution:&nbsp;&nbsp; Rename to start with dict_.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dict.c, src/proto/dict.pro, src/edit.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/quickfix.c, src/tag.c, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c<br>
<br>
Patch 8.1.0584<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With search&nbsp;<span class="Special">CTRL-L</span>&nbsp;does not pick up composing characters.<br>
Solution:&nbsp;&nbsp; Check for composing characters. (Christian Brabandt, closes #3682)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[code change was accidentally included in 8.1.0579]<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim<br>
<br>
Patch 8.1.0585<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Undo test may fail on MS-Windows.<br>
Solution:&nbsp;&nbsp; Also handle lower case drive letters.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_undo.vim<br>
<br>
Patch 8.1.0586<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:digraph output is not easy to read.<br>
Solution:&nbsp;&nbsp; Add highlighting for :digraphs. (Marcin Szamotulski, closes #3572)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also add section headers for :digraphs!.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/digraph.c, src/proto/digraph.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, runtime/doc/digraph.txt<br>
<br>
Patch 8.1.0587<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GvimExt: realloc() failing is not handled properly.<br>
Solution:&nbsp;&nbsp; Check for NULL return. (Jan-Jaap Korpershoek, closes #3689)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/gvimext.cpp<br>
<br>
Patch 8.1.0588<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot define a sign with space in the text.<br>
Solution:&nbsp;&nbsp; Allow for escaping characters. (Ben Jackson, closes #2967)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_signs.vim<br>
<br>
Patch 8.1.0589<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compilation error in gvimext.cpp.<br>
Solution:&nbsp;&nbsp; Return a value.&nbsp;&nbsp;Also fix using uninitialized variable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/gvimext.cpp, src/dosinst.c<br>
<br>
Patch 8.1.0590<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a job ends the closed channels are not handled.<br>
Solution:&nbsp;&nbsp; When a job is detected to have ended, check the channels again.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #3530)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/proto/channel.pro, src/misc2.c<br>
<br>
Patch 8.1.0591<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel sort test is flaky.<br>
Solution:&nbsp;&nbsp; Do not check if the job is running, it may have be done very fast.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 8.1.0592<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The libvterm tests are not run as part of Vim tests.<br>
Solution:&nbsp;&nbsp; Add testing libvterm.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/libvterm/Makefile<br>
<br>
Patch 8.1.0593<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access in libvterm test.<br>
Solution:&nbsp;&nbsp; Fix off-by-one error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/vterm.c, src/libvterm/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/t/run-test.pl<br>
<br>
Patch 8.1.0594<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Libvterm tests fail to run on Mac.<br>
Solution:&nbsp;&nbsp; Only run libvterm tests on Linux.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.1.0595<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Libvterm tests are not run with coverage.<br>
Solution:&nbsp;&nbsp; Adjust the Travis config.&nbsp;&nbsp;Show the actually run commands.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml, src/libvterm/Makefile<br>
<br>
Patch 8.1.0596<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all parts of printf() are tested.<br>
Solution:&nbsp;&nbsp; Add a few more test cases. (Dominique Pelle, closes #3691)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expr.vim<br>
<br>
Patch 8.1.0597<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot run test_libvterm from the top directory.<br>
Solution:&nbsp;&nbsp; Add test target in toplevel Makefile.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makefile<br>
<br>
Patch 8.1.0598<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Indent tests may use the wrong Vim binary.<br>
Solution:&nbsp;&nbsp; Pass in the just built Vim binary.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makefile<br>
<br>
Patch 8.1.0599<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Without the +eval feature the indent tests don't work.<br>
Solution:&nbsp;&nbsp; Skip the body of the tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/indent/testdir/cleantest.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/indent/testdir/runtest.vim<br>
<br>
Patch 8.1.0600<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test is flaky.<br>
Solution:&nbsp;&nbsp; Add test to list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.0601<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A few compiler warnings.<br>
Solution:&nbsp;&nbsp; Add type casts. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/gvimext.cpp, src/memline.c, src/textprop.c<br>
<br>
Patch 8.1.0602<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;DirChanged is also triggered when the directory didn't change.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Compare the current with the new directory. (closes #3697)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_autocmd.vim, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autochdir.vim<br>
<br>
Patch 8.1.0603<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The :stop command is not tested.<br>
Solution:&nbsp;&nbsp; Test :stop using a terminal window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/testdir/shared.vim<br>
<br>
Patch 8.1.0604<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Autocommand test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Use pathcmp() instead of strcmp() to check if a directory differs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/misc2.c<br>
<br>
Patch 8.1.0605<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running make in the top directory echoes a comment.<br>
Solution:&nbsp;&nbsp; Prefix with @. (closes #3698)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makefile<br>
<br>
Patch 8.1.0606<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'cryptmethod'">'cryptmethod'</a>&nbsp;defaults to a very old method.<br>
Solution:&nbsp;&nbsp; Default to &quot;blowfish2&quot;, it is now widely available.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, runtime/doc/options.txt<br>
<br>
Patch 8.1.0607<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Proto files are not in sync with the source code.<br>
Solution:&nbsp;&nbsp; Update the proto files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/proto/buffer.pro, src/proto/ex_cmds.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_getln.pro, src/proto/misc2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/userfunc.pro<br>
<br>
Patch 8.1.0608<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coveralls is not updating.<br>
Solution:&nbsp;&nbsp; Adjust path in Travis config.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.0609<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: unused variable, depending on the Ruby version.<br>
Solution:&nbsp;&nbsp; Put ruby_sysinit and NtInitialize inside #ifdef and make them<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consistent. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.1.0610<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows ctags file list differs from Unix.<br>
Solution:&nbsp;&nbsp; Define TAGS_FILES in the common makefile. (partly by Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_all.mak, src/Makefile, src/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 8.1.0611<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using terminal with long composing characters.<br>
Solution:&nbsp;&nbsp; Make space for all characters. (Yasuhiro Matsumoto, closes #3619,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3703)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.0612<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use two global runtime dirs with configure.<br>
Solution:&nbsp;&nbsp; Support a comma in --with-global-runtime. (James McCoy,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3704)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.h.in, src/configure.ac, src/feature.h, src/os_unix.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/auto/configure, src/Makefile<br>
<br>
Patch 8.1.0613<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When executing an insecure function the secure flag is stuck.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Gabriel Barta)<br>
Solution:&nbsp;&nbsp; Restore &quot;secure&quot; instead of decrementing it. (closes #3705)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/option.c, src/buffer.c<br>
<br>
Patch 8.1.0614<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Placing signs can be complicated.<br>
Solution:&nbsp;&nbsp; Add functions for defining and placing signs.&nbsp;&nbsp;Introduce a group<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name to avoid different plugins using the same signs. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #3652)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/sign.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_41.txt, src/alloc.h, src/buffer.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/globals.h, src/list.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c, src/proto/buffer.pro, src/proto/ex_cmds.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/list.pro, src/proto/misc2.pro, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signs.vim, src/workshop.c<br>
<br>
Patch 8.1.0615<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get_tv function names are not consistent.<br>
Solution:&nbsp;&nbsp; Rename to tv_get.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/proto/eval.pro, src/channel.c, src/dict.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/list.c, src/message.c, src/tag.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/textprop.c, src/window.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_win32.c, src/json.c, src/regexp.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/misc2.c, src/popupmnu.c<br>
<br>
Patch 8.1.0616<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;NSIS installer is outdated.<br>
Solution:&nbsp;&nbsp; Use modern syntax, MUI2 and make it work better. Add translations.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Guopeng Wen, Ken Takata, closes #3501)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, nsis/gvim.nsi, nsis/icons/header.svg,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/icons/welcome.svg, nsis/icons/header.bmp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/icons/un_header.bmp, nsis/icons/uninstall.bmp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/icons/welcome.bmp, nsis/lang/danish.nsi, nsis/lang/dutch.nsi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/lang/english.nsi, nsis/lang/german.nsi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/lang/italian.nsi, nsis/lang/japanese.nsi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/lang/simpchinese.nsi, nsis/lang/tradchinese.nsi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c<br>
<br>
Patch 8.1.0617 (after 8.1.0616)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;NSIS installer gets two files from the wrong directory.<br>
Solution:&nbsp;&nbsp; Change $<span class="Special">{VIMRT}</span>&nbsp;to &quot;..\&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/gvim.nsi<br>
<br>
Patch 8.1.0618<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;term_getjob() does not return v:null as documented.<br>
Solution:&nbsp;&nbsp; Do return v:null. (Damien)&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0619<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:echomsg and :echoerr do not handle List and Dict like :echo does.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Be more tolerant about the expression result type.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/proto/eval.pro, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/evalfunc.pro, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_messages.vim, src/message.c<br>
<br>
Patch 8.1.0620<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Overruling CONF_ARGS from the environment no longer works. (Tony<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mechelynck)<br>
Solution:&nbsp;&nbsp; Do not define any CONF_ARGS by default.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.1.0621<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal debugger does not handle unexpected debugger exit.<br>
Solution:&nbsp;&nbsp; Check for debugger job ended and close unused buffers. (Damien)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.1.0622<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Adding quickfix items marks items as valid errors. (Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Check when items are valid. (Yegappan Lakshmanan, closes #3683,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3633)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0623<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Iterating through window frames is repeated.<br>
Solution:&nbsp;&nbsp; Define FOR_ALL_FRAMES. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/globals.h, src/screen.c, src/window.c<br>
<br>
Patch 8.1.0624 (after 8.1.0620)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Overruling CONF_ARGS from the environment still does not work.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add back CONF_ARGS next to the new numbered ones.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.1.0625<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: terminal test fails in white console.<br>
Solution:&nbsp;&nbsp; Accept both white and black background colors.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0626<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: no resize to fit parent when using --windowid.<br>
Solution:&nbsp;&nbsp; Pass FALSE for &quot;mustset&quot; in gui_set_shellsize(). (Agorgianitis<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loukas, closes #3616)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.1.0627<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python cannot handle function name of script-local function.<br>
Solution:&nbsp;&nbsp; Use&nbsp;<span class="Special">&lt;SNR&gt;</span>&nbsp;instead of the special byte code. (Ozaki Kiichi, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#3681)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/testdir/test_python2.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_python3.vim<br>
<br>
Patch 8.1.0628<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 8.1.0629<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;gn&quot; selects the wrong text with a multi-line match.<br>
Solution:&nbsp;&nbsp; Get the end position from searchit() directly. (closes #3695)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gn.vim, src/search.c, src/proto/search.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/evalfunc.c, src/ex_docmd.c, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 8.1.0630<br>
Problem:&nbsp;&nbsp; &quot;wincmd p&quot; does not work after using an autocmd window.<br>
Solution:&nbsp;&nbsp; Store &quot;prevwin&quot; in aco_save_T. (Christian Brabandt, closes #3690)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/structs.h, src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.1.0631<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for :stop fails on Arch.<br>
Solution:&nbsp;&nbsp; Check five lines for the expected output. (closes #3714)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0632<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using sign group names is inefficient.<br>
Solution:&nbsp;&nbsp; Store group names in a hash table and use a reference to them.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also remove unnecessary use of &quot;:exe&quot; from the tests.&nbsp;&nbsp;(Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #3715)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/ex_cmds.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signs.vim<br>
<br>
Patch 8.1.0633<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when out of memory while opening a terminal window.<br>
Solution:&nbsp;&nbsp; Handle out-of-memory more gracefully.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/libvterm/src/vterm.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/state.c, src/libvterm/src/termscreen.c<br>
<br>
Patch 8.1.0634<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text properties cannot cross line boundaries.<br>
Solution:&nbsp;&nbsp; Support multi-line text properties.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c, src/testdir/test_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.1.0635<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity complains about null pointer use.<br>
Solution:&nbsp;&nbsp; Avoid using a null pointer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.0636<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;line2byte() gives wrong values with text properties. (Bjorn Linse)<br>
Solution:&nbsp;&nbsp; Compute byte offsets differently when text properties were added.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #3718)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/textprop.c, src/proto/textprop.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.0637<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Nsis file no longer used.<br>
Solution:&nbsp;&nbsp; Remove the file. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/vimrc.ini, Filelist<br>
<br>
Patch 8.1.0638<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text property highlighting is off by one column. (Bjorn Linse)<br>
Solution:&nbsp;&nbsp; Update text property highlighting earlier.&nbsp;&nbsp;Let it overrule syntax<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;highlighting.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/screen.c<br>
<br>
Patch 8.1.0639<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;text properties test fails on MS-Windows<br>
Solution:&nbsp;&nbsp; Set fileformat to &quot;unix&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.0640<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get E14 while typing command :tab with&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;set.<br>
Solution:&nbsp;&nbsp; Do not give an error when looking for the command. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim, src/ex_docmd.c<br>
<br>
Patch 8.1.0641<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No check for out-of-memory when converting regexp.<br>
Solution:&nbsp;&nbsp; Bail out when lalloc() returns NULL. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 8.1.0642<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;swapinfo() leaks memory. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Avoid allocating the strings twice.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/dict.c, src/proto/dict.pro<br>
<br>
Patch 8.1.0643<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Computing byte offset wrong. (Bjorn Linse)<br>
Solution:&nbsp;&nbsp; Use the right variable for array index.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.0644<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Finding next sign ID is inefficient.<br>
Solution:&nbsp;&nbsp; Add next_sign_id. (Yegappan Lakshmanan, closes #3717)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/buffer.c, src/evalfunc.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/main.c, src/proto/buffer.pro, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signs.vim<br>
<br>
Patch 8.1.0645<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for possible use of NULL pointer.<br>
Solution:&nbsp;&nbsp; Check return value of vterm_obtain_screen().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.0646<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with Ruby 2.6.0.<br>
Solution:&nbsp;&nbsp; Add rb_ary_detransient(). (Ozaki Kiichi, closes #3724)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.1.0647<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: balloon_show() does not handle wide characters.<br>
Solution:&nbsp;&nbsp; Use CreateWindowExW(). (Yasuhiro Matsumoto, closes #3708)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.1.0648<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Custom operators can't act upon a forced motion. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wellenbrock)<br>
Solution:&nbsp;&nbsp; Add the forced motion to the mode() result. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3490)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/globals.h, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.vim<br>
<br>
Patch 8.1.0649<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;setjmp() variables defined globally are used in one file.<br>
Solution:&nbsp;&nbsp; Move the declarations to that file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/os_unix.c<br>
<br>
Patch 8.1.0650<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Command line argument -q&nbsp;<span class="Special">[errorfile]</span>&nbsp;is not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3730)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim<br>
<br>
Patch 8.1.0651<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:args \&quot;foo works like :args without argument.<br>
Solution:&nbsp;&nbsp; Fix check for empty argument. (closes #3728)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_arglist.vim<br>
<br>
Patch 8.1.0652<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Freeing memory for balloon eval too early.<br>
Solution:&nbsp;&nbsp; Store the pointer in BalloonEval and free it later. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #3725)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/beval.h, src/gui_w32.c<br>
<br>
Patch 8.1.0653 (after 8.1.0651)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Arglist test fails on MS-windows.<br>
Solution:&nbsp;&nbsp; Only use a file name with a double quote on Unix.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim<br>
<br>
Patch 8.1.0654<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When deleting a line text property flags are not adjusted.<br>
Solution:&nbsp;&nbsp; Adjust text property flags in preceding and following lines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/misc2.c, src/proto/misc2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.0655<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When appending a line text property flags are not added.<br>
Solution:&nbsp;&nbsp; Add text properties to a newly added line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/testdir/test_textprop.vim, src/textprop.c<br>
<br>
Patch 8.1.0656<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Trying to reconnect to X server may cause problems.<br>
Solution:&nbsp;&nbsp; Do no try reconnecting when exiting. (James McCoy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.1.0657 (after 8.1.0656)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get error for using regexp recursively. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Do no check if connection is desired.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.1.0658<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Deleting signs and completion for :sign is insufficient.<br>
Solution:&nbsp;&nbsp; Add deleting signs in a specified or any group from the current<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cursor location.&nbsp;&nbsp;Add group and priority to sign command<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;completion. Add tests for different sign unplace commands. Update<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;help text.&nbsp;&nbsp;Add tests for sign jump with group. Update help for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sign jump. (Yegappan Lakshmanan, closes #3731)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/sign.txt, src/buffer.c, src/evalfunc.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c, src/proto/buffer.pro, src/proto/ex_cmds.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signs.vim<br>
<br>
Patch 8.1.0659 (after 8.1.0658)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure without the sign feature.<br>
Solution:&nbsp;&nbsp; Put the sign struct declarations outside of the #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 8.1.0660<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;sign_unplace() may leak memory.<br>
Solution:&nbsp;&nbsp; Free the group name before returning.&nbsp;&nbsp;Add a few more tests.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_signs.vim<br>
<br>
Patch 8.1.0661<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clipboard regexp might be used recursively.<br>
Solution:&nbsp;&nbsp; Check for recursive use and bail out.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/proto/regexp.pro, src/os_unix.c<br>
<br>
Patch 8.1.0662<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Needlessly searching for tilde in string.<br>
Solution:&nbsp;&nbsp; Only check the first character. (James McCoy, closes #3734)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 8.1.0663<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text property display wrong when&nbsp;<a class="Type" href="options.html#'number'">'number'</a>&nbsp;is set. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Solution:&nbsp;&nbsp; Compare with &quot;vcol&quot;&nbsp;&nbsp;instead of &quot;col&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.0664<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Configure &quot;fail-if-missing&quot; does not apply to the enable-gui<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;argument. (Rhialto)<br>
Solution:&nbsp;&nbsp; Make configure fail if a GUI was specified and &quot;fail-if-missing&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is enabled and the GUI test fails.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.1.0665<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text property display wrong when&nbsp;<a class="Type" href="options.html#'spell'">'spell'</a>&nbsp;is set. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Remove unnecessary assignment to char_attr.&nbsp;&nbsp;Combine attributes if<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;needed.&nbsp;&nbsp;Add a screenshot test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_textprop_01.dump<br>
<br>
Patch 8.1.0666 (after 8.1.0665)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text property test fails.<br>
Solution:&nbsp;&nbsp; Update screenshot.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_textprop_01.dump<br>
<br>
Patch 8.1.0667 (after 8.1.0665)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Textprop test leaves file behind.<br>
Solution:&nbsp;&nbsp; Delete the file. (Dominique Pelle, closes #3743)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.0668<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for overstrike mode in the command line.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3742)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.1.0669<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The ex_sign() function is too long.<br>
Solution:&nbsp;&nbsp; Refactor the function.&nbsp;&nbsp;Add a bit more testing. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #3745)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signs.vim, src/ex_cmds.c<br>
<br>
Patch 8.1.0670<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Macro for popup menu width is unused.<br>
Solution:&nbsp;&nbsp; Remove it. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.1.0671<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor in the wrong column after auto-formatting.<br>
Solution:&nbsp;&nbsp; Check for deleting more spaces than adding. (closes #3748)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_textformat.vim, src/mark.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/mark.pro, src/misc1.c<br>
<br>
Patch 8.1.0672<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The Lua interface doesn't know about v:null.<br>
Solution:&nbsp;&nbsp; Add Lua support for v:null. (Uji, closes #3744)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c, src/testdir/test_lua.vim<br>
<br>
Patch 8.1.0673<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Functionality for signs is spread out over several files.<br>
Solution:&nbsp;&nbsp; Move most of the sign functionality into sign.c. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #3751)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_bc5.mak, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_dice.mak, src/Make_ivc.mak, src/Make_manx.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_morph.mak, src/Make_mvc.mak, src/Make_sas.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms, src/Makefile, src/README.txt, src/buffer.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_cmds.c, src/proto.h, src/proto/buffer.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds.pro, src/proto/sign.pro, src/sign.c<br>
<br>
Patch 8.1.0674<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory when updating a single line.<br>
Solution:&nbsp;&nbsp; Do not call start_search_hl() twice.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.0675<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text property column is screen columns is not practical.<br>
Solution:&nbsp;&nbsp; Use byte values for the column.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/textprop.c, src/proto/textprop.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/textprop.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_textprop_01.dump<br>
<br>
Patch 8.1.0676<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Textprop screendump test fails.<br>
Solution:&nbsp;&nbsp; Add missing changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.0677<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Look-behind match may use the wrong line number. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Use the line number in regsave instead of the one in behind_pos,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;we may be looking at the previous line. (closes #3749)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 8.1.0678<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text properties as not adjusted for inserted text.<br>
Solution:&nbsp;&nbsp; Adjust text properties when inserting text.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/proto/misc1.pro, src/textprop.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_textprop_01.dump<br>
<br>
Patch 8.1.0679<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sign functions do not take buffer argument as documented.<br>
Solution:&nbsp;&nbsp; Use get_buf_tv(). (Yegappan Lakshmanan, closes #3755)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_signs.vim<br>
<br>
Patch 8.1.0680<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to see what features are unavailable.<br>
Solution:&nbsp;&nbsp; Highlight disabled features in the :version output. (Nazri Ramliy,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3756)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c<br>
<br>
Patch 8.1.0681<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text properties as not adjusted for deleted text.<br>
Solution:&nbsp;&nbsp; Adjust text properties when backspacing to delete text.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/misc1.c, src/testdir/test_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_textprop_01.dump<br>
<br>
Patch 8.1.0682<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text properties are not adjusted when backspacing replaced text.<br>
Solution:&nbsp;&nbsp; Keep text properties on text restored in replace mode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/textprop.c,&nbsp;&nbsp;src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.0683<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Spell highlighting does not always end. (Gary Johnson)<br>
Solution:&nbsp;&nbsp; Also reset char_attr when spell errors are highlighted.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.0684<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings from 64-bit compiler.<br>
Solution:&nbsp;&nbsp; Add type casts. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/textprop.c<br>
<br>
Patch 8.1.0685<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;get_buf_tv() is named inconsistently.<br>
Solution:&nbsp;&nbsp; Rename it to tv_get_buf(). (Yegappan Lakshmanan, closes #3759)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/proto/evalfunc.pro, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c<br>
<br>
Patch 8.1.0686<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When 'y' is in&nbsp;<a class="Type" href="options.html#'cpoptions'">'cpoptions'</a>&nbsp;yanking for the clipboard changes redo.<br>
Solution:&nbsp;&nbsp; Do not use the 'y' flag when &quot;gui_yank&quot; is TRUE. (Andy Massimino,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3760)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 8.1.0687<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sentence text object in Visual mode is not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3758)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_visual.vim<br>
<br>
Patch 8.1.0688<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text properties are not restored by undo.<br>
Solution:&nbsp;&nbsp; Also save text properties for undo.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/undo.c, src/memline.c, src/proto/memline.pro<br>
<br>
Patch 8.1.0689 (after 8.1.0688)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Undo with text properties not tested.<br>
Solution:&nbsp;&nbsp; Add a test function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.0690<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;setline() and setbufline() do not clear text properties.<br>
Solution:&nbsp;&nbsp; Clear text properties when setting the text.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.0691<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text properties are not adjusted for :substitute.<br>
Solution:&nbsp;&nbsp; Adjust text properties as well as possible.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/textprop.c, src/proto/textprop.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.0692<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If a buffer was deleted a channel can't write to it.<br>
Solution:&nbsp;&nbsp; When the buffer exists but was unloaded, prepare it for writing.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #3764)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 8.1.0693 (after 8.1.0692)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test fails sometimes.<br>
Solution:&nbsp;&nbsp; Avoid race condition.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 8.1.0694<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using text props may free memory that is not allocated.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Andy Massimino)<br>
Solution:&nbsp;&nbsp; Allocate the line when adjusting text props. (closes #3766)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c<br>
<br>
Patch 8.1.0695<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Internal error when using :popup.<br>
Solution:&nbsp;&nbsp; When a menu only exists in Terminal mode give an error. (Naruhiko<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nishino, closes #3765)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/gui.txt, src/globals.h, src/menu.c, src/popupmnu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 8.1.0696<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When test_edit fails&nbsp;<a class="Type" href="options.html#'insertmode'">'insertmode'</a>&nbsp;may not be reset and the next<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test may get stuck. (James McCoy)<br>
Solution:&nbsp;&nbsp; Always reset&nbsp;<a class="Type" href="options.html#'insertmode'">'insertmode'</a>&nbsp;after executing a test.&nbsp;&nbsp;Avoid that an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;InsertCharPre autocommand or a&nbsp;<a class="Type" href="options.html#'complete'">'complete'</a>&nbsp;function can change the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state. (closes #3768)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/edit.c<br>
<br>
Patch 8.1.0697<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:sign place&quot; requires the buffer argument.<br>
Solution:&nbsp;&nbsp; Make the argument optional.&nbsp;&nbsp;Also update the help and clean up the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sign test. (Yegappan Lakshmanan, closes #3767)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/sign.txt, src/sign.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signs.vim<br>
<br>
Patch 8.1.0698<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clearing the window is used too often, causing the command line<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to be cleared when opening a tab. (Miroslav Koškár)<br>
Solution:&nbsp;&nbsp; Use NOT_VALID instead of CLEAR.&nbsp;&nbsp;(suggested by Jason Franklin,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #630)&nbsp;&nbsp;Also do this for a few other places where clearing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the screen isn't really needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.1.0699<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for uninitialized variable. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add a dummy init.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 8.1.0700 (after 8.1.0698)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;gt&quot; sometimes does not redraw a tab. (Jason Franklin)<br>
Solution:&nbsp;&nbsp; Always set must_redraw in redraw_all_later().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.0701<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sign message not translated and inconsistent spacing.<br>
Solution:&nbsp;&nbsp; Add _() for translation.&nbsp;&nbsp;Add a space. (Ken Takata)&nbsp;&nbsp;Also use<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MSG_BUF_LEN instead of BUFSIZ.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sign.c, src/testdir/test_signs.vim<br>
<br>
Patch 8.1.0702<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:sign place&quot; only uses the current buffer.<br>
Solution:&nbsp;&nbsp; List signs for all buffers when there is no buffer argument.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fix error message for invalid buffer name in sign_place().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yegappan Lakshmanan, closes #3774)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/sign.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signs.vim<br>
<br>
Patch 8.1.0703<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings with 64-bit compiler.<br>
Solution:&nbsp;&nbsp; Change types, add type casts. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c, src/undo.c<br>
<br>
Patch 8.1.0704<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with Ruby 2.6 gives compiler warnings.<br>
Solution:&nbsp;&nbsp; Define a stub for rb_ary_detransient. (Ozaki Kiichi, closes #3779)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.1.0705<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:colorscheme isn't tested enough<br>
Solution:&nbsp;&nbsp; Improve test coverage of :colorscheme. (Dominique Pelle, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#3777)&nbsp;&nbsp;Remove unnecessary sleep.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 8.1.0706<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tabline is not always redrawn when something that is used in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'tabline'">'tabline'</a>&nbsp;changes.<br>
Solution:&nbsp;&nbsp; Add &quot;:redrawtabline&quot; so that a plugin can at least cause the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;redraw when needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/various.txt, runtime/doc/options.txt, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/screen.c, src/proto/screen.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmdidxs.h, src/testdir/test_tabline.vim<br>
<br>
Patch 8.1.0707<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text property columns are not adjusted for changed indent.<br>
Solution:&nbsp;&nbsp; Adjust text properties.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.0708<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Third argument for redrawWinline() is always FALSE.<br>
Solution:&nbsp;&nbsp; Drop the argument. (neovim #9479)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/move.c, src/screen.c, src/proto/screen.pro<br>
<br>
Patch 8.1.0709<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Windows are updated for every added/deleted sign.<br>
Solution:&nbsp;&nbsp; Do not call update_debug_sign().&nbsp;&nbsp;Only redraw when the line with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the sign is visible.&nbsp;&nbsp;(idea from neovim #9479)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sign.c, src/screen.c, src/proto/screen.pro<br>
<br>
Patch 8.1.0710<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using timers may wait for job exit quite long.<br>
Solution:&nbsp;&nbsp; Return from ui_wait_for_chars_or_timer() when a job or channel<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;needs to be handled. (Ozaki Kiichi, closes #3783)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c, src/testdir/test_channel.vim<br>
<br>
Patch 8.1.0711<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test files still use function!.<br>
Solution:&nbsp;&nbsp; Remove the exclamation mark.&nbsp;&nbsp;Fix overwriting a function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test49.vim, src/testdir/test_autocmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_charsearch.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_charsearch_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_display.vim, src/testdir/test_edit.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_eval_func.vim, src/testdir/test_fnameescape.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_getcwd.vim, src/testdir/test_highlight.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_hlsearch.vim, src/testdir/test_ins_complete.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_lambda.vim, src/testdir/test_listdict.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr.vim, src/testdir/test_listlbr_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_marks.vim, src/testdir/test_matchadd_conceal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_matchadd_conceal_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_messages.vim, src/testdir/test_number.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim, src/testdir/test_partial.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_smartindent.vim, src/testdir/test_substitute.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_system.vim, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textobjects.vim, src/testdir/test_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_utf8_comparisons.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vartabs.vim, src/testdir/test_vimscript.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_window_cmd.vim, src/testdir/test_xxd.vim<br>
<br>
Patch 8.1.0712<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows build instructions are a bit outdated.<br>
Solution:&nbsp;&nbsp; Update the instructions. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLpc.txt<br>
<br>
Patch 8.1.0713<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Images for NSIS take up too much space.<br>
Solution:&nbsp;&nbsp; Put the images in a zip file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/icons.zip, nsis/icons/disabled.bmp, nsis/icons/enabled.bmp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/icons/header.bmp, nsis/icons/header.svg,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/icons/un_header.bmp, nsis/icons/uninstall.bmp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/icons/vim_16c.ico, nsis/icons/vim_uninst_16c.ico,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/icons/welcome.bmp, nsis/icons/welcome.svg,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/README.txt, Filelist, Makefile<br>
<br>
Patch 8.1.0714<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnecessary #if lines in GTK code.<br>
Solution:&nbsp;&nbsp; Remove the #if. (Ken Takata, closes #3785)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c, src/if_mzsch.c<br>
<br>
Patch 8.1.0715<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Superfluous call to redraw_win_later().<br>
Solution:&nbsp;&nbsp; Remove the call.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 8.1.0716<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get warning message when&nbsp;<a class="Type" href="options.html#'completefunc'">'completefunc'</a>&nbsp;returns nothing.<br>
Solution:&nbsp;&nbsp; Allow for returning v:none to suppress the warning message.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto, closes #3789)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/insert.txt, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ins_complete.vim<br>
<br>
Patch 8.1.0717<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no function for the &quot;:sign jump&quot; command.<br>
Solution:&nbsp;&nbsp; Add the sign_jump() function. (Yegappan Lakshmanan, closes #3780)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/sign.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_41.txt, src/evalfunc.c, src/proto/sign.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sign.c, src/testdir/test_signs.vim<br>
<br>
Patch 8.1.0718<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A couple compiler warnings.<br>
Solution:&nbsp;&nbsp; Rename shadowed variables.&nbsp;&nbsp;Add UNUSED.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 8.1.0719<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many #ifdefs.<br>
Solution:&nbsp;&nbsp; Always build with the +visualextra feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/version.c, src/normal.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, runtime/doc/various.txt<br>
<br>
Patch 8.1.0720<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot easily change the current quickfix list index.<br>
Solution:&nbsp;&nbsp; Add the &quot;idx&quot; argument to setqflist(). (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3701)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/quickfix.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0721<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Conceal mode is not sufficiently tested.<br>
Solution:&nbsp;&nbsp; Add screendump tests.&nbsp;&nbsp;Check all&nbsp;<a class="Type" href="options.html#'concealcursor'">'concealcursor'</a>&nbsp;values.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_conceal.vim, src/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_03.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_04.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_05.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_06i.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_06v.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_06c.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_06n.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_07i.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_07v.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_07c.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_07n.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_08i.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_08v.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_08c.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_08n.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_09i.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_09v.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_09c.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_09n.dump<br>
<br>
Patch 8.1.0722<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without the virtualedit feature.<br>
Solution:&nbsp;&nbsp; Make getviscol2() always available.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/proto/misc2.pro, src/ops.c<br>
<br>
Patch 8.1.0723<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot run specific test when in src/testdir the same was as in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the src directory.<br>
Solution:&nbsp;&nbsp; Move build rule to src/testdir/Makefile.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/Make_amiga.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/Make_all.mak, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/README.txt, src/Make_mvc.mak<br>
<br>
Patch 8.1.0724<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build for MinGW fails.<br>
Solution:&nbsp;&nbsp; Avoid specifying dependencies in included makefile.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_dos.mak, src/testdir/Make_ming.mak<br>
<br>
Patch 8.1.0725<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Conceal mode is not completely tested.<br>
Solution:&nbsp;&nbsp; Add tests for moving the cursor in Insert mode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_conceal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_10.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_11.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_12.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_two_windows_13.dump<br>
<br>
Patch 8.1.0726<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Redrawing specifically for conceal feature.<br>
Solution:&nbsp;&nbsp; Use generic redrawing methods.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/gui.c, src/main.c, src/normal.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/screen.pro, src/window.c<br>
<br>
Patch 8.1.0727<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for sprintf() argument.<br>
Solution:&nbsp;&nbsp; Add type cast.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c<br>
<br>
Patch 8.1.0728<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot avoid breaking after a single space.<br>
Solution:&nbsp;&nbsp; Add the 'p' flag to&nbsp;<a class="Type" href="options.html#'formatoptions'">'formatoptions'</a>. (Tom Ryder)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/change.txt, src/edit.c, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textformat.vim<br>
<br>
Patch 8.1.0729<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is a SourcePre autocommand event but not a SourcePost.<br>
Solution:&nbsp;&nbsp; Add the SourcePost autocommand event. (closes #3739)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/fileio.c, src/ex_cmds2.c, runtime/doc/autocmd.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_source.vim, src/testdir/Make_all.mak<br>
<br>
Patch 8.1.0730<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for get_buf_arg() unused.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.0731<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;JS encoding does not handle negative infinity.<br>
Solution:&nbsp;&nbsp; Add support for negative infinity for JS encoding. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle, closes #3792)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/json.c, src/testdir/test_json.vim<br>
<br>
Patch 8.1.0732<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without the eval feature.<br>
Solution:&nbsp;&nbsp; Make a copy of the sourced file name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 8.1.0733<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many #ifdefs for the multi-byte feature.<br>
Solution:&nbsp;&nbsp; Tentatively always enable the multi-byte feature.&nbsp;&nbsp;If you have a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;problem with this, please discuss on the Vim maillist.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure, src/feature.h, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_bc5.mak, src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 8.1.0734<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The hlsearch state is not stored in a session file.<br>
Solution:&nbsp;&nbsp; Add &quot;nohlsearch&quot; if appropriate. (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.0735<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot handle binary data.<br>
Solution:&nbsp;&nbsp; Add the Blob type. (Yasuhiro Matsumoto, closes #3638)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/if_perl.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_ruby.txt, src/Make_cyg_ming.mak, src/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/blob.c, src/channel.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/if_perl.xs, src/if_py_both.h, src/if_python.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python3.c, src/if_ruby.c, src/json.c, src/netbeans.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto.h, src/proto/blob.pro, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/testdir/Make_all.mak, src/vim.h, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_blob.vim, src/testdir/test_channel.vim<br>
<br>
Patch 8.1.0736<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code for Blob not sufficiently tested.<br>
Solution:&nbsp;&nbsp; Add more tests.&nbsp;&nbsp;Fix uncovered crash.&nbsp;&nbsp;Add test_null_blob().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_blob.vim, src/testdir/test_assign.vim, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_eval_stuff.vim, src/testdir/test_lambda.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/blob.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test49.vim<br>
<br>
Patch 8.1.0737<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for uninitialized variable.<br>
Solution:&nbsp;&nbsp; Add initialization. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.1.0738<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory, for loop over blob leaks memory.<br>
Solution:&nbsp;&nbsp; Clear pointer after freeing memory.&nbsp;&nbsp;Decrement reference count<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;after for loop over blob.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.1.0739<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text objects in not sufficiently tested.<br>
Solution:&nbsp;&nbsp; Add a few more test cases. (Dominique Pelle, closes #3795)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_visual.vim<br>
<br>
Patch 8.1.0740<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tcl test fails.<br>
Solution:&nbsp;&nbsp; When the argument is empty don't give an error, instead rely on<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the error reporting higher up.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.1.0741<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Viminfo with Blob is not tested.<br>
Solution:&nbsp;&nbsp; Extend the viminfo test.&nbsp;&nbsp;Fix reading a blob.&nbsp;&nbsp;Fixed storing a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;special variable value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viminfo.vim, src/eval.c, src/blob.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/blob.pro<br>
<br>
Patch 8.1.0742<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all Blob operations are tested.<br>
Solution:&nbsp;&nbsp; Add more testing for Blob.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_blob.vim, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_eval_stuff.vim<br>
<br>
Patch 8.1.0743<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Giving error messages is not flexible.<br>
Solution:&nbsp;&nbsp; Add semsg().&nbsp;&nbsp;Change argument from &quot;char_u *&quot; to &quot;char *&quot;, also<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for msg() and get rid of most MSG macros. (Ozaki Kiichi, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#3302)&nbsp;&nbsp;Also make emsg() accept a &quot;char *&quot; argument.&nbsp;&nbsp;Get rid of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;an enormous number of type casts.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/blob.c, src/blowfish.c, src/buffer.c, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/crypt.c, src/dict.c, src/diff.c, src/digraph.c, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalfunc.c, src/ex_cmds.c, src/ex_cmds.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/ex_docmd.c, src/ex_eval.c, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/farsi.h, src/fileio.c, src/fold.c, src/getchar.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/gui.c, src/gui_at_fs.c, src/gui_at_sb.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c, src/gui_gtk_x11.c, src/gui_mac.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_photon.c, src/gui_w32.c, src/gui_x11.c, src/hangulin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hardcopy.c, src/hashtab.c, src/if_cscope.c, src/if_lua.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.c, src/if_perl.xs, src/if_py_both.h, src/if_python.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python3.c, src/if_ruby.c, src/if_tcl.c, src/if_xcmdsrv.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/list.c, src/main.c, src/mark.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memfile.c, src/memline.c, src/menu.c, src/message.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/misc2.c, src/netbeans.c, src/normal.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/os_amiga.c, src/os_mswin.c, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/popupmnu.c, src/proto.h, src/proto/buffer.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/digraph.pro, src/proto/ex_docmd.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_eval.pro, src/proto/ex_getln.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/hardcopy.pro, src/proto/mbyte.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/message.pro, src/proto/misc2.pro, src/proto/option.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/spell.pro, src/quickfix.c, src/regexp.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/search.c, src/sign.c, src/spell.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spellfile.c, src/structs.h, src/syntax.c, src/tag.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/terminal.c, src/textprop.c, src/ui.c, src/undo.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/version.c, src/vim.h, src/window.c,<br>
<br>
Patch 8.1.0744 (after 8.1.0743)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for signed/unsigned strings.<br>
Solution:&nbsp;&nbsp; A few more type cast fixes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/if_perl.xs, src/if_py_both.h, src/integration.c<br>
<br>
Patch 8.1.0745<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for signed/unsigned string.<br>
Solution:&nbsp;&nbsp; Remove type casts. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/mbyte.c<br>
<br>
Patch 8.1.0746<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Highlighting not updated with conceal and&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>. (Jason<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Franklin)<br>
Solution:&nbsp;&nbsp; Do not use a zero line number.&nbsp;&nbsp;Check if&nbsp;<a class="Type" href="options.html#'conceallevel'">'conceallevel'</a>&nbsp;is set for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the current window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/testdir/test_conceal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_cul_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_cul_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_cul_03.dump<br>
<br>
Patch 8.1.0747<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;map() with a bad expression doesn't give an error. (Ingo Karkat)<br>
Solution:&nbsp;&nbsp; Check for giving an error message. (closes #3800)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_filter_map.vim<br>
<br>
Patch 8.1.0748<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using sprintf() instead of semsg().<br>
Solution:&nbsp;&nbsp; Use semsg().&nbsp;&nbsp;Fix bug with E888. (Ozaki Kiichi, closes #3801)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 8.1.0749 (after 8.1.0747)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error message contains garbage. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Use correct pointer to failed expression.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.1.0750<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the last sign is deleted the signcolumn may not be removed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;even though&nbsp;<a class="Type" href="options.html#'signcolumn'">'signcolumn'</a>&nbsp;is &quot;auto&quot;.<br>
Solution:&nbsp;&nbsp; When deleting the last sign redraw the buffer. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3803, closes #3804)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sign.c<br>
<br>
Patch 8.1.0751<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some regexp errors are not tested.<br>
Solution:&nbsp;&nbsp; Add a test function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_regexp_latin.vim<br>
<br>
Patch 8.1.0752<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;One more compiler warning for signed/unsigned string. (Tony<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mechelynck)<br>
Solution:&nbsp;&nbsp; Remove type cast.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.1.0753<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;printf format not checked for semsg().<br>
Solution:&nbsp;&nbsp; Add GNUC attribute and fix reported problems. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3805)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/diff.c, src/eval.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/if_cscope.c, src/netbeans.c, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/message.pro, src/quickfix.c, src/regexp_nfa.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sign.c, src/spellfile.c, src/window.c, src/gui_x11.c<br>
<br>
Patch 8.1.0754<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Preferred column is lost when setting&nbsp;<a class="Type" href="options.html#'cursorcolumn'">'cursorcolumn'</a>.<br>
Solution:&nbsp;&nbsp; Change option flag to P_RWINONLY. (Takayuki Kurosawa,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3806)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_cursor_func.vim<br>
<br>
Patch 8.1.0755<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error message for get() on a Blob with invalid index.<br>
Solution:&nbsp;&nbsp; Return an empty Blob, like get() on a List does.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_blob.vim<br>
<br>
Patch 8.1.0756<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;copy() does not make a copy of a Blob.<br>
Solution:&nbsp;&nbsp; Make a copy.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_blob.vim<br>
<br>
Patch 8.1.0757<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough documentation for Blobs.<br>
Solution:&nbsp;&nbsp; Add a section about Blobs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.1.0758<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Font number is always one instead of the actual.<br>
Solution:&nbsp;&nbsp; Use &quot;%d&quot; instead of &quot;1&quot;. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c<br>
<br>
Patch 8.1.0759<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Showing two characters for tab is limited.<br>
Solution:&nbsp;&nbsp; Allow for a third character for &quot;tab:&quot; in&nbsp;<a class="Type" href="options.html#'listchars'">'listchars'</a>. (Nathaniel<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Braun, Ken Takata, closes #3810)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/globals.h, src/message.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/screen.c, src/testdir/test_listchars.vim<br>
<br>
Patch 8.1.0760<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No proper test for using&nbsp;<a class="Type" href="options.html#'termencoding'">'termencoding'</a>.<br>
Solution:&nbsp;&nbsp; Add a screendump test.&nbsp;&nbsp;Fix using double width characters in a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screendump.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_termencoding.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_tenc_euc_jp_01.dump<br>
<br>
Patch 8.1.0761<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Default value for brief_wait is wrong.<br>
Solution:&nbsp;&nbsp; Make the default FALSE. (Ozaki Kiichi, closes #3812, closes #3799)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.1.0762<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning.<br>
Solution:&nbsp;&nbsp; Add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.1.0763<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Nobody is using the Sun Workshop support.<br>
Solution:&nbsp;&nbsp; Remove the Workshop support.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/workshop.txt, runtime/doc/help.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/netbeans.txt, src/Makefile, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/beval.c, src/buffer.c, src/config.h.in, src/config.mk.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/evalfunc.c, src/ex_cmds.c, src/ex_cmds.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/feature.h, src/fileio.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/gui_beval.c, src/gui_motif.c, src/gui_x11.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/integration.c, src/integration.h, src/main.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/nbdebug.c, src/netbeans.c, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/workshop.pro, src/ui.c, src/version.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/workshop.c, src/workshop.h, src/wsdebug.c, src/wsdebug.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmdidxs.h<br>
<br>
Patch 8.1.0764<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;List of distributed files is outdated.<br>
Solution:&nbsp;&nbsp; Remove workshop files.&nbsp;&nbsp;Add blob files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.1.0765<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;String format of a Blob can't be parsed back.<br>
Solution:&nbsp;&nbsp; Use 0z format.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/blob.c, src/eval.c, src/testdir/test_blob.vim<br>
<br>
Patch 8.1.0766<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various problems when using Vim on VMS.<br>
Solution:&nbsp;&nbsp; Various fixes. Define long_long_T. (Zoltan Arpadffy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/feature.h, src/fileio.c, src/gui_motif.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c, src/gui_xmebw.c, src/json.c, src/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/os_vms_conf.h, src/vim.h, src/xdiff/xdiff.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xinclude.h<br>
<br>
Patch 8.1.0767<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When deleting lines at the bottom signs are misplaced.<br>
Solution:&nbsp;&nbsp; Properly update the line number of signs at the end of a buffer<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;after a delete/undo operation. (Yegappan Lakshmanan, closes #3798)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sign.c, src/testdir/test_signs.vim<br>
<br>
Patch 8.1.0768<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Updating completions may cause the popup menu to flicker.<br>
Solution:&nbsp;&nbsp; Avoid updating the text below the popup menu before drawing the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;popup menu.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c, src/proto/popupmnu.pro, src/edit.c, src/screen.c<br>
<br>
Patch 8.1.0769<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:stop is covered in two tests.<br>
Solution:&nbsp;&nbsp; Remove Test_stop_in_terminal().&nbsp;&nbsp;Make other test exit Vim cleanly.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ozaki Kiichi, closes #3814)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/testdir/test_suspend.vim<br>
<br>
Patch 8.1.0770<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Inconsistent use of ELAPSED_FUNC.<br>
Solution:&nbsp;&nbsp; Consistently use ELAPSED_FUNC.&nbsp;&nbsp;Also turn ELAPSED_TYPE into a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;typedef. (Ozaki Kiichi, closes #3815)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/gui.c, src/misc1.c, src/os_unix.c, src/vim.h<br>
<br>
Patch 8.1.0771<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some shell filetype patterns end in a star.<br>
Solution:&nbsp;&nbsp; Make sure that patterns not ending in a star are preferred.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim, runtime/autoload/dist/ft.vim<br>
<br>
Patch 8.1.0772<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The sign_define_by_name() function is too long.<br>
Solution:&nbsp;&nbsp; Split it into smaller functions. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3819)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sign.c<br>
<br>
Patch 8.1.0773<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all crypt code is tested.<br>
Solution:&nbsp;&nbsp; Disable unused crypt code.&nbsp;&nbsp;Add more test coverage.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/crypt.c, src/testdir/test_crypt.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/crypt.pro, src/fileio.c<br>
<br>
Patch 8.1.0774<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;VMS build is missing the blob file.<br>
Solution:&nbsp;&nbsp; Add the blob file to the build rules. (Zoltan Arpadffy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms, runtime/doc/os_vms.txt<br>
<br>
Patch 8.1.0775<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Matching too many files as zsh. (Danek Duvall)<br>
Solution:&nbsp;&nbsp; Be more specific with zsh filetype patterns.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim<br>
<br>
Patch 8.1.0776<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Travis does not build a version without GUI on Linux.<br>
Solution:&nbsp;&nbsp; Add an environment for tiny features without GUI.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.0777<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: using pipes for channel does not work well.<br>
Solution:&nbsp;&nbsp; Use a larger buffer and handle overlaps. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3782)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/os_win32.c<br>
<br>
Patch 8.1.0778<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Temporarily skip the test on MS-Windows.&nbsp;&nbsp;Do run it both in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;terminal and GUI on other systems.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0779<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Argument for message functions is inconsistent.<br>
Solution:&nbsp;&nbsp; Make first argument to msg() &quot;char *&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/crypt.c, src/edit.c, src/ex_cmds.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c, src/farsi.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c, src/fileio.c, src/getchar.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/if_perl.xs, src/netbeans.c, src/gui_w32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hardcopy.c, src/if_mzsch.c, src/if_py_both.h, src/if_ruby.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_tcl.c, src/mark.c, src/mbyte.c, src/menu.c, src/memline.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/misc1.c, src/misc2.c, src/normal.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/os_amiga.c, src/os_unix.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/message.pro, src/quickfix.c, src/sign.c, src/regexp.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c, src/screen.c, src/search.c, src/spell.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spellfile.c, src/syntax.c, src/tag.c, src/term.c, src/undo.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/version.c, src/vim.h, src/window.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/evalfunc.c, src/ex_eval.c, src/farsi.h<br>
<br>
Patch 8.1.0780<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test fails on Mac.<br>
Solution:&nbsp;&nbsp; Skip the test on Mac.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0781<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build error when using if_xcmdsrv.c.<br>
Solution:&nbsp;&nbsp; Add missing part of 8.1.0779.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_xcmdsrv.c<br>
<br>
Patch 8.1.0782<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32: cursor blinks when Vim is not active.<br>
Solution:&nbsp;&nbsp; Remove call to setActiveWindow(). (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3778)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/proto/gui_w32.pro, src/menu.c<br>
<br>
Patch 8.1.0783<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for signed/unsigned.<br>
Solution:&nbsp;&nbsp; Add type cast.&nbsp;&nbsp;Change type of buffer. (Ozaki Kiichi, closes #3827)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/message.c<br>
<br>
Patch 8.1.0784<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Messy indent in if statement.<br>
Solution:&nbsp;&nbsp; Improve structure of if statement. (Ozaki Kiichi, closes #3826)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.0785<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Depending on the configuration some functions are unused.<br>
Solution:&nbsp;&nbsp; Add more #ifdefs, remove unused functions. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3822)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/channel.c, src/ex_cmds2.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/getchar.c, src/gui_gtk_x11.c, src/hashtab.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/mbyte.c, src/message.c, src/misc1.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/option.c, src/os_unix.c, src/proto/os_unix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/regexp.pro, src/proto/terminal.pro, src/regexp.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/search.c, src/syntax.c, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/ui.c, src/userfunc.c<br>
<br>
Patch 8.1.0786<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ml_get error when updating the status line and a terminal had its<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scrollback cleared.&nbsp;&nbsp;(Chris Patuzzo)<br>
Solution:&nbsp;&nbsp; Check the cursor position when drawing the status line.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #3830)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0787<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused function. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Tune #ifdef around setjmp functions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.1.0788<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with tiny features.<br>
Solution:&nbsp;&nbsp; Adjust #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.1.0789<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sourcing a session sets v:errmsg.<br>
Solution:&nbsp;&nbsp; Use &quot;%argdel&quot; instead of &quot;argdel *&quot;. (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.0790<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code for creating tabpages in session is too complex.<br>
Solution:&nbsp;&nbsp; Simplify the code. (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.1.0791<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A few compiler warnings on VMS.<br>
Solution:&nbsp;&nbsp; Remove type cast.&nbsp;&nbsp;Adjust #ifdef. (Zoltan Arpadffy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/proto.h<br>
<br>
Patch 8.1.0792<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup menu is displayed on top of the cmdline window if it is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;opened from Insert completion. (Bjorn Linse)<br>
Solution:&nbsp;&nbsp; Remove the popup menu.&nbsp;&nbsp;Restore the cursor position.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #3838)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/ex_getln.c<br>
<br>
Patch 8.1.0793<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Incorrect error messages for functions that now take a Blob<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;argument.<br>
Solution:&nbsp;&nbsp; Adjust the error messages. (Dominique Pelle, closes #3846)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_blob.vim, src/testdir/test_listdict.vim<br>
<br>
Patch 8.1.0794<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;White space before &quot; -Ntabmove&quot; causes problems.<br>
Solution:&nbsp;&nbsp; Skip whitespace. (Ozaki Kiichi, closes #3841)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_tabpage.vim<br>
<br>
Patch 8.1.0795 (after 8.1.0792)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without popup menu.<br>
Solution:&nbsp;&nbsp; Add #ifdef<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.1.0796<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows 7: problem with named pipe on channel.<br>
Solution:&nbsp;&nbsp; Put back the disconnect/connect calls. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3833)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0797<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error E898 is used twice.<br>
Solution:&nbsp;&nbsp; Rename the Blob error to E899. (closes #3853)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listdict.vim<br>
<br>
Patch 8.1.0798<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Changing a blob while iterating over it works strangely.<br>
Solution:&nbsp;&nbsp; Make a copy of the Blob before iterating.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/blob.c, src/proto/blob.pro, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_blob.vim<br>
<br>
Patch 8.1.0799<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Calling deleted function; test doesn't work on Mac.<br>
Solution:&nbsp;&nbsp; Wait for the function to be called before deleting it. Use a job<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to write to the pty, unless in the GUI. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3854)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0800<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May use a lot of memory when a function creates a cyclic<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reference.<br>
Solution:&nbsp;&nbsp; After saving a funccal many times, invoke the garbage collector.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #3835)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 8.1.0801<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MinGW: no hint that tests fail because of small terminal.<br>
Solution:&nbsp;&nbsp; Add a rule for test1 that checks for &quot;wrongtermsize&quot;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(msoyka-of-wharton)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak<br>
<br>
Patch 8.1.0802<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Negative index doesn't work for Blob.<br>
Solution:&nbsp;&nbsp; Make it work, add a test. (closes #3856)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/blob.c, src/proto/blob.pro, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_blob.vim<br>
<br>
Patch 8.1.0803<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Session file has problem with single quote in file name. (Jon<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Crowe)<br>
Solution:&nbsp;&nbsp; Use a double quoted string.&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.0804<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when setting v:errmsg to empty list. (Jason Franklin)<br>
Solution:&nbsp;&nbsp; Separate getting value and assigning result.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_eval_stuff.vim<br>
<br>
Patch 8.1.0805<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many #ifdefs.<br>
Solution:&nbsp;&nbsp; Graduate FEAT_MBYTE, part 1.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/charset.c, src/diff.c, src/digraph.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/eval.c, src/evalfunc.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c, src/gui.c, src/gui_mac.c, src/gui_photon.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.1.0806<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many #ifdefs.<br>
Solution:&nbsp;&nbsp; Graduate FEAT_MBYTE, part 2.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c, src/gui_w32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c, src/hardcopy.c, src/if_xcmdsrv.c, src/json.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/kword_test.c, src/main.c, src/mbyte.c, src/memline.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/misc1.c, src/misc2.c, src/move.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/option.c, src/charset.c<br>
<br>
Patch 8.1.0807<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Session test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Don't try creating file with illegal name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.0808<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: build error with GUI.<br>
Solution:&nbsp;&nbsp; Remove &quot;static&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.1.0809<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many #ifdefs.<br>
Solution:&nbsp;&nbsp; Graduate FEAT_MBYTE, part 3.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_amiga.c, src/os_mswin.c, src/os_unix.c, src/os_w32exe.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/quickfix.c, src/regexp.c, src/regexp_nfa.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.0810<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many #ifdefs.<br>
Solution:&nbsp;&nbsp; Graduate FEAT_MBYTE, part 4.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/search.c, src/sign.c, src/spell.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spellfile.c, src/syntax.c, src/tag.c, src/term.c, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/winclip.c, src/window.c, src/glbl_ime.cpp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/globals.h, src/gui.h, src/if_py_both.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h, src/option.h, src/os_mac.h, src/os_win32.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto.h, src/spell.h, src/structs.h, src/vim.h<br>
<br>
Patch 8.1.0811<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many #ifdefs.<br>
Solution:&nbsp;&nbsp; Graduate FEAT_MBYTE, the final chapter.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/vim.h, src/crypt_zip.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/spell.h, src/structs.h, src/config.h.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure, src/testdir/runtest.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot_utf8.vim, src/testdir/test_arabic.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_charsearch_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim, src/testdir/test_digraph.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_display.vim, src/testdir/test_edit.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_erasebackword.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expr_utf8.vim, src/testdir/test_functions.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ga.vim, src/testdir/test_iminsert.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_increment_dbcs.vim, src/testdir/test_json.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_makeencoding.vim, src/testdir/test_maparg.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.vim, src/testdir/test_marks.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_match.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_matchadd_conceal_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession_utf8.vim, src/testdir/test_normal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_plus_arg_edit.vim, src/testdir/test_profile.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_put.vim, src/testdir/test_regex_char_classes.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_regexp_utf8.vim, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_source_utf8.vim, src/testdir/test_spell.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termencoding.vim, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_utf8.vim, src/testdir/test_utf8_comparisons.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viminfo.vim, src/testdir/test_virtualedit.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_visual.vim, src/testdir/test_wordcount.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_writefile.vim, src/appveyor.bat, src/os_macosx.m<br>
<br>
Patch 8.1.0812<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unicode 16 feature is not useful and cannot be detected.<br>
Solution:&nbsp;&nbsp; Remove UNICODE16.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/vim.h, src/feature.h<br>
<br>
Patch 8.1.0813<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;FileChangedShell not sufficiently tested.<br>
Solution:&nbsp;&nbsp; Add a more comprehensive test case.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.1.0814<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:mksession cannot handle a very long&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>. (Timothy<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Madden)<br>
Solution:&nbsp;&nbsp; Expand each part separately, instead of the whole option at once.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt, closes #3466)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.0815<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dialog for file changed outside of Vim not tested.<br>
Solution:&nbsp;&nbsp; Add a test.&nbsp;&nbsp;Move FileChangedShell test.&nbsp;&nbsp;Add 'L' flag to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;feedkeys().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/testdir/test_filechanged.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/evalfunc.c, runtime/doc/eval.txt<br>
<br>
Patch 8.1.0816<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for&nbsp;<a class="Type" href="options.html#'runtimepath'">'runtimepath'</a>&nbsp;in session fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Skip the test for now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.0817<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:=&quot; command is not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3859)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ex_equal.vim<br>
<br>
Patch 8.1.0818<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: cannot send large data with ch_sendraw().<br>
Solution:&nbsp;&nbsp; Split write into several WriteFile() calls. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3823)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/os_win32.c, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel_pipe.py, src/vim.h<br>
<br>
Patch 8.1.0819<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A failed assert with a long string is hard to read.<br>
Solution:&nbsp;&nbsp; Shorten the assert message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_assert.vim<br>
<br>
Patch 8.1.0820<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for sending large data over channel sometimes fails.<br>
Solution:&nbsp;&nbsp; Handle that the job may have finished early.&nbsp;&nbsp;Also fix that file<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;changed test doesn't work in the GUI and reduce flakyness. (Ozaki<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kiichi, closes #3861)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_filechanged.vim<br>
<br>
Patch 8.1.0821<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Xxd &quot;usage&quot; output and other arguments not tested.<br>
Solution:&nbsp;&nbsp; Add a test to trigger the usage output in various ways.&nbsp;&nbsp;Fix<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uncovered problem.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_xxd.vim, src/xxd/xxd.c<br>
<br>
Patch 8.1.0822<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Peeking and flushing output slows down execution.<br>
Solution:&nbsp;&nbsp; Do not update the mode message when global_busy is set.&nbsp;&nbsp;Do not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flush when only peeking for a character. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/screen.c, src/proto/screen.pro, src/edit.c<br>
<br>
Patch 8.1.0823<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not sufficient testing of xxd.<br>
Solution:&nbsp;&nbsp; Add some more test coverage.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_xxd.vim<br>
<br>
Patch 8.1.0824<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;SunOS/Solaris has a problem with ttys.<br>
Solution:&nbsp;&nbsp; Add mch_isatty() with extra handling for SunOS. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3865)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/auto/configure, src/channel.c, src/config.h.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/os_unix.c, src/proto/pty.pro, src/pty.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.0825<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code for autocommands is mixed with file I/O code.<br>
Solution:&nbsp;&nbsp; Move autocommand code to a separate file. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3863)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_bc5.mak, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_dice.mak, src/Make_ivc.mak, src/Make_manx.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_morph.mak, src/Make_mvc.mak, src/Make_sas.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms, src/Makefile, src/README.txt, src/autocmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/globals.h, src/proto.h, src/proto/autocmd.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/fileio.pro<br>
<br>
Patch 8.1.0826<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many #ifdefs.<br>
Solution:&nbsp;&nbsp; Graduate FEAT_VIRTUALEDIT.&nbsp;&nbsp;Adds about 10Kbyte to the code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/charset.c, src/edit.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_cmds.c, src/ex_docmd.c, src/feature.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/gui.c, src/if_py_both.h, src/macros.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mark.c, src/mbyte.c, src/memline.c, src/menu.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/move.c, src/netbeans.c, src/normal.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/option.h, src/screen.c, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/structs.h, src/tag.c, src/ui.c, src/undo.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/version.c, src/vim.h, src/window.c<br>
<br>
Patch 8.1.0827 (after 8.1.0825)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing dependency in Makefile.<br>
Solution:&nbsp;&nbsp; Add dependency from autocmd.o on auto/osdef.h<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.1.0828<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still using FEAT_VIRTUALEDIT.<br>
Solution:&nbsp;&nbsp; Remove last use of FEAT_VIRTUALEDIT.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.0829<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'hidden'">'hidden'</a>&nbsp;is set session creates extra buffers.<br>
Solution:&nbsp;&nbsp; Move :badd commands to the end. (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.0830<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test leaves directory behind on MS-Windows.<br>
Solution:&nbsp;&nbsp; Close buffer before deleting directory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_swap.vim<br>
<br>
Patch 8.1.0831<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Xxd test fails if man page has dos fileformat.<br>
Solution:&nbsp;&nbsp; Make a copy with unix fileformat.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_xxd.vim<br>
<br>
Patch 8.1.0832<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;confirm() is not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3868)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0833<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak when jumps output is filtered.<br>
Solution:&nbsp;&nbsp; Free the filtered name. (Dominique Pelle, closes #3869)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mark.c<br>
<br>
Patch 8.1.0834<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI may wait too long before dealing with messages.&nbsp;&nbsp;Returning<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;early may cause a mapping to time out.<br>
Solution:&nbsp;&nbsp; Use the waiting loop from Unix also for the GUI.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #3817, closes #3824)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c, src/proto/ui.pro, src/os_unix.c, src/gui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim<br>
<br>
Patch 8.1.0835<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI build fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Adjust #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.1.0836<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;User completion test can fail on MS-Windows.<br>
Solution:&nbsp;&nbsp; Allow for other names before &quot;Administrator&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.1.0837<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Timer interrupting cursorhold and mapping not tested.<br>
Solution:&nbsp;&nbsp; Add tests with timers. (Ozaki Kiichi, closes #3871)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/testdir/test_mapping.vim<br>
<br>
Patch 8.1.0838<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for type conversion.<br>
Solution:&nbsp;&nbsp; Add a type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.1.0839<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using VTP wrong colors after a color scheme change.<br>
Solution:&nbsp;&nbsp; When VTP is active always clear after a color scheme change.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Nobuhiro Takasaki, closes #3872)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.1.0840<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getchar(0) never returns a character in the terminal.<br>
Solution:&nbsp;&nbsp; Call wait_func() at least once.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c, src/testdir/test_timers.vim, src/gui_gtk_x11.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/gui_photon.c, src/gui_x11.c<br>
<br>
Patch 8.1.0841<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Travis config to get Lua on MacOS is too complicated.<br>
Solution:&nbsp;&nbsp; Use an addons entry. (Ozaki Kiichi, closes #3876)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.0842<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getchar_zero test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Disable the test for now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 8.1.0843<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak when running &quot;make test_cd&quot;.<br>
Solution:&nbsp;&nbsp; Free the stack element when failing. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3877)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 8.1.0844<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When timer fails test will hang forever.<br>
Solution:&nbsp;&nbsp; Use reltime() to limit waiting time. (Ozaki Kiichi, closes #3878)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 8.1.0845<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Having job_status() free the job causes problems.<br>
Solution:&nbsp;&nbsp; Do not actually free the job or terminal yet, put it in a list and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;free it a bit later. Do not use a terminal after checking the job<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;status.&nbsp;&nbsp;(closes #3873)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/terminal.c, src/proto/terminal.pro, src/misc2.c<br>
<br>
Patch 8.1.0846<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to recognize the system Vim runs on.<br>
Solution:&nbsp;&nbsp; Add more items to the features list. (Ozaki Kiichi, closes #3855)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_functions.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/testdir/test_writefile.vim<br>
<br>
Patch 8.1.0847<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May use terminal after it was cleaned up.<br>
Solution:&nbsp;&nbsp; Use the job pointer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.0848<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with Ruby 1.8. (Tom G. Christensen)<br>
Solution:&nbsp;&nbsp; Use rb-str_new2(). (Yasuhiro Matsumoto, closes #3883,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3884)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.1.0849<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursorline highlight is not always updated.<br>
Solution:&nbsp;&nbsp; Set w_last_cursorline when redrawing.&nbsp;&nbsp;Fix resetting cursor flags<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when using the popup menu.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/popupmnu.c, src/testdir/test_highlight.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_cursorline_yank_01.dump<br>
<br>
Patch 8.1.0850<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for&nbsp;<a class="Type" href="options.html#'backupskip'">'backupskip'</a>&nbsp;is not correct.<br>
Solution:&nbsp;&nbsp; Split the option in parts and use expand(). (Michael Soyka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim<br>
<br>
Patch 8.1.0851<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;feedkeys() with &quot;L&quot; does not work properly.<br>
Solution:&nbsp;&nbsp; Do not set typebuf_was_filled when using &quot;L&quot;. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3885)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_autocmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.vim, src/testdir/test_timers.vim<br>
<br>
Patch 8.1.0852<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;findfile() and finddir() are not properly tested.<br>
Solution:&nbsp;&nbsp; Extend the test and add more. (Dominique Pelle, closes #3880)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_findfile.vim<br>
<br>
Patch 8.1.0853 (after 8.1.0850)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Options test fails on Mac.<br>
Solution:&nbsp;&nbsp; Remove a trailing slash from $TMPDIR.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim<br>
<br>
Patch 8.1.0854<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;xxd does not work with more than 32 bit addresses.<br>
Solution:&nbsp;&nbsp; Add support for 64 bit addresses. (Christer Jensen, closes #3791)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xxd/xxd.c<br>
<br>
Patch 8.1.0855<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build xxd with MSVC 10.<br>
Solution:&nbsp;&nbsp; Move declaration to start of block.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xxd/xxd.c<br>
<br>
Patch 8.1.0856<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When scrolling a window other than the current one the cursorline<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;highlighting is not always updated. (Jason Franklin)<br>
Solution:&nbsp;&nbsp; Call redraw_for_cursorline() after scrolling.&nbsp;&nbsp;Only set<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w_last_cursorline when drawing the cursor line.&nbsp;&nbsp;Reset the lines<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to be redrawn also when redrawing the whole window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c, src/proto/move.pro, src/normal.c<br>
<br>
Patch 8.1.0857<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Indent functionality is not separated.<br>
Solution:&nbsp;&nbsp; Move indent functionality into a new file. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3886)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_bc5.mak, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_dice.mak, src/Make_ivc.mak, src/Make_manx.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_morph.mak, src/Make_mvc.mak, src/Make_sas.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms, src/Makefile, src/edit.c, src/indent.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/proto.h, src/proto/edit.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/indent.pro, src/proto/misc1.pro<br>
<br>
Patch 8.1.0858<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'indentkeys'">'indentkeys'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'cinkeys'">'cinkeys'</a>&nbsp;defaults are different.<br>
Solution:&nbsp;&nbsp; Make them the same, update docs. (close #3882)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, runtime/doc/options.txt, runtime/doc/indent.txt<br>
<br>
Patch 8.1.0859<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;%v&quot; in&nbsp;<a class="Type" href="options.html#'errorformat'">'errorformat'</a>&nbsp;does not handle multi-byte characters.<br>
Solution:&nbsp;&nbsp; Handle multi-byte characters. (Yegappan Lakshmanan, closes #3700)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0860<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Debug lines left in the code.<br>
Solution:&nbsp;&nbsp; Delete the lines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 8.1.0861<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with MinGW and static libc doesn't work.<br>
Solution:&nbsp;&nbsp; Change the LIB argument. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 8.1.0862<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No verbose version of character classes.<br>
Solution:&nbsp;&nbsp; Add [:ident:], [:keyword:] and [:fname:]. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #1373)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/pattern.txt, src/regexp.c, src/regexp_nfa.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_regexp_utf8.vim<br>
<br>
Patch 8.1.0863<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot see what signal caused a job to end.<br>
Solution:&nbsp;&nbsp; Add &quot;termsig&quot; to job_info(). (Ozaki Kiichi, closes #3786)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/channel.c, src/os_unix.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 8.1.0864<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot have a local value for&nbsp;<a class="Type" href="options.html#'scrolloff'">'scrolloff'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'sidescrolloff'">'sidescrolloff'</a>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Gary Holloway)<br>
Solution:&nbsp;&nbsp; Make&nbsp;<a class="Type" href="options.html#'scrolloff'">'scrolloff'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'sidescrolloff'">'sidescrolloff'</a>&nbsp;global-local. (mostly by<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Aron Widforss, closes #3539)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/edit.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/gui.c, src/misc2.c, src/move.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/proto/option.pro, src/option.h, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/window.c, src/testdir/test_options.vim<br>
<br>
Patch 8.1.0865<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'listchars'">'listchars'</a>&nbsp;only contains &quot;nbsp:X&quot; it does not work.<br>
Solution:&nbsp;&nbsp; Set extra_check when lcs_nbsp is set. (Ralf Schandl, closes #3889)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_listchars.vim<br>
<br>
Patch 8.1.0866<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build file dependencies are outdated. (John Little)<br>
Solution:&nbsp;&nbsp; Run &quot;make proto&quot; and &quot;make depend&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/Makefile, src/proto/sign.pro, src/proto/gui_w32.pro<br>
<br>
Patch 8.1.0867<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build Python interface with Python 2.4. (Tom G. Christensen)<br>
Solution:&nbsp;&nbsp; Define PyBytes_FromStringAndSize. (Ken Takata, closes #3888)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python.c<br>
<br>
Patch 8.1.0868<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash if triggering garbage collector after a function call.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Michael Henry)<br>
Solution:&nbsp;&nbsp; Don't call the garbage collector right away, do it later.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #3894)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 8.1.0869<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Travis CI script is too complicated.<br>
Solution:&nbsp;&nbsp; Add names to environments.&nbsp;&nbsp;Move appveyor script outside of src<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory. (Ozaki Kiichi, closes #3890)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml, appveyor.yml, ci/appveyor.bat, src/appveyor.bat,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.1.0870<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim doesn't use the new ConPTY support in Windows 10.<br>
Solution:&nbsp;&nbsp; Use ConPTY support, if available. (Nobuhiro Takasaki, closes #3794)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt, src/channel.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/option.c, src/option.h, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/terminal.pro, src/structs.h, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/gen_opt_test.vim, src/testdir/test_autocmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0871<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build error when building with Ruby 2.6.0.<br>
Solution:&nbsp;&nbsp; Change argument of rb_int2big_stub(). (Android Baumann,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3899)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.1.0872<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Confusing condition.<br>
Solution:&nbsp;&nbsp; Use &quot;==&quot; instead of &quot;&lt;=&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 8.1.0873<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;List if distributed files does not include the matchit autoload<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory.<br>
Solution:&nbsp;&nbsp; Add the directory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Filelist<br>
<br>
Patch 8.1.0874<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old style comments in new file.<br>
Solution:&nbsp;&nbsp; Convert to // comments in new file. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/indent.c<br>
<br>
Patch 8.1.0875<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all errors of marks and findfile()/finddir() are tested.<br>
Solution:&nbsp;&nbsp; Add more test coverage. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_findfile.vim, src/testdir/test_marks.vim<br>
<br>
Patch 8.1.0876<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completion match not displayed when popup menu is not shown.<br>
Solution:&nbsp;&nbsp; Call update_screen() when not displaying the popup menu to show<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the inserted match. (Ken Takata, Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c<br>
<br>
Patch 8.1.0877<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New buffer used every time the quickfix window is opened.<br>
Solution:&nbsp;&nbsp; Reuse the buffer. (Yegappan Lakshmanan, closes #3902)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/proto/quickfix.pro, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0878<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for has(<span class="MissingTag">'bsd'</span>) fails on some BSD systems.<br>
Solution:&nbsp;&nbsp; Adjust the uname match. (James McCoy, closes #3909)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0879<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: temp name encoding can be wrong.<br>
Solution:&nbsp;&nbsp; Convert from active code page to&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3520, closes #1698)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.1.0880<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: inconsistent selection of winpty/conpty.<br>
Solution:&nbsp;&nbsp; Name option&nbsp;<a class="Type" href="options.html#'termwintype'">'termwintype'</a>, use ++type argument and &quot;term_pty&quot; for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;term_start(). (Hirohito Higashi, closes #3915)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt, src/channel.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/structs.h, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/gen_opt_test.vim, runtime/optwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/quickref.txt<br>
<br>
Patch 8.1.0881<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can execute shell commands in rvim through interfaces.<br>
Solution:&nbsp;&nbsp; Disable using interfaces in restricted mode. Allow for writing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file with writefile(), histadd() and a few others.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/starting.txt, src/if_perl.xs, src/if_cmds.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_docmd.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_restricted.vim, src/testdir/Make_all.mak<br>
<br>
Patch 8.1.0882 (after 8.1.0879)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Checking for FEAT_MBYTE which doesn't exist anymore. (Christ van<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Willegen)<br>
Solution:&nbsp;&nbsp; Remove it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.1.0883<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing some changes for Ex commands.<br>
Solution:&nbsp;&nbsp; Add missing changes in header file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h<br>
<br>
Patch 8.1.0884<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Double check for bsd systems.<br>
Solution:&nbsp;&nbsp; Delete the old line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0885<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for restricted hangs on MS-Windows GUI.<br>
Solution:&nbsp;&nbsp; Skip the test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_restricted.vim<br>
<br>
Patch 8.1.0886<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for adding to NULL pointer and a condition that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is always true.<br>
Solution:&nbsp;&nbsp; Check for NULL pointer before adding. Remove useless &quot;if&quot;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Friedirch, closes #3913)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c, src/search.c<br>
<br>
Patch 8.1.0887<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The 'l' flag in :substitute is sticky.<br>
Solution:&nbsp;&nbsp; Reset the flag. (Dominique Pelle, closes #3925)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_substitute.vim<br>
<br>
Patch 8.1.0888<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The a: dict is not immutable as documented.<br>
Solution:&nbsp;&nbsp; Make the a:dict immutable, add a test. (Ozaki Kiichi, Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #3929)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/userfunc.c, src/testdir/test_let.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listdict.vim<br>
<br>
Patch 8.1.0889<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: a channel write may hang.<br>
Solution:&nbsp;&nbsp; Check for WriteFile() not writing anything. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3920)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel_pipe.py<br>
<br>
Patch 8.1.0890<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Pty allocation wrong if using file for out channel and using null<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for in channel and null for error channel.<br>
Solution:&nbsp;&nbsp; Correct using use_file_for_out in condition. (Ozaki Kiichi, closes<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#3917)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/testdir/test_channel.vim<br>
<br>
Patch 8.1.0891<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Substitute command insufficiently tested.<br>
Solution:&nbsp;&nbsp; Add more test coverage. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_substitute.vim<br>
<br>
Patch 8.1.0892<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Failure when closing a window when location list is in use.<br>
Solution:&nbsp;&nbsp; Handle the situation gracefully. Make sure memory for&nbsp;<a class="Type" href="options.html#'switchbuf'">'switchbuf'</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;is not freed at the wrong time. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3928)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalfunc.c, src/proto/window.pro, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim, src/window.c<br>
<br>
Patch 8.1.0893<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test is a bit flaky.<br>
Solution:&nbsp;&nbsp; Add test_terminal_no_cmd() to list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.0894<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: resolve() does not return a reparse point.<br>
Solution:&nbsp;&nbsp; Improve resolve(). (Yasuhiro Matsumoto, closes #3896)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/buffer.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/proto/os_mswin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0895 (after 8.1.0879)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: dealing with temp name encoding not quite right.<br>
Solution:&nbsp;&nbsp; Use more wide functions. (Ken Takata, closes #3921)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.1.0896<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests for restricted mode not run for MS-Windows GUI.<br>
Solution:&nbsp;&nbsp; Make tests also work in MS-Windows GUI.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_restricted.vim<br>
<br>
Patch 8.1.0897<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can modify a:000 when using a reference.<br>
Solution:&nbsp;&nbsp; Make check for locked variable stricter. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3930)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dict.c, src/eval.c, src/evalfunc.c, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_let.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 8.1.0898<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A messed up rgb.txt can crash Vim. (Pavel Cheremushkin)<br>
Solution:&nbsp;&nbsp; Limit to 10000 entries.&nbsp;&nbsp;Also don't retry many times when the file<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cannot be read.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.1.0899<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No need to check restricted mode for setwinvar().<br>
Solution:&nbsp;&nbsp; Remove check_restricted().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.1.0900<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ConPTY may crash with 32-bit build.<br>
Solution:&nbsp;&nbsp; Fix function declarations. (Ken Takata, closes #3943)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.0901<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Index in getjumplist() may be wrong. (Epheien)<br>
Solution:&nbsp;&nbsp; Call cleanup_jumplist() earlier. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3942)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_jumplist.vim<br>
<br>
Patch 8.1.0902<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Incomplete set of assignment operators.<br>
Solution:&nbsp;&nbsp; Add /=, *= and %=. (Ozaki Kiichi, closes #3931)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt src/eval.c src/testdir/test_vimscript.vim<br>
<br>
Patch 8.1.0903<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Struct uses more bytes than needed.<br>
Solution:&nbsp;&nbsp; Reorder members of regitem_S. (Dominique Pelle, closes #3936)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 8.1.0904<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;USE_LONG_FNAME never defined.<br>
Solution:&nbsp;&nbsp; Remove using USE_LONG_FNAME. (Ken Takata, closes #3938)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/ex_cmds.c, src/fileio.c<br>
<br>
Patch 8.1.0905<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Complicated regexp causes a crash. (Kuang-che Wu)<br>
Solution:&nbsp;&nbsp; Limit the recursiveness of addstate(). (closes #3941)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test_regexp_latin.vim<br>
<br>
Patch 8.1.0906<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using clumsy way to get console window handle.<br>
Solution:&nbsp;&nbsp; Use GetConsoleWindow(). (Ken Takata, closes #3940)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c<br>
<br>
Patch 8.1.0907<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;CI tests on AppVeyor are failing.<br>
Solution:&nbsp;&nbsp; Reduce the recursiveness limit for regexp.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 8.1.0908<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't handle large value for %<span class="Special">{nr}</span>v in regexp. (Kuang-che Wu)<br>
Solution:&nbsp;&nbsp; Give an error if the value is too large. (closes #3948)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 8.1.0909<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: using ConPTY even though it is not stable.<br>
Solution:&nbsp;&nbsp; When ConPTY version is unstable, prefer using winpty. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3949)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/os_win32.c, src/proto/os_win32.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.0910<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash with tricky search pattern. (Kuang-che Wu)<br>
Solution:&nbsp;&nbsp; Check for running out of memory. (closes #3950)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test_regexp_latin.vim<br>
<br>
Patch 8.1.0911<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tag line with Ex command cannot have extra fields.<br>
Solution:&nbsp;&nbsp; Recognize |;&quot; as the end of the command. (closes #2402)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/tagsrch.txt, src/tag.c, src/testdir/test_taglist.vim<br>
<br>
Patch 8.1.0912<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: warning for signed/unsigned.<br>
Solution:&nbsp;&nbsp; Add type cast. (Nobuhiro Takasaki, closes #3945)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.0913<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;CI crashes when running out of memory.<br>
Solution:&nbsp;&nbsp; Apply&nbsp;<a class="Type" href="options.html#'maxmempattern'">'maxmempattern'</a>&nbsp;also to new regexp engine.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 8.1.0914<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code related to findfile() is spread out.<br>
Solution:&nbsp;&nbsp; Put findfile() related code into a new source file. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #3934)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_bc5.mak, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_dice.mak, src/Make_ivc.mak, src/Make_manx.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_morph.mak, src/Make_mvc.mak, src/Make_sas.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms, src/Makefile, src/README.txt, src/findfile.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/misc2.c, src/proto.h, src/proto/findfile.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc1.pro, src/proto/misc2.pro, src/proto/window.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.1.0915<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;fsync() may not work properly on Mac.<br>
Solution:&nbsp;&nbsp; Use fcntl() with F_FULLFSYNC. (suggested by Justin M. Keyes)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/proto/fileio.pro, src/evalfunc.c, src/memfile.c<br>
<br>
Patch 8.1.0916<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With Python 3.7 &quot;find_module&quot; is not made available.<br>
Solution:&nbsp;&nbsp; Also add &quot;find_module&quot; with Python 3.7. (Joel Frederico,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3954)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 8.1.0917<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Double free when running out of memory.<br>
Solution:&nbsp;&nbsp; Remove one free. (Ken Takata, closes #3955)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 8.1.0918<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: startup messages are not converted.<br>
Solution:&nbsp;&nbsp; Convert messages when the current codepage differs from<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>. (Yasuhiro Matsumoto, closes #3914)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/os_mswin.c, src/vim.h<br>
<br>
Patch 8.1.0919<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings.<br>
Solution:&nbsp;&nbsp; Add type casts. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/regexp_nfa.c<br>
<br>
Patch 8.1.0920<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In Terminal-Normal mode job output messes up the window.<br>
Solution:&nbsp;&nbsp; Postpone scrolling and updating the buffer when in Terminal-Normal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_03.dump<br>
<br>
Patch 8.1.0921<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test sometimes fails; using memory after free.<br>
Solution:&nbsp;&nbsp; Fee memory a bit later.&nbsp;&nbsp;Add test to cover this.&nbsp;&nbsp;Disable flaky<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screenshot test. (closes #3956)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0922<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal scrollback test is flaky.<br>
Solution:&nbsp;&nbsp; Wait a bit before running the tail command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_03.dump<br>
<br>
Patch 8.1.0923<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal dump diff swap does not update file names.<br>
Solution:&nbsp;&nbsp; Also swap the file name.&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0924<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal scrollback test still flaky.<br>
Solution:&nbsp;&nbsp; Wait a bit longer before running the tail command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0925<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal scrollback test still still flaky.<br>
Solution:&nbsp;&nbsp; Explicitly set the shell.&nbsp;&nbsp;Disable ruler. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3966)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_03.dump<br>
<br>
Patch 8.1.0926<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for :wnext, :wNext and :wprevious.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #3963)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_wnext.vim<br>
<br>
Patch 8.1.0927<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;USE_CR is never defined.<br>
Solution:&nbsp;&nbsp; Remove usage of USE_CR. (Ken Takata, closes #3958)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/diff.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/fileio.c, src/message.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/proto/ex_cmds2.pro, src/proto/fileio.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c<br>
<br>
Patch 8.1.0928 (after 8.1.0927)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Stray log function call.<br>
Solution:&nbsp;&nbsp; Remove the log function call.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 8.1.0929<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No error when requesting ConPTY but it's not available.<br>
Solution:&nbsp;&nbsp; Add an error message. (Hirohito Higashi, closes #3967)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt, src/terminal.c<br>
<br>
Patch 8.1.0930<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in Makefile.<br>
Solution:&nbsp;&nbsp; Change ABORT_CLFAGS to ABORT_CFLAGS. (Kuang-che Wu, closes #3977)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.1.0931<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;vtp_working included in GUI build but unused.<br>
Solution:&nbsp;&nbsp; Adjust #ifdefs. (Ken Takata, closes #3971)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.0932<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Farsi support is outdated and unused.<br>
Solution:&nbsp;&nbsp; Delete the Farsi support.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/farsi.c, src/proto/farsi.pro, src/farsi.h, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/normal.c, src/option.c, src/getchar.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/search.c, src/ex_getln.c, src/charset.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/screen.c, src/window.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto.h, farsi/README.txt, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;farsi/fonts/DOS/far-a01.com, farsi/fonts/SunOs/far-a01.fb,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;farsi/fonts/UNIXs/far-a01.f16, farsi/fonts/UNIXs/far-a01.pcf.gz,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;farsi/fonts/UNIXs/far-a01.pcf.Z, farsi/fonts/WINDOWS/far-a01.fon,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/Make_bc5.mak, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_dice.mak, src/Make_ivc.mak, src/Make_manx.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_morph.mak, src/Make_mvc.mak, src/Make_sas.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms, src/configure.ac, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.h.in, src/testdir/test_farsi.vim, src/version.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/starting.txt, runtime/doc/quickref.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/farsi.txt<br>
<br>
Patch 8.1.0933<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using VTP scroll region isn't used properly.<br>
Solution:&nbsp;&nbsp; Make better use of the scroll region. (Nobuhiro Takasaki,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3974)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/term.c<br>
<br>
Patch 8.1.0934<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access in search pattern. (Kuang-che Wu)<br>
Solution:&nbsp;&nbsp; Check for incomplete equivalence class. (closes #3970)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/testdir/test_regexp_latin.vim<br>
<br>
Patch 8.1.0935<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old regexp engine may use invalid buffer for&nbsp;<a class="Type" href="options.html#'iskeyword'">'iskeyword'</a>&nbsp;or<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uninitialized buffer pointer. (Kuang-che Wu)<br>
Solution:&nbsp;&nbsp; Set rex.reg_buf when compiling the pattern. (closes #3972)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/testdir/test_regexp_latin.vim<br>
<br>
Patch 8.1.0936<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May leak memory when using&nbsp;<a class="Type" href="options.html#'vartabstop'">'vartabstop'</a>. (Kuang-che Wu)<br>
Solution:&nbsp;&nbsp; Fix handling allocated memory for&nbsp;<a class="Type" href="options.html#'vartabstop'">'vartabstop'</a>. (closes #3976)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/buffer.c<br>
<br>
Patch 8.1.0937<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid memory access in search pattern. (Kuang-che Wu)<br>
Solution:&nbsp;&nbsp; Check for incomplete collation element. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3985)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/testdir/test_regexp_latin.vim<br>
<br>
Patch 8.1.0938<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Background color is wrong in MS-Windows console when not using VTP.<br>
Solution:&nbsp;&nbsp; Use g_attrCurrent. (Nobuhiro Takasaki, closes #3987)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.0939<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No completion for sign group names.<br>
Solution:&nbsp;&nbsp; Add completion for sign group names and buffer names. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #3980)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sign.c, src/testdir/test_signs.vim<br>
<br>
Patch 8.1.0940<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows console resizing not handled properly.<br>
Solution:&nbsp;&nbsp; Handle resizing the console better. (Nobuhiro Takasaki, Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata, closes #3968, closes #3611)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/normal.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_win32.pro<br>
<br>
Patch 8.1.0941<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Macros for MS-Windows are inconsistent, using &quot;32&quot;, &quot;3264&quot; and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;others.<br>
Solution:&nbsp;&nbsp; Use MSWIN for all MS-Windows builds.&nbsp;&nbsp;Use FEAT_GUI_MSWIN for the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GUI build. (Hirohito Higashi, closes #3932)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/gvimext.h, src/Make_bc5.mak, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_ivc.mak, src/Make_mvc.mak, src/beval.h, src/blowfish.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/edit.c, src/eval.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/fileio.c, src/getchar.c, src/glbl_ime.cpp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/gui.c, src/gui.h, src/gui_beval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk.c, src/gui_gtk_f.c, src/gui_gtk_x11.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c, src/if_cscope.h, src/if_lua.c, src/if_mzsch.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ole.cpp, src/if_perl.xs, src/if_python.c, src/if_python3.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c, src/if_tcl.c, src/macros.h, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/memfile.c, src/memline.c, src/menu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/misc1.c, src/misc2.c, src/nbdebug.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c, src/normal.c, src/option.c, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/os_unix.c, src/os_w32exe.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.h, src/proto.h, src/screen.c, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/syntax.c, src/term.c, src/terminal.c, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c, src/version.c, src/vim.h, src/vim.rc, src/winclip.c<br>
<br>
Patch 8.1.0942<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Options window still checks for the multi_byte feature.<br>
Solution:&nbsp;&nbsp; Remove the unnecessary check. (Dominique Pelle, closes #3990)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim<br>
<br>
Patch 8.1.0943<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still a trace of Farsi support.<br>
Solution:&nbsp;&nbsp; Remove defining macros.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h<br>
<br>
Patch 8.1.0944<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Format of nbdbg() arguments is not checked.<br>
Solution:&nbsp;&nbsp; Add format attribute.&nbsp;&nbsp;Fix reported problems. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3992)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/nbdebug.h, src/netbeans.c<br>
<br>
Patch 8.1.0945<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Internal error when using pattern with NL in the range.<br>
Solution:&nbsp;&nbsp; Use an actual newline for the range. (closes #3989)&nbsp;&nbsp;Also fix<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error message.&nbsp;&nbsp;(Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test_regexp_latin.vim<br>
<br>
Patch 8.1.0946<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coveralls is not very useful.<br>
Solution:&nbsp;&nbsp; Remove Coveralls badge, add badge for packages.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;README.md<br>
<br>
Patch 8.1.0947<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using MSWIN before it is defined. (Cesar Romani)<br>
Solution:&nbsp;&nbsp; Move the block that uses MSWIN to below including vim.h. (Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.1.0948<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When built without +eval &quot;Vim --clean&quot; produces errors. (James<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;McCoy)<br>
Solution:&nbsp;&nbsp; Do not enable filetype detection.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/defaults.vim<br>
<br>
Patch 8.1.0949<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows defines GUI macros different than other systems.<br>
Solution:&nbsp;&nbsp; Swap FEAT_GUI and FEAT_GUI_MSWIN. (Hirohito Higashi, closes #3996)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_bc5.mak, src/Make_cyg_ming.mak, src/Make_ivc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/if_ole.cpp, src/vim.h, src/vim.rc<br>
<br>
Patch 8.1.0950<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using :python sets&nbsp;<a class="Type" href="options.html#'pyxversion'">'pyxversion'</a>&nbsp;even when not executed.<br>
Solution:&nbsp;&nbsp; Check the &quot;skip&quot; flag. (Shane Harper, closes #3995)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python.c, src/if_python3.c, src/testdir/test_python2.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_python3.vim<br>
<br>
Patch 8.1.0951<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using WIN64 even though it is never defined.<br>
Solution:&nbsp;&nbsp; Only use _WIN64. (Ken Takata, closes #3997)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.0952<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compilation warnings when building the MS-Windows installer.<br>
Solution:&nbsp;&nbsp; Fix buffer sizes. (Yasuhiro Matsumoto, closes #3999)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c, src/dosinst.h, src/uninstal.c<br>
<br>
Patch 8.1.0953<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A very long file is truncated at 2^31 lines.<br>
Solution:&nbsp;&nbsp; Use LONG_MAX for MAXLNUM. (Dominique Pelle, closes #4011)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.1.0954<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Arguments of semsg() and siemsg() are not checked.<br>
Solution:&nbsp;&nbsp; Add function prototype with __attribute__.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/proto/message.pro, src/proto.h<br>
<br>
Patch 8.1.0955<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Matchit autoload directory not in installer. (Chris Morgan)<br>
Solution:&nbsp;&nbsp; Adjust the NSIS script. (Christian Brabandt, closes #4006)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/gvim.nsi<br>
<br>
Patch 8.1.0956<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using context:0 in&nbsp;<a class="Type" href="options.html#'diffopt'">'diffopt'</a>&nbsp;does not work well.<br>
Solution:&nbsp;&nbsp; Make zero context do the same as one line context. (closes #4005)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/testdir/test_diffmode.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_06.0.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_06.1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_06.2.dump<br>
<br>
Patch 8.1.0957 (after 8.1.0915)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mac: fsync fails on network share.<br>
Solution:&nbsp;&nbsp; Check for ENOTSUP. (Yee Cheng Chin, closes #4016)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.1.0958<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiling weird regexp pattern is very slow.<br>
Solution:&nbsp;&nbsp; When reallocating post list increase size by 50%. (Kuang-che Wu,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4012)&nbsp;&nbsp;Make assert_inrange() accept float values.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/eval.c, src/testdir/test_regexp_latin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_assert.vim<br>
<br>
Patch 8.1.0959<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sorting large numbers is not tested and does not work properly.<br>
Solution:&nbsp;&nbsp; Add test.&nbsp;&nbsp;Fix comparing lines with and without a number.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle, closes #4017)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_sort.vim<br>
<br>
Patch 8.1.0960<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using ConPTY garbage collection has undefined behavior.<br>
Solution:&nbsp;&nbsp; Free the channel in a better way. (Nobuhiro Takasaki, closes #4020)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.1.0961 (after 8.1.0957)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mac: fsync may fail sometimes.<br>
Solution:&nbsp;&nbsp; Do not check errno. (Yee Cheng Chin, closes #4025)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.1.0962<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building with MinGW and static libs doesn't work. (Salman Halim)<br>
Solution:&nbsp;&nbsp; Add -lgcc. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 8.1.0963<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access when using&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>.<br>
Solution:&nbsp;&nbsp; Reset highlight_match when changing text. (closes #4022)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_change_01.dump<br>
<br>
Patch 8.1.0964<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot see in CI why a screenshot test failed.<br>
Solution:&nbsp;&nbsp; Add info about the failure.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim<br>
<br>
Patch 8.1.0965<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Search test fails.<br>
Solution:&nbsp;&nbsp; Wait a bit longer for the&nbsp;<a class="Type" href="options.html#'ambiwidth'">'ambiwidth'</a>&nbsp;redraw.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_change_01.dump<br>
<br>
Patch 8.1.0966<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;One terminal test is flaky.<br>
Solution:&nbsp;&nbsp; Add to list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.0967<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Stray dependency in test Makefile.<br>
Solution:&nbsp;&nbsp; Remove it. (Masato Nishihata, closes #4018)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile<br>
<br>
Patch 8.1.0968<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using search pattern \%Ufffffc23.<br>
Solution:&nbsp;&nbsp; Limit character to INT_MAX. (closes #4009)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test_search.vim<br>
<br>
Patch 8.1.0969<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Message written during startup is truncated.<br>
Solution:&nbsp;&nbsp; Restore message after truncating. (closes #3969)&nbsp;&nbsp;Add a test.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/testdir/test_startup.vim<br>
<br>
Patch 8.1.0970<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text properties test fails when&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;is not utf-8.<br>
Solution:&nbsp;&nbsp; Compare with original value of&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3986)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.0971<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Failure for selecting quoted text object moves cursor.<br>
Solution:&nbsp;&nbsp; Restore the Visual selection on failure. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4024)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_textobjects.vim<br>
<br>
Patch 8.1.0972<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot switch from terminal window to next tabpage.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<span class="Special">CTRL-W</span>&nbsp;gt move to next tabpage.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt<br>
<br>
Patch 8.1.0973<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Pattern with syntax error gives three error messages. (Kuang-che<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wu)<br>
Solution:&nbsp;&nbsp; Remove outdated internal error.&nbsp;&nbsp;Don't fall back to other engine<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;after an error.(closes #4035)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/testdir/test_search.vim, src/regexp.c<br>
<br>
Patch 8.1.0974<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot switch from terminal window to previous tabpage.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<span class="Special">CTRL-W</span>&nbsp;gT move to previous tabpage.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt<br>
<br>
Patch 8.1.0975<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using STRNCPY() wrongly. Warning for uninitialized variable.<br>
Solution:&nbsp;&nbsp; Use mch_memmove(). Initialize variable. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3979)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/textprop.c<br>
<br>
Patch 8.1.0976<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dosinstall still has buffer overflow problems.<br>
Solution:&nbsp;&nbsp; Adjust buffer sizes. (Yasuhiro Matsumoto, closes #4002)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c, src/dosinst.h, src/uninstal.c<br>
<br>
Patch 8.1.0977<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Blob not tested with Ruby.<br>
Solution:&nbsp;&nbsp; Add more test coverage.&nbsp;&nbsp;Fixes a crash. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4036)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c, src/testdir/test_ruby.vim<br>
<br>
Patch 8.1.0978<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Blob not tested with Perl.<br>
Solution:&nbsp;&nbsp; Add more test coverage.&nbsp;&nbsp;Fixes a crash. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4037)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_perl.c, src/testdir/test_ruby.vim<br>
<br>
Patch 8.1.0979<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused functions. (Yasuhiro Matsumoto)<br>
Solution:&nbsp;&nbsp; Adjust #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.0980<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;extend() insufficiently tested.<br>
Solution:&nbsp;&nbsp; Add more tests. (Dominique Pelle, closes #4040)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listdict.vim<br>
<br>
Patch 8.1.0981<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Pasting in terminal insufficiently tested.<br>
Solution:&nbsp;&nbsp; Add more tests. (Dominique Pelle, closes #4040)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.0982<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;update_cursor() called twice in :shell.<br>
Solution:&nbsp;&nbsp; Remove one of the calls. (Yasuhiro Matsumoto, closes #4039)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.0983<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Checking __CYGWIN32__ unnecessarily.<br>
Solution:&nbsp;&nbsp; Remove the checks. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/os_unix.c, src/os_win32.c<br>
<br>
Patch 8.1.0984<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnecessary #ifdefs.<br>
Solution:&nbsp;&nbsp; Remove the #ifdefs. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/winclip.c<br>
<br>
Patch 8.1.0985<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash with large number in regexp. (Kuang-che Wu)<br>
Solution:&nbsp;&nbsp; Check for long becoming negative int. (closes #4042)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/testdir/test_search.vim<br>
<br>
Patch 8.1.0986<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;rename() is not properly tested.<br>
Solution:&nbsp;&nbsp; Add tests. (Dominique Pelle, closes #4061)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_rename.vim<br>
<br>
Patch 8.1.0987<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnecessary condition in #ifdef.<br>
Solution:&nbsp;&nbsp; Remove using CYGWIN32. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.h, src/xxd/xxd.c<br>
<br>
Patch 8.1.0988<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Deleting a location list buffer breaks location list window<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functionality.<br>
Solution:&nbsp;&nbsp; (Yegappan Lakshmanan, closes #4056)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.0989<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various small code ugliness.<br>
Solution:&nbsp;&nbsp; Remove pointless NULL checks. Fix function calls. Fix typos.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle, closes #4060)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/crypt.c, src/evalfunc.c, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/gui_gtk_f.c, src/gui_gtk_x11.c, src/gui_mac.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/option.h, src/os_unix.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c, src/regexp.c, src/ui.c, src/version.c<br>
<br>
Patch 8.1.0990<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Floating point exception with &quot;%= 0&quot; and &quot;/= 0&quot;.<br>
Solution:&nbsp;&nbsp; Avoid dividing by zero. (Dominique Pelle, closes #4058)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_vimscript.vim<br>
<br>
Patch 8.1.0991<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with FEAT_EVAL defined and FEAT_SEARCH_EXTRA<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;undefined, and with FEAT_DIFF defined and FEAT_EVAL undefined.<br>
Solution:&nbsp;&nbsp; Add a couple of #ifdefs. (closes #4067)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/search.c<br>
<br>
Patch 8.1.0992<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A :normal command while executing a register resets the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg_executing() result.<br>
Solution:&nbsp;&nbsp; Save and restore reg_executing. (closes #4066)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/structs.h, src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0993<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ch_read() may return garbage if terminating NL is missing.<br>
Solution:&nbsp;&nbsp; Add terminating NUL. (Ozaki Kiichi, closes #4065)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim<br>
<br>
Patch 8.1.0994<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Relative cursor position is not calculated correctly.<br>
Solution:&nbsp;&nbsp; Always set topline, also when window is one line only.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Robert Webb) Add more info to getwininfo() for testing.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/evalfunc.c, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.1.0995<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A getchar() call while executing a register resets the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg_executing() result.<br>
Solution:&nbsp;&nbsp; Save and restore reg_executing. (closes #4066)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_functions.vim<br>
<br>
Patch 8.1.0996 (after 8.1.0994)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A few screendump tests fail because of scrolling.<br>
Solution:&nbsp;&nbsp; Update the screendumps.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_11.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_12.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_13.dump<br>
<br>
Patch 8.1.0997<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using GUI colors in vim.exe when&nbsp;<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>&nbsp;is off.<br>
Solution:&nbsp;&nbsp; Add condition for&nbsp;<a class="Type" href="options.html#'termguicolors'">'termguicolors'</a>&nbsp;set. (Ken Takata, closes #4078)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.0998<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getcurpos() unexpectedly changes &quot;curswant&quot;.<br>
Solution:&nbsp;&nbsp; Save and restore &quot;curswant&quot;. (closes #4069)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_visual.vim<br>
<br>
Patch 8.1.0999<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Use register one too often and not properly tested.<br>
Solution:&nbsp;&nbsp; Do not always use register one when specifying a register.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4085)&nbsp;&nbsp;Add more tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_registers.vim<br>
<br>
Patch 8.1.1000<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Indenting is off.<br>
Solution:&nbsp;&nbsp; Make indenting consistent and update comments. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4079)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/ops.c<br>
<br>
Patch 8.1.1001<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Visual area not correct when using&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>.<br>
Solution:&nbsp;&nbsp; Update w_last_cursorline also in Visual mode. (Hirohito Higashi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4086)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_highlight.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_cursorline_with_visualmode_01.dump<br>
<br>
Patch 8.1.1002<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;gf&quot; does not always work when URL has a port number. (Jakob<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Schöttl)<br>
Solution:&nbsp;&nbsp; When a URL is recognized also accept &quot;:&quot;. (closes #4082)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/findfile.c, src/testdir/test_gf.vim<br>
<br>
Patch 8.1.1003<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Playing back recorded key sequence mistakes key code.<br>
Solution:&nbsp;&nbsp; Insert a&nbsp;<span class="Special">&lt;Nop&gt;</span>&nbsp;after the&nbsp;<span class="Special">&lt;Esc&gt;</span>. (closes #4068)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/testdir/test_registers.vim<br>
<br>
Patch 8.1.1004<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Function &quot;luaV_setref()&quot; not covered with tests.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #4089)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_lua.vim<br>
<br>
Patch 8.1.1005 (after 8.1.1003)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test fails because t_F2 is not set.<br>
Solution:&nbsp;&nbsp; Add try-catch.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_registers.vim<br>
<br>
Patch 8.1.1006<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Repeated code in quickfix support.<br>
Solution:&nbsp;&nbsp; Move code to functions. (Yegappan Lakshmanan, closes #4091)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.1007<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using closure may consume a lot of memory.<br>
Solution:&nbsp;&nbsp; unreference items that are no longer needed. Add a test. (Ozaki<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Kiichi, closes #3961)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_memory_usage.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 8.1.1008<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: HAVE_STDINT_H only defined for non-debug version.<br>
Solution:&nbsp;&nbsp; Move definition of HAVE_STDINT_H up. (Taro Muraoka, closes #4109)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.1.1009<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: some text is not baseline aligned.<br>
Solution:&nbsp;&nbsp; Use bottom alignment. (Taro Muraoka, closes #4116, closes #1520)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_dwrite.cpp<br>
<br>
Patch 8.1.1010<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Lua interface leaks memory.<br>
Solution:&nbsp;&nbsp; Clear typeval after copying it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c<br>
<br>
Patch 8.1.1011<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Indent from autoindent not removed from blank line. (Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Do not reset did_ai when text follows. (closes #4119)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test_edit.vim<br>
<br>
Patch 8.1.1012<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak with E461.<br>
Solution:&nbsp;&nbsp; Clear the typeval. (Dominique Pelle, closes #4111)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.1.1013<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Scrolling fails when dividing the screen.<br>
Solution:&nbsp;&nbsp; Position the cursor before calling ScrollConsoleScreenBuffer().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Nobuhiro Takasaki, closes #4115)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.1014<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: /analyze only defined for non-debug version.<br>
Solution:&nbsp;&nbsp; Move adding of /analyze up. (Ken Takata, closes #4114)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.1.1015<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix buffer shows up in list, can't get buffer number.<br>
Solution:&nbsp;&nbsp; Make the quickfix buffer unlisted when the quickfix window is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closed.&nbsp;&nbsp;get the quickfix buffer number with getqflist().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yegappan Lakshmanan, closes #4113)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/quickfix.txt, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim, src/window.c<br>
<br>
Patch 8.1.1016<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: No color in shell when using &quot;!&quot; in&nbsp;<a class="Type" href="options.html#'guioptions'">'guioptions'</a>.<br>
Solution:&nbsp;&nbsp; Don't stop termcap when using a terminal window for the shell.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Nobuhiro Takasaki, vim-jp, closes #4117)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.1.1017<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Off-by-one error in filetype detection.<br>
Solution:&nbsp;&nbsp; Also check the last line of the file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/autoload/dist/ft.vim<br>
<br>
Patch 8.1.1018<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Window cleared when entering Terminal-Normal twice. (Epheien)<br>
Solution:&nbsp;&nbsp; Don't cleanup scrollback when there is no postponed scrollback.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt, closes #4126)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.1019<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Lua: may garbage collect function reference in use.<br>
Solution:&nbsp;&nbsp; Keep the function name instead of the typeval. Make luaV_setref()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;handle funcref objects. (Ozaki Kiichi, closes #4127)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c, src/testdir/test_lua.vim<br>
<br>
Patch 8.1.1020<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for Python3 interface.<br>
Solution:&nbsp;&nbsp; Add type cast. (Ozaki Kiichi, closes #4128, closes #4103)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python3.c<br>
<br>
Patch 8.1.1021<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;pyeval() and py3eval() leak memory.<br>
Solution:&nbsp;&nbsp; Do not increase the reference count twice. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4129)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python.c, src/if_python3.c<br>
<br>
Patch 8.1.1022<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May use NULL pointer when out of memory. (Coverity)<br>
Solution:&nbsp;&nbsp; Check for blob_alloc() returning NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/blob.c<br>
<br>
Patch 8.1.1023<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May use NULL pointer when indexing a blob. (Coverity)<br>
Solution:&nbsp;&nbsp; Break out of loop after using index on blob<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.1.1024<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Stray log calls in terminal code. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Remove the calls.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.1025<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Checking NULL pointer after addition. (Coverity)<br>
Solution:&nbsp;&nbsp; First check for NULL, then add the column.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 8.1.1026<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unused condition. (Coverity)<br>
Solution:&nbsp;&nbsp; Remove the condition.&nbsp;&nbsp;Also remove unused #define.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 8.1.1027<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory usage test sometimes fails.<br>
Solution:&nbsp;&nbsp; Use 80% of before.last as the lower limit. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_memory_usage.vim<br>
<br>
Patch 8.1.1028<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: memory leak when creating terminal fails.<br>
Solution:&nbsp;&nbsp; Free the command. (Ken Takata, closes #4138)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.1029<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;DirectWrite doesn't take&nbsp;<a class="Type" href="options.html#'linespace'">'linespace'</a>&nbsp;into account.<br>
Solution:&nbsp;&nbsp; Include&nbsp;<a class="Type" href="options.html#'linespace'">'linespace'</a>&nbsp;in the position. (Ken Takata, closes #4137)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_dwrite.cpp, src/gui_w32.c<br>
<br>
Patch 8.1.1030<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix function arguments are inconsistent.<br>
Solution:&nbsp;&nbsp; Pass a list pointer instead of info and index. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #4135)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.1031<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory usage test may still fail.<br>
Solution:&nbsp;&nbsp; Drop the unused min value. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_memory_usage.vim<br>
<br>
Patch 8.1.1032<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings from clang static analyzer. (Yegappan Lakshmanan)<br>
Solution:&nbsp;&nbsp; Fix relevant warnings.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/arabic.c, src/edit.c, src/eval.c, src/fileio.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/os_unix.c, src/regexp.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/charset.c, src/message.c<br>
<br>
Patch 8.1.1033<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory usage test may still fail on some systems. (Elimar<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Riesebieter)<br>
Solution:&nbsp;&nbsp; Increase tolerance from 1% to 3%.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_memory_usage.vim<br>
<br>
Patch 8.1.1034<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many #ifdefs.<br>
Solution:&nbsp;&nbsp; Merge FEAT_MOUSE_SGR into FEAT_MOUSE_XTERM / FEAT_MOUSE_TTY.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/misc2.c, src/os_unix.c, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/feature.h<br>
<br>
Patch 8.1.1035<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;prop_remove() second argument is not optional.<br>
Solution:&nbsp;&nbsp; Fix argument count.&nbsp;&nbsp;Use &quot;buf&quot; instead of &quot;curbuf&quot;. (closes #4147)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_textprop.vim, src/textprop.c<br>
<br>
Patch 8.1.1036<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix function arguments are inconsistent.<br>
Solution:&nbsp;&nbsp; Pass a list pointer to more functions. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4149)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.1037<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory usage test may still fail on some systems.<br>
Solution:&nbsp;&nbsp; Increase tolerance from 3% to 20%.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_memory_usage.vim<br>
<br>
Patch 8.1.1038<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Arabic support excludes Farsi.<br>
Solution:&nbsp;&nbsp; Add Farsi support to the Arabic support. (Ali Gholami Rudi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ameretat Reith)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/arabic.c, src/arabic.h, src/globals.h, src/macros.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/proto/arabic.pro, src/proto/mbyte.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/test_arabic.vim<br>
<br>
Patch 8.1.1039<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows build fails.<br>
Solution:&nbsp;&nbsp; Remove dependency on arabic.h<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak, src/Make_vms.mms<br>
<br>
Patch 8.1.1040<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;FEAT_TAG_ANYWHITE is not enabled in any build.<br>
Solution:&nbsp;&nbsp; Remove the feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/tag.c, src/evalfunc.c, src/version.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms<br>
<br>
Patch 8.1.1041<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for Arabic no longer needed.<br>
Solution:&nbsp;&nbsp; Remove the test for something that was intentionally left out.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arabic.vim<br>
<br>
Patch 8.1.1042<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The paste test doesn't work properly in the Windows console.<br>
Solution:&nbsp;&nbsp; Disable the test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_paste.vim<br>
<br>
Patch 8.1.1043<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Lua interface does not support Blob.<br>
Solution:&nbsp;&nbsp; Add support to Blob. (Ozaki Kiichi, closes #4151)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_lua.txt, src/if_lua.c, src/testdir/test_lua.vim<br>
<br>
Patch 8.1.1044<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No way to check the reference count of objects.<br>
Solution:&nbsp;&nbsp; Add test_refcount(). (Ozaki Kiichi, closes #4124)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vimscript.vim<br>
<br>
Patch 8.1.1045<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;E315 ml_get error when using Python and hidden buffer.<br>
Solution:&nbsp;&nbsp; Make sure the cursor position is valid. (Ben Jackson,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4153, closes #4154)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/testdir/test_python2.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_python3.vim<br>
<br>
Patch 8.1.1046<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;the &quot;secure&quot; variable is used inconsistently. (Justin M. Keyes)<br>
Solution:&nbsp;&nbsp; Set it to one instead of incrementing.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/option.c<br>
<br>
Patch 8.1.1047<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;WINCH signal is not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #4158)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_signals.vim<br>
<br>
Patch 8.1.1048<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Minor issues with tests.<br>
Solution:&nbsp;&nbsp; Delete unused test OK file.&nbsp;&nbsp;Add missing entries in list of tests.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fix readme file. (Masato Nishihata, closes #4160)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test85.ok, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/README.txt<br>
<br>
Patch 8.1.1049<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When user tries to exit with&nbsp;<span class="Special">CTRL-C</span>&nbsp;message is confusing.<br>
Solution:&nbsp;&nbsp; Only mention &quot;:qa!&quot; when there is a changed buffer. (closes #4163)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c, src/proto/undo.pro, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim<br>
<br>
Patch 8.1.1050<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Blank screen when DirectWrite failed.<br>
Solution:&nbsp;&nbsp; Call redraw_later_clear() after recreating the Direct2D render<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target. (Ken Takata, closes #4172)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_dwrite.cpp<br>
<br>
Patch 8.1.1051<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all ways to switch terminal mode are tested.<br>
Solution:&nbsp;&nbsp; Add more test cases.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.1052<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;test for&nbsp;<span class="Special">CTRL-C</span>&nbsp;message sometimes fails<br>
Solution:&nbsp;&nbsp; Make sure there are no changed buffers.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim<br>
<br>
Patch 8.1.1053<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for missing return statement. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Add return statement.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 8.1.1054<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not checking return value of ga_grow(). (Coverity)<br>
Solution:&nbsp;&nbsp; Only append when ga_grow() returns OK.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_lua.c<br>
<br>
Patch 8.1.1055<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-G</span>&nbsp;U in Insert mode doesn't work to avoid splitting the undo<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sequence for shift-left and shift-right.<br>
Solution:&nbsp;&nbsp; Also check dont_sync_undo for shifted cursor keys. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_mapping.vim<br>
<br>
Patch 8.1.1056<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No eval function for Ruby.<br>
Solution:&nbsp;&nbsp; Add rubyeval(). (Ozaki Kiichi, closes #4152)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/if_ruby.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c, src/proto/if_ruby.pro, src/testdir/test_ruby.vim<br>
<br>
Patch 8.1.1057<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Nsis config is too complicated.<br>
Solution:&nbsp;&nbsp; Use &quot;File /r&quot; for the macros and pack directories. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4169)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/gvim.nsi<br>
<br>
Patch 8.1.1058<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory usage test may still fail on some systems.<br>
Solution:&nbsp;&nbsp; Use 98% of the lower limit. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_memory_usage.vim<br>
<br>
Patch 8.1.1059<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: PlatformId() is called unnecessarily.<br>
Solution:&nbsp;&nbsp; Remove calls to PlatformId(). (Ken Takata, closes #4170)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.1060<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: get_cmd_args() is no longer needed, get_cmd_argsW() is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;always used.<br>
Solution:&nbsp;&nbsp; Remove get_cmd_args(). (Ken Takata, closes #4171)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/os_w32exe.c<br>
<br>
Patch 8.1.1061<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When substitute string throws error, substitute happens anyway.<br>
Solution:&nbsp;&nbsp; Skip substitution when aborting. (closes #4161)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_substitute.vim<br>
<br>
Patch 8.1.1062<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix code is repeated.<br>
Solution:&nbsp;&nbsp; Define FOR_ALL_QFL_ITEMS(). Move some code to separate functions.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yegappan Lakshmanan, closes #4166)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.1063<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insufficient testing for wildmenu completion.<br>
Solution:&nbsp;&nbsp; Extend the test case. (Dominique Pelle, closes #4182)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.1.1064<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for output conversion in the GTK GUI.<br>
Solution:&nbsp;&nbsp; Add a simplistic test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 8.1.1065<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for using and deleting menu in the GUI.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 8.1.1066<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;VIMDLL isn't actually used.<br>
Solution:&nbsp;&nbsp; Remove VIMDLL support.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/main.c, src/os_w32exe.c, src/Make_bc5.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_w32dll.c<br>
<br>
Patch 8.1.1067<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Issues added on github are unstructured.<br>
Solution:&nbsp;&nbsp; Add a bug and feature request template. (Ken Takata, closes #4183)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.github/ISSUE_TEMPLATE/feature_request.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.github/ISSUE_TEMPLATE/bug_report.md<br>
<br>
Patch 8.1.1068<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get all the information about current completion.<br>
Solution:&nbsp;&nbsp; Add complete_info(). (Shougo, Hirohito Higashi, closes #4106)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/insert.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_41.txt, src/edit.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/edit.pro, src/testdir/test_popup.vim<br>
<br>
Patch 8.1.1069<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Source README file doesn't look nice on github.<br>
Solution:&nbsp;&nbsp; Turn it into markdown, still readable as plain text.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(WenxuanHuang, closes #4141)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/README.txt, src/README.md, Filelist<br>
<br>
Patch 8.1.1070<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Issue templates are not good enough.<br>
Solution:&nbsp;&nbsp; Rephrase to anticipate unexperienced users.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.github/ISSUE_TEMPLATE/feature_request.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.github/ISSUE_TEMPLATE/bug_report.md<br>
<br>
Patch 8.1.1071<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get composing characters from the screen.<br>
Solution:&nbsp;&nbsp; Add screenchars() and screenstring(). (partly by Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4059)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_utf8.vim, src/testdir/view_util.vim<br>
<br>
Patch 8.1.1072<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Extending sign and foldcolumn below the text is confusing.<br>
Solution:&nbsp;&nbsp; Let the sign and foldcolumn stop at the last text line, just like<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the line number column.&nbsp;&nbsp;Also stop the command line window leader.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt, closes #3964)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_diffmode.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_of_diff_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_03.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_04.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_05.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_06.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_06.0.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_06.1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_06.2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_10.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_11.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_12.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_13.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_14.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_15.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_16.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_17.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_18.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_19.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_20.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_with_cursorline_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_with_cursorline_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_with_cursorline_03.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_folds_with_rnu_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_folds_with_rnu_02.dump<br>
<br>
Patch 8.1.1073<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Space in number column is on wrong side with&nbsp;<a class="Type" href="options.html#'rightleft'">'rightleft'</a>&nbsp;set.<br>
Solution:&nbsp;&nbsp; Move the space to the text side.&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_diffmode.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_of_diff_02.dump<br>
<br>
Patch 8.1.1074<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python test doesn't wipe out hidden buffer.<br>
Solution:&nbsp;&nbsp; Wipe out the buffer. (Ben Jackson, closes #4189)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_python2.vim, src/testdir/test_python3.vim<br>
<br>
Patch 8.1.1075<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Function reference count wrong in Python code.<br>
Solution:&nbsp;&nbsp; Use &quot;O&quot; instead of &quot;<span class="Special">N</span>&quot; for the arguments. (Ben Jackson,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4188)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 8.1.1076<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;File for Insert mode is much too big.<br>
Solution:&nbsp;&nbsp; Split off the code for Insert completion. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4044)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_bc5.mak, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_dice.mak, src/Make_ivc.mak, src/Make_manx.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_morph.mak, src/Make_mvc.mak, src/Make_sas.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms, src/Makefile, src/edit.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/insexpand.c, src/misc2.c, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/edit.pro, src/proto/insexpand.pro, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/structs.h, src/tag.c, src/vim.h<br>
<br>
Patch 8.1.1077<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;reg_executing() is reset by calling input().<br>
Solution:&nbsp;&nbsp; Implement a more generic way to save and restore reg_executing.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ozaki Kiichi, closes #4192)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_docmd.c, src/testdir/test_functions.vim<br>
<br>
Patch 8.1.1078<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'listchars'">'listchars'</a>&nbsp;is set a composing char on a space is wrong.<br>
Solution:&nbsp;&nbsp; Separate handling a non-breaking space and a space. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #4046)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_listchars.vim<br>
<br>
Patch 8.1.1079<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No need for a separate ScreenLinesUtf8() test function.<br>
Solution:&nbsp;&nbsp; Get the composing characters with ScreenLines().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/view_util.vim, src/testdir/test_listchars.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_utf8.vim<br>
<br>
Patch 8.1.1080<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a screendump test fails, moving the file is a hassle.<br>
Solution:&nbsp;&nbsp; Instead of appending &quot;.failed&quot; to the file name, keep the same<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file name but put the screendump in the &quot;failed&quot; directory.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Then the file name only needs to be typed once when moving a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screendump.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim<br>
<br>
Patch 8.1.1081<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: cannot use fonts whose name cannot be represented in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the current code page.<br>
Solution:&nbsp;&nbsp; Use wide font functions. (Ken Takata, closes #4000)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/os_mswin.c, src/proto/gui_w32.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_mswin.pro<br>
<br>
Patch 8.1.1082<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;Conceal&quot; match is mixed up with&nbsp;<a class="Type" href="options.html#'hlsearch'">'hlsearch'</a>&nbsp;match.<br>
Solution:&nbsp;&nbsp; Check that a match is found, not a&nbsp;<a class="Type" href="options.html#'hlsearch'">'hlsearch'</a>&nbsp;item. (Andy<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Massimino, closes #4073)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.1083<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: hang when opening a file on network share.<br>
Solution:&nbsp;&nbsp; Avoid using FindFirstFile(), use GetLongPathNameW(). (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3923)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.1084<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot delete a match from another window. (Paul Jolly)<br>
Solution:&nbsp;&nbsp; Add window ID argument to matchdelete(), clearmatches(),<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;getmatches() and setmatches(). (Andy Massimino, closes #4178)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_match.vim<br>
<br>
Patch 8.1.1085<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for possibly uninitialized variable. (Tony<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mechelynck)<br>
Solution:&nbsp;&nbsp; Make conditions more logical.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/arabic.c<br>
<br>
Patch 8.1.1086<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many curly braces.<br>
Solution:&nbsp;&nbsp; Remove curly braces where they are not needed. (Hirohito Higashi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3982)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/autocmd.c, src/buffer.c, src/crypt_zip.c, src/dosinst.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/insexpand.c, src/evalfunc.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/ex_getln.c, src/getchar.c, src/gui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk.c, src/gui_mac.c, src/gui_motif.c, src/gui_photon.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/gui_x11.c, src/if_mzsch.c, src/if_python3.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c, src/if_tcl.c, src/indent.c, src/libvterm/src/pen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h, src/memline.c, src/menu.c, src/misc1.c, src/move.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c, src/normal.c, src/ops.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/os_qnx.c, src/os_unix.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/screen.c, src/spell.c, src/terminal.c<br>
<br>
Patch 8.1.1087<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;tag stack is incorrect after&nbsp;<span class="Special">CTRL-T</span>&nbsp;and then :tag<br>
Solution:&nbsp;&nbsp; Handle DT_TAG differently. (test by Andy Massimino, closes #3944,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4177)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/testdir/test_tagjump.vim<br>
<br>
Patch 8.1.1088<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Height of quickfix window not retained with vertical split.<br>
Solution:&nbsp;&nbsp; Use frame_fixed_height() and frame_fixed_width(). (Hongbo Liu,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4013, closes #2998)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_winbuf_close.vim, src/window.c<br>
<br>
Patch 8.1.1089<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tutor does not check $LC_MESSAGES.<br>
Solution:&nbsp;&nbsp; Let $LC_MESSAGES overrule $LANG. (Miklos Vajna, closes #4112)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/tutor/tutor.vim<br>
<br>
Patch 8.1.1090<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: modify_fname() has problems with some&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>.<br>
Solution:&nbsp;&nbsp; Use GetLongPathNameW() instead of GetLongPathName(). (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4007)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.1.1091<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: cannot use multi-byte chars in environment var.<br>
Solution:&nbsp;&nbsp; Use the wide API. (Ken Takata, closes #4008)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test_let.vim<br>
<br>
Patch 8.1.1092<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Setting&nbsp;<a class="Type" href="options.html#'guifont'">'guifont'</a>&nbsp;when maximized resizes the Vim window. When<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'guioptions'">'guioptions'</a>&nbsp;contains &quot;k&quot; gvim may open with a tiny window.<br>
Solution:&nbsp;&nbsp; Avoid un-maximizing when setting&nbsp;<a class="Type" href="options.html#'guifont'">'guifont'</a>. (Yee Cheng Chin,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3808)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.1.1093<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Support for outdated tags format slows down tag parsing.<br>
Solution:&nbsp;&nbsp; Remove FEAT_TAG_OLDSTATIC.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/tagsrch.txt, src/feature.h, src/tag.c, src/version.c<br>
<br>
Patch 8.1.1094<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Long line in tags file causes error.<br>
Solution:&nbsp;&nbsp; Check for overlong line earlier. (Andy Massimino, closes #4051,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4084)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/testdir/test_tagjump.vim<br>
<br>
Patch 8.1.1095<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: executable() fails on very long filename.<br>
Solution:&nbsp;&nbsp; Use much bigger buffer. (Ken Takata, closes #4015)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/testdir/test_functions.vim<br>
<br>
Patch 8.1.1096<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: cannot distinguish BS and&nbsp;<span class="Special">CTRL-H</span>.<br>
Solution:&nbsp;&nbsp; Add code for VK_BACK. (Linwei, closes #1833)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/os_win32.c<br>
<br>
Patch 8.1.1097 (after 8.1.1092)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Motif build fails. (Paul Jolly)<br>
Solution:&nbsp;&nbsp; Only use gui_mch_maximized() for MS-Windows. (closes #4194)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.1.1098<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix code duplication.<br>
Solution:&nbsp;&nbsp; Refactor the qf_init_ext() function. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4193)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/README.md, src/quickfix.c<br>
<br>
Patch 8.1.1099<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The do_tag() function is too long.<br>
Solution:&nbsp;&nbsp; Factor parts out to separate functions.&nbsp;&nbsp;Move simplify_filename()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to a file where it fits better. (Andy Massimino, closes #4195)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/proto/tag.pro, src/findfile.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/findfile.pro<br>
<br>
Patch 8.1.1100<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tag file without trailing newline no longer works. (Marco Hinz)<br>
Solution:&nbsp;&nbsp; Don't expect a newline at the end of the file. (closes #4200)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/testdir/test_taglist.vim<br>
<br>
Patch 8.1.1101<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Signals test may fail in the GUI.<br>
Solution:&nbsp;&nbsp; Skip the test for the GUI. (Yee Checng Chin, closes #4202)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signals.vim<br>
<br>
Patch 8.1.1102<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win32 exe file contains unused code.<br>
Solution:&nbsp;&nbsp; Remove unused #ifdefs and code. (Ken Takata, closes #4198)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_w32exe.c<br>
<br>
Patch 8.1.1103<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: old API calls are no longer needed.<br>
Solution:&nbsp;&nbsp; Always use the wide functions. (Ken Takata, closes #4199)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/glbl_ime.cpp, src/globals.h, src/gui_w32.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/os_win32.c, src/vim.h,<br>
<br>
Patch 8.1.1104<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: not all environment variables can be used.<br>
Solution:&nbsp;&nbsp; Use the wide version of WinMain() and main(). (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4206)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg.mak, src/Make_cyg_ming.mak, src/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/os_w32exe.c<br>
<br>
Patch 8.1.1105<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Long escape sequences may be split up.<br>
Solution:&nbsp;&nbsp; Assume escape sequences can be up to 80 bytes long. (Nobuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takasaki, closes #4196)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.1.1106<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for&nbsp;<a class="Type" href="options.html#'writedelay'">'writedelay'</a>.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim<br>
<br>
Patch 8.1.1107<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for&nbsp;<a class="Type" href="options.html#'visualbell'">'visualbell'</a>.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim<br>
<br>
Patch 8.1.1108<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for&nbsp;<a class="Type" href="options.html#'visualbell'">'visualbell'</a>&nbsp;doesn't work.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<a class="Type" href="options.html#'belloff'">'belloff'</a>&nbsp;empty.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim<br>
<br>
Patch 8.1.1109<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Deleted file still in list of distributed files.<br>
Solution:&nbsp;&nbsp; Remove the src/os_w32dll.c entry.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.1.1110<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Composing chars on space wrong when&nbsp;<a class="Type" href="options.html#'listchars'">'listchars'</a>&nbsp;is set.<br>
Solution:&nbsp;&nbsp; Do not use &quot;space&quot; and &quot;nbsp&quot; entries of&nbsp;<a class="Type" href="options.html#'listchars'">'listchars'</a>&nbsp;when there is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a composing character.&nbsp;&nbsp;(Yee Cheng Chin, closes #4197)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_listchars.vim<br>
<br>
Patch 8.1.1111<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not easy to check for infinity.<br>
Solution:&nbsp;&nbsp; Add isinf(). (Ozaki Kiichi, closes #3787)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_float_func.vim<br>
<br>
Patch 8.1.1112<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Duplicate code in quickfix file.<br>
Solution:&nbsp;&nbsp; Move code into functions. (Yegappan Lakshmanan, closes #4207)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.1113<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Making an autocommand trigger once is not so easy.<br>
Solution:&nbsp;&nbsp; Add the ++once argument.&nbsp;&nbsp;Also add ++nested as an alias for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;nested&quot;. (Justin M. Keyes, closes #4100)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, src/autocmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/globals.h<br>
<br>
Patch 8.1.1114<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Confusing overloaded operator &quot;.&quot; for string concatenation.<br>
Solution:&nbsp;&nbsp; Add &quot;..&quot; for string concatenation.&nbsp;&nbsp;Also &quot;let a ..= b&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_eval_stuff.vim, runtime/doc/eval.txt<br>
<br>
Patch 8.1.1115<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with older C compiler.<br>
Solution:&nbsp;&nbsp; Move variable declaration to start of block.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/autocmd.c<br>
<br>
Patch 8.1.1116<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot enforce a Vim script style.<br>
Solution:&nbsp;&nbsp; Add the :scriptversion command. (idea by Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3857)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/repeat.txt, runtime/doc/eval.txt, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/evalfunc.c, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds2.pro, src/structs.h, src/buffer.c, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/ex_cmdidxs.h, src/testdir/test_eval_stuff.vim<br>
<br>
Patch 8.1.1117<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure without the +eval feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c<br>
<br>
Patch 8.1.1118<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A couple of conditions are hard to understand.<br>
Solution:&nbsp;&nbsp; Split the conditions into pieces. (Ozaki Kiichi, closes #3879)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/os_unix.c<br>
<br>
Patch 8.1.1119<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No support for Windows on ARM64.<br>
Solution:&nbsp;&nbsp; Add ARM64 support (Leendert van Doorn)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/Makefile, src/Make_mvc.mak, src/dosinst.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xpm/arm64/lib-vc14/libXpm.lib, Filelist, src/INSTALLpc.txt<br>
<br>
Patch 8.1.1120<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot easily get directory entry matches.<br>
Solution:&nbsp;&nbsp; Add the readdir() function. (Yasuhiro Matsumoto, closes #2439)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/evalfunc.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/testdir/test_functions.vim<br>
<br>
Patch 8.1.1121<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for term_gettitle() was disabled.<br>
Solution:&nbsp;&nbsp; Enable the test and bail out only when it doesn't work. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle, closes #3776)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.1122<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;char2nr() does not handle composing characters.<br>
Solution:&nbsp;&nbsp; Add str2list() and list2str(). (Ozaki Kiichi, closes #4190)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_utf8.vim<br>
<br>
Patch 8.1.1123<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No way to avoid filtering for autocomplete function, causing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flickering of the popup menu.<br>
Solution:&nbsp;&nbsp; Add the &quot;equal&quot; field to complete items. (closes #3887)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/insert.txt, src/insexpand.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 8.1.1124<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insert completion flags are mixed up.<br>
Solution:&nbsp;&nbsp; Clean up flags use of ins_compl_add() and cp_flags.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/insexpand.c, src/proto/insexpand.pro, src/search.c, src/spell.c<br>
<br>
Patch 8.1.1125<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Libvterm does not handle the window position report.<br>
Solution:&nbsp;&nbsp; Let libvterm call the fallback CSI handler when not handling CSI<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sequence.&nbsp;&nbsp;Handle the window position report in Vim.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/state.c, src/terminal.c, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ui.pro, src/evalfunc.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.1126<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure with +terminal but without tgetent.<br>
Solution:&nbsp;&nbsp; Adjust #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.1.1127<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getwinpos() doesn't work in terminal on MS-Windows console.<br>
Solution:&nbsp;&nbsp; Adjust #ifdefs.&nbsp;&nbsp;Disable test for MS-Windows console.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c, src/term.c, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.1128<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getwinpos() test does not work on MS-Windows.<br>
Solution:&nbsp;&nbsp; Skip the test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.1129<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When making a new screendump test have to create the file.<br>
Solution:&nbsp;&nbsp; Continue creating the failed screendump, so it can be moved once<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it is correct.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim<br>
<br>
Patch 8.1.1130<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: warning for unused variable.<br>
Solution:&nbsp;&nbsp; Remove the variable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.1131<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getwinpos() does not work in the MS-Windows console.<br>
Solution:&nbsp;&nbsp; Implement getwinpos().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c, src/evalfunc.c, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.1132<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getwinpos() test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Don't try running this test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.1133<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for uninitialized struct member. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan)<br>
Solution:&nbsp;&nbsp; Add initializer field.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h<br>
<br>
Patch 8.1.1134<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Buffer for quickfix window is reused for another file.<br>
Solution:&nbsp;&nbsp; Don't reuse the quickfix buffer. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.1135 (after 8.1.1134)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure for small version. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 8.1.1136<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Decoding of mouse click escape sequence is not tested.<br>
Solution:&nbsp;&nbsp; Add a test for xterm and SGR using low-level input.&nbsp;&nbsp;Make<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;low-level input execution with feedkeys() work.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_docmd.c<br>
<br>
Patch 8.1.1137<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Xterm mouse wheel escape sequence is not tested.<br>
Solution:&nbsp;&nbsp; Add a test using low-level input. (Dominique Pelle, closes #4221)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1138<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Plugins don't get notified when the popup menu changes.<br>
Solution:&nbsp;&nbsp; Add the CompleteChanged event. (Qiming Zhao, Andy Massimino,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4176)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, src/autocmd.c, src/dict.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/insexpand.c, src/popupmnu.c, src/proto/autocmd.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/dict.pro, src/proto/popupmnu.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim, src/vim.h<br>
<br>
Patch 8.1.1139<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for what is fixed in patch 8.1.0716.<br>
Solution:&nbsp;&nbsp; Add a test. (Yasuhiro Matsumoto, closes #3797)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ins_complete.vim<br>
<br>
Patch 8.1.1140<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to find out what neighbors a window has.<br>
Solution:&nbsp;&nbsp; Add more arguments to winnr(). (Yegappan Lakshmanan, closes #3993)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/proto/window.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_window_cmd.vim, src/window.c<br>
<br>
Patch 8.1.1141<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal winpos test fails with very large terminal. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Solution:&nbsp;&nbsp; Compute the expected size more accurately. (closes #4228)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.1142<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for dragging the window separators with the mouse.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #4226)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1143<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May pass weird strings to file name expansion.<br>
Solution:&nbsp;&nbsp; Check for matching characters.&nbsp;&nbsp;Disallow control characters.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/test_spell.vim, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/option.pro, src/spell.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_escaped_glob.vim<br>
<br>
Patch 8.1.1144 (after 8.1.1143)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too strict checking of the&nbsp;<a class="Type" href="options.html#'spellfile'">'spellfile'</a>&nbsp;option.<br>
Solution:&nbsp;&nbsp; Allow for a path.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_spell.vim<br>
<br>
Patch 8.1.1145<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused function. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.1.1146<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In MS-Windows console colors in a terminal window are wrong.<br>
Solution:&nbsp;&nbsp; Use the ansi index also for 16 colors. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.1147<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Desktop file translations are requiring manual updates.<br>
Solution:&nbsp;&nbsp; Use the .po files for desktop file translations. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Makefile, src/po/gvim.desktop.in, src/po/vim.desktop.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CONTRIBUTING.md, Filelist, runtime/vim.desktop,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/gvim.desktop<br>
<br>
Patch 8.1.1148<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-L</span>&nbsp;with&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>&nbsp;does not pick up char under cursor.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Smylers)<br>
Solution:&nbsp;&nbsp; Do not compare the position with the cursor position. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi, closes #3620)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim<br>
<br>
Patch 8.1.1149<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building desktop files fails with older msgfmt.<br>
Solution:&nbsp;&nbsp; Add autoconf check.&nbsp;&nbsp;Avoid always building the desktop files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure, src/po/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Make_all.mak, src/config.mk.in<br>
<br>
Patch 8.1.1150<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Generating desktop files not tested on Travis.<br>
Solution:&nbsp;&nbsp; Install a newer msgfmt package. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.1151<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails when using shadow directory.<br>
Solution:&nbsp;&nbsp; Link the desktop.in files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.1.1152<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning with VS2019.<br>
Solution:&nbsp;&nbsp; Specify different offset for &quot;AMD64&quot;. (Ken Takata, closes #4235)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/Makefile<br>
<br>
Patch 8.1.1153<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Msgfmt complains about missing LINGUAS file. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add command to generate LINGUAS.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Makefile<br>
<br>
Patch 8.1.1154<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Getting a newer msgfmt on Travis is too complicated.<br>
Solution:&nbsp;&nbsp; Use a &quot;sourceline&quot; entry. (Ozaki Kiichi, closes #4236)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.1155<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Termcodes tests can be improved.<br>
Solution:&nbsp;&nbsp; Add helper functions to simplify tests.&nbsp;&nbsp;Dragging statusline for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xterm and sgr. (Dominique Pelle, closes #4237)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1156<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unicode emoji and other image characters not recognized.<br>
Solution:&nbsp;&nbsp; Add ranges for musical notation, game pieces, etc. (Martin<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tournoij, closes #4238)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 8.1.1157<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unicode tables are out of date.<br>
Solution:&nbsp;&nbsp; Update to Unicode 12. (Christian Brabandt, closes #4240)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 8.1.1158<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Json encoded string is sometimes missing the final NUL.<br>
Solution:&nbsp;&nbsp; Add the NUL.&nbsp;&nbsp;Also for log messages.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/channel.c, src/testdir/test_json.vim<br>
<br>
Patch 8.1.1159<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: with a silent (un)install $VIM/_vimrc is removed.<br>
Solution:&nbsp;&nbsp; Don't delete _vimrc in silent mode. (Ken Takata, closes #4242)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/gvim.nsi<br>
<br>
Patch 8.1.1160<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Termcodes test would fail in a very big terminal.<br>
Solution:&nbsp;&nbsp; Bail out when the row is larger than what will work. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle, closes #4246)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1161<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unreachable code.<br>
Solution:&nbsp;&nbsp; Remove condition that will never be true.&nbsp;&nbsp;Add tests for all ANSI<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;colors.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_all_ansi_colors.dump<br>
<br>
Patch 8.1.1162<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Incorrect coverage information; typo in color name.<br>
Solution:&nbsp;&nbsp; Fix the typo.&nbsp;&nbsp;Set environment variables to have a nested Vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write the coverage info in another directory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/testdir/screendump.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_all_ansi_colors.dump<br>
<br>
Patch 8.1.1163<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Codecov does not report all the coverage information.<br>
Solution:&nbsp;&nbsp; Make a second run with the nested execution output, expect that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Codecov will merge the results.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.1164<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Gettitle test is failing when server name differs. (Kenta Sato)<br>
Solution:&nbsp;&nbsp; Accept &quot;VIM1&quot; when&nbsp;<span class="MissingTag">'autoservername'</span>&nbsp;is used. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4250, closes #4249)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.1165<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for mouse clicks in the terminal tabpage line.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #4247).&nbsp;&nbsp;Also init<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;TabPageIdxs[], in case it's used before a redraw.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1166 (after 8.1.1164)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Gettitle test can still fail when another Vim is running.<br>
Solution:&nbsp;&nbsp; Accept any server name number. (Dominique Pelle, closes #4252)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.1167<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for closing tab by click in tabline.<br>
Solution:&nbsp;&nbsp; Add a test.&nbsp;&nbsp;Also fix that dragging window separator could fail in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a large terminal. (Dominique Pelle, closes #4253)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1168<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all screen update code of the terminal window is executed in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tests.<br>
Solution:&nbsp;&nbsp; Redraw before taking a screenshot.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim<br>
<br>
Patch 8.1.1169<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Writing coverage info in a separate dir is not needed.<br>
Solution:&nbsp;&nbsp; Revert the changes to use a separate directory.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml, src/testdir/screendump.vim<br>
<br>
Patch 8.1.1170<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal ANSI color test does not cover all colors.<br>
Solution:&nbsp;&nbsp; Use the color number, the name is not always resulting in an ANSI<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;color when t_Co is 256.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_all_ansi_colors.dump<br>
<br>
Patch 8.1.1171<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Statusline test could fail in large terminal.<br>
Solution:&nbsp;&nbsp; Make the test work on a huge terminal. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4255)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_statusline.vim<br>
<br>
Patch 8.1.1172<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor properties were not fully tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #4256)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.1173<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Suspend test has duplicated lines.<br>
Solution:&nbsp;&nbsp; Use a function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_suspend.vim<br>
<br>
Patch 8.1.1174<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with Ruby 1.8. (Tom G. Christensen)<br>
Solution:&nbsp;&nbsp; Include ruby/st.h. (Ozaki Kiichi, closes #4257)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_ruby.c<br>
<br>
Patch 8.1.1175<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for dragging a tab with the mouse and for creating a new<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tab by double clicking in the tabline.<br>
Solution:&nbsp;&nbsp; Add two tests. (Dominique Pelle, closes #4258)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1176 (after 8.1.1175)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for dragging a tab is flaky.<br>
Solution:&nbsp;&nbsp; Add a brief sleep.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1177<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;.ts files are recognized as xml, while typescript is more common.<br>
Solution:&nbsp;&nbsp; Recognize .ts files as typescript. (closes #4264)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim src/testdir/test_filetype.vim<br>
<br>
Patch 8.1.1178<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When mouse click tests fails value of&nbsp;<a class="Type" href="options.html#'ttymouse'">'ttymouse'</a>&nbsp;is unknown.<br>
Solution:&nbsp;&nbsp; Add a message to the assert.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1179<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for mouse clicks in the fold column.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #4261)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1180<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim script debugger tests are old style.<br>
Solution:&nbsp;&nbsp; Turn into new style tests. (Yegappan Lakshmanan, closes #4259)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test108.in, src/testdir/test108.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_debugger.vim<br>
<br>
Patch 8.1.1181<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests for mouse clicks are a bit flaky when run in an interactive<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;terminal.<br>
Solution:&nbsp;&nbsp; Use &quot;xterm2&quot; instead of &quot;xterm&quot; for&nbsp;<a class="Type" href="options.html#'ttymouse'">'ttymouse'</a>&nbsp;to avoid spurious<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;drag events.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1182<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some function prototypes are outdated.<br>
Solution:&nbsp;&nbsp; Update function prototypes. (Ken Takata, closes #4267)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/proto/ex_getln.pro, src/proto/gui_w32.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/proto/terminal.pro, src/proto/window.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.1.1183<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typos in VisVim comments.<br>
Solution:&nbsp;&nbsp; Correct the typos. (Christ van Willegen)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/VisVim/Commands.cpp, src/VisVim/OleAut.cpp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/VisVim/README_VisVim.txt<br>
<br>
Patch 8.1.1184<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Undo file left behind after running test.<br>
Solution:&nbsp;&nbsp; Delete the undo file. (Dominique Pelle, closes #4279)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_filechanged.vim<br>
<br>
Patch 8.1.1185<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mapping for&nbsp;<span class="Special">CTRL-X</span>&nbsp;is inconsistent.<br>
Solution:&nbsp;&nbsp; Map&nbsp;<span class="Special">CTRL-X</span>&nbsp;to &quot;*d also for the MS-Windows console. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4265)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.1.1186<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;readdir() allocates list twice.<br>
Solution:&nbsp;&nbsp; Remove second allocation.&nbsp;&nbsp;Also check for zero length.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.1187<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot recognize Pipfile.<br>
Solution:&nbsp;&nbsp; Use existing filetypes. (Charles Ross, closes #4280)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim, src/testdir/test_filetype.vim<br>
<br>
Patch 8.1.1188<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all Vim variables require the v: prefix.<br>
Solution:&nbsp;&nbsp; When scriptversion is 3 all Vim variables can only be used with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the v: prefix.&nbsp;&nbsp;(Ken Takata, closes #4274)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/ex_cmds2.c, src/testdir/test_eval_stuff.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.1.1189<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mode is not cleared when leaving Insert mode.<br>
Solution:&nbsp;&nbsp; Clear the mode when got_int is set. (Ozaki Kiichi, closes #4270)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_bufline.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_messages.vim<br>
<br>
Patch 8.1.1190<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;has('vimscript-3') does not work.<br>
Solution:&nbsp;&nbsp; Add &quot;vimscript-3&quot; to the list of features. (partly by Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_eval_stuff.vim<br>
<br>
Patch 8.1.1191<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all debug commands are covered by a test.<br>
Solution:&nbsp;&nbsp; Add more tests. (Yegappan Lakshmanan, closes #4282)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_debugger.vim<br>
<br>
Patch 8.1.1192<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mode is not cleared when leaving Insert mode with mapped Esc.<br>
Solution:&nbsp;&nbsp; Clear the mode when redraw_cmdline is set. (closes #4269)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/screen.c, src/testdir/test_messages.vim<br>
<br>
Patch 8.1.1193<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typos and small problems in test files.<br>
Solution:&nbsp;&nbsp; Small improvements.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gn.vim, src/testdir/test_quotestar.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_registers.vim, src/testdir/test_syntax.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabpage.vim, src/testdir/test_vartabs.vim<br>
<br>
Patch 8.1.1194<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typos and small problems in source files.<br>
Solution:&nbsp;&nbsp; Small fixes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/crypt.c, src/edit.c, src/regexp.h, src/tag.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/terminal.c, src/userfunc.c, src/installman.sh<br>
<br>
Patch 8.1.1195<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim script debugger functionality needs cleanup.<br>
Solution:&nbsp;&nbsp; Move debugger code to a separate file.&nbsp;&nbsp;Add more tests. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #4285)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_bc5.mak, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_dice.mak, src/Make_ivc.mak, src/Make_manx.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_morph.mak, src/Make_mvc.mak, src/Make_sas.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms, src/Makefile, src/debugger.c, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto.h, src/proto/debugger.pro, src/proto/ex_cmds2.pro<br>
<br>
Patch 8.1.1196<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Parallel build may fail.<br>
Solution:&nbsp;&nbsp; Update dependencies.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.1.1197<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When starting with multiple tabs file messages is confusing.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'shortmess'">'shortmess'</a>&nbsp;when loading the other tabs. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/testdir/test_startup.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_start_with_tabs.dump<br>
<br>
Patch 8.1.1198<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Bracketed paste may remain active after Vim exists, because the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;terminal emulator restores the setting.<br>
Solution:&nbsp;&nbsp; Set/reset bracketed paste mode before setting the terminal mode.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #3579)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
<br>
Patch 8.1.1199<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for :abclear.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #4292)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.vim<br>
<br>
Patch 8.1.1200<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old style comments in debugger source.<br>
Solution:&nbsp;&nbsp; Use new style comments. (Yegappan Lakshmanan, closes #4286)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/README.md, src/debugger.c<br>
<br>
Patch 8.1.1201<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Output of :command is hard to read.<br>
Solution:&nbsp;&nbsp; Make some columns wider, some narrower.&nbsp;&nbsp;Truncate the command when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;listing all.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/message.c, src/proto/message.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/menu.c<br>
<br>
Patch 8.1.1202<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Always get regexp debugging logs when building with -DDEBUG.<br>
Solution:&nbsp;&nbsp; By default do not create regexp debugging logs. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c<br>
<br>
Patch 8.1.1203<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some autocmd tests are old style.<br>
Solution:&nbsp;&nbsp; Turn the tests into new style. (Yegappan Lakshmanan, closes #4295)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_amiga.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test11.in, src/testdir/test11.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.1.1204<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Output of :command with address completion is not nice.<br>
Solution:&nbsp;&nbsp; Shorten the address completion names.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, runtime/doc/map.txt<br>
<br>
Patch 8.1.1205<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A BufReadPre autocommand may cause the cursor to move.<br>
Solution:&nbsp;&nbsp; Restore the cursor position after executing the autocommand,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unless the autocommand moved it. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4302, closes #4294)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/autocmd.c, src/proto/window.pro, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/window.c<br>
<br>
Patch 8.1.1206<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;User command parsing and listing not properly tested.<br>
Solution:&nbsp;&nbsp; Add more tests. (Dominique Pelle, closes #4296)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_usercommands.vim<br>
<br>
Patch 8.1.1207<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some compilers give warning messages.<br>
Solution:&nbsp;&nbsp; Initialize variables, change printf() argument. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt, closes #4305)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/screen.c, src/undo.c, src/window.c<br>
<br>
Patch 8.1.1208<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Links to repository use wrong file name.<br>
Solution:&nbsp;&nbsp; Swap the file names. (Nahuel Ourthe, closes #4304)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/README.md<br>
<br>
Patch 8.1.1209<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clever compiler warns for buffer being too small.<br>
Solution:&nbsp;&nbsp; Make the buffer bigger (even though it's not really needed).<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/syntax.c<br>
<br>
Patch 8.1.1210<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Support for user commands is spread out. No good reason to make<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user commands optional.<br>
Solution:&nbsp;&nbsp; Move user command support to usercmd.c.&nbsp;&nbsp;Always enable the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_commands feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/usercmd.c, src/proto/usercmd.pro, Filelist, src/Make_bc5.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_dice.mak, src/Make_ivc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_manx.mak, src/Make_morph.mak, src/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_sas.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/eval.c, src/evalfunc.c, src/ex_cmds.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/proto/ex_docmd.pro, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/macros.h, src/misc2.c, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/version.c, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/various.txt<br>
<br>
Patch 8.1.1211<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all user command code is tested.<br>
Solution:&nbsp;&nbsp; Add more tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_usercommands.vim<br>
<br>
Patch 8.1.1212<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Signal PWR is not tested.<br>
Solution:&nbsp;&nbsp; Test that PWR updates the swap file. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4312)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signals.vim<br>
<br>
Patch 8.1.1213<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make clean&quot; in top dir does not cleanup indent test output.<br>
Solution:&nbsp;&nbsp; Clean the indent test output.&nbsp;&nbsp;Do not rely on the vim executable<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for that. (closes #4307)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makefile, runtime/indent/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/indent/testdir/cleantest.vim<br>
<br>
Patch 8.1.1214<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old style tests.<br>
Solution:&nbsp;&nbsp; Move tests from test14 to new style test files. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #4308)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test14.in, src/testdir/test14.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_edit.vim, src/testdir/test_normal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim, src/testdir/test_substitute.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_visual.vim<br>
<br>
Patch 8.1.1215<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make clean&quot; does not remove generated src/po files.<br>
Solution:&nbsp;&nbsp; Remove the files for &quot;make clean&quot;. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Makefile<br>
<br>
Patch 8.1.1216<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mouse middle click is not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #4310)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1217<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: no space reserved for font quality name.<br>
Solution:&nbsp;&nbsp; Add quality_name length if present. (Ken Takata, closes #4311)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.1.1218<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot set a directory for a tab page.<br>
Solution:&nbsp;&nbsp; Add the tab-local directory. (Yegappan Lakshmanan, closes #4212)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, runtime/doc/editing.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/index.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/usr_22.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_41.txt, src/eval.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmdidxs.h, src/ex_cmds.h, src/ex_docmd.c, src/if_py_both.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/proto/ex_docmd.pro, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_getcwd.vim, src/testdir/test_mksession.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.1.1219<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not checking for NULL return from alloc().<br>
Solution:&nbsp;&nbsp; Add checks. (Martin Kunev, closes #4303, closes #4174)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/beval.c, src/blowfish.c, src/crypt.c, src/crypt_zip.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/option.c, src/popupmnu.c, src/proto/blowfish.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/crypt_zip.pro, src/gui_gtk_f.c, src/gui_gtk_x11.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/state.c, src/libvterm/src/termscreen.c<br>
<br>
Patch 8.1.1220 (after 8.1.1219)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Move declaration to start of block.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/state.c<br>
<br>
Patch 8.1.1221<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Filtering does not work when listing marks.<br>
Solution:&nbsp;&nbsp; Implement filtering marks. (Marcin Szamotulski, closes #3895)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/various.txt, src/mark.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_filter_cmd.vim<br>
<br>
Patch 8.1.1222 (after 8.1.1219)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build still fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Move another declaration to start of block.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/state.c<br>
<br>
Patch 8.1.1223<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Middle mouse click test fails without a clipboard.<br>
Solution:&nbsp;&nbsp; Check if the clipboard can be used. (Dominique Pelle, Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)&nbsp;&nbsp;Also use WorkingClipboard() instead of checking for the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;clipboard&quot; feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim, src/testdir/test_quotestar.vim<br>
<br>
Patch 8.1.1224<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: cannot specify font weight.<br>
Solution:&nbsp;&nbsp; Add the &quot;W&quot; option to&nbsp;<a class="Type" href="options.html#'guifont'">'guifont'</a>. (closes #4309)&nbsp;&nbsp;Move GUI font<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;explanation out of options.txt.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/gui.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/mbyte.txt, src/gui_w32.c, src/os_mswin.c<br>
<br>
Patch 8.1.1225<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot create a pty to use with :terminal on FreeBSD.<br>
Solution:&nbsp;&nbsp; Add support for posix_openpt(). (Ozaki Kiichi, closes #4306,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4289)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/config.h.in, src/auto/configure, src/pty.c<br>
<br>
Patch 8.1.1226<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">{not in Vi}</span>&nbsp;remarks get in the way of useful help text.<br>
Solution:&nbsp;&nbsp; Make a list of all Vi options, instead of mentioning what Vi does<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not have.&nbsp;&nbsp;Update the help text for options.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/vi_diff.txt, runtime/doc/options.txt<br>
<br>
Patch 8.1.1227<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Duplicate entries in the generated .desktop files. (Ralf Schandl)<br>
Solution:&nbsp;&nbsp; Remove translated entries from the .in files. (closes #4313)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/gvim.desktop.in, src/po/vim.desktop.in<br>
<br>
Patch 8.1.1228<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not possible to process tags with a function.<br>
Solution:&nbsp;&nbsp; Add tagfunc() (Christian Brabandt, Andy Massimino, closes #4010)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/tagsrch.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/optwin.vim, src/buffer.c, src/dict.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/insexpand.c, src/normal.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/proto/dict.pro, src/structs.h, src/tag.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tagfunc.vim, src/vim.h, src/window.c<br>
<br>
Patch 8.1.1229<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for posix_openpt() not declared. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add declaration.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/pty.c<br>
<br>
Patch 8.1.1230<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A lot of code is shared between vim.exe and gvim.exe.<br>
Solution:&nbsp;&nbsp; Optionally put the shared code in vim.dll. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4287)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, nsis/gvim.nsi, runtime/doc/gui_w32.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_cmds.c, src/ex_docmd.c, src/feature.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/getchar.c, src/globals.h, src/gui.c, src/gui.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/gui_w32.c, src/if_mzsch.c, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/memline.c, src/message.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/option.c, src/os_mswin.c, src/os_w32dll.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_w32exe.c, src/os_win32.c, src/os_win32.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui.pro, src/proto/gui_w32.pro, src/proto/misc2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_mswin.pro, src/proto/os_win32.pro, src/syntax.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/terminal.c, src/ui.c, src/version.c, src/vim.rc<br>
<br>
Patch 8.1.1231<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Asking about existing swap file unnecessarily.<br>
Solution:&nbsp;&nbsp; When it is safe, delete the swap file.&nbsp;&nbsp;Remove<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;HAS_SWAP_EXISTS_ACTION, it is always defined. (closes #1237)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/globals.h, src/buffer.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/main.c, src/testdir/test_swap.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_11.txt, src/os_win32.c, src/proto/os_win32.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/proto/os_unix.pro<br>
<br>
Patch 8.1.1232<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build on MS-Windows.<br>
Solution:&nbsp;&nbsp; Define process_still_running.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/os_win32.c, src/proto/os_win32.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/proto/os_unix.pro<br>
<br>
Patch 8.1.1233<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build tiny version.<br>
Solution:&nbsp;&nbsp; Remove #ifdef for verb_msg().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 8.1.1234<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Swap file test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Only compare the tail of the file names.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_swap.vim<br>
<br>
Patch 8.1.1235<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for using STRLEN() value.<br>
Solution:&nbsp;&nbsp; Cast to int. (Christian Brabandt, Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c<br>
<br>
Patch 8.1.1236<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;sjiscorr.c not found in shadow directory. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Link po/*.c files with &quot;make shadow&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.1.1237<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error for using &quot;compl&quot;, reserved word in C++.<br>
Solution:&nbsp;&nbsp; Rename to &quot;complp&quot;. (suggestion by Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/usercmd.c, src/proto/usercmd.pro<br>
<br>
Patch 8.1.1238<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: compiler warning for sprintf() format.<br>
Solution:&nbsp;&nbsp; Change %d to %ld. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.1.1239<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Key with byte sequence containing CSI does not work.<br>
Solution:&nbsp;&nbsp; Do not recognize CSI as special unless the GUI is active. (Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata, closes #4318)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.1.1240<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Runtime desktop files are overwritten by build. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Instead of copying the files find them with &quot;make install&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/po/Makefile<br>
<br>
Patch 8.1.1241<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ex command info contains confusing information.<br>
Solution:&nbsp;&nbsp; When using the NOTADR flag use ADDR_OTHER for the address type.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cleanup code using NOTADR.&nbsp;&nbsp;Check for errors in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_cmdidxs.vim.&nbsp;&nbsp;Adjust Makefile to see the errors.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/ex_docmd.c, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/create_cmdidxs.vim, src/usercmd.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_usercommands.vim<br>
<br>
Patch 8.1.1242<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No cmdline redraw when tabpages have different&nbsp;<a class="Type" href="options.html#'cmdheight'">'cmdheight'</a>.<br>
Solution:&nbsp;&nbsp; redraw the command line when&nbsp;<a class="Type" href="options.html#'cmdheight'">'cmdheight'</a>&nbsp;changes when switching<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tabpages. (closes #4321)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabpage.vim, src/window.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_tabpage_cmdheight.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim<br>
<br>
Patch 8.1.1243 (after 8.1.1241)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for incomplete switch statement. (Tony<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mechelynck)<br>
Solution:&nbsp;&nbsp; Add ADDR_QUICKFIX to the list.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.1.1244<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for&nbsp;<span class="Special">CTRL-m</span>ouse-click.<br>
Solution:&nbsp;&nbsp; Add a few tests. (Dominique Pelle, closes #4323)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1245<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:copen 10&quot; sets height in full-height window. (Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Don't set the height if the quickfix window is full height.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4325)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.1246<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot handle negative mouse coordinate from urxvt.<br>
Solution:&nbsp;&nbsp; Accept '-' where a digit is expected. (Vincent Vinel,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4326)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.1.1247<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Urxvt mouse codes are not tested.<br>
Solution:&nbsp;&nbsp; Also set&nbsp;<a class="Type" href="options.html#'ttymouse'">'ttymouse'</a>&nbsp;to &quot;urxvt&quot; in the termcodes test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1248<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for dec mouse.<br>
Solution:&nbsp;&nbsp; Add some tests for dec mouse.&nbsp;&nbsp;Add &quot;no_query_mouse&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/globals.h, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim, runtime/doc/eval.txt<br>
<br>
Patch 8.1.1249<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for uninitialized variable.<br>
Solution:&nbsp;&nbsp; Initialize it. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c<br>
<br>
Patch 8.1.1250<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for netterm mouse.<br>
Solution:&nbsp;&nbsp; Add some tests for netterm mouse.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1251<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for completion of mapping keys.<br>
Solution:&nbsp;&nbsp; Add a test.&nbsp;&nbsp;Also clean up the code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/term.c, src/proto/term.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.1.1252<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all mapping completion is tested.<br>
Solution:&nbsp;&nbsp; Add a few more mapping completion tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.1.1253 (after 8.1.1252)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mapping completion test fails.<br>
Solution:&nbsp;&nbsp; Fix expected output.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.1.1254<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mapping completion contains dead code.<br>
Solution:&nbsp;&nbsp; Remove the code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 8.1.1255<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Building desktop files fails on FreeBSD. (Adam Weinberger)<br>
Solution:&nbsp;&nbsp; Avoid using non-portable construct in Makefile. (closes #4332)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Makefile<br>
<br>
Patch 8.1.1256<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot navigate through errors relative to the cursor.<br>
Solution:&nbsp;&nbsp; Add :cabove, :cbelow, :labove and :lbelow. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4316)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/index.txt, runtime/doc/quickfix.txt, src/ex_cmdidxs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/ex_docmd.c, src/proto/quickfix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.1257<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MSVC: name of object directory not always right.<br>
Solution:&nbsp;&nbsp; Adjust comment.&nbsp;&nbsp;Don't use different directory for DIRECTX.&nbsp;&nbsp;Do<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use different directory for USE_MSVCRT. (Ken Takata, closes #4333)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.1.1258<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The &quot;<span class="Special">N</span>&nbsp;files to edit&quot; message can not be suppressed.<br>
Solution:&nbsp;&nbsp; Suppress the message with --not-a-term. (closes #4320)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.1.1259<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when exiting early. (Ralf Schandl)<br>
Solution:&nbsp;&nbsp; Only pop/push the title when it was set. (closes #4334)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/misc2.c, src/usercmd.c, src/tag.c<br>
<br>
Patch 8.1.1260<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Comparing with pointer instead of value.<br>
Solution:&nbsp;&nbsp; Add a &quot;*&quot;. (Ken Takata, closes #4336)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/usercmd.c<br>
<br>
Patch 8.1.1261<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No error for quickfix commands with negative range.<br>
Solution:&nbsp;&nbsp; Add ADDR_UNSIGNED and use it for quickfix commands.&nbsp;&nbsp;Make<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assert_fails() show the command if the error doesn't match.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/ex_docmd.c, src/testdir/test_quickfix.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/quickfix.txt, src/eval.c, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/quickfix.pro, src/ex_cmds2.c<br>
<br>
Patch 8.1.1262<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot simulate a mouse click in a test.<br>
Solution:&nbsp;&nbsp; Add test_setmouse().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, runtime/doc/eval.txt, runtime/doc/usr_41.txt<br>
<br>
Patch 8.1.1263<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mouse clicks in WinBar not tested.<br>
Solution:&nbsp;&nbsp; Add a test for clicking on the WinBar entries.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_winbar.vim<br>
<br>
Patch 8.1.1264<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when closing window from WinBar click. (Ben Jackson)<br>
Solution:&nbsp;&nbsp; Check that window pointer is still valid. (closes #4337)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/menu.c<br>
<br>
Patch 8.1.1265<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When GPM mouse support is enabled double clicks in xterm do not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;work.<br>
Solution:&nbsp;&nbsp; Use KS_GPM_MOUSE for GPM mouse events.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/os_unix.c, src/keymap.h<br>
<br>
Patch 8.1.1266<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Winbar test doesn't test enough.<br>
Solution:&nbsp;&nbsp; Check that the WinBar actually shows up.&nbsp;&nbsp;Correct check for clicks<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with no effect. (Ben Jackson, closes #4338)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_winbar.vim<br>
<br>
Patch 8.1.1267<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot check if GPM mouse support is working.<br>
Solution:&nbsp;&nbsp; Add the &quot;mouse_gpm_enable&quot; feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/os_unix.c, src/proto/os_unix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.1.1268<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Map completion test fails in GUI.<br>
Solution:&nbsp;&nbsp; Skip the test that fails.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.1.1269<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows GUI: multibyte chars with a 0x80 byte do not work when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;compiled with VIMDLL.<br>
Solution:&nbsp;&nbsp; Adjust the condition for fixing the input buffer. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4330)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.1.1270<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot see current match position.<br>
Solution:&nbsp;&nbsp; Show &quot;3/44&quot; when using the &quot;n&quot; command and &quot;S&quot; is not in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'shortmess'">'shortmess'</a>. (Christian Brabandt, closes #4317)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/pattern.txt, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/search.c, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search_stat.vim<br>
<br>
Patch 8.1.1271 (after 8.1.1270)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings for use of STRNCPY(). (John Marriott)<br>
Solution:&nbsp;&nbsp; Use mch_memmove() instead of STRNCPY().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 8.1.1272<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Click on WinBar of other window not tested.<br>
Solution:&nbsp;&nbsp; Add a test case.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_winbar.vim<br>
<br>
Patch 8.1.1273<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning in direct write code.<br>
Solution:&nbsp;&nbsp; Add a type cast.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_dwrite.cpp<br>
<br>
Patch 8.1.1274<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After :unmenu can still execute the menu with :emenu.<br>
Solution:&nbsp;&nbsp; Do not execute a menu that was disabled for the specified mode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/menu.c, src/testdir/test_menu.vim<br>
<br>
Patch 8.1.1275<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot navigate to errors before/after the cursor.<br>
Solution:&nbsp;&nbsp; Add the :cbefore and :cafter commands. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4340)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/index.txt, runtime/doc/quickfix.txt, src/ex_cmdidxs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.1276<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot combine text properties with syntax highlighting.<br>
Solution:&nbsp;&nbsp; Add the &quot;combine&quot; field to prop_type_add(). (closes #4343)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/textprop.txt, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.1277 (after 8.1.1276)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing screenshot update.<br>
Solution:&nbsp;&nbsp; Update the screenshot.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_textprop_01.dump<br>
<br>
Patch 8.1.1278 (after 8.1.1276)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing change for &quot;combine&quot; field.<br>
Solution:&nbsp;&nbsp; Also change the textprop implementation.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c<br>
<br>
Patch 8.1.1279<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot set&nbsp;<a class="Type" href="options.html#'spelllang'">'spelllang'</a>&nbsp;to &quot;sr@latin&quot;. (Bojan Stipic)<br>
Solution:&nbsp;&nbsp; Allow using '@' in&nbsp;<a class="Type" href="options.html#'spelllang'">'spelllang'</a>. (closes #4342)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/gen_opt_test.vim<br>
<br>
Patch 8.1.1280<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Remarks about functionality not in Vi clutters the help.<br>
Solution:&nbsp;&nbsp; Move all info about what is new in Vim or already existed in Vi to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vi_diff.txt.&nbsp;&nbsp;Remove&nbsp;<span class="Special">{not in Vi}</span>&nbsp;remarks. (closes #4268) Add<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;noet&quot; to the help files modeline.&nbsp;&nbsp;Also include many other help<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file improvements.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/vi_diff.txt, runtime/doc/arabic.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, runtime/doc/change.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/channel.txt, runtime/doc/cmdline.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/debugger.txt, runtime/doc/debug.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/develop.txt, runtime/doc/diff.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/digraph.txt, runtime/doc/editing.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/farsi.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/filetype.txt, runtime/doc/fold.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/ft_ada.txt, runtime/doc/ft_rust.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/ft_sql.txt, runtime/doc/gui.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/gui_w32.txt, runtime/doc/gui_x11.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/hangulin.txt, runtime/doc/hebrew.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/helphelp.txt, runtime/doc/help.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/howto.txt, runtime/doc/if_cscop.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_lua.txt, runtime/doc/if_mzsch.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_ole.txt, runtime/doc/if_perl.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_pyth.txt, runtime/doc/if_ruby.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/if_sniff.txt, runtime/doc/if_tcl.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/indent.txt, runtime/doc/index.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/insert.txt, runtime/doc/intro.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/map.txt, runtime/doc/mbyte.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/message.txt, runtime/doc/mlang.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/motion.txt, runtime/doc/netbeans.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/os_390.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/os_amiga.txt, runtime/doc/os_beos.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/os_dos.txt, runtime/doc/os_mac.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/os_mint.txt, runtime/doc/os_msdos.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/os_os2.txt, runtime/doc/os_qnx.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/os_risc.txt, runtime/doc/os_unix.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/os_vms.txt, runtime/doc/os_win32.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/pattern.txt, runtime/doc/pi_getscript.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/pi_gzip.txt, runtime/doc/pi_logipat.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/pi_netrw.txt, runtime/doc/pi_paren.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/pi_spec.txt, runtime/doc/pi_tar.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/pi_vimball.txt, runtime/doc/pi_zip.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/print.txt, runtime/doc/quickfix.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/quickref.txt, runtime/doc/quotes.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/recover.txt, runtime/doc/remote.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/repeat.txt, runtime/doc/rileft.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/russian.txt, runtime/doc/scroll.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/sign.txt, runtime/doc/spell.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/sponsor.txt, runtime/doc/starting.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/syntax.txt, runtime/doc/tabpage.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/tagsrch.txt, runtime/doc/terminal.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/term.txt, runtime/doc/textprop.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/tips.txt, runtime/doc/todo.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/uganda.txt, runtime/doc/undo.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_01.txt, runtime/doc/usr_02.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_03.txt, runtime/doc/usr_04.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_05.txt, runtime/doc/usr_06.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_07.txt, runtime/doc/usr_08.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_09.txt, runtime/doc/usr_10.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_11.txt, runtime/doc/usr_12.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_20.txt, runtime/doc/usr_21.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_22.txt, runtime/doc/usr_23.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_24.txt, runtime/doc/usr_25.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_26.txt, runtime/doc/usr_27.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_28.txt, runtime/doc/usr_29.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_30.txt, runtime/doc/usr_31.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_32.txt, runtime/doc/usr_40.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_41.txt, runtime/doc/usr_43.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_44.txt, runtime/doc/usr_45.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_90.txt, runtime/doc/usr_toc.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/various.txt, runtime/doc/version4.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/version5.txt, runtime/doc/version6.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/version7.txt, runtime/doc/version8.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/visual.txt, runtime/doc/windows.txt, runtime/doc/tags<br>
<br>
Patch 8.1.1281<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot specify a count with :chistory.<br>
Solution:&nbsp;&nbsp; Add a count to :chistory and :lhistory. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4344)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/quickfix.txt,&nbsp;&nbsp;src/ex_cmds.h,&nbsp;&nbsp;src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.1282<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running make in src/po leaves LINGUAS file behind. (Ken Takata)<br>
Solution:&nbsp;&nbsp; Delete LINGUAS after running msgfmt.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Makefile<br>
<br>
Patch 8.1.1283<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Delaying half a second after the top-bot message.<br>
Solution:&nbsp;&nbsp; Instead of the delay add &quot;W&quot; to the search count.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_search_stat.vim<br>
<br>
Patch 8.1.1284<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Detecting *.tmpl as htmlcheetah is outdated.<br>
Solution:&nbsp;&nbsp; Use the generic name &quot;template&quot;. (closes #4348)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim, src/testdir/test_filetype.vim<br>
<br>
Patch 8.1.1285<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test17 is old style.<br>
Solution:&nbsp;&nbsp; Turn into new style test. (Yegappan Lakshmanan, closes #4347)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test17.in, src/testdir/test17.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test17a.in, src/testdir/test_checkpath.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gf.vim<br>
<br>
Patch 8.1.1286<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running tests leaves XTest_tabpage_cmdheight file behind.<br>
Solution:&nbsp;&nbsp; Delete the right file. (closes #4350)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabpage.vim<br>
<br>
Patch 8.1.1287<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with +eval but without +mouse.<br>
Solution:&nbsp;&nbsp; Add #ifdefs around f_test_setmouse(). (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.1288<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Search stats don't show for mapped command.<br>
Solution:&nbsp;&nbsp; Remove SEARCH_PEEK from searchit flags.&nbsp;&nbsp;Add a test. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_search_stat.vim<br>
<br>
Patch 8.1.1289<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May not have enough space to add &quot;W&quot; to search stats.<br>
Solution:&nbsp;&nbsp; Reserve a bit more space. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 8.1.1290<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;.hgignore and .gitignore are either distributed or in git, not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;both.<br>
Solution:&nbsp;&nbsp; Add .gitignore to the distribution and .hgignore to git.&nbsp;&nbsp;Update<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the entries. (Christian Brabandt, Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.gitignore, .hgignore, Filelist<br>
<br>
Patch 8.1.1291<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to change directory and restore.<br>
Solution:&nbsp;&nbsp; Add the chdir() function. (Yegappan Lakshmanan, closes #4358)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/todo.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_41.txt, src/evalfunc.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/proto/ex_docmd.pro, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cd.vim<br>
<br>
Patch 8.1.1292<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid command line arguments not tested.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #4346)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim<br>
<br>
Patch 8.1.1293<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MSVC files are no longer useful for debugging.&nbsp;&nbsp;Newer Visual<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Studio versions cannot read them.<br>
Solution:&nbsp;&nbsp; Delete the files. (Ken Takata, closes #4357)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_dvc.mak, src/Make_ivc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/debug.txt, src/INSTALLpc.txt, src/Make_mvc.mak<br>
<br>
Patch 8.1.1294<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Some fonts return wrong average char width.<br>
Solution:&nbsp;&nbsp; Compute the average ourselves. (Ken Takata, closes #4356)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.1.1295<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When vimrun.exe does not exist external command may fail.<br>
Solution:&nbsp;&nbsp; Use &quot;cmd /c&quot; twice to get the same behavior. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4355)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.1296<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using invalid command line argument.<br>
Solution:&nbsp;&nbsp; Check for options not being initialized.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/testdir/test_startup.vim<br>
<br>
Patch 8.1.1297<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid argument test fails without GTK.<br>
Solution:&nbsp;&nbsp; Test -display and --display separately.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim<br>
<br>
Patch 8.1.1298<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Invalid argument test fails without X clipboard.<br>
Solution:&nbsp;&nbsp; Test -display only with the +xterm_clipboard feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim<br>
<br>
Patch 8.1.1299<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;extends&quot; from&nbsp;<a class="Type" href="options.html#'listchars'">'listchars'</a>&nbsp;is used when&nbsp;<a class="Type" href="options.html#'list'">'list'</a>&nbsp;is off. (Hiroyuki<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Yoshinaga)<br>
Solution:&nbsp;&nbsp; Only use the &quot;extends&quot; character when&nbsp;<a class="Type" href="options.html#'list'">'list'</a>&nbsp;is on. (Hirohito<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Higashi, closes #4360)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_listchars.vim<br>
<br>
Patch 8.1.1300<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In a terminal&nbsp;<a class="Type" href="options.html#'ballooneval'">'ballooneval'</a>&nbsp;does not work right away.<br>
Solution:&nbsp;&nbsp; Flush output after drawing the balloon.&nbsp;&nbsp;Add the&nbsp;<span class="Special">&lt;Ignore&gt;</span>&nbsp;key<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code.&nbsp;&nbsp;Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_balloon.vim, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_balloon_eval_term_01.dump<br>
<br>
Patch 8.1.1301<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When compiled with VIMDLL some messages are not shown.<br>
Solution:&nbsp;&nbsp; Set/reset gui.in_use and gui.starting as needed. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4361)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/main.c, src/message.c<br>
<br>
Patch 8.1.1302<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;v:beval_text is not tested in Visual mode.<br>
Solution:&nbsp;&nbsp; Add a screenshot of the balloon in Visual mode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_balloon.vim, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_balloon_eval_term_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_balloon_eval_term_02.dump<br>
<br>
Patch 8.1.1303<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not possible to hide a balloon.<br>
Solution:&nbsp;&nbsp; Hide the balloon when balloon_show() is called with an empty<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string or list.&nbsp;&nbsp;Add balloon_gettext().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/popupmnu.c, src/gui_beval.c, src/gui_w32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/beval.h, src/testdir/test_balloon.vim, runtime/doc/eval.txt<br>
<br>
Patch 8.1.1304<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: compiler warning for unused value.<br>
Solution:&nbsp;&nbsp; Adjust #ifdefs. (Ken Takata, closes #4363)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.1.1305<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no easy way to manipulate environment variables.<br>
Solution:&nbsp;&nbsp; Add environ(), getenv() and setenv(). (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2875)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_environ.vim<br>
<br>
Patch 8.1.1306<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Borland support is outdated and doesn't work.<br>
Solution:&nbsp;&nbsp; Remove Borland support, there are other (free) compilers<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;available. (Thomas Dziedzic, Ken Takata, closes #4364)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.gitignore, .hgignore, Filelist, runtime/doc/debug.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/develop.txt, runtime/doc/usr_90.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/Make_bc5.mak, src/GvimExt/gvimext.cpp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/gvimext.rc, src/INSTALLpc.txt, src/Make_bc5.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dosinst.c, src/dosinst.h, src/evalfunc.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/gui_w32.c, src/if_ole.cpp, src/if_py_both.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/mark.c, src/message.c, src/misc1.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/option.c, src/os_mswin.c, src/os_w32exe.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/os_win32.h, src/proto.h, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/spellfile.c, src/syntax.c, src/userfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/vim.rc, src/vimrun.c, src/xxd/Make_bc5.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xxd/xxd.c<br>
<br>
Patch 8.1.1307<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot reconnect to the X server after it restarted.<br>
Solution:&nbsp;&nbsp; Add the :xrestore command. (Adrian Kocis, closes #844)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/index.txt, runtime/doc/various.txt, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_unix.pro, src/globals.h, src/ex_cmds.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmdidxs.h, src/ex_docmd.c, src/testdir/test_paste.vim<br>
<br>
Patch 8.1.1308<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The Normal highlight is not defined when compiled with GUI.<br>
Solution:&nbsp;&nbsp; Always define Normal. (Christian Brabandt, closes #4072)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/syntax.txt, src/syntax.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_highlight.vim<br>
<br>
Patch 8.1.1309 (after 8.1.1308)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for Normal highlight fails on MS-Windows GUI.<br>
Solution:&nbsp;&nbsp; Skip the test for MS-Windows GUI.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_highlight.vim<br>
<br>
Patch 8.1.1310<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Named function arguments are never optional.<br>
Solution:&nbsp;&nbsp; Support optional function arguments with a default value. (Andy<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Massimino, closes #3952)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_user_func.vim, src/userfunc.c<br>
<br>
Patch 8.1.1311<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Aborting an autocmd with an exception is not tested.<br>
Solution:&nbsp;&nbsp; Add a test.&nbsp;&nbsp;Also shows how to abort a command by throwing an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;exception.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.1.1312<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warning for using uninitialized variable.<br>
Solution:&nbsp;&nbsp; Clear exarg_T.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/channel.c, src/ex_cmds2.c<br>
<br>
Patch 8.1.1313<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings for using localtime() and ctime().<br>
Solution:&nbsp;&nbsp; Use localtime_r() if available.&nbsp;&nbsp;Avoid using ctime().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure, src/config.h.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/nbdebug.c, src/undo.c, src/memline.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/memline.pro, src/hardcopy.c<br>
<br>
Patch 8.1.1314<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MSVC makefile is not nicely indented.<br>
Solution:&nbsp;&nbsp; Adjust spaces in preprocessor directives. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.1.1315<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is always a delay if a termrequest is never answered.<br>
Solution:&nbsp;&nbsp; When the response is not received within two seconds consider the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;request to have failed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.1.1316<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Duplicated localtime() call.<br>
Solution:&nbsp;&nbsp; Delete one.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 8.1.1317<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Output from Travis can be improved.<br>
Solution:&nbsp;&nbsp; Add section headers.&nbsp;&nbsp;Handle errors better. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4098)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml, configure<br>
<br>
Patch 8.1.1318<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code for text changes is in a &quot;misc&quot; file.<br>
Solution:&nbsp;&nbsp; Move the code to change.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/proto/misc1.pro, src/change.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/change.pro, src/proto.h, src/memline.c, Filelist,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_dice.mak, src/Make_manx.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_morph.mak, src/Make_mvc.mak, src/Make_sas.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms, src/Makefile, src/README.md<br>
<br>
Patch 8.1.1319<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Computing function length name in many places.<br>
Solution:&nbsp;&nbsp; compute name length in call_func().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/userfunc.c, src/channel.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/regexp.c, src/terminal.c<br>
<br>
Patch 8.1.1320<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not possible to track changes to a buffer.<br>
Solution:&nbsp;&nbsp; Add listener_add() and listener_remove(). No docs or tests yet.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/change.c, src/proto/change.pro<br>
<br>
Patch 8.1.1321<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No docs or tests for listener functions.<br>
Solution:&nbsp;&nbsp; Add help and tests for listener_add() and listener_remove().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invoke the callbacks before redrawing.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/usr_41.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listener.vim, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/change.c, src/screen.c, src/evalfunc.c, src/proto/evalfunc.pro<br>
<br>
Patch 8.1.1322<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cygwin makefile is not nicely indented.<br>
Solution:&nbsp;&nbsp; Adjust spaces in preprocessor directives. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 8.1.1323<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'mouse'">'mouse'</a>&nbsp;option is reset when using GPM mouse.<br>
Solution:&nbsp;&nbsp; Add flag for GPM mouse.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.1.1324<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Stray comma in VMS makefile.<br>
Solution:&nbsp;&nbsp; Remove the comma. (Naruhiko Nishino, closes #4368)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms<br>
<br>
Patch 8.1.1325<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with +eval but without +channel and +timers. (John<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Marriott)<br>
Solution:&nbsp;&nbsp; Adjust #ifdef for get_callback().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 8.1.1326<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for listener with partial.<br>
Solution:&nbsp;&nbsp; Add a test.&nbsp;&nbsp;Add example to help.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listener.vim, runtime/doc/eval.txt<br>
<br>
Patch 8.1.1327<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnecessary scroll after horizontal split.<br>
Solution:&nbsp;&nbsp; Don't adjust to fraction if all the text fits in the window.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Martin Kunev, closes #4367)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_window_cmd.vim, src/window.c<br>
<br>
Patch 8.1.1328<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for listener with undo operation.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listener.vim<br>
<br>
Patch 8.1.1329<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Plans for popup window support are spread out.<br>
Solution:&nbsp;&nbsp; Add a first version of the popup window help.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, runtime/doc/Makefile, runtime/doc/help.txt<br>
<br>
Patch 8.1.1330<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using bold attribute in terminal changes the color. (Jason<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Franklin)<br>
Solution:&nbsp;&nbsp; Don't set the &quot;bold-highbright&quot; flag in vterm unless the terminal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;supports less than 16 colors.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_all_ansi_colors.dump<br>
<br>
Patch 8.1.1331<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 29 is old style.<br>
Solution:&nbsp;&nbsp; Turn it into a new style test. (Yegappan Lakshmanan, closes #4370)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test29.in, src/testdir/test29.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_backspace_opt.vim, src/testdir/test_join.vim<br>
<br>
Patch 8.1.1332<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot flush change listeners without also redrawing.&nbsp;&nbsp;The line<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;numbers in the list of changes may become invalid.<br>
Solution:&nbsp;&nbsp; Add listener_flush().&nbsp;&nbsp;Invoke listeners before adding a change<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that makes line numbers invalid.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/change.c, src/proto/change.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, runtime/doc/eval.txt, src/testdir/test_listener.vim<br>
<br>
Patch 8.1.1333<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text properties don't always move after changes.<br>
Solution:&nbsp;&nbsp; Update properties before reporting changes to listeners. Move text<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;property when splitting a line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/change.c, src/ex_cmds.c, src/textprop.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/textprop.pro, src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.1334<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When buffer is hidden &quot;F&quot; in&nbsp;<a class="Type" href="options.html#'shortmess'">'shortmess'</a>&nbsp;is not used.<br>
Solution:&nbsp;&nbsp; Check the &quot;F&quot; flag in&nbsp;<a class="Type" href="options.html#'shortmess'">'shortmess'</a>&nbsp;when the buffer is already<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loaded. (Jason Franklin)&nbsp;&nbsp;Add test_getvalue() to be able to test<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;this.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/evalfunc.c, src/testdir/test_options.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.1.1335<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Listener callback is called after inserting text.<br>
Solution:&nbsp;&nbsp; Flush the changes before inserting or deleting a line.&nbsp;&nbsp;Store<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;changes per buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/change.c, src/proto/change.pro, src/memline.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/testdir/test_listener.vim<br>
<br>
Patch 8.1.1336<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some eval functionality is not covered by tests.<br>
Solution:&nbsp;&nbsp; Add a few more test cases. (Masato Nishihata, closes #4374)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufline.vim, src/testdir/test_cindent.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cursor_func.vim, src/testdir/test_delete.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expand_func.vim, src/testdir/test_float_func.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fnamemodify.vim, src/testdir/test_functions.vim<br>
<br>
Patch 8.1.1337<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get empty text prop when splitting line just after text prop.<br>
Solution:&nbsp;&nbsp; Do not create an empty text prop at the start of the line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c, src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.1338<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Hang when concealing the '&gt;' shown for a wide char that doesn't<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fit in the last cell.<br>
Solution:&nbsp;&nbsp; Put back the pointer when the '&gt;' is not going to be displayed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4377)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.1339<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Installer needs to product name et al.<br>
Solution:&nbsp;&nbsp; Add a few lines to the NSIS installer script. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/gvim.nsi<br>
<br>
Patch 8.1.1340<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Attributes from&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>&nbsp;overwrite textprop.<br>
Solution:&nbsp;&nbsp; Combine the attributes. (closes #3912)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/textprop.c, src/testdir/test_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_textprop_01.dump<br>
<br>
Patch 8.1.1341<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text properties are lost when joining lines.<br>
Solution:&nbsp;&nbsp; Move the text properties to the joined line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/textprop.c, src/proto/textprop.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_textprop_01.dump<br>
<br>
Patch 8.1.1342<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory when joining line with text property.<br>
Solution:&nbsp;&nbsp; Use already computed length.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 8.1.1343<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text properties not adjusted for Visual block mode delete.<br>
Solution:&nbsp;&nbsp; Call adjust_prop_columns(). (closes #4384)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/textprop.c, src/testdir/test_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/testdir/dumps/Test_textprop_vis_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_textprop_vis_02.dump<br>
<br>
Patch 8.1.1344<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity complains about possibly using a NULL pointer and copying<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a string into a fixed size buffer.<br>
Solution:&nbsp;&nbsp; Check for NULL, even though it should not happen.&nbsp;&nbsp;Use<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim_strncpy() instead of strcpy().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/change.c, src/memline.c<br>
<br>
Patch 8.1.1345<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Stuck in sandbox with &quot;:s/../\=Function/gn&quot;.<br>
Solution:&nbsp;&nbsp; Don't skip over code to restore sandbox. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_substitute.vim<br>
<br>
Patch 8.1.1346<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error for Python exception does not show useful info.<br>
Solution:&nbsp;&nbsp; Show the last line instead of the first one. (Ben Jackson,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4381)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/testdir/test86.ok, src/testdir/test87.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_python2.vim, src/testdir/test_python3.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_pyx2.vim, src/testdir/test_pyx3.vim<br>
<br>
Patch 8.1.1347 (after 8.1.1327)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Fractional scroll position not restored after closing window.<br>
Solution:&nbsp;&nbsp; Do restore fraction if topline is not one.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.1.1348<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running tests may cause the window to move.<br>
Solution:&nbsp;&nbsp; Correct the reported window position for the offset with the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;position after &quot;:winpos&quot;.&nbsp;&nbsp;Works around an xterm bug.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_edit.vim<br>
<br>
Patch 8.1.1349<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If writing runs into a conversion error the backup file is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;deleted. (Arseny Nasokin)<br>
Solution:&nbsp;&nbsp; Don't delete the backup file is the file was overwritten and a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;conversion error occurred. (Christian Brabandt, closes #4387)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/testdir/test_writefile.vim<br>
<br>
Patch 8.1.1350<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;W&quot; for wrapping not shown when more than 99 matches.<br>
Solution:&nbsp;&nbsp; Adjust check for length. (Masato Nishihata, closes #4388)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_search_stat.vim<br>
<br>
Patch 8.1.1351<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text property wrong after :substitute.<br>
Solution:&nbsp;&nbsp; Save for undo before changing any text properties.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textprop.vim, src/ex_cmds.c, src/textprop.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/textprop.pro, src/change.c, src/edit.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 8.1.1352<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Undofile() reports wrong name. (Francisco Giordano)<br>
Solution:&nbsp;&nbsp; Clean up the name before changing path separators. (closes #4392,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4394)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_undo.vim<br>
<br>
Patch 8.1.1353 (after 8.1.1352)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Undo test fails on Mac.<br>
Solution:&nbsp;&nbsp; Expect &quot;private&quot; on the Mac.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_undo.vim<br>
<br>
Patch 8.1.1354<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Getting a list of text lines is clumsy.<br>
Solution:&nbsp;&nbsp; Add the =&lt;&lt; assignment. (Yegappan Lakshmanan, closes #4386)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/testdir/test_let.vim<br>
<br>
Patch 8.1.1355<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Obvious mistakes are accepted as valid expressions.<br>
Solution:&nbsp;&nbsp; Be more strict about parsing numbers. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #3981)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c, src/eval.c, src/evalfunc.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/json.c, src/misc2.c, src/ops.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/charset.pro, src/testdir/test_expr.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_json.vim<br>
<br>
Patch 8.1.1356<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some text in heredoc assignment ends the text. (Ozaki Kiichi)<br>
Solution:&nbsp;&nbsp; Recognize &quot;let v =&lt;&lt;&quot; and skip until the end.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/testdir/test_let.vim<br>
<br>
Patch 8.1.1357<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 37 is old style.<br>
Solution:&nbsp;&nbsp; Turn it into a new style test. (Yegappan Lakshmanan, closes #4398)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test37.in, src/testdir/test37.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_scrollbind.vim<br>
<br>
Patch 8.1.1358<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot enter character with a CSI byte.<br>
Solution:&nbsp;&nbsp; Only check &quot;gui.in_use&quot; when VIMDLL is defined. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4396)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.1.1359<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text property wrong after :substitute with backslash.<br>
Solution:&nbsp;&nbsp; Adjust text property columns when removing backslashes.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4397)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_textprop.vim, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c, src/proto/textprop.pro, src/change.c, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/ops.c<br>
<br>
Patch 8.1.1360 (after Patch 8.1.1345)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Buffer left&nbsp;<a class="Type" href="options.html#'nomodifiable'">'nomodifiable'</a>&nbsp;after :substitute. (Ingo Karkat)<br>
Solution:&nbsp;&nbsp; Save the value of&nbsp;<a class="Type" href="options.html#'modifiable'">'modifiable'</a>&nbsp;earlier. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4403)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_substitute.vim<br>
<br>
Patch 8.1.1361<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Python setuptools don't work with Python 3.<br>
Solution:&nbsp;&nbsp; Add dummy implementation for find_module. (Joel Frederico,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4402, closes #3984)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h<br>
<br>
Patch 8.1.1362<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code and data in tests can be hard to read.<br>
Solution:&nbsp;&nbsp; Use the new heredoc style. (Yegappan Lakshmanan, closes #4400)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/testdir/test_balloon.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufline.vim, src/testdir/test_cindent.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_conceal.vim, src/testdir/test_exit.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fold.vim, src/testdir/test_goto.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_join.vim, src/testdir/test_mksession_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim, src/testdir/test_profile.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim, src/testdir/test_startup.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/testdir/test_xxd.vim<br>
<br>
Patch 8.1.1363<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:vert options&quot; does not make a vertical split.<br>
Solution:&nbsp;&nbsp; Pass the right modifiers in $OPTWIN_CMD. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4401)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/testdir/test_options.vim<br>
<br>
Patch 8.1.1364<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Design for popup window support needs more details.<br>
Solution:&nbsp;&nbsp; Add details about using a window and buffer.&nbsp;&nbsp;Rename popup_show()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to popup_create() and add popup_show() and popup_hide().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt<br>
<br>
Patch 8.1.1365<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Source command doesn't check for the sandbox. (Armin Razmjou)<br>
Solution:&nbsp;&nbsp; Check for the sandbox when sourcing a file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/testdir/test_source.vim<br>
<br>
Patch 8.1.1366<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using expressions in a modeline is unsafe.<br>
Solution:&nbsp;&nbsp; Disallow using expressions in a modeline, unless the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'modelineexpr'">'modelineexpr'</a>&nbsp;option is set.&nbsp;&nbsp;Update help, add more tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/option.c, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_modeline.vim, src/testdir/test49.in<br>
<br>
Patch 8.1.1367 (after 8.1.1366)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;can set&nbsp;<a class="Type" href="options.html#'modelineexpr'">'modelineexpr'</a>&nbsp;in modeline.<br>
Solution:&nbsp;&nbsp; Add P_SECURE flag.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_modeline.vim<br>
<br>
Patch 8.1.1368 (after 8.1.1366)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Modeline test fails with python but without pythonhome.<br>
Solution:&nbsp;&nbsp; Correct test argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_modeline.vim<br>
<br>
Patch 8.1.1369<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get E484 when using system() during GUI startup.<br>
Solution:&nbsp;&nbsp; Check &quot;gui.starting&quot;. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.1370<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not using the new github feature for donations.<br>
Solution:&nbsp;&nbsp; Add a Sponsor button. (closes #4417)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.github/FUNDING.yml<br>
<br>
Patch 8.1.1371<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot recover from a swap file.<br>
Solution:&nbsp;&nbsp; Do not expand environment variables in the swap file name.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do not check the extension when we already know a file is a swap<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.&nbsp;&nbsp;(Ken Takata, closes #4415, closes #4369)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/if_cscope.c, src/main.c, src/memline.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/proto/memline.pro, src/proto/misc1.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/spell.c, src/spellfile.c, src/tag.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_swap.vim, src/vim.h<br>
<br>
Patch 8.1.1372<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When evaluating&nbsp;<a class="Type" href="options.html#'statusline'">'statusline'</a>&nbsp;the current window is unknown.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Set &quot;g:actual_curwin&quot; for %{} items.&nbsp;&nbsp;Set &quot;g:statusline_winid&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;when evaluating %!. (closes #4406, closes #3299)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_statusline.vim<br>
<br>
Patch 8.1.1373<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;[p&quot; in Visual mode puts in wrong line.<br>
Solution:&nbsp;&nbsp; Call nv_put() instead of duplicating the functionality.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4408)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_put.vim<br>
<br>
Patch 8.1.1374<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Check for file changed triggers too often.<br>
Solution:&nbsp;&nbsp; Don't use &quot;b_p_ar&quot; when it is negative.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.1.1375<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Without &quot;TS&quot; in&nbsp;<a class="Type" href="options.html#'shortmess'">'shortmess'</a>&nbsp;get a hit-enter prompt often.<br>
Solution:&nbsp;&nbsp; Always truncate the search message.&nbsp;&nbsp;Also avoid putting it in the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message history. (closes #4413)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/main.c, src/testdir/test_search_stat.vim<br>
<br>
Patch 8.1.1376<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings for size_t/int mixups.<br>
Solution:&nbsp;&nbsp; Change types, add type casts. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/textprop.c<br>
<br>
Patch 8.1.1377<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows GUI uses wrong shell command for bash. (Robert Bogomip)<br>
Solution:&nbsp;&nbsp; Check that&nbsp;<a class="Type" href="options.html#'shellcmdflag'">'shellcmdflag'</a>&nbsp;is &quot;/c&quot;. (Ken Takata, closes #4418)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.1378<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Delete() can not handle a file name that looks like a pattern.<br>
Solution:&nbsp;&nbsp; Use readdir() instead of appending &quot;/*&quot; and expanding wildcards.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ken Takata, closes #4424, closes #696)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/evalfunc.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/fileio.pro<br>
<br>
Patch 8.1.1379 (after 8.1.1374)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Filechanged test hangs.<br>
Solution:&nbsp;&nbsp; Do not check&nbsp;<a class="Type" href="options.html#'autoread'">'autoread'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/testdir/test_filechanged.vim<br>
<br>
Patch 8.1.1380<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows building VIMDLL with MSVC: SUBSYSTEM is not set.<br>
Solution:&nbsp;&nbsp; Invert condition. (Ken Takata, closes #4422)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.1.1381<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: missing build dependency.<br>
Solution:&nbsp;&nbsp; Make gui_dwrite.cpp depend on gui_dwrite.h. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4423)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 8.1.1382<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error when editing test file.<br>
Solution:&nbsp;&nbsp; Remove part of modeline.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vimscript.vim, src/testdir/test49.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test49.in<br>
<br>
Patch 8.1.1383<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for size_t/int mixup.<br>
Solution:&nbsp;&nbsp; Change type. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 8.1.1384<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;int&quot; for alloc() often results in compiler warnings.<br>
Solution:&nbsp;&nbsp; Use &quot;size_t&quot; and remove type casts.&nbsp;&nbsp;Remove alloc_check(), Vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;only works with 32 bit ints anyway.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/proto/misc2.pro, src/change.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c, src/autocmd.c, src/buffer.c, src/change.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/charset.c, src/debugger.c, src/dict.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/digraph.c, src/edit.c, src/eval.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/ex_eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/fileio.c, src/findfile.c, src/fold.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/gui.c, src/gui_at_fs.c, src/gui_gtk.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/gui_motif.c, src/gui_w32.c, src/hashtab.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c, src/if_perlsfio.c, src/if_python3.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_xcmdsrv.c, src/indent.c, src/insexpand.c, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/memfile.c, src/memline.c, src/menu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/misc1.c, src/misc2.c, src/netbeans.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/option.c, src/os_amiga.c, src/os_mswin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_vms.c, src/os_win32.c, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/screen.c, src/spell.c, src/spellfile.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/term.c, src/undo.c, src/usercmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/version.c, src/winclip.c<br>
<br>
Patch 8.1.1385<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Signed/unsigned compiler warning.<br>
Solution:&nbsp;&nbsp; Use STRLEN() instead of strlen().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.1.1386<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnecessary type casts for lalloc().<br>
Solution:&nbsp;&nbsp; Remove type casts.&nbsp;&nbsp;Change lalloc(size, TRUE) to alloc(size).<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/change.c, src/channel.c, src/diff.c, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/ex_cmds.c, src/ex_getln.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/gui_mac.c, src/insexpand.c, src/gui_w32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c, src/menu.c, src/netbeans.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/os_amiga.c, src/os_qnx.c, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/popupmnu.c, src/quickfix.c, src/regexp.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/screen.c, src/search.c, src/sign.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/spellfile.c, src/syntax.c, src/tag.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/textprop.c, src/ui.c, src/undo.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/winclip.c, src/window.c<br>
<br>
Patch 8.1.1387<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Calling prop_add() in an empty buffer doesn't work. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Solution:&nbsp;&nbsp; Open the memline before adding a text property. (closes #4412)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c, src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.1388<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Errors when calling prop_remove() for an unloaded buffer.<br>
Solution:&nbsp;&nbsp; Bail out when the buffer is not loaded.&nbsp;&nbsp;Add a few more tests for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;failing when the buffer number is invalid.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c, src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.1389<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Changes are not flushed when end and start overlap. (Paul Jolly)<br>
Solution:&nbsp;&nbsp; When end of a previous changes overlaps with start of a new<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;change, first flush listeners.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/change.c, src/testdir/test_listener.vim<br>
<br>
Patch 8.1.1390<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Search stats are off when using count or offset.<br>
Solution:&nbsp;&nbsp; Recompute the stats when needed. (Masato Nishihata, closes #4410)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search_stat.vim, src/search.c<br>
<br>
Patch 8.1.1391<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No popup window support.<br>
Solution:&nbsp;&nbsp; Add initial code for popup windows.&nbsp;&nbsp;Add the&nbsp;<a class="Type" href="options.html#'wincolor'">'wincolor'</a>&nbsp;option.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, runtime/doc/popup.txt, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak, src/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/autocmd.c, src/buffer.c, src/ex_cmds.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmdidxs.h, src/proto/buffer.pro, src/eval.c src/evalfunc.c<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/globals.h, src/option.c, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto.h, src/proto/popupwin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/window.pro, src/screen.c, src/structs.h, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/dumps/Test_popupwin_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, src/vim.h, src/window.c<br>
<br>
Patch 8.1.1392 (after 8.1.1391)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure in tiny version.<br>
Solution:&nbsp;&nbsp; Define ex_popupclear to ex_ni if not implemented.&nbsp;&nbsp;Add UNUSED.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/window.c<br>
<br>
Patch 8.1.1393<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unnecessary type casts.<br>
Solution:&nbsp;&nbsp; Remove type casts from alloc() and lalloc() calls. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/crypt.c, src/dict.c, src/dosinst.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/fileio.c, src/findfile.c, src/if_ole.cpp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/list.c, src/message.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/ops.c, src/os_vms.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/regexp_nfa.c, src/screen.c, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sign.c, src/syntax.c, src/tag.c, src/term.c, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c<br>
<br>
Patch 8.1.1394<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not restoring t_F2 in registers test.<br>
Solution:&nbsp;&nbsp; Assign to &amp;t_F2 instead of t_F2. (Andy Massimino, closes #4434)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_registers.vim<br>
<br>
Patch 8.1.1395<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Saving for undo may access invalid memory. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Set ml_line_len also when returning a constant string.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.1396<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'wincolor'">'wincolor'</a>&nbsp;does not apply to lines below the buffer.<br>
Solution:&nbsp;&nbsp; Also apply&nbsp;<a class="Type" href="options.html#'wincolor'">'wincolor'</a>&nbsp;to the &quot;~&quot; lines and the number column.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_highlight.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_wincolor_01.dump<br>
<br>
Patch 8.1.1397<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails in tiny version.<br>
Solution:&nbsp;&nbsp; Always define hl_combine_attr().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.1.1398<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Duplicate line in MSVC build file.<br>
Solution:&nbsp;&nbsp; Remove the line. (Ken Takata, closes #4436)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.1.1399<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup windows not adjusted when switching tabs.<br>
Solution:&nbsp;&nbsp; Save and restore first_tab_popupwin. Fix closing a tabpage.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/popupwin.c, src/proto/popupwin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_03.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_04.dump<br>
<br>
Patch 8.1.1400<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using global pointer for tab-local popups is clumsy.<br>
Solution:&nbsp;&nbsp; Use the pointer in tabpage_T.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/globals.h, src/eval.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.1.1401<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Misspelled mkspellmem as makespellmem.<br>
Solution:&nbsp;&nbsp; Drop duplicate help entry, fix test. (Naruhiko Nishino, Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #4437)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/testdir/test_modeline.vim<br>
<br>
Patch 8.1.1402<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;timer&quot; option of popup windows not supported.<br>
Solution:&nbsp;&nbsp; Implement the &quot;timer&quot; option. (Yasuhiro Matsumoto, closes #4439)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/testdir/test_popupwin.vim, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, runtime/doc/popup.txt<br>
<br>
Patch 8.1.1403<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without the timer feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/window.c, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1404<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot change the patch level when building with NSIS.<br>
Solution:&nbsp;&nbsp; Use $PATCHLEVEL if defined. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/gvim.nsi<br>
<br>
Patch 8.1.1405<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;highlight&quot; option of popup windows not supported.<br>
Solution:&nbsp;&nbsp; Implement the &quot;highlight&quot; option.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/proto/option.pro, src/diff.c src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_03.dump<br>
<br>
Patch 8.1.1406<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;popup_hide() and popup_show() not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement the functions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto/popupwin.pro, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, runtime/doc/popup.txt, src/screen.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1407<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup_create() does not support text properties.<br>
Solution:&nbsp;&nbsp; Support the third form of the text argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c, src/proto/textprop.pro, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_03.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_04.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt<br>
<br>
Patch 8.1.1408<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;PFL_HIDDEN conflicts with system header file. (Ken Takata)<br>
Solution:&nbsp;&nbsp; Rename to POPF_HIDDEN.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/screen.c, src/vim.h<br>
<br>
Patch 8.1.1409<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for using uninitialized memory.<br>
Solution:&nbsp;&nbsp; Add a condition to clearing the growarray.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c<br>
<br>
Patch 8.1.1410<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup_move() is not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement it. (Yasuhiro Matsumoto, closes #4441)&nbsp;&nbsp;Improve the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;positioning and resizing.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/evalfunc.c, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/structs.h, src/proto/popupwin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_05.dump<br>
<br>
Patch 8.1.1411<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for divide by zero.<br>
Solution:&nbsp;&nbsp; Make sure width is larger than zero.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c<br>
<br>
Patch 8.1.1412<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 30 is old style.<br>
Solution:&nbsp;&nbsp; Turn it into a new style test. (Yegappan Lakshmanan, closes #4440)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test30.in, src/testdir/test30.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fileformat.vim<br>
<br>
Patch 8.1.1413<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error when the drive of the swap file was disconnected.<br>
Solution:&nbsp;&nbsp; Try closing and re-opening the swap file. (partly by Joe Orost,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4378)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memfile.c, src/structs.h, src/testdir/test_startup.vim<br>
<br>
Patch 8.1.1414<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Alloc() returning &quot;char_u *&quot; causes a lot of type casts.<br>
Solution:&nbsp;&nbsp; Have it return &quot;void *&quot;. (Mike Williams)&nbsp;&nbsp;Define ALLOC_ONE() to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;check the simple allocations.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/autocmd.c, src/blob.c, src/blowfish.c, src/buffer.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/change.c, src/channel.c, src/crypt.c, src/crypt_zip.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dict.c, src/diff.c, src/eval.c, src/evalfunc.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/ex_docmd.c, src/ex_eval.c, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/findfile.c, src/getchar.c, src/gui_gtk.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/gui_mac.c, src/gui_motif.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_photon.c, src/gui_w32.c, src/gui_x11.c, src/hardcopy.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hashtab.c, src/if_cscope.c, src/if_mzsch.c, src/if_perlsfio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/if_python3.c, src/if_xcmdsrv.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/insexpand.c, src/list.c, src/mark.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memfile.c, src/memfile_test.c, src/memline.c, src/message.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/netbeans.c, src/normal.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/os_amiga.c, src/os_mac_conv.c, src/os_mswin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/os_vms.c, src/os_win32.c, src/popupmnu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc2.pro, src/quickfix.c, src/regexp.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/screen.c, src/search.c, src/sign.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/spellfile.c, src/syntax.c, src/tag.c, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/textprop.c, src/ui.c, src/undo.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/version.c, src/winclip.c, src/window.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/testdir/test_cscope.vim<br>
<br>
Patch 8.1.1415 (after 8.1.1414)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build error in MS-Windows GUI.<br>
Solution:&nbsp;&nbsp; Fix the LALLOC_MULT() argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.1.1416<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup_getposition() not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement it. (Yasuhiro Matsumoto, closes #4449)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/evalfunc.c, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1417<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: resolve() does not resolve all components of the path.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(David Briscoe)<br>
Solution:&nbsp;&nbsp; Do not bail out for a reparse point. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4211, closes #4447)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/testdir/test_functions.vim<br>
<br>
Patch 8.1.1418<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win_execute() is not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/popupwin.c, src/testdir/test_execute_func.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, runtime/doc/eval.txt<br>
<br>
Patch 8.1.1419<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Listener callbacks may be called recursively.<br>
Solution:&nbsp;&nbsp; Set &quot;updating_screen&quot; while listener callbacks are invoked.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/change.c, src/screen.c, src/proto/screen.pro, src/ui.c<br>
<br>
Patch 8.1.1420<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window size only uses first line length.<br>
Solution:&nbsp;&nbsp; Use the longest line. (Ben Jackson, closes #4451)&nbsp;&nbsp;Also deal with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wrapping lines.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1421<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Drawing &quot;~&quot; line in popup window.<br>
Solution:&nbsp;&nbsp; Just draw text in the last line of the popup window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/structs.h, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_05.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_06.dump<br>
<br>
Patch 8.1.1422<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup_getoptions() not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement it. (closes #4452)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/evalfunc.c, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1423<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup windows use options from current window and buffer.<br>
Solution:&nbsp;&nbsp; Clear all local options when creating a popup window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/option.c, src/proto/option.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1424<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when popup menu is deleted while waiting for char.<br>
Solution:&nbsp;&nbsp; Bail out when pum_array was cleared.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.1.1425<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win_execute() does not set window pointers properly.<br>
Solution:&nbsp;&nbsp; Use switch_win_noblock().&nbsp;&nbsp;Also execute autocommands in a popup<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/proto/window.pro, src/evalfunc.c, src/autocmd.c<br>
<br>
Patch 8.1.1426<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for syntax highlight in popup window.<br>
Solution:&nbsp;&nbsp; Add a screenshot test.&nbsp;&nbsp;Update associated documentation. Avoid<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'buftype'">'buftype'</a>&nbsp;being reset by setbufvar().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_10.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_11.dump<br>
<br>
Patch 8.1.1427 (after 8.1.1426)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window screenshot test fails.<br>
Solution:&nbsp;&nbsp; Add missing change to popup window code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c<br>
<br>
Patch 8.1.1428<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup_atcursor() not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement it. (Yasuhiro Matsumoto, closes #4456)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/evalfunc.c, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1429<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;pos&quot; option of popup window not supported yet.<br>
Solution:&nbsp;&nbsp; Implement the option. Rename popup_getposition() to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;popup_getpos().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/popupwin.c, src/proto/popupwin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt<br>
<br>
Patch 8.1.1430<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window option &quot;wrap&quot; not supported.<br>
Solution:&nbsp;&nbsp; Implement it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_wrap.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_nowrap.dump<br>
<br>
Patch 8.1.1431<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window listed as &quot;Scratch&quot;.<br>
Solution:&nbsp;&nbsp; List them as &quot;Popup&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, runtime/doc/windows.txt<br>
<br>
Patch 8.1.1432 (after 8.1.1429)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with eval feature.<br>
Solution:&nbsp;&nbsp; Add missing rename.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.1433<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win_execute() may leave popup window focused, eventually leading<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to a crash. (Bjorn Linse)<br>
Solution:&nbsp;&nbsp; When previous window was closed, go to the first window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1434<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 3 is old style.<br>
Solution:&nbsp;&nbsp; Turn into a new style test. (Yegappan Lakshmanan, closes #4460)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test3.in, src/testdir/test3.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cindent.vim<br>
<br>
Patch 8.1.1435<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory usage test is a bit too flaky.<br>
Solution:&nbsp;&nbsp; Adjust the tolerances a bit. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_memory_usage.vim<br>
<br>
Patch 8.1.1436<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Writefile test fails when run under /tmp.<br>
Solution:&nbsp;&nbsp; Adjust&nbsp;<a class="Type" href="options.html#'backupskip'">'backupskip'</a>. (Kenta Sato, closes #4462)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_writefile.vim<br>
<br>
Patch 8.1.1437<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code to handle callbacks is duplicated.<br>
Solution:&nbsp;&nbsp; Add callback_T and functions to deal with it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/evalfunc.c, src/proto/evalfunc.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/change.c, src/channel.c, src/proto/channel.pro, src/buffer.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/proto/userfunc.pro, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/popupwin.c<br>
<br>
Patch 8.1.1438<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some commands cause trouble in a popup window.<br>
Solution:&nbsp;&nbsp; Add NOT_IN_POPUP_WINDOW.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h, src/popupwin.c, src/proto/popupwin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/ex_cmds2.c, src/window.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1439<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Json_encode() is very slow for large results.<br>
Solution:&nbsp;&nbsp; In the growarray use a growth of at least 50%. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4461)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 8.1.1440<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win_execute() test fails.<br>
Solution:&nbsp;&nbsp; Adjust the expected error number.&nbsp;&nbsp;Move to popup test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_execute_func.vim, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1441<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window filter not yet implemented.<br>
Solution:&nbsp;&nbsp; Implement the popup filter.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, runtime/doc/popup.txt, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro, src/window.c, src/getchar.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/proto/misc2.pro, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1442<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup windows not considered when the Vim window is resized.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ben Jackson)<br>
Solution:&nbsp;&nbsp; Reallocate the w_lines structure. (closes #4467)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.1443<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window padding and border not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement padding and border.&nbsp;&nbsp;Add core position and size to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;popup_getpos().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/popupwin.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_20.dump, runtime/doc/popup.txt<br>
<br>
Patch 8.1.1444<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not using double line characters for popup border.<br>
Solution:&nbsp;&nbsp; Use double line characters if using utf-8.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_21.dump<br>
<br>
Patch 8.1.1445<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window border highlight not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement the &quot;borderhighlight&quot; option.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/popupwin.c, src/window.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, runtime/doc/popup.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_22.dump<br>
<br>
Patch 8.1.1446<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window callback not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement the callback.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/window.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1447<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not allowed to create an empty popup.<br>
Solution:&nbsp;&nbsp; Remove restriction that there is some text. (closes #4470)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1448<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Statusline is sometimes drawn on top of popup.<br>
Solution:&nbsp;&nbsp; Redraw popups after the statusline. (Naruhiko Nishino,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4468)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_behind.dump<br>
<br>
Patch 8.1.1449<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup text truncated at end of screen.<br>
Solution:&nbsp;&nbsp; Move popup left if needed.&nbsp;&nbsp;Add the &quot;fixed&quot; property to disable<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that. (Ben Jackson, closes #4466)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1450<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window positioning wrong when using padding or borders.<br>
Solution:&nbsp;&nbsp; Fix computing the position.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_corners.dump<br>
<br>
Patch 8.1.1451<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-L</span>&nbsp;does not clear screen with a popup window.<br>
Solution:&nbsp;&nbsp; Do not change the type to NOT_VALID.&nbsp;&nbsp;Redraw all windows.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4471)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.1452<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Line and col property of popup windows not properly checked.<br>
Solution:&nbsp;&nbsp; Check for &quot;+&quot; or &quot;-&quot; sign.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/dict.c, src/proto/dict.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1453<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window &quot;moved&quot; property not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/edit.c, src/gui.c, src/globals.h, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/popupwin.c, src/proto/popupwin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, runtime/doc/popup.txt<br>
<br>
Patch 8.1.1454<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure without the conceal feature.<br>
Solution:&nbsp;&nbsp; Remove #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/autocmd.c<br>
<br>
Patch 8.1.1455<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup_atcursor() not completely implemented.<br>
Solution:&nbsp;&nbsp; Add the default for the &quot;moved&quot; property.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/normal.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1456<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;WinBar not redrawn after scrolling one line.<br>
Solution:&nbsp;&nbsp; Exclude the winbar height when deciding what to redraw.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4473)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_winbar.vim<br>
<br>
Patch 8.1.1457<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot reuse a buffer when loading a screen dump.<br>
Solution:&nbsp;&nbsp; Add the &quot;bufnr&quot; option.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/structs.h, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.1458<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using gtags. (issue #4102)<br>
Solution:&nbsp;&nbsp; Check for negative row or col in screen_puts_len(). (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.1459<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window border looks bad when&nbsp;<a class="Type" href="options.html#'ambiwidth'">'ambiwidth'</a>&nbsp;is &quot;double&quot;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto)<br>
Solution:&nbsp;&nbsp; Only use line drawing characters when&nbsp;<a class="Type" href="options.html#'ambiwidth'">'ambiwidth'</a>&nbsp;is &quot;single&quot;.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ken Takata, closes #4477)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.1460<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window border characters may be wrong.<br>
Solution:&nbsp;&nbsp; Reset the border characters for each popup.&nbsp;&nbsp;Correct use of<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'ambiwidth'">'ambiwidth'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.1461<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests do not run or are not reliable on some systems.<br>
Solution:&nbsp;&nbsp; Use &quot;findstr&quot; instead of &quot;grep&quot; on MS-Windows. Clear<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;PROMPT_COMMAND in the terminal test. Delete temp file. Wait for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output after executing a debug command. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4479)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_debugger.vim, src/testdir/test_environ.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_filetype.vim, src/testdir/test_source.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.1462<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: using special character requires quoting.<br>
Solution:&nbsp;&nbsp; Add quotes. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_environ.vim<br>
<br>
Patch 8.1.1463<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Gcc warns for uninitialized variable.<br>
Solution:&nbsp;&nbsp; Put usage inside &quot;if&quot;.&nbsp;&nbsp;(Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c<br>
<br>
Patch 8.1.1464<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Only 4-digit rgb termresponse is recognized.<br>
Solution:&nbsp;&nbsp; Also recognize 2-digit rgb response. (closes #4486)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/test_termcodes.vim<br>
<br>
Patch 8.1.1465<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Allocating wrong amount of memory. (Yegappan Lakshmanan)<br>
Solution:&nbsp;&nbsp; Use sizeof() for right type of struct.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memfile_test.c<br>
<br>
Patch 8.1.1466<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not updating priority on existing sign.<br>
Solution:&nbsp;&nbsp; Set the sign priority.&nbsp;&nbsp;Add a test. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sign.c, src/testdir/test_signs.vim, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/sign.txt<br>
<br>
Patch 8.1.1467 (after 8.1.1465)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cscope test fails.<br>
Solution:&nbsp;&nbsp; Update expected text.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cscope.vim<br>
<br>
Patch 8.1.1468<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The generated desktop files may be invalid.<br>
Solution:&nbsp;&nbsp; Check validity with desktop-file-validate. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Will Thompson, closes #4480)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/Makefile<br>
<br>
Patch 8.1.1469<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for checking the cursor style response.<br>
Solution:&nbsp;&nbsp; Add a simple test.&nbsp;&nbsp;Also include the missing part of 8.1.1464.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1470<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New Unicode character U+32FF missing from double-width table.<br>
Solution:&nbsp;&nbsp; Add the character.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 8.1.1471<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'background'">'background'</a>&nbsp;not correctly set for 2-digit rgb termresponse.<br>
Solution:&nbsp;&nbsp; Adjust what digit to use. (closes #4495)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1472<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Add_termcap_entry() is not tested.<br>
Solution:&nbsp;&nbsp; Add a simple test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1473<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New resolve() implementation causes problem for plugins.<br>
Solution:&nbsp;&nbsp; Only resolve a reparse point after checking it is needed. (Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata, closes #4492)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c, src/testdir/test_functions.vim<br>
<br>
Patch 8.1.1474<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'ttybuiltin'">'ttybuiltin'</a>&nbsp;is not tested.<br>
Solution:&nbsp;&nbsp; At least test that it doesn't break things.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1475<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Search string not displayed when&nbsp;<a class="Type" href="options.html#'rightleft'">'rightleft'</a>&nbsp;is set.<br>
Solution:&nbsp;&nbsp; Clear the right part of the old text. (closes #4488, closes #4489)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_search.vim<br>
<br>
Patch 8.1.1476<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No statistics displayed after running tests.<br>
Solution:&nbsp;&nbsp; Summarize the test results. (Christian Brabandt, closes #4391)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also make it possible to report a skipped file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Makefile, src/testdir/summarize.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/testdir/test_arabic.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autochdir.vim, src/testdir/test_balloon.vim<br>
<br>
Patch 8.1.1477<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test summary fails in the tiny version.<br>
Solution:&nbsp;&nbsp; set&nbsp;<a class="Type" href="options.html#'nocompatible'">'nocompatible'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/testdir/summarize.vim<br>
<br>
Patch 8.1.1478<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still an error when running tests with the tiny version.<br>
Solution:&nbsp;&nbsp; Do not try reading test.log<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/summarize.vim<br>
<br>
Patch 8.1.1479<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Change included for debugging only.<br>
Solution:&nbsp;&nbsp; Restore the REDIR_TEST_TO_NULL line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile<br>
<br>
Patch 8.1.1480<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Desktop file check doesn't run on CI.<br>
Solution:&nbsp;&nbsp; Install the desktop-file-utils packages. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4498)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.1481<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Length for two-digit rgb termresponse is off by one.<br>
Solution:&nbsp;&nbsp; Adjust the length. (closes #4494)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.1.1482<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for wincol() depending on the&nbsp;<a class="Type" href="options.html#'number'">'number'</a>&nbsp;option.<br>
Solution:&nbsp;&nbsp; Add a couple of tests. (Christian Brabandt, closes #4500)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 8.1.1483<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Skipped tests are not properly listed.<br>
Solution:&nbsp;&nbsp; Throw a &quot;Skipped&quot; exception instead of using &quot;:finish&quot; or &quot;:return&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_breakindent.vim, src/testdir/test_cdo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_clientserver.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_balloon.vim, src/testdir/test_conceal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_debugger.vim, src/testdir/test_diffmode.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fold.vim, src/testdir/test_highlight.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search.vim, src/testdir/test_startup.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup_utf8.vim, src/testdir/test_syntax.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabpage.vim, src/testdir/test_termencoding.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/testdir/test_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 8.1.1484<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some tests are slow.<br>
Solution:&nbsp;&nbsp; Add timing to the test messages.&nbsp;&nbsp;Fix double free when quitting in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VimLeavePre autocmd.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/eval.c<br>
<br>
Patch 8.1.1485<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Double free when garbage_collect() is used in autocommand.<br>
Solution:&nbsp;&nbsp; Have garbage collection also set the copyID in funccal_stack.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/userfunc.c<br>
<br>
Patch 8.1.1486<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A listener change is merged even when it adds a line. (Paul Jolly)<br>
Solution:&nbsp;&nbsp; Do not merge a change that adds or removes a line. (closes #4490)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/change.c, src/testdir/test_listener.vim<br>
<br>
Patch 8.1.1487<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Older msgfmt cannot generate proper .desktop file.<br>
Solution:&nbsp;&nbsp; Add a configure check to not use this msgfmt version. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.1.1488<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Summary of tests has incorrect failed count.<br>
Solution:&nbsp;&nbsp; Add to the failed count instead of setting it. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/summarize.vim<br>
<br>
Patch 8.1.1489<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sign order wrong when priority was changed.<br>
Solution:&nbsp;&nbsp; Reorder signs when priority is changed. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4502)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/sign.c, src/testdir/test_signs.vim<br>
<br>
Patch 8.1.1490<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a single test fails the exit code is not set. (Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Add an exit command. (closes #4506)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile<br>
<br>
Patch 8.1.1491<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When skipping over code after an exception was thrown expression<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evaluation is aborted after a function call. (Ingo Karkat)<br>
Solution:&nbsp;&nbsp; Do not fail if not executing the expression. (closes #4507)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_eval_stuff.vim<br>
<br>
Patch 8.1.1492<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: when &quot;!&quot; is in&nbsp;<a class="Type" href="options.html#'guioptions'">'guioptions'</a>&nbsp;&quot;:!start&quot; fails.<br>
Solution:&nbsp;&nbsp; Do not use a terminal window when the shell command begins with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;!start&quot;. (Yasuhiro Matsumoto, closes #4504)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/os_win32.c<br>
<br>
Patch 8.1.1493<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Redrawing with popups is slow and causes flicker.<br>
Solution:&nbsp;&nbsp; Avoid clearing and redrawing using a zindex mask.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/screen.c, src/proto/screen.pro, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.1.1494 (after 8.1.1493)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure.<br>
Solution:&nbsp;&nbsp; Add missing changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 8.1.1495 (after 8.1.1494)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory access error.<br>
Solution:&nbsp;&nbsp; Use the correct size for clearing the popup mask.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.1496<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window height is not recomputed.<br>
Solution:&nbsp;&nbsp; Recompute the height when needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/dumps/Test_popupwin_06.dump<br>
<br>
Patch 8.1.1497<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing memory beyond allocated space.<br>
Solution:&nbsp;&nbsp; Check column before accessing popup mask.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.1498<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:write&quot; increments b:changedtick even though nothing changed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Only increment b:changedtick if the modified flag is reset.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/change.c, src/proto/change.pro, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/ex_cmds2.c, src/fileio.c, src/memline.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c<br>
<br>
Patch 8.1.1499<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ruler not updated after popup window was removed.<br>
Solution:&nbsp;&nbsp; use popup_mask in screen_puts().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_07.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_08.dump<br>
<br>
Patch 8.1.1500<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong shell command when building with VIMDLL and &quot;!&quot; in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'guioptions'">'guioptions'</a>.<br>
Solution:&nbsp;&nbsp; Add check for GUI in use. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 8.1.1501<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New behavior of b:changedtick not tested.<br>
Solution:&nbsp;&nbsp; Add a few test cases. (Daniel Hahler)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_changedtick.vim<br>
<br>
Patch 8.1.1502<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot play any sound.<br>
Solution:&nbsp;&nbsp; Use libcanberra if available.&nbsp;&nbsp;Add sound functions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure, src/config.h.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/sound.c, src/proto/sound.pro, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/feature.h, runtime/doc/eval.txt, Filelist,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/testdir/test_sound.vim, src/testdir/silent.wav,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, .travis.yml<br>
<br>
Patch 8.1.1503<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sound test fails on Travis.<br>
Solution:&nbsp;&nbsp; Set AUDIODEV to &quot;null&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.1504<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sound test still fails on Travis.<br>
Solution:&nbsp;&nbsp; Add more lines to the install section.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.1505<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running &quot;make clean&quot; twice gives errors.<br>
Solution:&nbsp;&nbsp; Add &quot;-f&quot; to &quot;rm&quot;. (closes #4516)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile<br>
<br>
Patch 8.1.1506<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syntax error in Travis config.<br>
Solution:&nbsp;&nbsp; Set AUDIODEV in another section.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.1507<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sound test still fails on Travis.<br>
Solution:&nbsp;&nbsp; Try another dummy sound approach.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.1508<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sound keeps failing on Travis.<br>
Solution:&nbsp;&nbsp; Throw a skipped exception in the test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_sound.vim<br>
<br>
Patch 8.1.1509<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cmdline_row can become negative, causing a crash.<br>
Solution:&nbsp;&nbsp; Make sure cmdline_row does not become negative. (closes #4102)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 8.1.1510<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A plugin cannot easily expand a command like done internally.<br>
Solution:&nbsp;&nbsp; Add the expandcmd() function. (Yegappan Lakshmanan, closes #4514)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expand.vim<br>
<br>
Patch 8.1.1511<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Matches in a popup window are not displayed properly.<br>
Solution:&nbsp;&nbsp; Do display matches in a popup window. (closes #4517)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_matches.dump<br>
<br>
Patch 8.1.1512<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ch_evalexpr() hangs when used recursively. (Paul Jolly)<br>
Solution:&nbsp;&nbsp; Change ch_block_id from a single number to a list of IDs to wait<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;on.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/structs.h<br>
<br>
Patch 8.1.1513<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;All popup functionality is in functions, except :popupclear.<br>
Solution:&nbsp;&nbsp; Add popup_clear() for consistency.&nbsp;&nbsp;Also rename sound_stopall() to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sound_clear().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/ex_cmdidxs.h, src/evalfunc.c, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro, src/sound.c, src/proto/sound.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim src/testdir/test_sound.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt runtime/doc/popup.txt<br>
<br>
Patch 8.1.1514 (after 8.1.1492)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: wrong shell command with ! in&nbsp;<a class="Type" href="options.html#'guioptions'">'guioptions'</a>.<br>
Solution:&nbsp;&nbsp; Do not check for ! in&nbsp;<a class="Type" href="options.html#'guioptions'">'guioptions'</a>&nbsp;when applying&nbsp;<a class="Type" href="options.html#'shellxquote'">'shellxquote'</a>.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto, closes #4519)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 8.1.1515<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak reported for sound when build with EXITFREE.<br>
Solution:&nbsp;&nbsp; Free sound stuff when exiting.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 8.1.1516<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Time reported for a test measured wrong.<br>
Solution:&nbsp;&nbsp; Move the computation to the end of RunTheTest(). (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4520)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.1517<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a popup changes all windows are redrawn.<br>
Solution:&nbsp;&nbsp; Only update the lines that were affected.&nbsp;&nbsp;Add a file for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;profiling popup windows efficiency.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/proto/screen.pro, src/ui.c, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/testdir/popupbounce.vim, Filelist<br>
<br>
Patch 8.1.1518<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when setting&nbsp;<a class="Type" href="options.html#'columns'">'columns'</a>&nbsp;while a popup is visible.<br>
Solution:&nbsp;&nbsp; Recompute all positions when clearing the screen. (closes #4467)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_04a.dump<br>
<br>
Patch 8.1.1519<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'backupskip'">'backupskip'</a>&nbsp;may contain duplicates.<br>
Solution:&nbsp;&nbsp; Add the P_NODUP flag. (Tom Ryder)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_options.vim<br>
<br>
Patch 8.1.1520<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup windows are ignored when dealing with mouse position<br>
Solution:&nbsp;&nbsp; Find the mouse position inside a popup window.&nbsp;&nbsp;Allow for modeless<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;selection.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c, src/proto/ui.pro, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro, src/screen.c, src/beval.c, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/gui.c, src/normal.c, src/structs.h<br>
<br>
Patch 8.1.1521<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a popup window is closed the buffer remains.<br>
Solution:&nbsp;&nbsp; Wipe out the buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1522<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup_notification() not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto/popupwin.pro, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_notify_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_notify_02.dump<br>
<br>
Patch 8.1.1523<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot show range of buffer lines in popup window.<br>
Solution:&nbsp;&nbsp; Add the &quot;firstline&quot; property. (closes #4523)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/structs.h, runtime/doc/popup.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;testdir/dumps/Test_popupwin_firstline.dump<br>
<br>
Patch 8.1.1524<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests are silently skipped.<br>
Solution:&nbsp;&nbsp; Throw an exception for skipped tests in more places.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_assert.vim, src/testdir/test_paste.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_crypt.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cscope.vim, src/testdir/test_digraph.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_float_func.vim, src/testdir/test_gui.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui_init.vim, src/testdir/test_history.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_langmap.vim, src/testdir/test_listlbr.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr_utf8.vim, src/testdir/test_lua.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_makeencoding.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_matchadd_conceal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_matchadd_conceal_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_memory_usage.vim, src/testdir/test_menu.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_netbeans.vim, src/testdir/test_paste.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_perl.vim, src/testdir/test_profile.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_prompt_buffer.vim, src/testdir/test_python2.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_python3.vim, src/testdir/test_pyx2.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_pyx3.vim, src/testdir/test_quickfix.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quotestar.vim, src/testdir/test_reltime.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ruby.vim, src/testdir/test_sha256.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_shortpathname.vim, src/testdir/test_signals.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signs.vim, src/testdir/test_spell.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim, src/testdir/test_tcl.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal_fail.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textobjects.vim, src/testdir/test_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim, src/testdir/test_vartabs.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_winbar.vim, src/testdir/test_windows_home.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_xxd.vim<br>
<br>
Patch 8.1.1525<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot move a popup window with the mouse.<br>
Solution:&nbsp;&nbsp; Add the &quot;drag&quot; property and make it possible to drag a popup<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window by its border.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto/popupwin.pro, src/structs.h, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/proto/window.pro, runtime/doc/popup.txt<br>
<br>
Patch 8.1.1526<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No numerical value for the patchlevel.<br>
Solution:&nbsp;&nbsp; Add v:versionlong.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/eval.c, src/vim.h, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_eval_stuff.vim<br>
<br>
Patch 8.1.1527<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When moving a popup window over the command line it is not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;redrawn.<br>
Solution:&nbsp;&nbsp; Redraw the command line. Move popup redrawing code to the popupwin<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/proto/screen.pro, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_drag_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_drag_02.dump<br>
<br>
Patch 8.1.1528<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup_any_visible() is unused.<br>
Solution:&nbsp;&nbsp; Remove it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto/popupwin.pro<br>
<br>
Patch 8.1.1529<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Libcanberra is linked with even when not used.<br>
Solution:&nbsp;&nbsp; Have configure check for libcanberra only when wanted.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(suggestions by Libor Bukata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/configure.ac, src/auto/configure, src/Makefile<br>
<br>
Patch 8.1.1530<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Travis config is not optimal.<br>
Solution:&nbsp;&nbsp; Remove system conditions.&nbsp;&nbsp;Do not use excluding matrix. Cache OSX<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;results. (Ozaki Kiichi, closes #4521)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.1531<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Clipboard type name is inconsistent.<br>
Solution:&nbsp;&nbsp; Rename VimClipboard to Clipboard_T.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/proto/gui_gtk_x11.pro, src/gui_mac.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/gui_mac.pro, src/gui_x11.c, src/proto/gui_x11.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/proto/ops.pro, src/os_qnx.c, src/proto/os_qnx.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/proto/os_unix.pro, src/ui.c, src/proto/ui.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/winclip.c, src/proto/winclip.pro, src/globals.h, src/proto.h<br>
<br>
Patch 8.1.1532 (after 8.1.1531)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build fails.<br>
Solution:&nbsp;&nbsp; Add missing changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.1.1533<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI build fails on Mac.<br>
Solution:&nbsp;&nbsp; Change VimClipboard type in non-C file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_macosx.m<br>
<br>
Patch 8.1.1534<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Modeless selection in popup window selects too much.<br>
Solution:&nbsp;&nbsp; Restrict the selection to inside of the popup window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/ui.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_select_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_select_02.dump<br>
<br>
Patch 8.1.1535 (after 8.1.1534)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup select test fails on Mac.<br>
Solution:&nbsp;&nbsp; Skip test if clipboard feature not available.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1536 (after 8.1.1534)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup select test still fails on Mac.<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'clipboard'">'clipboard'</a>&nbsp;to &quot;autoselect&quot;<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1537<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;tab&quot; for popup window can be confusing.<br>
Solution:&nbsp;&nbsp; Use &quot;tabpage&quot;. (Hirohito Higashi, closes #4532)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1538<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot specify highlighting for notifications.<br>
Solution:&nbsp;&nbsp; Use the PopupNotification group if it exists. Add a minimal width<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to notifications.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_notify_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_notify_02.dump<br>
<br>
Patch 8.1.1539<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to define a variable and lock it.<br>
Solution:&nbsp;&nbsp; Add &quot;:const&quot;. (Ryuichi Hayashida, closes #4541)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/ex_cmdidxs.h, src/ex_cmds.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_const.vim<br>
<br>
Patch 8.1.1540 (after 8.1.1539)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without the +eval feature.<br>
Solution:&nbsp;&nbsp; Define ex_const if needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.1.1541<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Check for ASAN is not reliable.<br>
Solution:&nbsp;&nbsp; Check the version output. (Dominique Pelle, closes #4543)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_memory_usage.vim<br>
<br>
Patch 8.1.1542<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;An OptionSet autocommand does not get enough info.<br>
Solution:&nbsp;&nbsp; Add v:option_command, v:option_oldlocal and v:option_oldglobal.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Latrice Wilgus, closes #4118)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/version8.txt, src/eval.c, src/option.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/vim.h<br>
<br>
Patch 8.1.1543<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Const test fails with small features.<br>
Solution:&nbsp;&nbsp; Don't unlet non-existing variables.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_const.vim<br>
<br>
Patch 8.1.1544<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some balloon tests don't run when they can.<br>
Solution:&nbsp;&nbsp; Split GUI balloon tests off into a separate file. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4538)&nbsp;&nbsp;Change the feature check into a command for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consistency.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/testdir/Make_all.mak, src/testdir/check.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arabic.vim, src/testdir/test_balloon.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_balloon_gui.vim, src/testdir/test_crypt.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cscope.vim, src/testdir/test_digraph.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_float_func.vim, src/testdir/test_gui.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui_init.vim, src/testdir/test_history.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_langmap.vim, src/testdir/test_listlbr.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listlbr_utf8.vim, src/testdir/test_lua.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_makeencoding.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_matchadd_conceal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_matchadd_conceal_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_memory_usage.vim, src/testdir/test_menu.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_netbeans.vim, src/testdir/test_paste.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_perl.vim, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_profile.vim, src/testdir/test_prompt_buffer.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_python2.vim, src/testdir/test_python3.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_pyx2.vim, src/testdir/test_pyx3.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim, src/testdir/test_quotestar.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_reltime.vim, src/testdir/test_ruby.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_sha256.vim, src/testdir/test_shortpathname.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signals.vim, src/testdir/test_signs.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_spell.vim, src/testdir/test_syntax.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tcl.vim, src/testdir/test_termcodes.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/testdir/test_terminal_fail.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textobjects.vim, src/testdir/test_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim, src/testdir/test_vartabs.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_winbar.vim, src/testdir/test_windows_home.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_xxd.vim<br>
<br>
Patch 8.1.1545<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When the screen is to small there is no message about that.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Do not use :cquit. (closes #4534)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.1546<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In some tests&nbsp;<a class="Type" href="options.html#'tags'">'tags'</a>&nbsp;is set but not restored. (Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Restore&nbsp;<a class="Type" href="options.html#'tags'">'tags'</a>. (closes #4535)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/testdir/test_cmdline.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim, src/testdir/test_tagcase.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tagjump.vim, src/testdir/test_taglist.vim<br>
<br>
Patch 8.1.1547<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Functionality of bt_nofile() is confusing.<br>
Solution:&nbsp;&nbsp; Split into bt_nofile() and bt_nofilename().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/proto/buffer.pro, src/evalfunc.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/fileio.c, src/popupmnu.c, src/quickfix.c<br>
<br>
Patch 8.1.1548<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup_dialog() is not implemented.<br>
Solution:&nbsp;&nbsp; Implement popup_dialog() and popup_filter_yesno().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto/popupwin.pro, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/globals.h, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt<br>
<br>
Patch 8.1.1549 (after 8.1.1547)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix test fails.<br>
Solution:&nbsp;&nbsp; Negate result of bt_quickfix().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.1550<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a popup has left padding text may be cut off.<br>
Solution:&nbsp;&nbsp; Add the border and padding when computing the size.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_20.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_21.dump<br>
<br>
Patch 8.1.1551<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for shadowing popup_dragwin. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Add missing change.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.1.1552<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor position is wrong after sign column appears or disappears.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yegappan Lakshmanan)<br>
Solution:&nbsp;&nbsp; Call changed_line_abv_curs() instead of changed_cline_bef_curs().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sign.c, src/testdir/test_signs.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_sign_cursor_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_sign_cursor_02.dump<br>
<br>
Patch 8.1.1553<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to change the text in a popup window.<br>
Solution:&nbsp;&nbsp; Add popup_settext(). (Ben Jackson, closes #4549)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also display a space for an empty popup.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/evalfunc.c, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_settext_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_settext_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_settext_03.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_settext_04.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_settext_05.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_settext_06.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1554 (after 8.1.1539)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Docs and tests for :const can be improved.<br>
Solution:&nbsp;&nbsp; Improve documentation, add a few more tests. (Ryuichi Hayashida,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4551)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/testdir/test_const.vim<br>
<br>
Patch 8.1.1555<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;NOT_IN_POPUP_WINDOW is confusing. (Andy Massimino)<br>
Solution:&nbsp;&nbsp; Rename to ERROR_IF_POPUP_WINDOW().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto/popupwin.pro, src/macros.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/ex_docmd.c, src/window.c<br>
<br>
Patch 8.1.1556<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The command displayed to show a failing screenshot does not include<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the &quot;testdir&quot; directory.<br>
Solution:&nbsp;&nbsp; Prefix the directory name so that it can be copy-pasted.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim<br>
<br>
Patch 8.1.1557<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused variables in tiny version. (Tony<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mechelynck)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.1.1558<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup_menu() and popup_filter_menu() are not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement the functions. Fix that centering didn't take the border<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and padding into account.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c, src/proto/popupwin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/screen.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_03.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_drag_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_drag_02.dump<br>
<br>
Patch 8.1.1559<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window title property not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement the title property.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c, src/structs.h<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_title.dump<br>
<br>
Patch 8.1.1560<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window hidden option not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement the hidden option.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1561<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup_setoptions() is not implemented yet.<br>
Solution:&nbsp;&nbsp; Implement popup_setoptions().&nbsp;&nbsp;Also add more fields to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;popup_getoptions().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c, src/proto/popupwin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dict.c, src/proto/dict.pro, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, src/testdir/runtest.vim<br>
<br>
Patch 8.1.1562<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window not always redrawn after popup_setoptions().<br>
Solution:&nbsp;&nbsp; Force a redraw.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_23.dump<br>
<br>
Patch 8.1.1563<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using closures.<br>
Solution:&nbsp;&nbsp; Set reference in varlist of funccal when running the garbage<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;collector. (Ozaki Kiichi, closes #4554, closes #4547)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vimscript.vim, src/userfunc.c<br>
<br>
Patch 8.1.1564<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sign column takes up space.&nbsp;&nbsp;(Adam Stankiewicz)<br>
Solution:&nbsp;&nbsp; Optionally put signs in the number column. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4555, closes #4515)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/option.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signs.vim<br>
<br>
Patch 8.1.1565<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: no sound support.<br>
Solution:&nbsp;&nbsp; Add sound support for MS-Windows. (Yasuhiro Matsumoto, Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4522)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/Make_cyg_ming.mak, src/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sound.c, src/testdir/test_sound.vim<br>
<br>
Patch 8.1.1566<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error message when terminal closes while it is not in the current<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tab.<br>
Solution:&nbsp;&nbsp; Also set &quot;do_set_w_closing&quot; when using the special autocommand<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window. (closes #4552)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.1567<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Localtime_r() does not respond to $TZ changes.<br>
Solution:&nbsp;&nbsp; If $TZ changes then call tzset(). (Tom Ryder)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/auto/configure, src/config.h.in, src/configure.ac,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/memline.c, src/proto/memline.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/undo.c<br>
<br>
Patch 8.1.1568 (after 8.1.1567)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Strftime() test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Skip the check for using the $TZ environment variable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.1569<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with signs but without diff feature.<br>
Solution:&nbsp;&nbsp; Move #ifdef. (Tom Ryder)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.1570<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Icon signs not displayed properly in the number column.<br>
Solution:&nbsp;&nbsp; Display them properly. (Yegappan Lakshmanan, closes #4559)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/screen.c, src/testdir/test_signs.vim<br>
<br>
Patch 8.1.1571<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;textprop highlight starts too early if just after a tab.<br>
Solution:&nbsp;&nbsp; Check if still drawing a previous character. (closes #4558)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_textprop_tab.dump<br>
<br>
Patch 8.1.1572 (after 8.1.1569)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warnings with tiny build. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.1573 (after 8.1.1571)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Textprop test fails if screenshots do not work.<br>
Solution:&nbsp;&nbsp; Add check for screenshots working.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.1574<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tabpage option not yet implemented for popup window.<br>
Solution:&nbsp;&nbsp; Implement tabpage option, also for popup_getoptions().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1575<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Callbacks may be garbage collected.<br>
Solution:&nbsp;&nbsp; Set reference in callbacks. (Ozaki Kiichi, closes #4564)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/channel.c, src/eval.c, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto/buffer.pro, src/proto/popupwin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_listener.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, src/testdir/test_prompt_buffer.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 8.1.1576<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused argument.<br>
Solution:&nbsp;&nbsp; Add &quot;UNUSED&quot; annotation. (Dominique Pelle, closes #4570)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.1.1577<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Command line redrawn for +arabic without Arabic characters.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Check if there actually are any Arabic characters.&nbsp;&nbsp;Do redraw<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;after displaying incsearch. (closes #4569)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.1.1578<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: pathdef.c should depend on build options.<br>
Solution:&nbsp;&nbsp; Generate pathdef.c in the object directory.&nbsp;&nbsp;Fix dependencies.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ken Takata, closes #4565)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.gitignore, .hgignore, src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 8.1.1579<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dict and list could be GC'ed while displaying error in a timer.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Yasuhiro Matsumoto)<br>
Solution:&nbsp;&nbsp; Block garbage collection when executing a timer.&nbsp;&nbsp;Add<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test_garbagecollect_soon(). Add &quot;no_wait_return&quot; to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test_override(). (closes #4571)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dict.c, src/testdir/test_timers.vim, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.1.1580<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot make part of a popup transparent.<br>
Solution:&nbsp;&nbsp; Add the &quot;mask&quot; option.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/window.c, src/ui.c, src/vim.h, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_2.dump<br>
<br>
Patch 8.1.1581<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Shared functions for testing are disorganised.<br>
Solution:&nbsp;&nbsp; Group functions in script files. (Ozaki Kiichi, closes #4573)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/testdir/screendump.vim, src/testdir/shared.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/term_util.vim, src/testdir/test_mksession.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_suspend.vim, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim, src/testdir/view_util.vim<br>
<br>
Patch 8.1.1582<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with +textprop but without +timers.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (Ola Söder, closes #4574)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c<br>
<br>
Patch 8.1.1583<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Set_ref_in_list() only sets ref in items.<br>
Solution:&nbsp;&nbsp; Rename to set_ref_in_list_items() to avoid confusion.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/proto/eval.pro, src/if_lua.c, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/if_py_both.h<br>
<br>
Patch 8.1.1584<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The evalfunc.c file is getting too big.<br>
Solution:&nbsp;&nbsp; Move channel and job related functions to channel.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/evalfunc.c, src/proto/channel.pro<br>
<br>
Patch 8.1.1585<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:let-heredoc does not trim enough.<br>
Solution:&nbsp;&nbsp; Trim indent from the contents based on the indent of the first<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line.&nbsp;&nbsp;Use let-heredoc in more tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/testdir/test_balloon.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cindent.vim, src/testdir/test_const.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_debugger.vim, src/testdir/test_functions.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_goto.vim, src/testdir/test_gui.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_highlight.vim, src/testdir/test_join.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_let.vim, src/testdir/test_memory_usage.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_messages.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession_utf8.vim, src/testdir/test_normal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_profile.vim, src/testdir/test_quickfix.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_xxd.vim<br>
<br>
Patch 8.1.1586<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error number used in two places.<br>
Solution:&nbsp;&nbsp; Renumber one. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c<br>
<br>
Patch 8.1.1587<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Redraw problem when sign icons in the number column.<br>
Solution:&nbsp;&nbsp; Clear and redraw when changing related options.&nbsp;&nbsp;Right align the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sign icon in the GUI. (Yegappan Lakshmanan, closes #4578)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/option.c<br>
<br>
Patch 8.1.1588<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In :let-heredoc line continuation is recognized.<br>
Solution:&nbsp;&nbsp; Do not consume line continuation. (Ozaki Kiichi, closes #4580)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/autocmd.c, src/digraph.c, src/eval.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_cmds.h, src/ex_cmds2.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/normal.c, src/ops.c, src/proto/autocmd.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds2.pro, src/proto/ex_docmd.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_getln.pro, src/proto/userfunc.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_let.vim, src/testdir/test_startup.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 8.1.1589<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window does not indicate scroll position.<br>
Solution:&nbsp;&nbsp; Add a scrollbar.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_firstline.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_4.dump<br>
<br>
Patch 8.1.1590<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window test fails.<br>
Solution:&nbsp;&nbsp; Add &quot;scrollbar&quot; to expected result.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1591<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On error garbage collection may free memory in use.<br>
Solution:&nbsp;&nbsp; Reset may_garbage_collect when evaluating expression mapping.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add tests. (Ozaki Kiichi, closes #4579)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/getchar.c, src/testdir/test_mapping.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim, src/testdir/test_vimscript.vim<br>
<br>
Patch 8.1.1592<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May start file dialog while exiting.<br>
Solution:&nbsp;&nbsp; Ignore the &quot;browse&quot; modifier when exiting. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4582<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/terminal.c<br>
<br>
Patch 8.1.1593<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Filetype not detected for C++ header files without extension.<br>
Solution:&nbsp;&nbsp; Recognize the file by the Emacs file mode. (Dmitry Ilyin,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4593)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/scripts.vim, src/testdir/test_filetype.vim<br>
<br>
Patch 8.1.1594<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May still start file dialog while exiting.<br>
Solution:&nbsp;&nbsp; Ignore the &quot;browse&quot; modifier in another place when exiting.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ozaki Kiichi, closes #4582)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.1.1595<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows with VIMDLL: colors wrong in the GUI.<br>
Solution:&nbsp;&nbsp; Do not set the terminal colors when not using the GUI. (Ken<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takata, closes #4588)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.1.1596<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When resizing the screen may draw popup in wrong position. (Masato<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nishihata)<br>
Solution:&nbsp;&nbsp; Check the popup is not outside of the screen. (fixes #4592)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c<br>
<br>
Patch 8.1.1597<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot scroll a popup window with the mouse.<br>
Solution:&nbsp;&nbsp; If the popup window has a scrollbar let the mouse scroll wheel<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scroll the window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/normal.c, src/popupwin.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_firstline.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_5.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_6.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_7.dump<br>
<br>
Patch 8.1.1598<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Update to test file missing.<br>
Solution:&nbsp;&nbsp; Update the popup window test file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1599<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for uninitialized variable. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add a dummy assignment.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/normal.c<br>
<br>
Patch 8.1.1600<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot specify highlighting for popup window scrollbar.<br>
Solution:&nbsp;&nbsp; Add &quot;scrollbarhighlight&quot; and &quot;thumbhighlight&quot; options.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/structs.h, src/window.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_5.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_6.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_7.dump<br>
<br>
Patch 8.1.1601<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing changes to popup window test file.<br>
Solution:&nbsp;&nbsp; Add those changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1602<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window cannot overflow on the left or right.<br>
Solution:&nbsp;&nbsp; Only set the &quot;fixed&quot; option when it is in the dict. Set w_leftcol<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to allow for the popup overflowing on the left and use it when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;applying the mask.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c<br>
<br>
Patch 8.1.1603<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using unknown highlighting in text property.<br>
Solution:&nbsp;&nbsp; Check for zero highlight ID.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.1604<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window scroll test is flaky.<br>
Solution:&nbsp;&nbsp; Add a delay between scroll events.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1605<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim may delay processing messages on a json channel. (Pontus<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Leitzler)<br>
Solution:&nbsp;&nbsp; Try parsing json when checking if there is readahead.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.1.1606<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;On a narrow screen &quot;:hi&quot; output is confusing.<br>
Solution:&nbsp;&nbsp; Insert a space between highlight group name and &quot;xxx&quot;. (Masato<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nishihaga, closes #4599)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/testdir/test_highlight.vim<br>
<br>
Patch 8.1.1607<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window scrollbar does not respond to click.<br>
Solution:&nbsp;&nbsp; Mouse click in scrollbar scrolls by one line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto/popupwin.pro, src/structs.h, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, runtime/doc/popup.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_8.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_9.dump<br>
<br>
Patch 8.1.1608<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The evalfunc.c file is too big.<br>
Solution:&nbsp;&nbsp; Move sign functionality to sign.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/proto/evalfunc.pro, src/sign.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/sign.pro<br>
<br>
Patch 8.1.1609<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The user cannot easily close a popup window.<br>
Solution:&nbsp;&nbsp; Add the &quot;close&quot; property. (mostly by Masato Nishihata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4601)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c, src/proto/popupwin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/testdir/dumps/Test_popupwin_close_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_close_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_close_03.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, src/ui.c<br>
<br>
Patch 8.1.1610<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is no way to add or load a buffer without side effects.<br>
Solution:&nbsp;&nbsp; Add the bufadd() and bufload() functions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.1611<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Bufadd() reuses existing buffer without a name.<br>
Solution:&nbsp;&nbsp; When the name is empty always create a new buffer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_functions.vim<br>
<br>
Patch 8.1.1612<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot show an existing buffer in a popup window.<br>
Solution:&nbsp;&nbsp; Support buffer number argument in popup_create().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/proto/buffer.pro, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/vim.h, src/normal.c, src/screen.c, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_popupwin.vim, runtime/doc/popup.txt<br>
<br>
Patch 8.1.1613<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window test fails with Athena and Motif.<br>
Solution:&nbsp;&nbsp; Compute the highlight attribute when the GUI is not active.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.1.1614<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'numberwidth'">'numberwidth'</a>&nbsp;can only go up to 10.<br>
Solution:&nbsp;&nbsp; Allow up to 20. (Charlie Stanton, closes #4584)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/option.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/gen_opt_test.vim, src/testdir/test_options.vim<br>
<br>
Patch 8.1.1615<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when passing buffer number to popup_create(). (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Solution:&nbsp;&nbsp; Initialize the window properly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1616<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure with gcc on Amiga.<br>
Solution:&nbsp;&nbsp; Add missing header includes. (Ola Söder, closes #4603)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_amiga.h<br>
<br>
Patch 8.1.1617<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for popup window with mask and position fixed.<br>
Solution:&nbsp;&nbsp; Add a couple of screenshots.&nbsp;&nbsp;Fix detected problems.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/structs.h, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_4.dump<br>
<br>
Patch 8.1.1618<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Amiga-like systems quickly run out of stack.<br>
Solution:&nbsp;&nbsp; Reserve a Megabyte stack. (Ola Söder, closes #4608)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_amiga.c<br>
<br>
Patch 8.1.1619<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests are not run with GUI on Travis.<br>
Solution:&nbsp;&nbsp; Add a testgui job. (Ozaki Kiichi, closes #4609)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml, src/testdir/test_highlight.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.vim, src/testdir/test_timers.vim<br>
<br>
Patch 8.1.1620<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for popup window with border and mask.<br>
Solution:&nbsp;&nbsp; Add this popup window, fix problems.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_4.dump<br>
<br>
Patch 8.1.1621<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Amiga: time.h included twice.<br>
Solution:&nbsp;&nbsp; Remove include from evalfunc.c, move outside of #ifdef in<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;os_amiga.h. (Ola Söder, closes #4607)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/os_amiga.h<br>
<br>
Patch 8.1.1622<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong width if displaying a lot of lines in a popup window.<br>
Solution:&nbsp;&nbsp; Accurately compute the line overflow.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_firstline.dump<br>
<br>
Patch 8.1.1623<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Display wrong with signs in narrow number column.<br>
Solution:&nbsp;&nbsp; Increase the numbercolumn width if needed. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4606)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/screen.c, src/sign.c, src/testdir/test_signs.vim<br>
<br>
Patch 8.1.1624<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When testing in the GUI may try to run gvim in a terminal.<br>
Solution:&nbsp;&nbsp; Add the -v argument. (Yee Cheng Chin, closes #4605)&nbsp;&nbsp;Don't skip<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tests that work now.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/term_util.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.vim, src/testdir/test_timers.vim<br>
<br>
Patch 8.1.1625<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Script line numbers are not exactly right.<br>
Solution:&nbsp;&nbsp; Handle heredoc and continuation lines better. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4611, closes #4511)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/proto/ex_cmds2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vimscript.vim, src/userfunc.c<br>
<br>
Patch 8.1.1626<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for closing a popup window with a modified buffer.<br>
Solution:&nbsp;&nbsp; Add a test.&nbsp;&nbsp;Add &quot;popups&quot; to getbufinfo().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1627<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Header file contains mixed comment style.<br>
Solution:&nbsp;&nbsp; Use // style comments.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 8.1.1628<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window functions not in list of functions.<br>
Solution:&nbsp;&nbsp; Add popup window functions to the list of functions.&nbsp;&nbsp;Reorganise<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the popup window help.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/popup.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_41.txt<br>
<br>
Patch 8.1.1629<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal function help is in the wrong file.<br>
Solution:&nbsp;&nbsp; Move the function details to terminal.txt.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/terminal.txt<br>
<br>
Patch 8.1.1630<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various small problems.<br>
Solution:&nbsp;&nbsp; Various small improvements.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_beval.c, src/list.c, src/menu.c, src/message.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/testdir/test_terminal.vim, src/os_vms_conf.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_vms.mms<br>
<br>
Patch 8.1.1631<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Displaying signs is inefficient.<br>
Solution:&nbsp;&nbsp; Avoid making multiple calls to get information about a placed<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sign. (Yegappan Lakshmanan, closes #4586)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/sign.pro, src/screen.c, src/sign.c, src/structs.h<br>
<br>
Patch 8.1.1632<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build with EXITFREE but without +arabic fails.<br>
Solution:&nbsp;&nbsp; Rename the function and adjust #ifdefs. (closes #4613)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/proto/ex_getln.pro, src/misc2.c<br>
<br>
Patch 8.1.1633<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot generate prototypes with X11 but without GUI.<br>
Solution:&nbsp;&nbsp; Include X11/Intrinsic.h.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.h<br>
<br>
Patch 8.1.1634<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test fails when term_getansicolors() is missing.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Diff test fails without +rightleft.&nbsp;&nbsp;(Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Check if term_getansicolors() is supported. (closes #4597)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/testdir/test_diffmode.vim<br>
<br>
Patch 8.1.1635<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warnings for unused variables in small version. (John Marriott)<br>
Solution:&nbsp;&nbsp; Adjust #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.1636<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when popup has fitting scrollbar. (Trygve Aaberge)<br>
Solution:&nbsp;&nbsp; Don't divide by zero if the scrollbar just fits. (closes #4615)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1637<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After running tests and clean the XfakeHOME directory remains.<br>
Solution:&nbsp;&nbsp; Use &quot;rm -rf&quot;. (Hirohito Higashi)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/Make_amiga.mak<br>
<br>
Patch 8.1.1638<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running tests leaves some files behind.<br>
Solution:&nbsp;&nbsp; Delete the files. (Ozaki Kiichi, closes #4617)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1639<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Changing an autoload name into a script file name is inefficient.<br>
Solution:&nbsp;&nbsp; Remember the last replaced #. (Ozaki Kiichi, closes #4618)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.1.1640<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The CursorHold autocommand takes down a balloon. (Paul Jolly)<br>
Solution:&nbsp;&nbsp; Ignore the CursorHold pseudo-key.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/testdir/test_balloon.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_balloon_eval_term_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_balloon_eval_term_01a.dump<br>
<br>
Patch 8.1.1641<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Garbage collection may run at a wrong moment. (Trygve Aaberge)<br>
Solution:&nbsp;&nbsp; Postpone garbage collection while parsing messages. (closes #4620)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 8.1.1642 (after 8.1.0374)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May use uninitialized variable. (Patrick Palka)<br>
Solution:&nbsp;&nbsp; Initialize variables earlier. (closes #4623)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_number.vim<br>
<br>
Patch 8.1.1643<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sign placement is wrong when&nbsp;<a class="Type" href="options.html#'foldcolumn'">'foldcolumn'</a>&nbsp;is set.<br>
Solution:&nbsp;&nbsp; Adjust the column computation. (Yee Cheng Chin, closes #4627)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.1.1644<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sound test does not work on Travis.<br>
Solution:&nbsp;&nbsp; Use &quot;sg&quot; command to enable audio. (Ozaki Kiichi, closes #4624)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.1645<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use a popup window for a balloon.<br>
Solution:&nbsp;&nbsp; Add popup_beval().&nbsp;&nbsp;Add the &quot;mousemoved&quot; property.&nbsp;&nbsp;Add the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;screenpos() function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto/popupwin.pro, src/move.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/move.pro, src/beval.c, src/proto/beval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/popupmnu.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, src/testdir/test_cursor_func.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/usr_41.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_beval_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_beval_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_beval_3.dump<br>
<br>
Patch 8.1.1646 (after 8.1.1645)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;build failure<br>
Solution:&nbsp;&nbsp; Add changes to structure.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 8.1.1647<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build error with GTK and hangulinput feature, im_get_status()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defined twice. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Adjust im_get_status(). (closes #4628)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hangulin.c, src/mbyte.c<br>
<br>
Patch 8.1.1648<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: build error with normal features.<br>
Solution:&nbsp;&nbsp; Adjust #ifdef for find_word_under_cursor().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/beval.c, src/proto/beval.pro<br>
<br>
Patch 8.1.1649<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Illegal memory access when closing popup window.<br>
Solution:&nbsp;&nbsp; Get w_next before closing the window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c<br>
<br>
Patch 8.1.1650<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for using uninitialized variable. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Simplify the code by always using the mouse coordinates.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/beval.c<br>
<br>
Patch 8.1.1651<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Suspend test is flaky on some systems.<br>
Solution:&nbsp;&nbsp; Wait for the shell prompt to show. (Yee Cheng Chin, closes #4632)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_suspend.vim<br>
<br>
Patch 8.1.1652<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI: popup window doesn't close on mouse movement. (Paul Jolly)<br>
Solution:&nbsp;&nbsp; Generate mouse-move events when a popup window is visible.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c, src/globals.h<br>
<br>
Patch 8.1.1653<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ubsan warns for possibly passing NULL pointer.<br>
Solution:&nbsp;&nbsp; Skip code when length is zero. (Dominique Pelle, closes #4631)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.1.1654<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI: screen updates from&nbsp;<a class="Type" href="options.html#'balloonexpr'">'balloonexpr'</a>&nbsp;are not displayed.<br>
Solution:&nbsp;&nbsp; Update the screen if needed.&nbsp;&nbsp;Also avoid the cursor being<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayed in the wrong position.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/beval.c<br>
<br>
Patch 8.1.1655<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window border drawn wrong with multi-byte char. (Marcin<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Szamotulski)<br>
Solution:&nbsp;&nbsp; Correct check in mb_fix_col(). (closes #4635)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_24.dump<br>
<br>
Patch 8.1.1656<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window width is wrong when using Tabs. (Paul Jolly)<br>
Solution:&nbsp;&nbsp; Count tabs correctly. (closes #4637)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_11.dump<br>
<br>
Patch 8.1.1657<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal: screen updates from&nbsp;<a class="Type" href="options.html#'balloonexpr'">'balloonexpr'</a>&nbsp;are not displayed.<br>
Solution:&nbsp;&nbsp; Update the screen if needed.&nbsp;&nbsp;Fix the word position for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;mousemoved&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/beval.c, src/proto/beval.pro, src/popupwin.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/normal.pro<br>
<br>
Patch 8.1.1658<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Debug statements included in patch.<br>
Solution:&nbsp;&nbsp; Remove the debug statements.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/popupwin.c<br>
<br>
Patch 8.1.1659<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window &quot;mousemoved&quot; values not correct.<br>
Solution:&nbsp;&nbsp; Convert text column to mouse column.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, runtime/doc/popup.txt<br>
<br>
Patch 8.1.1660<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Assert_fails() does not fail inside try/catch.<br>
Solution:&nbsp;&nbsp; Set trylevel to zero. (Ozaki Kiichi, closes #4639)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_assert.vim<br>
<br>
Patch 8.1.1661<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with +textprop but without +balloon_eval.<br>
Solution:&nbsp;&nbsp; Adjust #ifdefs. (closes #4645)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto.h<br>
<br>
Patch 8.1.1662<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build uninstal.exe with some version of MinGW.<br>
Solution:&nbsp;&nbsp; Add -lole32. (Rene Nyffenegger, closes #4646)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 8.1.1663<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for using size_t.<br>
Solution:&nbsp;&nbsp; Add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c<br>
<br>
Patch 8.1.1664<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI resize may cause changing Rows at a bad time. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Solution:&nbsp;&nbsp; Postpone resizing while updating the screen.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.1.1665<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when popup window with mask is below the screen.<br>
Solution:&nbsp;&nbsp; Correct boundary check.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_5.dump<br>
<br>
Patch 8.1.1666<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Click in popup window scrollbar with border doesn't scroll.<br>
Solution:&nbsp;&nbsp; Correct column for the border. (Naruhiko Nishino, closes #4650)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_9.dump<br>
<br>
Patch 8.1.1667<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Flags for Ex commands may clash with other symbols.<br>
Solution:&nbsp;&nbsp; Prepend with EX_.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h, src/evalfunc.c, src/ex_docmd.c, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/usercmd.c, src/syntax.c<br>
<br>
Patch 8.1.1668<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window test is a bit flaky on some systems.<br>
Solution:&nbsp;&nbsp; Clear the command line. (Naruhiko Nishino, closes #4656)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1669<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Travis: test results section is closed even when some tests<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;failed.<br>
Solution:&nbsp;&nbsp; Only close the section on success. (Daniel Hahler, closes #4659)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.1670<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sign column not always properly aligned.<br>
Solution:&nbsp;&nbsp; Use &quot;col&quot; only after it was calculated. (Yee Cheng Chin,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4649)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.1.1671<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Copying a blob may result in it being locked.<br>
Solution:&nbsp;&nbsp; Reset v_lock. (Ken Takata, closes #4648)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/blob.c, src/testdir/test_blob.vim<br>
<br>
Patch 8.1.1672 (after&nbsp;&nbsp;8.1.1667)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make cmdidxs&quot; doesn't work.<br>
Solution:&nbsp;&nbsp; Update macro names. (Naruhiko Nishino, closes #4660)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/create_cmdidxs.vim<br>
<br>
Patch 8.1.1673<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot easily find the popup window at a certain position.<br>
Solution:&nbsp;&nbsp; Add popup_locate().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/evalfunc.c, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1674<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Script to check a colorscheme can be improved.<br>
Solution:&nbsp;&nbsp; Match the whole group name. Don't warn for what is usually omitted.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/colors/tools/check_colors.vim<br>
<br>
Patch 8.1.1675<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Listener list not correctly updated on listener_remove().<br>
Solution:&nbsp;&nbsp; Only set &quot;prev&quot; when not removing a listener.&nbsp;&nbsp;Return one if the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;listener was found and removed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/change.c<br>
<br>
Patch 8.1.1676<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;maxwidth&quot; of popup window does not always work properly.<br>
Solution:&nbsp;&nbsp; Adjust the computation. (Naruhiko Nishino, closes #4653)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_maxwidth_1.dump<br>
<br>
Patch 8.1.1677<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests get stuck when running into an existing swapfile.<br>
Solution:&nbsp;&nbsp; Set v:swapchoice to &quot;q&quot; and report an error. (Daniel Hahler,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4644)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.1678<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using popup_menu() does not scroll to show the selected line.<br>
Solution:&nbsp;&nbsp; Scroll the text. (Naruhiko Nishino, closes #4651)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_4.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_5.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_6.dump<br>
<br>
Patch 8.1.1679<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test using SwapExists autocommand file may fail.<br>
Solution:&nbsp;&nbsp; Remove the SwapExists autocommand.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.1.1680<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The command table is not well aligned.<br>
Solution:&nbsp;&nbsp; Adjust indent.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.h<br>
<br>
Patch 8.1.1681<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insert stray &quot;{&quot; when listener gets buffer line. (Paul Jolly)<br>
Solution:&nbsp;&nbsp; Flush the cached line after invoking listeners. (closes #4455)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/testdir/test_listener.vim<br>
<br>
Patch 8.1.1682<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Placing a larger number of signs is slow.<br>
Solution:&nbsp;&nbsp; Add functions for dealing with a list of signs. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #4636)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/sign.pro, src/sign.c, src/testdir/test_signs.vim<br>
<br>
Patch 8.1.1683<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dictionary with string keys is longer than needed.<br>
Solution:&nbsp;&nbsp; Use *{key: val} for literal keys.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/dict.c, src/proto/dict.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listdict.vim, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_07.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_4.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_5.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_4.dump<br>
<br>
Patch 8.1.1684<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Profiling functionality is spread out.<br>
Solution:&nbsp;&nbsp; Put profiling functionality in profiler.c. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4666)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_dice.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_manx.mak, src/Make_morph.mak, src/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_sas.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/globals.h, src/profiler.c, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds2.pro, src/proto/profiler.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/userfunc.pro, src/structs.h, src/userfunc.c<br>
<br>
Patch 8.1.1685<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing file in distributed file list.<br>
Solution:&nbsp;&nbsp; Add profiler.pro<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.1.1686<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;*&quot; of &quot;*{&quot; is recognized as multiply operator. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Solution:&nbsp;&nbsp; Check for the &quot;{&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_listdict.vim<br>
<br>
Patch 8.1.1687<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The evalfunc.c file is too big.<br>
Solution:&nbsp;&nbsp; Move testing support to a separate file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/evalfunc.c, src/eval.c, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testing.c, src/proto/testing.pro, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_morph.mak, src/Make_mvc.mak, src/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/README.md, src/proto.h<br>
<br>
Patch 8.1.1688<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old makefiles are no longer useful.<br>
Solution:&nbsp;&nbsp; Delete the makefiles, they most likely don't work anyway.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_dice.mak, src/Make_manx.mak, src/Make_sas.mak<br>
<br>
Patch 8.1.1689<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Profiling code is spread out.<br>
Solution:&nbsp;&nbsp; Move more profiling code to profiler.c. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4668)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/profiler.c, src/proto/ex_cmds2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/profiler.pro, src/proto/userfunc.pro, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 8.1.1690<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Default padding for popup window menu is too much.<br>
Solution:&nbsp;&nbsp; Only add padding left and right.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_maxwidth_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_4.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_5.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_6.dump<br>
<br>
Patch 8.1.1691<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Diff test fails on some systems. (Elimar Riesebieter)<br>
Solution:&nbsp;&nbsp; Add a term_wait() call.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_diffmode.vim<br>
<br>
Patch 8.1.1692<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using *{} for literal dict is not backwards compatible. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Solution:&nbsp;&nbsp; Use ~{} instead.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt runtime/doc/popup.txt, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listdict.vim src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_07.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_4.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_mask_5.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_4.dump<br>
<br>
Patch 8.1.1693<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syntax coloring and highlighting is in one big file.<br>
Solution:&nbsp;&nbsp; Move the highlighting to a separate file. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4674)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/highlight.c, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/highlight.pro, src/proto/syntax.pro, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.1.1694<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The RUN_VIM variable is longer than needed.<br>
Solution:&nbsp;&nbsp; Shorten RUN_VIM. (Daniel Hahler, closes #4643)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/shared.vim<br>
<br>
Patch 8.1.1695<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Windows 10: crash when cursor is at bottom of terminal.<br>
Solution:&nbsp;&nbsp; Position the cursor before resizing. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4679)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.1696<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MSVC: link command line is too long.<br>
Solution:&nbsp;&nbsp; Use the @&lt;&lt; mechanism to pass the arguments via a file. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.1.1697<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with MSVC.<br>
Solution:&nbsp;&nbsp; Remove the backslashes after the @&lt;&lt; mechanism.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.1.1698<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Appveyor build with MSVC fails.<br>
Solution:&nbsp;&nbsp; Remove the sed command<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ci/appveyor.bat<br>
<br>
Patch 8.1.1699<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Highlight_ga can be local instead of global.<br>
Solution:&nbsp;&nbsp; Move highlight_ga into highlight.c. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4675)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/highlight.c, src/proto/highlight.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/syntax.c<br>
<br>
Patch 8.1.1700<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Listener callback called for the wrong buffer.<br>
Solution:&nbsp;&nbsp; Invoke listeners before calling ml_append_int().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 8.1.1701<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Appveyor build with MSVC fails puts progress bar in log.<br>
Solution:&nbsp;&nbsp; Adjust the sed command. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ci/appveyor.bat<br>
<br>
Patch 8.1.1702<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for uninitialized variable.<br>
Solution:&nbsp;&nbsp; Initialize it. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui.c<br>
<br>
Patch 8.1.1703<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Breaking out of loop by checking window pointer is insufficient.<br>
Solution:&nbsp;&nbsp; Check the window ID and the buffer number. (closes #4683)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 8.1.1704<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;C-R C-W does not work after C-G when using&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>.<br>
Solution:&nbsp;&nbsp; Put cursor at end of the match. (Yasuhiro Matsumoto, closes #4664)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim<br>
<br>
Patch 8.1.1705<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using ~{} for a literal dict is not nice.<br>
Solution:&nbsp;&nbsp; Use #{} instead.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt runtime/doc/popup.txt, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listdict.vim src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1706<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typo in #ifdef.<br>
Solution:&nbsp;&nbsp; Change PROT to PROTO.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/beval.c<br>
<br>
Patch 8.1.1707<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for possibly using a NULL pointer.<br>
Solution:&nbsp;&nbsp; Change the logic to make sure no NULL pointer is used.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1708<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for using uninitialized variable.<br>
Solution:&nbsp;&nbsp; Set the start col when col is set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/beval.c<br>
<br>
Patch 8.1.1709<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for possibly using a NULL pointer.<br>
Solution:&nbsp;&nbsp; Make sure no NULL pointer is used.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1710<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity found dead code.<br>
Solution:&nbsp;&nbsp; Remove merging of listener changes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/change.c<br>
<br>
Patch 8.1.1711<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Listener callback called at the wrong moment<br>
Solution:&nbsp;&nbsp; Invoke listeners before calling ml_delete_int(). (closes #4657)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 8.1.1712<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Signs in number column cause text to be misaligned.<br>
Solution:&nbsp;&nbsp; Improve alignment. (Yasuhiro Matsumoto, closes #4694)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_signs.vim<br>
<br>
Patch 8.1.1713<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Highlighting cursor line only works with popup_menu().<br>
Solution:&nbsp;&nbsp; Add the &quot;cursorline&quot; property. (Naruhiko Nishino, closes #4671)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_cursorline_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_cursorline_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_cursorline_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_cursorline_4.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_cursorline_5.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_cursorline_6.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_filter_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_filter_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_filter_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_filter_4.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, src/vim.h<br>
<br>
Patch 8.1.1714<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot preview a file in a popup window.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<a class="Type" href="options.html#'previewpopup'">'previewpopup'</a>&nbsp;option.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/windows.txt, runtime/doc/options.txt, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro, src/option.c, src/option.h, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/gen_opt_test.vim<br>
<br>
Patch 8.1.1715<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Emoji characters are seen as word characters for spelling. (Gautam<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iyer)<br>
Solution:&nbsp;&nbsp; Exclude class 3 from word characters.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c<br>
<br>
Patch 8.1.1716<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old style comments are wasting space<br>
Solution:&nbsp;&nbsp; Use new style comments in option header file. (closes #4702)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h<br>
<br>
Patch 8.1.1717<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Last char in menu popup window highlighted.<br>
Solution:&nbsp;&nbsp; Do not highlight an extra character twice.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_04.dump<br>
<br>
Patch 8.1.1718<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup menu highlighting does not look good.<br>
Solution:&nbsp;&nbsp; Highlight the whole window line.&nbsp;&nbsp;Fix that sign line HL is not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;displayed in a window with a background color.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/sign.c, src/proto/sign.pro, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_4.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_5.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_scroll_6.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_04.dump<br>
<br>
Patch 8.1.1719<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup too wide when&nbsp;<a class="Type" href="options.html#'showbreak'">'showbreak'</a>&nbsp;is set.<br>
Solution:&nbsp;&nbsp; Set window width when computing line length. (closes #4701)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_showbreak.dump<br>
<br>
Patch 8.1.1720<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash with very long %[] pattern. (Reza Mirzazade farkhani)<br>
Solution:&nbsp;&nbsp; Check for reg_toolong. (closes #4703)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/testdir/test_regexp_utf8.vim<br>
<br>
Patch 8.1.1721<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure with normal features without netbeans interface.<br>
Solution:&nbsp;&nbsp; Enable signs when using the text properties feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h<br>
<br>
Patch 8.1.1722<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error when scriptversion is 2 a making a dictionary access.<br>
Solution:&nbsp;&nbsp; Parse the subscript even when not evaluating the sub-expression.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4704)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_eval_stuff.vim<br>
<br>
Patch 8.1.1723<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Heredoc assignment has no room for new features. (FUJIWARA Takuya)<br>
Solution:&nbsp;&nbsp; Require the marker does not start with a lower case character.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4705)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/testdir/test_let.vim<br>
<br>
Patch 8.1.1724<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too much overhead checking for&nbsp;<span class="Special">CTRL-C</span>&nbsp;while processing text.<br>
Solution:&nbsp;&nbsp; Increase BREAKCHECK_SKIP.&nbsp;&nbsp;Remove the difference for when built<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with the GUI. (suggested by Andy Massimino, closes #4708)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/screen.c, src/feature.h<br>
<br>
Patch 8.1.1725<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: E325 message may use incorrect date format.<br>
Solution:&nbsp;&nbsp; Convert strftime() result to&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>.&nbsp;&nbsp;Also make the message<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;translatable. (Ken Takata, closes #4685, closes #4681)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 8.1.1726<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The eval.txt help file is too big.<br>
Solution:&nbsp;&nbsp; Split off testing support to testing.txt.&nbsp;&nbsp;Move function details<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to where the functionality is explained.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/Makefile, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/testing.txt, runtime/doc/sign.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/textprop.txt, runtime/doc/help.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/channel.txt, runtime/doc/tags<br>
<br>
Patch 8.1.1727<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code for viminfo support is spread out.<br>
Solution:&nbsp;&nbsp; Move to code to viminfo.c. (Yegappan Lakshmanan, closes #4686)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/buffer.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/ex_cmds.c, src/ex_docmd.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto.h, src/proto/buffer.pro, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds.pro, src/proto/viminfo.pro, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/viminfo.c<br>
<br>
Patch 8.1.1728<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong place for command line history viminfo support.<br>
Solution:&nbsp;&nbsp; Move it to viminfo.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/proto/ex_getln.pro, src/viminfo.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 8.1.1729<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Heredoc with trim not properly handled in function.<br>
Solution:&nbsp;&nbsp; Allow for missing indent. (FUJIWARA Takuya, closes #4713)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/testdir/test_let.vim<br>
<br>
Patch 8.1.1730<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong place for mark viminfo support.<br>
Solution:&nbsp;&nbsp; Move it to viminfo.c. (Yegappan Lakshmanan, closes #4716)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/README.md, src/mark.c, src/proto/mark.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/viminfo.pro, src/structs.h, src/viminfo.c<br>
<br>
Patch 8.1.1731<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Command line history not read from viminfo on startup.<br>
Solution:&nbsp;&nbsp; Get history length after initializing it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/viminfo.c, src/testdir/test_viminfo.vim<br>
<br>
Patch 8.1.1732<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Completion in cmdwin does not work for buffer-local commands.<br>
Solution:&nbsp;&nbsp; Use the right buffer. (closes #4711)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/usercmd.c, src/testdir/test_ins_complete.vim<br>
<br>
Patch 8.1.1733<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The man ftplugin leaves an empty buffer behind.<br>
Solution:&nbsp;&nbsp; Don't make new window and edit, use split. (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/ftplugin/man.vim, src/testdir/test_man.vim<br>
<br>
Patch 8.1.1734<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The evalfunc.c file is too big.<br>
Solution:&nbsp;&nbsp; Move some functions to other files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/proto/evalfunc.pro, src/json.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/json.pro src/window.c, src/proto/window.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/highlight.c, src/proto/highlight.pro, src/globals.h<br>
<br>
Patch 8.1.1735 (after 8.1.1734)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with tiny features.<br>
Solution:&nbsp;&nbsp; Add missing #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/highlight.c<br>
<br>
Patch 8.1.1736<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Viminfo support is spread out.<br>
Solution:&nbsp;&nbsp; Move more viminfo code to viminfo.c. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4717)&nbsp;&nbsp;Reorder code to make most functions static.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/ops.c, src/option.c, src/proto/ops.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/option.pro, src/proto/search.pro, src/proto/viminfo.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/structs.h, src/viminfo.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds.pro<br>
<br>
Patch 8.1.1737<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:args command that outputs one line gives more prompt.<br>
Solution:&nbsp;&nbsp; Only output line break if needed. (Daniel Hahler, closes #4715)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/testdir/test_arglist.vim<br>
<br>
Patch 8.1.1738<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Testing lambda with timer is slow.<br>
Solution:&nbsp;&nbsp; Do not test timer accuracy, only that it works. (Daniel Hahler,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4723)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_lambda.vim<br>
<br>
Patch 8.1.1739<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Deleted match highlighting not updated in other window.<br>
Solution:&nbsp;&nbsp; Mark the window for refresh. (closes #4720)&nbsp;&nbsp;Also fix that<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ambi-width check clears with wrong attributes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/highlight.c, src/testdir/test_match.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_matchdelete_1.dump<br>
<br>
Patch 8.1.1740<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Exepath() doesn't work for &quot;bin/cat&quot;.<br>
Solution:&nbsp;&nbsp; Check for any path separator. (Daniel Hahler, closes #4724,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4710)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/os_unix.c, src/testdir/test_functions.vim<br>
<br>
Patch 8.1.1741<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cleared/added match highlighting not updated in other window.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Andy Massimino)<br>
Solution:&nbsp;&nbsp; Mark the right window for refresh.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/highlight.c, src/testdir/test_match.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_matchclear_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_matchadd_1.dump<br>
<br>
Patch 8.1.1742<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still some match functions in evalfunc.c.<br>
Solution:&nbsp;&nbsp; Move them to highlight.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/highlight.c, src/proto/highlight.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.1.1743<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'hlsearch'">'hlsearch'</a>&nbsp;and match highlighting in the wrong place.<br>
Solution:&nbsp;&nbsp; Move highlighting from inside screen functions to highlight.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/highlight.c, src/proto/highlight.pro<br>
<br>
Patch 8.1.1744<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build error without the conceal feature.<br>
Solution:&nbsp;&nbsp; Define variables also without the conceal feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.1745<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused argument.<br>
Solution:&nbsp;&nbsp; Add UNUSED.&nbsp;&nbsp;Change comments to new style.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/highlight.c<br>
<br>
Patch 8.1.1746<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:dl&quot; is seen as &quot;:dlist&quot; instead of &quot;:delete&quot;.<br>
Solution:&nbsp;&nbsp; Do not use cmdidxs2[] if the length is 1. (closes #4721)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_excmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak<br>
<br>
Patch 8.1.1747<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused variables. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.1748 (after 8.1.1737)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:args output is not aligned.<br>
Solution:&nbsp;&nbsp; Output a line break after the last item in a row.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c<br>
<br>
Patch 8.1.1749<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for using negative index.<br>
Solution:&nbsp;&nbsp; Move using index inside &quot;if&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/viminfo.c<br>
<br>
Patch 8.1.1750<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Depending on the terminal width :version may miss a line break.<br>
Solution:&nbsp;&nbsp; Add a line break when needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c<br>
<br>
Patch 8.1.1751<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When redrawing popups plines_win() may be called often.<br>
Solution:&nbsp;&nbsp; Pass a cache to mouse_comp_pos().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c, src/proto/ui.pro, src/beval.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c<br>
<br>
Patch 8.1.1752<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Resizing hashtable is inefficient.<br>
Solution:&nbsp;&nbsp; Avoid resizing when the final size is predictable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hashtab.c, src/proto/hashtab.pro, src/popupwin.c<br>
<br>
Patch 8.1.1753<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Use of popup window mask is inefficient.<br>
Solution:&nbsp;&nbsp; Precompute and cache the mask.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c<br>
<br>
Patch 8.1.1754 (after 8.1.1753)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure.<br>
Solution:&nbsp;&nbsp; Add missing change to window struct.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 8.1.1755<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory when using a popup window mask.<br>
Solution:&nbsp;&nbsp; Free the cached mask.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.1.1756<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Autocommand that splits window messes up window layout.<br>
Solution:&nbsp;&nbsp; Disallow splitting a window while closing one.&nbsp;&nbsp;In &quot;:all&quot; give an<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error when moving a window will not work.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/window.c, src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.1.1757<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text added with appendbufline() to another buffer isn't displayed.<br>
Solution:&nbsp;&nbsp; Update topline. (partly by Christian Brabandt, closes #4718)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_bufline.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_appendbufline_1.dump<br>
<br>
Patch 8.1.1758<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Count of g$ not used correctly when text is not wrapped.<br>
Solution:&nbsp;&nbsp; Do use the count. (Christian Brabandt, closes #4729, closes #4566)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_normal.vim<br>
<br>
Patch 8.1.1759<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No mode char for terminal mapping from maparg().<br>
Solution:&nbsp;&nbsp; Check for TERMINAL mode. (closes #4735)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/testdir/test_maparg.vim<br>
<br>
Patch 8.1.1760<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Extra line break for wrapping output of :args.<br>
Solution:&nbsp;&nbsp; Avoid the extra line break. (Daniel Hahler, closes #4737)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/testdir/test_arglist.vim<br>
<br>
Patch 8.1.1761<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Filetype &quot;vuejs&quot; causes problems for some users.<br>
Solution:&nbsp;&nbsp; Rename to &quot;vue&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim, src/testdir/test_filetype.vim<br>
<br>
Patch 8.1.1762<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some filetype rules are in the wrong place.<br>
Solution:&nbsp;&nbsp; Move to the right place.&nbsp;&nbsp;Add a few more tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim, src/testdir/test_filetype.vim<br>
<br>
Patch 8.1.1763<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Evalfunc.c is still too big.<br>
Solution:&nbsp;&nbsp; Move dict and list functions to a better place.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/dict.c, src/proto/dict.pro, src/list.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/list.pro, src/blob.c, src/proto/blob.pro<br>
<br>
Patch 8.1.1764<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:browse oldfiles&quot; is not tested.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viminfo.vim<br>
<br>
Patch 8.1.1765<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;get(func, dict, def) does not work properly.<br>
Solution:&nbsp;&nbsp; Handle NULL dict better. (Takuya Fujiwara, closes #4734)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_getvar.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_partial.vim<br>
<br>
Patch 8.1.1766<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code for writing session file is spread out.<br>
Solution:&nbsp;&nbsp; Put it in one file. (Yegappan Lakshmanan, closes #4728)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/ex_docmd.c, src/misc2.c, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/proto/misc2.pro, src/proto/session.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/session.c<br>
<br>
Patch 8.1.1767<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;FEAT_SESSION defined separately.<br>
Solution:&nbsp;&nbsp; Make FEAT_SESSION depend on FEAT_EVAL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/session.c, src/evalfunc.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/proto.h<br>
<br>
Patch 8.1.1768<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Man plugin changes setting in current window.<br>
Solution:&nbsp;&nbsp; Set options later. (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/ftplugin/man.vim, src/testdir/test_man.vim<br>
<br>
Patch 8.1.1769<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'shellslash'">'shellslash'</a>&nbsp;is also used for completion.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<a class="Type" href="options.html#'completeslash'">'completeslash'</a>&nbsp;option. (Yasuhiro Matsumoto, closes #3612)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/ex_getln.c, src/insexpand.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/option.h, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ins_complete.vim<br>
<br>
Patch 8.1.1770<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get the window ID of the popup preview window.<br>
Solution:&nbsp;&nbsp; Add popup_getpreview().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/popupwin.c, src/proto/popupwin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/popup.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_3.dump<br>
<br>
Patch 8.1.1771<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Options test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add correct and incorrect values for&nbsp;<a class="Type" href="options.html#'completeslash'">'completeslash'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/gen_opt_test.vim<br>
<br>
Patch 8.1.1772<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Options test still fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Check buffer-local value of&nbsp;<a class="Type" href="options.html#'completeslash'">'completeslash'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.1.1773<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The preview popup window may be too far to the right.<br>
Solution:&nbsp;&nbsp; Keep it inside the screen.&nbsp;&nbsp;Also keep the close button and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scrollbar visible if possible.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto/popupwin.pro, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/vim.h, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_4.dump<br>
<br>
Patch 8.1.1774<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test is silently skipped.<br>
Solution:&nbsp;&nbsp; Throw &quot;Skipped&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ins_complete.vim<br>
<br>
Patch 8.1.1775<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error message may be empty in filetype test.<br>
Solution:&nbsp;&nbsp; Use v:exception instead. (Daniel Hahler, closes #4744)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_filetype.vim<br>
<br>
Patch 8.1.1776<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text added with a job to another buffer isn't displayed.<br>
Solution:&nbsp;&nbsp; Update topline after adding a line. (closes #4745)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/testdir/test_channel.vim, src/testdir/check.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_job_buffer_scroll_1.dump<br>
<br>
Patch 8.1.1777<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Useless checks for job feature in channel test.<br>
Solution:&nbsp;&nbsp; Remove the checks.&nbsp;&nbsp;Remove ch_log() calls.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 8.1.1778<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not showing the popup window right border is confusing.<br>
Solution:&nbsp;&nbsp; Also show the border when there is no close button. (closes #4747)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/dumps/Test_popupwin_20.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_21.dump<br>
<br>
Patch 8.1.1779<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not showing the popup window right border is confusing.<br>
Solution:&nbsp;&nbsp; Also show the border when&nbsp;<a class="Type" href="options.html#'wrap'">'wrap'</a>&nbsp;is off. (closes #4747)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/dumps/Test_popupwin_20.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_21.dump<br>
<br>
Patch 8.1.1780<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for file no longer available is repeated every time Vim is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;focused. (Brian Armstrong)<br>
Solution:&nbsp;&nbsp; Only give the message once. (closes #4748)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.1.1781<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Amiga: no builtin OS readable version info.<br>
Solution:&nbsp;&nbsp; Add a &quot;version&quot; variable. (Ola Söder, closes #4753)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_amiga.c<br>
<br>
Patch 8.1.1782<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: system() has temp file error with&nbsp;<a class="Type" href="options.html#'noshelltemp'">'noshelltemp'</a>.<br>
Solution:&nbsp;&nbsp; Check s_dont_use_vimrun. (Ken Takata, closes #4754)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.1783<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: compiler test may fail when using %:S.<br>
Solution:&nbsp;&nbsp; Reset&nbsp;<a class="Type" href="options.html#'shellslash'">'shellslash'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_compiler.vim<br>
<br>
Patch 8.1.1784<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: resolve() does not work if serial nr duplicated.<br>
Solution:&nbsp;&nbsp; Use another method to get the full path. (Ken Takata, closes #4661)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mswin.c<br>
<br>
Patch 8.1.1785<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Map functionality mixed with character input.<br>
Solution:&nbsp;&nbsp; Move the map functionality to a separate file. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #4740)&nbsp;&nbsp;Graduate the +localmap feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/feature.h, src/evalfunc.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/map.c, src/proto.h, src/proto/getchar.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/map.pro, src/version.c, src/structs.h<br>
<br>
Patch 8.1.1786<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Double click in popup scrollbar starts selection.<br>
Solution:&nbsp;&nbsp; Ignore the double click.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c, src/popupwin.c, src/proto/popupwin.pro<br>
<br>
Patch 8.1.1787<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot resize a popup window.<br>
Solution:&nbsp;&nbsp; Allow for resizing by dragging the lower right corner.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c, src/structs.h, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_drag_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_drag_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_drag_03.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_4.dump<br>
<br>
Patch 8.1.1788 (after 8.1.1787)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;missing changes in proto file<br>
Solution:&nbsp;&nbsp; Update proto file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro<br>
<br>
Patch 8.1.1789<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot see file name of preview popup window.<br>
Solution:&nbsp;&nbsp; Add the file name as the title.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/popupwin.c, src/proto/popupwin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_4.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_5.dump<br>
<br>
Patch 8.1.1790<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:mkvimrc is not tested.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.1791<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'completeslash'">'completeslash'</a>&nbsp;also applies to globpath().<br>
Solution:&nbsp;&nbsp; Add the WILD_IGNORE_COMPLETESLASH flag. (test by Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #4760)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ins_complete.vim, src/ex_getln.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.1.1792<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The vgetorpeek() function is too long.<br>
Solution:&nbsp;&nbsp; Split off the part that handles mappings.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.1.1793<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mixed comment style in globals.<br>
Solution:&nbsp;&nbsp; Use // comments where appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h<br>
<br>
Patch 8.1.1794 (after 8.1.1792)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests are flaky.<br>
Solution:&nbsp;&nbsp; Undo the change to vgetorpeek().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.1.1795<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No syntax HL after splitting windows with :bufdo. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto)<br>
Solution:&nbsp;&nbsp; Trigger Syntax autocommands in buffers that are active.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4761)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/option.c, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim<br>
<br>
Patch 8.1.1796<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:argdo is not tested<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim<br>
<br>
Patch 8.1.1797 (after 8.1.1794)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The vgetorpeek() function is too long.<br>
Solution:&nbsp;&nbsp; Split off the part that handles mappings, with fix.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.1.1798<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for unused variable in tiny version. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Move inside #ifdef.&nbsp;&nbsp;Reformat code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.1.1799<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot avoid mapping for a popup window.<br>
Solution:&nbsp;&nbsp; Add the &quot;mapping&quot; property, default TRUE.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/getchar.c, src/popupwin.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1800<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Function call functions have too many arguments.<br>
Solution:&nbsp;&nbsp; Pass values in a funcexe_T struct.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/structs.h, src/userfunc.c, src/proto/userfunc.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/list.c, src/regexp.c, src/terminal.c, src/change.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/popupwin.c, src/channel.c<br>
<br>
Patch 8.1.1801<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without the +eval feature.<br>
Solution:&nbsp;&nbsp; Always define funcexe_T.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 8.1.1802<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing change to call_callback().<br>
Solution:&nbsp;&nbsp; Add missing change.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sound.c<br>
<br>
Patch 8.1.1803<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;All builtin functions are global.<br>
Solution:&nbsp;&nbsp; Add the method call operator -&gt;.&nbsp;&nbsp;Implemented for a limited number<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;of functions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/structs.h, src/userfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/evalfunc.c, src/proto/evalfunc.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_method.vim, src/testdir/Make_all.mak<br>
<br>
Patch 8.1.1804<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for display updating without a scroll region.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_display.vim, src/testdir/check.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_diffmode.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_scroll_no_region_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_scroll_no_region_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_scroll_no_region_3.dump<br>
<br>
Patch 8.1.1805<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Au_did_filetype is declared twice.<br>
Solution:&nbsp;&nbsp; Remove it from autocmd.c. (closes #4767)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/autocmd.c<br>
<br>
Patch 8.1.1806<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for display updating doesn't check without statusline.<br>
Solution:&nbsp;&nbsp; Add screenshots without a status line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_display.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_scroll_no_region_4.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_scroll_no_region_5.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_scroll_no_region_6.dump<br>
<br>
Patch 8.1.1807<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as a method.<br>
Solution:&nbsp;&nbsp; Add append(), appendbufline(), assert_equal(), etc.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also add the :eval command.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/testing.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_method.vim, src/ex_cmds.h, src/ex_eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_eval.pro, src/ex_cmdidxs.h<br>
<br>
Patch 8.1.1808<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure for tiny version.<br>
Solution:&nbsp;&nbsp; Define ex_eval to ex_ni.&nbsp;&nbsp;Clean up the ordering a bit.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.1.1809<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as a method.<br>
Solution:&nbsp;&nbsp; Add has_key(), split(), str2list(), etc.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_method.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_diffmode.vim, src/testdir/test_syntax.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_system.vim<br>
<br>
Patch 8.1.1810<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup_getoptions() is missing an entry for &quot;mapping&quot;.<br>
Solution:&nbsp;&nbsp; Add the entry.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1811<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window color cannot be set to &quot;Normal&quot;.<br>
Solution:&nbsp;&nbsp; Check for non-empty&nbsp;<a class="Type" href="options.html#'wincolor'">'wincolor'</a>&nbsp;instead of zero attribute.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4772)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_20.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_21.dump<br>
<br>
Patch 8.1.1812<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Reading a truncated undo file hangs Vim.<br>
Solution:&nbsp;&nbsp; Check for reading EOF. (closes #4769)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c, src/testdir/test_undo.vim<br>
<br>
Patch 8.1.1813<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ATTENTION prompt for a preview popup window.<br>
Solution:&nbsp;&nbsp; Close the popup window if aborting the buffer load.&nbsp;&nbsp;Avoid getting<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the ATTENTION dialog.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/ex_cmds.c, src/memline.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/windows.txt<br>
<br>
Patch 8.1.1814<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A long title in a popup window overflows.<br>
Solution:&nbsp;&nbsp; Truncate the title. (closes #4770)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_longtitle_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_longtitle_2.dump<br>
<br>
Patch 8.1.1815<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Duplicating info for internal functions.<br>
Solution:&nbsp;&nbsp; Use one table to list internal functions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.1816<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use a user defined function as a method.<br>
Solution:&nbsp;&nbsp; Pass the base as the first argument to the user defined function<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;after &quot;-&gt;&quot;. (partly by FUJIWARA Takuya)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/userfunc.c, src/testdir/test_user_func.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autoload.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/sautest/autoload/foo.vim<br>
<br>
Patch 8.1.1817<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Github contribution text is incomplete.<br>
Solution:&nbsp;&nbsp; Update the text.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CONTRIBUTING.md<br>
<br>
Patch 8.1.1818<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unused variable.<br>
Solution:&nbsp;&nbsp; Remove the variable. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sound.c<br>
<br>
Patch 8.1.1819<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:pedit does not work with a popup preview window.<br>
Solution:&nbsp;&nbsp; Avoid aborting with an error. (fixes #4777)&nbsp;&nbsp;Also double check<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;that after prepare_tagpreview() the current window is not a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;popup window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/popupmenu.c, src/search.c, src/tag.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_6.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_7.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_8.dump<br>
<br>
Patch 8.1.1820<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using expr-&gt;FuncRef() does not work.<br>
Solution:&nbsp;&nbsp; Make FuncRef work as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/userfunc.c, src/testdir/test_method.vim<br>
<br>
Patch 8.1.1821<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for wrong number of method arguments.<br>
Solution:&nbsp;&nbsp; Add a test.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_method.vim<br>
<br>
Patch 8.1.1822<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Confusing error message when range is not allowed.<br>
Solution:&nbsp;&nbsp; With ADDR_NONE give e_norange.&nbsp;&nbsp;Change e_invaddr to e_invrange for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;consistency.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/globals.h, src/testdir/test_excmd.vim<br>
<br>
Patch 8.1.1823<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Command line history code is spread out.<br>
Solution:&nbsp;&nbsp; Put the code in a new file. (Yegappan Lakshmanan, closes #4779)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also graduate the +cmdline_hist feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/cmdhist.c, src/ex_getln.c, src/proto.h, src/proto/cmdhist.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_getln.pro, src/version.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_docmd.c, src/misc2.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/option.c, src/search.c, src/tag.c, src/usercmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/viminfo.c, src/feature.h, src/globals.h<br>
<br>
Patch 8.1.1824<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when correctly spelled word is very long. (Ben Kraft)<br>
Solution:&nbsp;&nbsp; Check word length before copying. (closes #4778)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/testdir/test_spell.vim<br>
<br>
Patch 8.1.1825<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Allocating more memory than needed for extended structs.<br>
Solution:&nbsp;&nbsp; Use offsetof() instead of sizeof(). (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4785)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dict.c<br>
<br>
Patch 8.1.1826<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests use hand coded feature and option checks.<br>
Solution:&nbsp;&nbsp; Use the commands from check.vim in more tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/check.vim, src/testdir/shared.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autochdir.vim, src/testdir/test_autocmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_balloon.vim, src/testdir/test_breakindent.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufline.vim, src/testdir/test_cdo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_clientserver.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_conceal.vim, src/testdir/test_cscope.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_debugger.vim, src/testdir/test_filechanged.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fold.vim, src/testdir/test_functions.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim, src/testdir/test_gui_init.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_highlight.vim, src/testdir/test_mapping.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_match.vim, src/testdir/test_memory_usage.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_options.vim, src/testdir/test_paste.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signals.vim, src/testdir/test_startup.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim, src/testdir/test_termcodes.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/testdir/test_timers.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vimscript.vim<br>
<br>
Patch 8.1.1827<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Allocating more memory than needed for extended structs.<br>
Solution:&nbsp;&nbsp; Use offsetof() instead of sizeof(). (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4786)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/regexp.c, src/sign.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c, src/textprop.c, src/userfunc.c<br>
<br>
Patch 8.1.1828<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not strict enough checking syntax of method invocation.<br>
Solution:&nbsp;&nbsp; Check there is no white space inside -&gt;method(.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/testdir/test_method.vim<br>
<br>
Patch 8.1.1829<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Difference in screenshots.<br>
Solution:&nbsp;&nbsp; Update screenshots.&nbsp;&nbsp;Change checks in a few more tests.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4789)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_balloon_gui.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_shortpathname.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_windows_home.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_4.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_5.dump<br>
<br>
Patch 8.1.1830<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Travis does not report error when tests fail.<br>
Solution:&nbsp;&nbsp; Explicitly do &quot;exit 1&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.1831<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Confusing skipped message.<br>
Solution:&nbsp;&nbsp; Drop &quot;run&quot; from &quot;run start the GUI&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/check.vim<br>
<br>
Patch 8.1.1832<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Win_execute() does not work in other tab. (Rick Howe)<br>
Solution:&nbsp;&nbsp; Take care of the tab. (closes #4792)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_execute_func.vim, src/evalfunc.c, src/window.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/window.pro<br>
<br>
Patch 8.1.1833<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Allocating a bit too much when spellbadword() does not find a bad<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word.<br>
Solution:&nbsp;&nbsp; Reset &quot;len&quot; when going to the next word. (Daniel Hahler,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4788)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.1834<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use a lambda as a method.<br>
Solution:&nbsp;&nbsp; Implement -&gt;<span class="Special">{lambda}</span>(). (closes #4768)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/eval.c, src/testdir/test_method.vim<br>
<br>
Patch 8.1.1835<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use printf() as a method.<br>
Solution:&nbsp;&nbsp; Pass the base as the second argument to printf().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_method.vim<br>
<br>
Patch 8.1.1836<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Inaccurate memory estimate for Amiga-like OS.<br>
Solution:&nbsp;&nbsp; Adjust #ifdef for AvailMem(). (Ola Söder, closes #4797)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_amiga.c<br>
<br>
Patch 8.1.1837<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup test fails if clipboard is supported but not working.<br>
Solution:&nbsp;&nbsp; Add the &quot;clipboard_working&quot; feature. Also use Check commands<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instead of &quot;if&quot; and &quot;throw&quot;.&nbsp;&nbsp;And remove stray ch_logfile().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.1.1838<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There is :spellwrong and :spellgood but not :spellrare.<br>
Solution:&nbsp;&nbsp; Add :spellrare. (Martin Tournoij, closes #4291)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/spell.txt, src/ex_cmdidxs.h, src/ex_cmds.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/proto/spellfile.pro, src/spellfile.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.h, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim, src/testdir/test_spellfile.vim<br>
<br>
Patch 8.1.1839<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insufficient info when test fails because of screen size.<br>
Solution:&nbsp;&nbsp; Report the detected screen size.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.1840<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Testing: WorkingClipboard() is not accurate.<br>
Solution:&nbsp;&nbsp; Check feature clipboard_working instead.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_paste.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quotestar.vim, src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.1841<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for Ex shift commands.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #4801)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_alot.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_shift.vim<br>
<br>
Patch 8.1.1842<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test listed as flaky should no longer be flaky.<br>
Solution:&nbsp;&nbsp; Remove Test_popup_and_window_resize from the list of flaky tests.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Daniel Hahler, close #4807)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.1843<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Might be freeing memory that was not allocated.<br>
Solution:&nbsp;&nbsp; Have next_fenc() set the fenc_alloced flag. (closes #4804)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c<br>
<br>
Patch 8.1.1844<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Buffer no longer unloaded when adding text properties to it.<br>
Solution:&nbsp;&nbsp; Do not create the memfile. (closes #4808)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/textprop.txt, src/testdir/test_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c<br>
<br>
Patch 8.1.1845<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May use NULL pointer when running out of memory.<br>
Solution:&nbsp;&nbsp; Do not clear popup buffers when NULL. (closes #4802)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.1846<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Inconsistently using GetVimCommand() and v:progpath. (Daniel<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hahler)<br>
Solution:&nbsp;&nbsp; Use GetVimCommand(). (closes #4806)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/testdir/test_gui.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim, src/testdir/test_profile.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_suspend.vim, src/testdir/test_system.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vimscript.vim<br>
<br>
Patch 8.1.1847<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Suspend test is failing.<br>
Solution:&nbsp;&nbsp; Do not use GetVimCommandClean().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_suspend.vim<br>
<br>
Patch 8.1.1848<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'langmap'">'langmap'</a>&nbsp;is not used for&nbsp;<span class="Special">CTRL-W</span>&nbsp;command in terminal.<br>
Solution:&nbsp;&nbsp; Push the command in the typeahead buffer instead of the stuff<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;buffer. (closes #4814)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.1849<br>
problem:&nbsp;&nbsp;&nbsp;&nbsp;Some insert complete functions in the wrong file.<br>
Solution:&nbsp;&nbsp; Move complete functions to insexpand.c. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4815)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/insexpand.c, src/proto/insexpand.pro<br>
<br>
Patch 8.1.1850<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Focus may remain in popup window.<br>
Solution:&nbsp;&nbsp; Change focus if needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.1.1851<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when sound_playfile() callback plays sound.<br>
Solution:&nbsp;&nbsp; Invoke callback later from event loop.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_sound.vim, src/ui.c, src/sound.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/sound.pro, src/feature.h, src/os_unix.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 8.1.1852<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Timers test is flaky.<br>
Solution:&nbsp;&nbsp; Accept a larger count.&nbsp;&nbsp;Add test to list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim, src/testdir/runtest.vim<br>
<br>
Patch 8.1.1853<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Timers test is still flaky.<br>
Solution:&nbsp;&nbsp; Compute the time to sleep more accurately.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.1.1854<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Now another timer test is flaky.<br>
Solution:&nbsp;&nbsp; Add test to list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.1855<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Another failing timer test.<br>
Solution:&nbsp;&nbsp; Assert that timers are finished by the end of the test.&nbsp;&nbsp;Rename<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test functions to make them easier to find.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim, src/testdir/runtest.vim<br>
<br>
Patch 8.1.1856<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;popup preview test fails sometimes. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Clear the command line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_6.dump<br>
<br>
Patch 8.1.1857<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use modifier with multi-byte character.<br>
Solution:&nbsp;&nbsp; Allow using a multi-byte character, although it doesn't work<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;everywhere.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/testdir/test_mapping.vim<br>
<br>
Patch 8.1.1858<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for multi-byte mapping fails on some systems.<br>
Solution:&nbsp;&nbsp; Test in another way.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.vim<br>
<br>
Patch 8.1.1859<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Timer test sometimes fails on Mac.<br>
Solution:&nbsp;&nbsp; Show more info when it fails.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 8.1.1860<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Map timeout test is flaky.<br>
Solution:&nbsp;&nbsp; Add test to list of flaky tests.&nbsp;&nbsp;Increase timeout.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/testdir/test_mapping.vim<br>
<br>
Patch 8.1.1861<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Only some assert functions can be used as a method.<br>
Solution:&nbsp;&nbsp; Allow using most assert functions as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/testing.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_assert.vim<br>
<br>
Patch 8.1.1862<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for not using return value.<br>
Solution:&nbsp;&nbsp; Add &quot;(void)&quot; to avoid the warning.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 8.1.1863<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Confusing error when using a builtin function as method while it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;does not support that.<br>
Solution:&nbsp;&nbsp; Add a specific error message.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/evalfunc.c, src/userfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_method.vim<br>
<br>
Patch 8.1.1864<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still a timer test that is flaky on Mac.<br>
Solution:&nbsp;&nbsp; Adjust the sleep times.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 8.1.1865<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Spellrare and spellrepall in the wrong order.<br>
Solution:&nbsp;&nbsp; Put spellrare below spellrepall. (closes #4820)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/spell.txt, src/ex_cmds.h<br>
<br>
Patch 8.1.1866<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Modeless selection in GUI does not work properly.<br>
Solution:&nbsp;&nbsp; Avoid going beyond the end of the line. (closes #4783)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.1.1867<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still a timer test that is flaky on Mac.<br>
Solution:&nbsp;&nbsp; Loop with a sleep instead of one fixed sleep.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_timers.vim<br>
<br>
Patch 8.1.1868<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Multibyte characters in&nbsp;<a class="Type" href="options.html#'listchars'">'listchars'</a>&nbsp;don't work correctly if<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'linebreak'">'linebreak'</a>&nbsp;is also enabled. (Martin Tournoij)<br>
Solution:&nbsp;&nbsp; Make it work correctly. (Christian Brabandt, closes #4822,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4812)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_listchars.vim<br>
<br>
Patch 8.1.1869<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code for the argument list is spread out.<br>
Solution:&nbsp;&nbsp; Put argument list code in arglist.c. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4819)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/arglist.c, src/buffer.c, src/evalfunc.c, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/proto.h, src/proto/arglist.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/buffer.pro, src/proto/ex_cmds2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_docmd.pro<br>
<br>
Patch 8.1.1870<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using :pedit from a help file sets the preview window to help<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filetype. (Wang Shidong)<br>
Solution:&nbsp;&nbsp; Do not set &quot;keep_help_flag&quot;. (closes #3536)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.1.1871 (after 8.1.1866)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Modeless selection in GUI still not correct.<br>
Solution:&nbsp;&nbsp; Fix max_col.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.1.1872<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When Vim exits because of a signal, VimLeave is not triggered.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Daniel Hahler)<br>
Solution:&nbsp;&nbsp; Unblock autocommands when triggering VimLeave. (closes #4818)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.1.1873 (after 8.1.1872)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build tiny version.<br>
Solution:&nbsp;&nbsp; Remove #ifdef for is_autocmd_blocked().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/autocmd.c<br>
<br>
Patch 8.1.1874<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Modeless selection in popup window overlaps scrollbar.<br>
Solution:&nbsp;&nbsp; Subtract scrollbar from max_col. (closes #4773)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_select_01.dump<br>
<br>
Patch 8.1.1875<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get size and position of the popup menu.<br>
Solution:&nbsp;&nbsp; Add pum_getpos(). (Ben Jackson, closes #4827)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim<br>
<br>
Patch 8.1.1876<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;proto file missing from distribution<br>
Solution:&nbsp;&nbsp; Add the file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.1.1877<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Graduated features scattered.<br>
Solution:&nbsp;&nbsp; Put graduated and obsolete features together.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h<br>
<br>
Patch 8.1.1878<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Negative float before method not parsed correctly.<br>
Solution:&nbsp;&nbsp; Apply &quot;!&quot; and &quot;-&quot; in front of expression before using -&gt;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/proto/eval.pro, src/userfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_method.vim<br>
<br>
Patch 8.1.1879<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make float functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_float_func.vim<br>
<br>
Patch 8.1.1880<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot show extra info for completion in a popup window.<br>
Solution:&nbsp;&nbsp; Add the &quot;popup&quot; entry in&nbsp;<a class="Type" href="options.html#'completeopt'">'completeopt'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/popupmnu.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds.pro, src/ex_docmd.c, src/search.c, src/tag.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto/popupwin.pro, src/option.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_4.dump<br>
<br>
Patch 8.1.1881<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window test fails in some configurations.<br>
Solution:&nbsp;&nbsp; Check that screendumps can be made.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1882<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot specify properties of the info popup window.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<a class="Type" href="options.html#'completepopup'">'completepopup'</a>&nbsp;option.&nbsp;&nbsp;Default to PmenuSel highlight.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/insert.txt, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto/popupwin.pro, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_3.dump<br>
<br>
Patch 8.1.1883<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Options test fails.<br>
Solution:&nbsp;&nbsp; Add entry for&nbsp;<a class="Type" href="options.html#'completepopup'">'completepopup'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/gen_opt_test.vim<br>
<br>
Patch 8.1.1884<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use mouse scroll wheel in popup in Insert mode.&nbsp;&nbsp;Mouse<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clicks in popup close the popup menu.<br>
Solution:&nbsp;&nbsp; Check if the mouse is in a popup window. Do not let mouse events<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;close the popup menu.&nbsp;&nbsp;(closes #4544)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/popupmnu.c, src/insexpand.c<br>
<br>
Patch 8.1.1885<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Comments in libvterm are inconsistent.<br>
Solution:&nbsp;&nbsp; Use // comments.&nbsp;&nbsp;Also update the table of combining characters.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/bin/unterm.c, src/libvterm/bin/vterm-ctrl.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/bin/vterm-dump.c, src/libvterm/include/vterm.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/include/vterm_keycodes.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/encoding.c, src/libvterm/src/keyboard.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/mouse.c, src/libvterm/src/parser.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/pen.c, src/libvterm/src/rect.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/state.c, src/libvterm/src/unicode.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/utf8.h, src/libvterm/src/vterm.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/vterm_internal.h, src/libvterm/src/termscreen.c<br>
<br>
Patch 8.1.1886<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Command line expansion code is spread out.<br>
Solution:&nbsp;&nbsp; Move the code to cmdexpand.c. (Yegappan Lakshmanan, closes #4831)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/cmdexpand.c, src/evalfunc.c, src/ex_getln.c, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/cmdexpand.pro, src/proto/ex_getln.pro, src/structs.h<br>
<br>
Patch 8.1.1887<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The +cmdline_compl feature is not in the tiny version.<br>
Solution:&nbsp;&nbsp; Graduate the +cmdline_compl feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/cmdexpand.c, src/arglist.c, src/autocmd.c, src/buffer.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/cmdhist.c, src/eval.c, src/evalfunc.c, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/ex_getln.c, src/feature.h, src/highlight.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c, src/map.c, src/menu.c, src/misc1.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/sign.c, src/syntax.c, src/tag.c, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/usercmd.c, src/userfunc.c, src/version.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/structs.h, runtime/doc/cmdline.txt<br>
<br>
Patch 8.1.1888<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make various functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vimscript.vim, src/testdir/test_balloon_gui.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim, src/testdir/test_functions.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_hide.vim, src/testdir/test_arglist.vim<br>
<br>
Patch 8.1.1889<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for using a NULL pointer.<br>
Solution:&nbsp;&nbsp; Use zero for column if pos is NULL.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/netbeans.c<br>
<br>
Patch 8.1.1890<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ml_get error when deleting fold marker.<br>
Solution:&nbsp;&nbsp; Check that the line number is not below the last line.&nbsp;&nbsp;Adjust the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fold when deleting the empty line.&nbsp;&nbsp;(Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4834)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c, src/normal.c, src/testdir/test_fold.vim<br>
<br>
Patch 8.1.1891<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Functions used in one file are global.<br>
Solution:&nbsp;&nbsp; Add &quot;static&quot;. (Yegappan Lakshmanan, closes #4840)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/autocmd.c, src/buffer.c, src/change.c, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c, src/dict.c, src/digraph.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_eval.c, src/fileio.c, src/findfile.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/gui.c, src/indent.c, src/json.c, src/list.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mark.c, src/menu.c, src/message.c, src/misc1.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/option.c, src/popupwin.c, src/profiler.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/autocmd.pro, src/proto/buffer.pro, src/proto/change.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/channel.pro, src/proto/charset.pro, src/proto/dict.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/eval.pro, src/proto/ex_cmds.pro, src/proto/ex_eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/fileio.pro, src/proto/findfile.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/getchar.pro, src/proto/gui.pro, src/proto/indent.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/json.pro, src/proto/list.pro, src/proto/mark.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/menu.pro, src/proto/message.pro, src/proto/misc1.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc2.pro, src/proto/ops.pro, src/proto/option.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro, src/proto/profiler.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/quickfix.pro, src/proto/spell.pro, src/proto/term.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/textprop.pro, src/proto/ui.pro, src/proto/undo.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/window.pro, src/quickfix.c, src/regexp.c, src/spell.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/textprop.c, src/ui.c, src/undo.c, src/window.c<br>
<br>
Patch 8.1.1892<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing index entry and option menu for&nbsp;<a class="Type" href="options.html#'completepopup'">'completepopup'</a>.<br>
Solution:&nbsp;&nbsp; Add the entries.&nbsp;&nbsp;Adjust #ifdefs to avoid dead code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/quickref.txt, runtime/optwin.vim, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/popupwin.c<br>
<br>
Patch 8.1.1893<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Script to summarize test results can be improved.<br>
Solution:&nbsp;&nbsp; Use &quot;silent&quot; for substitute to avoid reporting number of matches.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove duplicate &quot;set nocp&quot;. (Daniel Hahler, closes #4845)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/summarize.vim<br>
<br>
Patch 8.1.1894<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not checking for out-of-memory of autoload_name().<br>
Solution:&nbsp;&nbsp; Check for NULL. (Dominique Pelle, closes #4846)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c<br>
<br>
Patch 8.1.1895<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using NULL pointer when out of memory.<br>
Solution:&nbsp;&nbsp; Bail out or skip the code using the pointer. (Zu-Ming Jiang,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4805, closes #4843, closes #4939, closes #4844)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/highlight.c, src/buffer.c, src/ops.c<br>
<br>
Patch 8.1.1896<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused variable.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (John Marriott)&nbsp;&nbsp;Missing part of 8.1.1892.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.1.1897<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May free memory twice when out of memory.<br>
Solution:&nbsp;&nbsp; Check that backslash_halve_save() returns a different pointer.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle, closes #4847)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/cmdexpand.c, src/misc1.c<br>
<br>
Patch 8.1.1898<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when out of memory during startup.<br>
Solution:&nbsp;&nbsp; When out of memory message given during initialisation bail out.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4842)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c<br>
<br>
Patch 8.1.1899<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;sign_place() does not work as documented.<br>
Solution:&nbsp;&nbsp; Make it accept line numbers like line(). (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4848)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sign.c, src/testdir/test_signs.vim<br>
<br>
Patch 8.1.1900<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sign test fails in the GUI.<br>
Solution:&nbsp;&nbsp; Catch and ignore the exception.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_signs.vim<br>
<br>
Patch 8.1.1901<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The +insert_expand feature is not always available.<br>
Solution:&nbsp;&nbsp; Graduate the +insert_expand feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/autocmd.c, src/buffer.c, src/change.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c, src/edit.c, src/evalfunc.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/getchar.c, src/gui.c, src/highlight.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/indent.c, src/insexpand.c, src/misc2.c, src/move.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/popupmnu.c, src/screen.c, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/tag.c, src/term.c, src/userfunc.c, src/version.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/option.h, src/proto.h, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, runtime/doc/change.txt, runtime/doc/index.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/insert.txt, runtime/doc/options.txt<br>
<br>
Patch 8.1.1902<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot have an info popup without a border.<br>
Solution:&nbsp;&nbsp; Add the &quot;border&quot; item to&nbsp;<a class="Type" href="options.html#'completepopup'">'completepopup'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto/popupwin.pro, src/popupmnu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, src/testdir/gen_opt_test.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_nb_1.dump<br>
<br>
Patch 8.1.1903<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without the +eval feature.<br>
Solution:&nbsp;&nbsp; Add missing #ifdefs<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/insexpand.c, src/popupmnu.c<br>
<br>
Patch 8.1.1904<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot have an info popup align with the popup menu.<br>
Solution:&nbsp;&nbsp; Add the &quot;align&quot; item to&nbsp;<a class="Type" href="options.html#'completepopup'">'completepopup'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/popupmnu.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/insert.txt, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_align_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_align_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_align_3.dump<br>
<br>
Patch 8.1.1905<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot set all properties of the info popup.<br>
Solution:&nbsp;&nbsp; Add popup_findinfo().&nbsp;&nbsp;Rename popup_getpreview() to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;popup_findpreview().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto/popupwin.pro, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/popupmnu.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_align_3.dump<br>
<br>
Patch 8.1.1906<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Info popup size is sometimes incorrect.<br>
Solution:&nbsp;&nbsp; Compute the position and size after setting the content.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmnu.c<br>
<br>
Patch 8.1.1907<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong position for info popup with scrollbar on the left.<br>
Solution:&nbsp;&nbsp; Take the scrollbar into account.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_5.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_cursorline_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_cursorline_4.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_cursorline_5.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_cursorline_6.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_filter_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_filter_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_filter_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_filter_4.dump<br>
<br>
Patch 8.1.1908<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Every popup window consumes a buffer number.<br>
Solution:&nbsp;&nbsp; Recycle buffers only used for popup windows.&nbsp;&nbsp;Do not list popup<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window buffers.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/window.c, src/vim.h, src/buffer.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/buffer.pro, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1909<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make a few more functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/testing.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, src/testdir/test_bufwintabinfo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufline.vim, src/testdir/test_assert.vim<br>
<br>
Patch 8.1.1910<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Redrawing too much when toggling&nbsp;<a class="Type" href="options.html#'relativenumber'">'relativenumber'</a>.<br>
Solution:&nbsp;&nbsp; Only clear when&nbsp;<a class="Type" href="options.html#'signcolumn'">'signcolumn'</a>&nbsp;is set to &quot;number&quot;. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #4852)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.1.1911<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make a few more functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test69.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test69.ok, src/testdir/test_functions.vim<br>
<br>
Patch 8.1.1912<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make channel and job functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/channel.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 8.1.1913<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to compute the space on the command line.<br>
Solution:&nbsp;&nbsp; Add v:echospace. (Daniel Hahler, closes #4732)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/eval.c, src/option.c, runtime/doc/eval.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_messages.vim<br>
<br>
Patch 8.1.1914<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Command line expansion code is spread out.<br>
Solution:&nbsp;&nbsp; Move set_one_cmd_context(). (Yegappan Lakshmanan, closes #4855)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/cmdexpand.c, src/ex_docmd.c, src/proto/ex_docmd.pro<br>
<br>
Patch 8.1.1915<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make various functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/testdir/test_cd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cindent.vim, src/testdir/test_match.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popup.vim, src/testdir/test_cursor_func.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_method.vim, src/testdir/test_bufline.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_diffmode.vim<br>
<br>
Patch 8.1.1916<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Trying to allocate negative amount of memory when closing a popup.<br>
Solution:&nbsp;&nbsp; Check the rows are not out of bounds.&nbsp;&nbsp;Don't finish a selection if<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it was never started.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.1.1917<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Non-current window is not redrawn when moving popup. (Ben Jackson)<br>
Solution:&nbsp;&nbsp; Redraw all windows under a popup. (closes #4860)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_drag_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_drag_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_drag_03.dump<br>
<br>
Patch 8.1.1918<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Redrawing popups is inefficient.<br>
Solution:&nbsp;&nbsp; Fix the logic to compute what window lines to redraw.&nbsp;&nbsp;Make it<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;work below the last line.&nbsp;&nbsp;Remove redrawing all windows.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c<br>
<br>
Patch 8.1.1919<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using current window option values when passing a buffer to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;popup_create().<br>
Solution:&nbsp;&nbsp; Clear the window-local options. (closes #4857)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/proto/option.pro, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1920<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot close a popup by the X when a filter consumes all events.<br>
Solution:&nbsp;&nbsp; Check for a click on the close button before invoking filters.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4858)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto/popupwin.pro, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_close_04.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_close_05.dump<br>
<br>
Patch 8.1.1921<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make various functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_expand.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expand_func.vim, src/testdir/test_expr.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_findfile.vim, src/testdir/test_fnameescape.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_fnamemodify.vim, src/testdir/test_fold.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vimscript.vim<br>
<br>
Patch 8.1.1922<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In diff mode global operations can be very slow.<br>
Solution:&nbsp;&nbsp; Do not call diff_redraw() many times, call it once when redrawing.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;And also don't update folds multiple times.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/diff.c, src/proto/diff.pro, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c<br>
<br>
Patch 8.1.1923<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some source files are not in a normal encoding.<br>
Solution:&nbsp;&nbsp; Convert hangulin.c from euc-kr to utf-8 and digraph.c from latin1<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to utf-8. (Daniel Hahler, closes #4731)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hangulin.c, src/digraph.c, .travis.yml<br>
<br>
Patch 8.1.1924<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using empty string for current buffer is unexpected.<br>
Solution:&nbsp;&nbsp; Make the argument optional for bufname() and bufnr().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_arglist.vim, runtime/doc/eval.txt<br>
<br>
Patch 8.1.1925<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make various functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufline.vim, src/testdir/test_bufwintabinfo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cd.vim, src/testdir/test_changelist.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim, src/testdir/test_edit.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_environ.vim, src/testdir/test_file_perm.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_getvar.vim, src/testdir/test_jumplist.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_put.vim, src/testdir/test_stat.vim<br>
<br>
Patch 8.1.1926<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursorline not redrawn when putting a line above the cursor.<br>
Solution:&nbsp;&nbsp; Redraw when the cursor line is below a change. (closes #4862)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/change.c<br>
<br>
Patch 8.1.1927<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code for dealing with script files is spread out.<br>
Solution:&nbsp;&nbsp; Move the code to scriptfile.c. (Yegappan Lakshmanan, closes #4861)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/cmdexpand.c, src/ex_cmds2.c, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds2.pro, src/proto/scriptfile.pro, src/scriptfile.c<br>
<br>
Patch 8.1.1928<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup windows don't move with the text when making changes.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<span class="MissingTag">'textprop'</span>&nbsp;property to the popup window options, position<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the popup relative to a text property. (closes #4560)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;No tests yet.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/textprop.c, src/proto/textprop.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/popupwin.c, src/proto/popupwin.pro, src/move.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/move.pro, src/window.c<br>
<br>
Patch 8.1.1929<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for text property popup window.<br>
Solution:&nbsp;&nbsp; Add a few tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/textprop.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_textprop_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_textprop_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_textprop_03.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_textprop_04.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_textprop_05.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_textprop_06.dump<br>
<br>
Patch 8.1.1930<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot recognize .jsx and .tsx files.<br>
Solution:&nbsp;&nbsp; Recognize them as javascriptreact and typescriptreact.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4830)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim, src/testdir/test_filetype.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/syntax/javascriptreact.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/indent/javascriptreact.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/ftplugin/javascriptreact.vim<br>
<br>
Patch 8.1.1931 (after 8.1.1930)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syntax test fails.<br>
Solution:&nbsp;&nbsp; Add new javascriptreact type to completions.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim<br>
<br>
Patch 8.1.1932<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ml_get errors after using append(). (Alex Genco)<br>
Solution:&nbsp;&nbsp; Do not update the cursor twice. (closes #1737)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_functions.vim<br>
<br>
Patch 8.1.1933<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The eval.c file is too big.<br>
Solution:&nbsp;&nbsp; Move code related to variables to evalvars.c. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #4868)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalfunc.c, src/evalvars.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto.h, src/proto/eval.pro, src/proto/evalvars.pro, src/vim.h<br>
<br>
Patch 8.1.1934<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough tests for text property popup window.<br>
Solution:&nbsp;&nbsp; Add a few more tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_textprop_corn_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_textprop_corn_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_textprop_corn_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_textprop_corn_4.dump<br>
<br>
Patch 8.1.1935 (after 8.1.1934)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for text property popup window is flaky.<br>
Solution:&nbsp;&nbsp; Remove the undo message<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_textprop_corn_4.dump<br>
<br>
Patch 8.1.1936<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not enough tests for text property popup window.<br>
Solution:&nbsp;&nbsp; Add a few more tests.&nbsp;&nbsp;Make negative offset work.&nbsp;&nbsp;Close all<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;popups when window closes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_textprop_07.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_textprop_off_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_textprop_off_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_textprop_corn_5.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popup_textprop_corn_6.dump<br>
<br>
Patch 8.1.1937 (after 8.1.1930)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Errors when using javascriptreact.<br>
Solution:&nbsp;&nbsp; Use &quot;:runtime&quot; instead of &quot;:source&quot;. (closes #4875)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/syntax/javascriptreact.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/indent/javascriptreact.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/ftplugin/javascriptreact.vim<br>
<br>
Patch 8.1.1938<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May crash when out of memory.<br>
Solution:&nbsp;&nbsp; Initialize v_type to VAR_UNKNOWN. (Dominique Pelle, closes #4871)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c<br>
<br>
Patch 8.1.1939<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code for handling v: variables in generic eval file.<br>
Solution:&nbsp;&nbsp; Move v: variables to evalvars.c. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4872)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalvars.c, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/evalvars.pro<br>
<br>
Patch 8.1.1940 (after 8.1.1939)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Script tests fail.<br>
Solution:&nbsp;&nbsp; Don't set vimvars type in set_vim_var_nr().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalvars.c, src/proto/evalvars.pro<br>
<br>
Patch 8.1.1941<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;getftype() test fails on Mac.<br>
Solution:&nbsp;&nbsp; Skip /dev/fd/.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_stat.vim<br>
<br>
Patch 8.1.1942<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Shadow directory gets outdated when files are added.<br>
Solution:&nbsp;&nbsp; Add the &quot;shadowupdate&quot; target and add a few comments.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.1.1943<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More code can be moved to evalvars.c.<br>
Solution:&nbsp;&nbsp; Move it, clean up comments.&nbsp;&nbsp;Also move some window related<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions to window.c. (Yegappan Lakshmanan, closes #4874)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalfunc.c, src/evalvars.c, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/evalvars.pro, src/proto/window.pro, src/window.c<br>
<br>
Patch 8.1.1944<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory when using sound callback.<br>
Solution:&nbsp;&nbsp; Free the callback queue item.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sound.c<br>
<br>
Patch 8.1.1945<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window &quot;firstline&quot; cannot be reset.<br>
Solution:&nbsp;&nbsp; Allow for setting &quot;firstline&quot; to zero.&nbsp;&nbsp;Fix that the text jumps to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the top when using win_execute(). (closes #4876)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_5.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_6.dump<br>
<br>
Patch 8.1.1946<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory error when profiling a function without a script ID.<br>
Solution:&nbsp;&nbsp; Check for missing script ID.&nbsp;&nbsp;(closes #4877)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_profile.vim, src/profiler.c<br>
<br>
Patch 8.1.1947<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When executing one test the report doesn't show it.<br>
Solution:&nbsp;&nbsp; Adjust the regexp. (Daniel Hahler, closes #4879)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/summarize.vim<br>
<br>
Patch 8.1.1948<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mouse doesn't work in Linux console and causes 100% CPU. (James P.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Harvey)<br>
Solution:&nbsp;&nbsp; Loop in WaitForCharOrMouse() when gpm_process_wanted is set.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4828)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.1.1949<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot scroll a popup window to the very bottom.<br>
Solution:&nbsp;&nbsp; Scroll to the bottom when the &quot;firstline&quot; property was set to -1.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4577)&nbsp;&nbsp;Allow resetting min/max width/height.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dict.c, src/proto/dict.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_firstline.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_firstline_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_firstline_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_10.dump<br>
<br>
Patch 8.1.1950<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using NULL pointer after an out-of-memory.<br>
Solution:&nbsp;&nbsp; Check for NULL pointer. (Dominique Pelle, closes #4881)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/syntax.c<br>
<br>
Patch 8.1.1951<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mouse double click test is a bit flaky.<br>
Solution:&nbsp;&nbsp; Add to list of flaky tests.&nbsp;&nbsp;Update a couple of comments.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/testdir/shared.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_substitute.vim<br>
<br>
Patch 8.1.1952<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as a method.<br>
Solution:&nbsp;&nbsp; Allow more functions to be used as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tagjump.vim, src/testdir/test_bufwintabinfo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/testdir/test_getvar.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_escaped_glob.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_glob2regpat.vim<br>
<br>
Patch 8.1.1953<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as a method.<br>
Solution:&nbsp;&nbsp; Allow more functions to be used as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_blob.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_breakindent.vim, src/testdir/test_delete.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/testdir/test_getcwd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_history.vim, src/testdir/test_listdict.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syn_attr.vim, src/testdir/test_termcodes.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_true_false.vim<br>
<br>
Patch 8.1.1954<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as a method.<br>
Solution:&nbsp;&nbsp; Allow more functions to be used as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_arglist.vim, src/testdir/test_functions.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_json.vim, src/testdir/test_lispwords.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listener.vim, src/testdir/test_lua.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_utf8.vim<br>
<br>
Patch 8.1.1955<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests contain typos.<br>
Solution:&nbsp;&nbsp; Correct the typos. (Dominique Pelle)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/popupbounce.vim, src/testdir/runtest.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/screendump.vim, src/testdir/test49.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/testdir/test_cindent.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_const.vim, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabpage.vim, src/testdir/test_tcl.vim<br>
<br>
Patch 8.1.1956<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Screenshot tests may use a different encoding. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Always set&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;to &quot;utf-8&quot; when running Vim in a terminal.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4884)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/shared.vim, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_behind.dump<br>
<br>
Patch 8.1.1957<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More code can be moved to evalvars.c.<br>
Solution:&nbsp;&nbsp; Move code to where it fits better. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4883)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalvars.c, src/ex_getln.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/proto/eval.pro, src/proto/evalvars.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_getln.pro, src/proto/scriptfile.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/scriptfile.c, src/session.c, src/viminfo.c<br>
<br>
Patch 8.1.1958<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old style comments taking up space.<br>
Solution:&nbsp;&nbsp; Change to new style comments.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.1.1959<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using &quot;firstline&quot; in popup window text may jump when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;redrawing it. (Nick Jensen)<br>
Solution:&nbsp;&nbsp; Set&nbsp;<a class="Type" href="options.html#'scrolloff'">'scrolloff'</a>&nbsp;to zero in a popup window. (closes #4882)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_5.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_6.dump<br>
<br>
Patch 8.1.1960<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Fold code is spread out.<br>
Solution:&nbsp;&nbsp; Move fold functions to fold.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/fold.c, src/proto/fold.pro<br>
<br>
Patch 8.1.1961<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as a method.<br>
Solution:&nbsp;&nbsp; Allow more functions to be used as a method.&nbsp;&nbsp;Add a test for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapcheck().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test70.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/testdir/test_getcwd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_maparg.vim, src/testdir/test_match.vim<br>
<br>
Patch 8.1.1962<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory when using tagfunc().<br>
Solution:&nbsp;&nbsp; Free the user_data. (Dominique Pelle, closes #4886)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.1.1963<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window filter may be called recursively when using a Normal<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mode command. (Nick Jensen)<br>
Solution:&nbsp;&nbsp; Prevent recursiveness. (closes #4887)&nbsp;&nbsp;Also restore KeyTyped.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1964<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using nested map() and filter().<br>
Solution:&nbsp;&nbsp; Do not set the v:key type to string without clearing the pointer.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4888)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_filter_map.vim<br>
<br>
Patch 8.1.1965<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The search count message is not displayed when using a mapping.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Gary Johnson)<br>
Solution:&nbsp;&nbsp; Ignore cmd_silent for showing the search count. (Christian<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 8.1.1966<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some code in options.c fits better elsewhere.<br>
Solution:&nbsp;&nbsp; Move functions from options.c to other files. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #4889)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/globals.h, src/indent.c, src/map.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/proto/map.pro, src/proto/option.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/quickfix.pro, src/proto/screen.pro, src/proto/spell.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/window.pro, src/quickfix.c, src/screen.c, src/spell.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.1.1967<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Line() only works for the current window.<br>
Solution:&nbsp;&nbsp; Add an optional argument for the window to use.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/eval.txt, src/evalfunc.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1968<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using nested map().<br>
Solution:&nbsp;&nbsp; Clear the pointer in prepare_vimvar(). (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4890, closes #4891)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalvars.c, src/testdir/test_filter_map.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.1969<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window filter is used in all modes.<br>
Solution:&nbsp;&nbsp; Add the &quot;filtermode&quot; property.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/vim.h, src/map.c, src/proto/map.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, runtime/doc/popup.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1970<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Search stat space wrong, no test for 8.1.1965.<br>
Solution:&nbsp;&nbsp; Fix check for cmd_silent.&nbsp;&nbsp;Add a test. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_search_stat.vim<br>
<br>
Patch 8.1.1971<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Manually enabling features causes build errors. (John Marriott)<br>
Solution:&nbsp;&nbsp; Adjust #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto.h, src/popupmnu.c, src/buffer.c, src/quickfix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.1.1972<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No proper test for getchar().<br>
Solution:&nbsp;&nbsp; Add a test with special characters.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.1973<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without the quickfix feature.<br>
Solution:&nbsp;&nbsp; Remove #ifdef for qf_info_T.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 8.1.1974<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Coverity warns for using pointer as array.<br>
Solution:&nbsp;&nbsp; Call var2fpos() directly instead of using f_line().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.1975<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows GUI responds slowly to timer.<br>
Solution:&nbsp;&nbsp; Break out of wait loop when timer was added or input is available.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4893)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.1.1976<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Travis log always shows test output.<br>
Solution:&nbsp;&nbsp; Change script to avoid if/else. (Ozaki Kiichi, closes #4892)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.travis.yml<br>
<br>
Patch 8.1.1977<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal debugger plugin may hang.<br>
Solution:&nbsp;&nbsp; Wait longer when still reading symbols.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.1.1978<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The eval.c file is too big.<br>
Solution:&nbsp;&nbsp; Move filter() and map() to list.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/proto/eval.pro, src/list.c, src/proto/list.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.1979<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code for handling file names is spread out.<br>
Solution:&nbsp;&nbsp; Move code to new filepath.c file.&nbsp;&nbsp;Graduate FEAT_MODIFY_FNAME.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/filepath.c, Filelist, src/Make_cyg_ming.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_morph.mak, src/Make_mvc.mak, src/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/README.md, src/eval.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/feature.h, src/findfile.c, src/if_cscope.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/misc1.c, src/proto.h, src/proto/eval.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/evalvars.pro src/proto/filepath.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/findfile.pro, src/proto/message.pro, src/regexp.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c<br>
<br>
Patch 8.1.1980<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Fix for search stat not tested.<br>
Solution:&nbsp;&nbsp; Add a screenshot test. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_search_stat.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_searchstat_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_searchstat_2.dump<br>
<br>
Patch 8.1.1981<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The evalfunc.c file is too big.<br>
Solution:&nbsp;&nbsp; Move undo functions to undo.c.&nbsp;&nbsp;Move cmdline functions to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ex_getln.c.&nbsp;&nbsp;Move some container functions to list.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/undo.c, src/proto/undo.pro, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_getln.pro, src/list.c, src/proto/list.pro<br>
<br>
Patch 8.1.1982<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make popup functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.1983<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler nags for uninitialized variable and unused function.<br>
Solution:&nbsp;&nbsp; Add unnecessary initialization.&nbsp;&nbsp;Move function inside #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/channel.c<br>
<br>
Patch 8.1.1984<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make various functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/testdir/test_perl.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_prompt_buffer.vim, src/testdir/test_python2.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_python3.vim, src/testdir/test_pyx2.vim<br>
<br>
Patch 8.1.1985<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Code for dealing with paths is spread out.<br>
Solution:&nbsp;&nbsp; Move path related functions from misc1.c to filepath.c.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove NO_EXPANDPATH.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/proto/misc1.pro, src/filepath.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/globals.h, src/misc2.c, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.h, src/proto/filepath.pro, src/scriptfile.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc2.pro, src/proto/scriptfile.pro, src/vim.h<br>
<br>
Patch 8.1.1986<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make textprop functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/textprop.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.1987<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make various functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_clientserver.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_eval_stuff.vim, src/testdir/test_functions.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_reltime.vim, src/testdir/test_rename.vim<br>
<br>
Patch 8.1.1988<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:startinsert! does not work the same way as &quot;A&quot;.<br>
Solution:&nbsp;&nbsp; Use the same code to move the cursor. (closes #4896)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/normal.c, src/proto/normal.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_edit.vim<br>
<br>
Patch 8.1.1989<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The evalfunc.c file is still too big.<br>
Solution:&nbsp;&nbsp; Move f_pathshorten() to filepath.c.&nbsp;&nbsp;Move f_cscope_connection() to<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if_cscope.c.&nbsp;&nbsp;Move diff_ functions to diff.c.&nbsp;&nbsp;Move timer_<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions to ex_cmds2.c.&nbsp;&nbsp;move callback functions to evalvars.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/proto/evalfunc.pro, src/filepath.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/filepath.pro, src/if_cscope.c, src/proto/if_cscope.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/proto/diff.pro, src/ex_cmds2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds2.pro, src/evalvars.c, src/proto/evalvars.pro<br>
<br>
Patch 8.1.1990<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with eval but without cscope.<br>
Solution:&nbsp;&nbsp; Always include if_cscope.pro.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto.h<br>
<br>
Patch 8.1.1991<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Still cannot build with eval but without cscope.<br>
Solution:&nbsp;&nbsp; Move f_cscope_connection() outside of #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.c<br>
<br>
Patch 8.1.1992<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The search stat moves when wrapping at the end of the buffer.<br>
Solution:&nbsp;&nbsp; Put the &quot;W&quot; in front instead of at the end.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_search_stat.vim<br>
<br>
Patch 8.1.1993<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make various functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufline.vim, src/testdir/test_charsearch.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_clientserver.vim, src/testdir/test_cmdline.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cursor_func.vim, src/testdir/test_diffmode.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_environ.vim, src/testdir/test_functions.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_matchadd_conceal_utf8.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_searchpos.vim, src/testdir/test_utf8.vim<br>
<br>
Patch 8.1.1994<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: cannot build with eval but without cscope<br>
Solution:&nbsp;&nbsp; Adjust the makefiles to always build if_cscope.obj.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_cyg_ming.mak<br>
<br>
Patch 8.1.1995<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make sign functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/sign.txt, src/evalfunc.c, src/testdir/test_signs.vim<br>
<br>
Patch 8.1.1996<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make various functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufwintabinfo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cursor_func.vim, src/testdir/test_expr.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/testdir/test_put.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim, src/testdir/test_sha256.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabpage.vim, src/testdir/test_tagjump.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vartabs.vim<br>
<br>
Patch 8.1.1997<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No redraw after a popup window filter is invoked.<br>
Solution:&nbsp;&nbsp; Redraw if needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_filter_5.dump<br>
<br>
Patch 8.1.1998<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Redraw even when no popup window filter was invoked.<br>
Solution:&nbsp;&nbsp; Only redraw when must_redraw was set to a larger value.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c<br>
<br>
Patch 8.1.1999<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Calling both PlaySoundW() and PlaySoundA().<br>
Solution:&nbsp;&nbsp; Only use PlaySoundW(). (Dan Thompson, closes #4903)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sound.c<br>
<br>
Patch 8.1.2000<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Plugin cannot get the current IME status.<br>
Solution:&nbsp;&nbsp; Add the getimstatus() function. (closes #4904)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/mbyte.pro, src/testdir/test_iminsert.vim<br>
<br>
Patch 8.1.2001<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some source files are too big.<br>
Solution:&nbsp;&nbsp; Move buffer and window related functions to evalbuffer.c and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;evalwindow.c. (Yegappan Lakshmanan, closes #4898)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/channel.c, src/evalbuffer.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalwindow.c, src/proto.h, src/proto/buffer.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/evalbuffer.pro, src/proto/evalfunc.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/evalwindow.pro, src/proto/window.pro, src/window.c<br>
<br>
Patch 8.1.2002<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Version number 2000 missing.<br>
Solution:&nbsp;&nbsp; Add the number in the list of patches.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c<br>
<br>
Patch 8.1.2003<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: code page 65001 is not recognized.<br>
Solution:&nbsp;&nbsp; Use utf-8 for code page 65001. (Dan Thompson, closes #4902)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c<br>
<br>
Patch 8.1.2004<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make various functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_breakindent.vim, src/testdir/test_expr.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/testdir/test_sound.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_spell.vim, src/testdir/test_substitute.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_swap.vim, src/testdir/test_utf8.vim<br>
<br>
Patch 8.1.2005<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The regexp.c file is too big.<br>
Solution:&nbsp;&nbsp; Move the backtracking engine to a separate file. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #4905)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_mvc.mak, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/regexp_bt.c<br>
<br>
Patch 8.1.2006<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure with huge features but without channel feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (Dominique Pelle, closes #4906)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c<br>
<br>
Patch 8.1.2007<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for what 8.1.1926 fixes.<br>
Solution:&nbsp;&nbsp; Add a test case.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_highlight.vim<br>
<br>
Patch 8.1.2008<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error for invalid range when using listener and undo. (Paul Jolly)<br>
Solution:&nbsp;&nbsp; Do not change the cursor before the lines are restored.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4908)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c, src/testdir/test_listener.vim<br>
<br>
Patch 8.1.2009<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursorline highlighting not updated in popup window. (Marko<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mahnič)<br>
Solution:&nbsp;&nbsp; Check if the cursor position changed. (closes #4912)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/structs.h, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_cursorline_7.dump<br>
<br>
Patch 8.1.2010<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;New file uses old style comments.<br>
Solution:&nbsp;&nbsp; Change to new style comments. (Yegappan Lakshmanan, closes #4910)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_bt.c<br>
<br>
Patch 8.1.2011<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make various functions usable as a method.&nbsp;&nbsp;Make the window<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;command test faster.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/testing.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_assert.vim, src/testdir/test_gui.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_messages.vim, src/testdir/test_options.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim, src/testdir/test_taglist.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim, src/testdir/test_timers.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vimscript.vim, src/testdir/test_viminfo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.1.2012<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make terminal functions usable as a method.&nbsp;&nbsp;Fix term_getattr().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt, src/evalfunc.c, src/terminal.c<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.2013<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;More functions can be used as methods.<br>
Solution:&nbsp;&nbsp; Make various functions usable as a method.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cursor_func.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_execute_func.vim, src/testdir/test_functions.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_listchars.vim, src/testdir/test_timers.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_undo.vim, src/testdir/test_window_cmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_window_id.vim<br>
<br>
Patch 8.1.2014<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal altscreen test fails sometimes.<br>
Solution:&nbsp;&nbsp; Use WaitFor().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.2015<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal altscreen test still fails sometimes.<br>
Solution:&nbsp;&nbsp; Write the escape sequence in a file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.2016<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal altscreen test now fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Skip the test on MS-Windows<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.2017<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot execute commands after closing the cmdline window.<br>
Solution:&nbsp;&nbsp; Also trigger BufEnter and WinEnter. (closes #4762)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, runtime/doc/cmdline.txt, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.1.2018<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using freed memory when out of memory and displaying message.<br>
Solution:&nbsp;&nbsp; Make a copy of the message first.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/message.c, src/normal.c<br>
<br>
Patch 8.1.2019<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>&nbsp;always highlights the whole line.<br>
Solution:&nbsp;&nbsp; Add&nbsp;<a class="Type" href="options.html#'cursorlineopt'">'cursorlineopt'</a>&nbsp;to specify what is highlighted.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Ozaki Kiichi, closes #4693)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/quickref.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/syntax.txt, runtime/optwin.vim, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/screen.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/gen_opt_test.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_alot.vim, src/testdir/test_cursorline.vim<br>
<br>
Patch 8.1.2020<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;It is not easy to change the window layout.<br>
Solution:&nbsp;&nbsp; Add win_splitmove(). (Andy Massimino, closes #4561)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/evalwindow.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/evalwindow.pro, src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.1.2021<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some global functions can be local to the file.<br>
Solution:&nbsp;&nbsp; Add &quot;static&quot;. (Yegappan Lakshmanan, closes #4917)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds2.c, src/filepath.c, src/hangulin.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c, src/os_unix.c, src/proto/ex_cmds2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/filepath.pro, src/proto/hangulin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/mbyte.pro, src/proto/misc1.pro, src/proto/os_unix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/terminal.pro, src/proto/undo.pro, src/pty.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/undo.c<br>
<br>
Patch 8.1.2022<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The option.c file is too big.<br>
Solution:&nbsp;&nbsp; Move option definitions to a separate file. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4918)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_mvc.mak, src/Make_vms.mms, src/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/optiondefs.h<br>
<br>
Patch 8.1.2023<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for synIDattr() returning &quot;strikethrough&quot;.<br>
Solution:&nbsp;&nbsp; Extend the synIDattr() test. (Jaskaran Singh, closes #4929)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syn_attr.vim<br>
<br>
Patch 8.1.2024<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Delete call commented out for debugging.<br>
Solution:&nbsp;&nbsp; Restore the delete call. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_undo.vim<br>
<br>
Patch 8.1.2025<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: Including shlguid.h causes problems for msys2.<br>
Solution:&nbsp;&nbsp; Do not include shlguid.h. (closes #4913)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/gvimext.h<br>
<br>
Patch 8.1.2026<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Possibly using uninitialized memory.<br>
Solution:&nbsp;&nbsp; Check if &quot;dict&quot; is NULL. (closes #4925)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c<br>
<br>
Patch 8.1.2027<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: problem with ambiwidth characters.<br>
Solution:&nbsp;&nbsp; handle ambiguous width characters in ConPTY on Windows 10 (1903).<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Nobuhiro Takasaki, closes #4411)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_cyg_ming.mak, src/libvterm/src/parser.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/state.c, src/libvterm/src/termscreen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/unicode.c, src/libvterm/src/vterm_internal.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/os_win32.c, src/proto/misc2.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/os_win32.pro<br>
<br>
Patch 8.1.2028<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Options test script does not work.<br>
Solution:&nbsp;&nbsp; Use optiondefs.h for input.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/Make_dos.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_ming.mak<br>
<br>
Patch 8.1.2029<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot control&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>&nbsp;highlighting well.<br>
Solution:&nbsp;&nbsp; Add &quot;screenline&quot;. (Christian Brabandt, closes #4933)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/change.c, src/main.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/optiondefs.h, src/screen.c, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/highlight.c, src/testdir/dumps/Test_Xcursorline_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_4.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_5.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_6.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_7.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_8.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_9.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_10.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_11.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_12.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_13.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_14.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_15.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_16.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_17.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_18.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/gen_opt_test.vim, src/testdir/test_cursorline.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_cursorline_yank_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_wincolor_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_textprop_01.dump<br>
<br>
Patch 8.1.2030<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests fail when build with normal features and terminal.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Disable tests that won't work. (closes #4932)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.2031<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor position wrong when resizing and using conceal.<br>
Solution:&nbsp;&nbsp; Set the flags that the cursor position is valid when setting the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;row and column during redrawing. (closes #4931)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_conceal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_resize_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_conceal_resize_02.dump<br>
<br>
Patch 8.1.2032<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Scrollbar thumb wrong in popup window.<br>
Solution:&nbsp;&nbsp; Adjust thumb size and position when scrolled.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/dumps/Test_popupwin_scroll_2.dump<br>
<br>
Patch 8.1.2033<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with tiny features.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c<br>
<br>
Patch 8.1.2034<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dark theme of GTK 3 not supported.<br>
Solution:&nbsp;&nbsp; Add the &quot;d&quot; flag in&nbsp;<a class="Type" href="options.html#'guioptions'">'guioptions'</a>. (Jonathan Conder, closes #4934)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/feature.h, src/gui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/option.h, src/proto/gui_gtk_x11.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gui.vim<br>
<br>
Patch 8.1.2035<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Recognizing octal numbers is confusing.<br>
Solution:&nbsp;&nbsp; Introduce scriptversion 4: do not use octal and allow for single<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quote inside numbers.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/vim.h, src/eval.c, src/scriptfile.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_eval_stuff.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.2036 (after 8.1.2035)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The str2nr() tests fail.<br>
Solution:&nbsp;&nbsp; Add missing part of patch.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/charset.c<br>
<br>
Patch 8.1.2037<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can call win_gotoid() in cmdline window.<br>
Solution:&nbsp;&nbsp; Disallow switching windows. (Yasuhiro Matsumoto, closes #4940)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalwindow.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 8.1.2038<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;has('vimscript-4') is always 0.<br>
Solution:&nbsp;&nbsp; Add &quot;vimscript-4&quot; to the feature table. (Naruhiko Nishino,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4941)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_eval_stuff.vim<br>
<br>
Patch 8.1.2039<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Character from&nbsp;<a class="Type" href="options.html#'showbreak'">'showbreak'</a>&nbsp;does not use&nbsp;<a class="Type" href="options.html#'wincolor'">'wincolor'</a>. (Nick Jensen)<br>
Solution:&nbsp;&nbsp; Mix with&nbsp;<a class="Type" href="options.html#'wincolor'">'wincolor'</a>. (closes #4938)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_showbreak.dump<br>
<br>
Patch 8.1.2040<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No highlighting of current line in quickfix window.<br>
Solution:&nbsp;&nbsp; Combine with line_attr.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/testdir/test_quickfix.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_quickfix_cwindow_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_quickfix_cwindow_2.dump<br>
<br>
Patch 8.1.2041 (after 8.1.2040)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for diff mode with syntax highlighting.<br>
Solution:&nbsp;&nbsp; Add a test case.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_diffmode.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_diff_syntax_1.dump<br>
<br>
Patch 8.1.2042<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The evalfunc.c file is too big.<br>
Solution:&nbsp;&nbsp; Move getchar() and parse_queued_messages() to getchar.c.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/proto/getchar.pro, src/evalfunc.c, src/misc2.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc2.pro<br>
<br>
Patch 8.1.2043<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not sufficient testing for quoted numbers.<br>
Solution:&nbsp;&nbsp; Add a few more test cases.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/testdir/test_eval_stuff.vim<br>
<br>
Patch 8.1.2044<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No easy way to process postponed work. (Paul Jolly)<br>
Solution:&nbsp;&nbsp; Add the SafeState autocommand event.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, src/main.c, src/proto/main.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h, src/autocmd.c, src/channel.c, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.1.2045<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The option.c file is too big.<br>
Solution:&nbsp;&nbsp; Split off the code dealing with strings. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4937)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/option.h, src/optiondefs.h, src/optionstr.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/os_unix.c, src/proto.h, src/proto/option.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/optionstr.pro<br>
<br>
Patch 8.1.2046<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;SafeState may be triggered at the wrong moment.<br>
Solution:&nbsp;&nbsp; Move it up higher to after where messages are processed.&nbsp;&nbsp;Add a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SafeStateAgain event to trigger there.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, src/main.c, src/proto/main.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/channel.c, src/autocmd.c, src/vim.h<br>
<br>
Patch 8.1.2047<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot check the current state.<br>
Solution:&nbsp;&nbsp; Add the state() function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/misc1.c, src/proto/misc1.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/proto/evalfunc.pro, src/main.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/main.pro, src/channel.c, src/proto/channel.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/proto/userfunc.pro<br>
<br>
Patch 8.1.2048<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not clear why SafeState and SafeStateAgain are not triggered.<br>
Solution:&nbsp;&nbsp; Add log statements.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/main.c, src/proto/main.pro<br>
<br>
Patch 8.1.2049 (after 8.1.2048)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build tiny version.<br>
Solution:&nbsp;&nbsp; Add #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c<br>
<br>
Patch 8.1.2050<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window test fails in some configurations. (James McCoy)<br>
Solution:&nbsp;&nbsp; Clear the command line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_10.dump<br>
<br>
Patch 8.1.2051<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Double-click test is a bit flaky.<br>
Solution:&nbsp;&nbsp; Correct entry in list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.2052<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;x&quot; before a closed fold may delete that fold.<br>
Solution:&nbsp;&nbsp; Do not translate 'x' do &quot;dl&quot;. (Christian Brabandt, closes #4927)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_fold.vim<br>
<br>
Patch 8.1.2053<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;SafeStateAgain not triggered if callback uses feedkeys().<br>
Solution:&nbsp;&nbsp; Check for safe state in the input loop.&nbsp;&nbsp;Make log messages easier<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to find. Add 'S' flag to state().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/proto/main.pro, src/getchar.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt<br>
<br>
Patch 8.1.2054<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler test for Perl may fail.<br>
Solution:&nbsp;&nbsp; Accept any error line number. (James McCoy, closes #4944)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_compiler.vim<br>
<br>
Patch 8.1.2055<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to jump to function line from profile.<br>
Solution:&nbsp;&nbsp; Use &quot;<span class="Constant">file:99</span>&quot; instead of &quot;file line 99&quot; so that &quot;gf&quot; works.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Daniel Hahler, closes #4951)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/profiler.c, src/testdir/test_profile.vim<br>
<br>
Patch 8.1.2056<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make test&quot; for indent files doesn't cause make to fail.<br>
Solution:&nbsp;&nbsp; Exit the script with &quot;:cquit&quot;. (Daniel Hahler, closes #4949)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/indent/testdir/runtest.vim, .gitignore<br>
<br>
Patch 8.1.2057<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The screen.c file is much too big.<br>
Solution:&nbsp;&nbsp; Split it in three parts. (Yegappan Lakshmanan, closes #4943)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/drawscreen.c, src/globals.h, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/drawline.pro, src/proto/drawscreen.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/screen.pro, src/screen.c, src/vim.h<br>
<br>
Patch 8.1.2058<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Function for ex command is named inconsistently.<br>
Solution:&nbsp;&nbsp; Rename do_marks() to ex_marks().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mark.c, src/proto/mark.pro, src/ex_cmds.h<br>
<br>
Patch 8.1.2059<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Fix for &quot;x&quot; deleting a fold has side effects.<br>
Solution:&nbsp;&nbsp; Fix it where the fold is included.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 8.1.2060<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;precedes&quot; in&nbsp;<a class="Type" href="options.html#'listchars'">'listchars'</a>&nbsp;not used properly.<br>
Solution:&nbsp;&nbsp; Correctly handle the &quot;precedes&quot; char in list mode for long lines.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Zach Wegner, Christian Brabandt, closes #4953)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/drawline.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_display.vim, src/testdir/view_util.vim<br>
<br>
Patch 8.1.2061<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows GUI: &quot;:sh&quot; crashes when trying to use a terminal.<br>
Solution:&nbsp;&nbsp; Check for a NULL command. (Yasuhiro Matsumoto, closes #4958)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.2062<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The mouse code is spread out.<br>
Solution:&nbsp;&nbsp; Move all the mouse code to mouse.c. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4959)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/auto/configure, src/configure.ac, src/edit.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/ex_getln.c, src/insexpand.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/termmouse.c, src/libvterm/src/mouse.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/message.c, src/misc1.c, src/misc2.c, src/mouse.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/proto.h, src/proto/edit.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc1.pro, src/proto/misc2.pro, src/proto/mouse.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/normal.pro, src/proto/term.pro, src/proto/ui.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/term.c, src/ui.c, src/vim.h, src/window.c<br>
<br>
Patch 8.1.2063<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some tests fail when +balloon_eval_term is missing but<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;_balloon_eval is present. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Check the right feature in the test. (closes #4962)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.2064<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: compiler warnings for unused arguments.<br>
Solution:&nbsp;&nbsp; Add UNUSED. (Yegappan Lakshmanan, closes #4963)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c, src/ex_docmd.c, src/ex_getln.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/main.c, src/memline.c, src/os_mswin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/terminal.c, src/ui.c, src/undo.c<br>
<br>
Patch 8.1.2065<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning building non-GUI with MinGW.<br>
Solution:&nbsp;&nbsp; Adjust #ifdefs. (Yegappan Lakshmanan, closes #4964)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sre/mouse.c<br>
<br>
Patch 8.1.2066<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for state().<br>
Solution:&nbsp;&nbsp; Add tests.&nbsp;&nbsp;Clean up some feature checks.&nbsp;&nbsp;Make &quot;a&quot; flag work.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 8.1.2067<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for SafeState and SafeStateAgain.<br>
Solution:&nbsp;&nbsp; Add tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.1.2068 (after 8.1.2067)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for SafeState and SafeStateAgain may fail.<br>
Solution:&nbsp;&nbsp; Accept more possible responses<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.1.2069 (after 8.1.2068)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for SafeStateAgain may still fail.<br>
Solution:&nbsp;&nbsp; Send another message to trigger SafeStateAgain.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.1.2070<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mouse code is spread out.<br>
Solution:&nbsp;&nbsp; Move mouse terminal code parsing to mouse.c. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4966)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mouse.c, src/proto/mouse.pro, src/proto/term.pro, src/term.c<br>
<br>
Patch 8.1.2071<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When&nbsp;<a class="Type" href="options.html#'wincolor'">'wincolor'</a>&nbsp;is set text property changes highlighting. (Andy<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stewart)<br>
Solution:&nbsp;&nbsp; Fix combining colors. (closes #4968)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/testdir/test_highlight.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_wincolor_01.dump<br>
<br>
Patch 8.1.2072<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;gk&quot; moves to start of line instead of upwards.<br>
Solution:&nbsp;&nbsp; Fix off-by-one error. (Christian Brabandt, closes #4969)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/testdir/test_normal.vim<br>
<br>
Patch 8.1.2073<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When editing a buffer&nbsp;<a class="Type" href="options.html#'colorcolumn'">'colorcolumn'</a>&nbsp;may not work.<br>
Solution:&nbsp;&nbsp; Set the buffer before copying option values. Call<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;check_colorcolumn() after copying window options.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/option.c, src/proto/option.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/indent.pro, src/testdir/test_highlight.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_colorcolumn_1.dump<br>
<br>
Patch 8.1.2074<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for SafeState autocommand is a bit flaky.<br>
Solution:&nbsp;&nbsp; Add to list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.2075<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Get many log messages when waiting for a typed character.<br>
Solution:&nbsp;&nbsp; Do not repeat the repeated messages when nothing happens.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/channel.c, src/main.c<br>
<br>
Patch 8.1.2076<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when trying to put a terminal buffer in a popup window.<br>
Solution:&nbsp;&nbsp; Check for NULL buffer.&nbsp;&nbsp;Do not allow putting a terminal in a popup<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;window.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/termscreen.c, src/terminal.c, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.2077<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The ops.c file is too big.<br>
Solution:&nbsp;&nbsp; Move code for dealing with registers to a new file. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #4982)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/proto.h, src/proto/ops.pro, src/proto/register.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/register.c, src/structs.h<br>
<br>
Patch 8.1.2078<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build error with +textprop but without +terminal. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c<br>
<br>
Patch 8.1.2079<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window test fails without +terminal.<br>
Solution:&nbsp;&nbsp; Check for the +terminal feature.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.2080<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The terminal API is limited and can't be disabled.<br>
Solution:&nbsp;&nbsp; Add term_setapi() to set the function prefix. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2907)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/terminal.txt, src/channel.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/proto/terminal.pro, src/structs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/term_util.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.2081<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The spell.c file is too big.<br>
Solution:&nbsp;&nbsp; Move the code for spell suggestions to a separate file. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #4988)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto.h, src/proto/spell.pro, src/proto/spellsuggest.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/spell.h, src/spellsuggest.c<br>
<br>
Patch 8.1.2082<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some files have a weird name to fit in 8.3 characters.<br>
Solution:&nbsp;&nbsp; Use a nicer names.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, Makefile, src/popupmnu.c, src/popupmenu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupmnu.pro, src/proto/popupmenu.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_morph.mak, src/Make_mvc.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms, src/Makefile, src/proto.h, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/uninstal.c, src/uninstall.c, uninstal.txt, uninstall.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/gvim.nsi, src/INSTALLpc.txt, src/dosinst.c, src/dosinst.h<br>
<br>
Patch 8.1.2083<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Multi-byte chars do not work properly with &quot;%.*S&quot; in printf().<br>
Solution:&nbsp;&nbsp; Use mb_ptr2cells(). Daniel Hahler, closes #4989)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_expr.vim, src/message.c<br>
<br>
Patch 8.1.2084<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Amiga: cannot get the user name.<br>
Solution:&nbsp;&nbsp; Use getpwuid() if available. (Ola Söder, closes #4985)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_amiga.c, src/os_amiga.h<br>
<br>
Patch 8.1.2085<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: draw error moving cursor over double-cell character.<br>
Solution:&nbsp;&nbsp; Move the cursor to the left edge if needed. (Nobuhiro Takasaki,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4986)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.2086 (after 8.1.2082)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing a few changes for the renamed files.<br>
Solution:&nbsp;&nbsp; Rename in a few more places. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;nsis/README.txt, runtime/doc/gui_w32.txt, runtime/doc/usr_90.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/GvimExt/GvimExt.reg, src/GvimExt/README.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupmenu.pro, src/proto/popupmnu.pro<br>
<br>
Patch 8.1.2087<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot easily select one test function to execute.<br>
Solution:&nbsp;&nbsp; Support the $TEST_FILTER environment variable. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #2695)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/runtest.vim, src/testdir/summarize.vim<br>
<br>
Patch 8.1.2088<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Renamed libvterm mouse.c file not in distributed file list.<br>
Solution:&nbsp;&nbsp; Rename the file in the file list.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.1.2089 (after 8.1.2087)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Do not get a hint that $TEST_FILTER was active.<br>
Solution:&nbsp;&nbsp; Mention $TEST_FILTER if no functions were executed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.2090<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not clear why channel log file ends.<br>
Solution:&nbsp;&nbsp; Add a &quot;closing&quot; line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/channel.c<br>
<br>
Patch 8.1.2091<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Double free when memory allocation fails. (Zu-Ming Jiang)<br>
Solution:&nbsp;&nbsp; Use VIM_CLEAR() instead of vim_free(). (closes #4991)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.1.2092<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: redirect in system() does not work.<br>
Solution:&nbsp;&nbsp; Handle&nbsp;<a class="Type" href="options.html#'shellxescape'">'shellxescape'</a>&nbsp;and&nbsp;<a class="Type" href="options.html#'shellxquote'">'shellxquote'</a>&nbsp;better. (Yasuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Matsumoto, closes #2054)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/misc2.c, src/testdir/test_system.vim<br>
<br>
Patch 8.1.2093<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: system() test fails.<br>
Solution:&nbsp;&nbsp; Expect CR when using systemlist().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_system.vim<br>
<br>
Patch 8.1.2094<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The fileio.c file is too big.<br>
Solution:&nbsp;&nbsp; Move buf_write() to bufwrite.c. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4990)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/bufwrite.c, src/fileio.c, src/option.c, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/bufwrite.pro, src/proto/fileio.pro, src/structs.h<br>
<br>
Patch 8.1.2095<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory when getting item from dict.<br>
Solution:&nbsp;&nbsp; Also free the key when not evaluating.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dict.c<br>
<br>
Patch 8.1.2096<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too many #ifdefs.<br>
Solution:&nbsp;&nbsp; Graduate FEAT_COMMENTS.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/buffer.c, src/change.c, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/fold.c, src/insexpand.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/ops.c, src/option.c, src/optionstr.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/version.c, src/globals.h, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/optiondefs.h, src/structs.h, runtime/doc/change.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/various.txt<br>
<br>
Patch 8.1.2097<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:mksession is not sufficiently tested.<br>
Solution:&nbsp;&nbsp; Add more test cases. (Yegappan Lakshmanan, closes #4992)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.2098 (after 8.1.2097)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;mksession test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Skip testing with backslashes on MS-Windows.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.2099<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;state() test fails on some Mac systems.<br>
Solution:&nbsp;&nbsp; Increase the wait time. (closes #4983)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.2100<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:mksession is not sufficiently tested.<br>
Solution:&nbsp;&nbsp; Add more test cases. (Yegappan Lakshmanan, closes #4993)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.2101<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;write_session_file() often defined but not used.<br>
Solution:&nbsp;&nbsp; Adjust the #ifdef. (Yegappan Lakshmanan, closes #4998)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/session.c<br>
<br>
Patch 8.1.2102<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Can't build with GTK and FEAT_GUI_GNOME. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Adjust the #ifdef. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/session.c<br>
<br>
Patch 8.1.2103<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;wrong error message if &quot;termdebugger&quot; is not executable.<br>
Solution:&nbsp;&nbsp; Check if &quot;termdebugger&quot; is executable and give a clear error<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;message. (Ozaki Kiichi, closes #5000)&nbsp;&nbsp;Fix indents.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/pack/dist/opt/termdebug/plugin/termdebug.vim<br>
<br>
Patch 8.1.2104<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The normal.c file is too big.<br>
Solution:&nbsp;&nbsp; Move do_pending_operator() to ops.c. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4999).<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c, src/ops.c, src/proto/normal.pro, src/proto/ops.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h<br>
<br>
Patch 8.1.2105<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: system() may crash.<br>
Solution:&nbsp;&nbsp; Do not use &quot;itmp&quot; when it is NULL. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5005)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.1.2106<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No tests for dragging the mouse beyond the window.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #5004)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.2107<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Various memory leaks reported by asan.<br>
Solution:&nbsp;&nbsp; Free the memory. (Ozaki Kiichi, closes #5003)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/change.c, src/eval.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/popupwin.c, src/proto/change.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/scriptfile.c, src/terminal.c, src/testdir/test_method.vim<br>
<br>
Patch 8.1.2108<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot close the cmdline window from CmdWinEnter. (George Brown)<br>
Solution:&nbsp;&nbsp; Reset cmdwin_result earlier. (Christian Brabandt, closes #4980)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 8.1.2109<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;popup_getoptions() hangs with tab-local popup.<br>
Solution:&nbsp;&nbsp; Correct pointer name. (Marko Mahnič, closes #5006)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.2110<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-C</span>&nbsp;closes two popups instead of one.<br>
Solution:&nbsp;&nbsp; Reset got_int when the filter consumed the key.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.2111<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Viminfo file not sufficiently tested.<br>
Solution:&nbsp;&nbsp; Add more tests. (Yegappan Lakshmanan, closes #5009)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_viminfo.vim<br>
<br>
Patch 8.1.2112<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build number for ConPTY is outdated.<br>
Solution:&nbsp;&nbsp; Update to new build number. (Nobuhiro Takasaki, closes #5014)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.2113<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:help expr-!~?&quot; only works after searching.<br>
Solution:&nbsp;&nbsp; Escape &quot;~&quot; after &quot;expr-&quot;. (closes #5015)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_help.vim<br>
<br>
Patch 8.1.2114<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When a popup is closed with&nbsp;<span class="Special">CTRL-C</span>&nbsp;the callback aborts.<br>
Solution:&nbsp;&nbsp; Reset got_int when invoking the callback. (closes #5008)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c<br>
<br>
Patch 8.1.2115<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: shell commands fail if &amp;shell contains a space.<br>
Solution:&nbsp;&nbsp; Use quotes instead of escaping. (closes #4920)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/os_win32.c, src/testdir/test_startup.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_system.vim, src/vimrun.c,<br>
<br>
Patch 8.1.2116<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No check for out of memory.<br>
Solution:&nbsp;&nbsp; Check for NULL pointer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.1.2117<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;CursorLine highlight used while&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>&nbsp;is off.<br>
Solution:&nbsp;&nbsp; Check&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>&nbsp;is set. (cloes #5017)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/testdir/test_cursorline.vim<br>
<br>
Patch 8.1.2118<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Termcodes test fails when $TERM is &quot;dumb&quot;.<br>
Solution:&nbsp;&nbsp; Skip the test. (James McCoy, closes #5019)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.2119<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;memory access error for empty string when&nbsp;<a class="Type" href="options.html#'encoding'">'encoding'</a>&nbsp;is a single<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;byte encoding.<br>
Solution:&nbsp;&nbsp; Check for empty string when getting the length. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5021, closes #5007)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h<br>
<br>
Patch 8.1.2120<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some MB_ macros are more complicated than necessary. (Dominique<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Pelle)<br>
Solution:&nbsp;&nbsp; Simplify the macros.&nbsp;&nbsp;Expand inline.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/macros.h, src/beval.c, src/diff.c src/eval.c src/evalfunc.c<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/filepath.c, src/findfile.c, src/getchar.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/highlight.c, src/ops.c, src/os_mswin.c, src/popupmenu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/spell.c, src/spellsuggest.c, src/terminal.c<br>
<br>
Patch 8.1.2121<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mode is not updated when switching to terminal in Insert mode.<br>
Solution:&nbsp;&nbsp; Redraw the mode when entering a terminal window. (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_window_cmd.vim<br>
<br>
Patch 8.1.2122 (after 8.1.2121)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without terminal feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c<br>
<br>
Patch 8.1.2123<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Parsing CSI sequence is messy.<br>
Solution:&nbsp;&nbsp; Generalize parsing a CSI sequence.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.1.2124<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ruler is not updated if win_execute() moves cursor.<br>
Solution:&nbsp;&nbsp; Update the status line. (closes #5022)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalwindow.c, src/testdir/test_execute_func.vim<br>
<br>
Patch 8.1.2125<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Fnamemodify() fails when repeating :e.<br>
Solution:&nbsp;&nbsp; Do not go before the tail. (Rob Pilling, closes #5024)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/filepath.c, src/testdir/test_fnamemodify.vim<br>
<br>
Patch 8.1.2126<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Viminfo not sufficiently tested.<br>
Solution:&nbsp;&nbsp; Add more test cases.&nbsp;&nbsp;Clean up comments. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5032)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/structs.h, src/testdir/test_viminfo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/viminfo.c<br>
<br>
Patch 8.1.2127<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The indent.c file is a bit big.<br>
Solution:&nbsp;&nbsp; Move C-indent code to a new cindent.c file.&nbsp;&nbsp;Move other<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;indent-related code to indent.c. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5031)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Make_cyg_ming.mak, src/Make_morph.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/Make_vms.mms, src/Makefile, src/README.md,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/change.c, src/cindent.c, src/edit.c, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/globals.h, src/indent.c, src/misc1.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/proto.h, src/proto/cindent.pro, src/proto/edit.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_cmds.pro, src/proto/indent.pro, src/proto/misc1.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ops.pro, src/userfunc.c<br>
<br>
Patch 8.1.2128<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Renamed libvterm sources makes merging difficult.<br>
Solution:&nbsp;&nbsp; Rename back to the original name and only rename the .o files.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also clean the libvterm build artifacts. (James McCoy,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5027)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/termmouse.c, src/libvterm/src/mouse.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/termscreen.c, src/libvterm/src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/configure.ac, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak<br>
<br>
Patch 8.1.2129<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using hard coded executable path in test.<br>
Solution:&nbsp;&nbsp; Use v:progpath. Use $VIMRUNTIME instead of &quot;runtime&quot;. (James<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;McCoy, closes #5025)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test49.vim, src/testdir/test_compiler.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_spell.vim<br>
<br>
Patch 8.1.2130 (after 8.1.2128)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MSVC build fails.<br>
Solution:&nbsp;&nbsp; Add the source file name explicitly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak<br>
<br>
Patch 8.1.2131 (after 8.1.2129)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MSVC tests fail.<br>
Solution:&nbsp;&nbsp; Replace backslashes with slashes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_compiler.vim, src/testdir/test_spell.vim<br>
<br>
Patch 8.1.2132<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: screen mess when not recognizing insider build.<br>
Solution:&nbsp;&nbsp; Always move the cursor to the first column first. (Nobuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takasaki, closes #5036)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
Patch 8.1.2133<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some tests fail when run as root.<br>
Solution:&nbsp;&nbsp; Add CheckNotRoot and use it. (James McCoy, closes #5020)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/check.vim, src/testdir/shared.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_rename.vim, src/testdir/test_swap.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/testdir/test_viminfo.vim<br>
<br>
Patch 8.1.2134<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Modifier keys are not always recognized.<br>
Solution:&nbsp;&nbsp; Handle key codes generated by xterm with modifyOtherKeys set.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add this to libvterm so we can debug it.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/getchar.c, src/libvterm/src/vterm_internal.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/state.c, src/libvterm/src/keyboard.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/include/vterm.h, src/globals.h, src/terminal.c<br>
<br>
Patch 8.1.2135<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With modifyOtherKeys Alt-a does not work properly.<br>
Solution:&nbsp;&nbsp; Remove the ALT modifier.&nbsp;&nbsp;Get multi-byte after applying ALT.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.1.2136<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;using freed memory with autocmd from fuzzer. (Dhiraj Mishra,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Avoid using &quot;wp&quot; after autocommands. (closes #5041)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_autocmd.vim<br>
<br>
Patch 8.1.2137<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Parsing the termresponse is not tested.<br>
Solution:&nbsp;&nbsp; Add a first test. (related to #5042)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.2138<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Including the build number in the Win32 binary is confusing.<br>
Solution:&nbsp;&nbsp; Only use the patchlevel.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.rc<br>
<br>
Patch 8.1.2139<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The modifyOtherKeys codes are not tested.<br>
Solution:&nbsp;&nbsp; Add a test case.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.2140<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;gk&quot; and &quot;gj&quot; do not work correctly in number column.<br>
Solution:&nbsp;&nbsp; Allow for a negative &quot;curswant&quot;. (Zach Wegner, closes #4969)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim, src/misc2.c, src/normal.c<br>
<br>
Patch 8.1.2141<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:tselect has an extra hit-enter prompt.<br>
Solution:&nbsp;&nbsp; Do not set need_wait_return when only moving the cursor.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #5040)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/testdir/test_tagjump.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_tselect_1.dump<br>
<br>
Patch 8.1.2142<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some key mappings do not work with modifyOtherKeys.<br>
Solution:&nbsp;&nbsp; Remove the Shift modifier if it is already included in the key.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.2143<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot see each command even when&nbsp;<a class="Type" href="options.html#'verbose'">'verbose'</a>&nbsp;is set.<br>
Solution:&nbsp;&nbsp; List each command when&nbsp;<a class="Type" href="options.html#'verbose'">'verbose'</a>&nbsp;is at least 16.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c src/testdir/test_tagjump.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_verbose_option_1.dump<br>
<br>
Patch 8.1.2144<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Side effects when using t_ti to enable modifyOtherKeys.<br>
Solution:&nbsp;&nbsp; Add t_TI and t_TE.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/term.txt, src/term.c, src/optiondefs.h, src/term.h,<br>
<br>
Patch 8.1.2145<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot map&nbsp;<span class="Special">&lt;C-H&gt;</span>&nbsp;when modifyOtherKeys is enabled.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<span class="Special">&lt;C-H&gt;</span>&nbsp;mapping twice, both with modifier and as 0x08.&nbsp;&nbsp;Use<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;only the first one when modifyOtherKeys has been detected.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/eval.c, src/getchar.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_mac.c, src/gui_w32.c, src/highlight.c, src/if_ole.cpp,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/map.c, src/menu.c, src/misc2.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc2.pro, src/proto/term.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim, src/structs.h, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/usercmd.c, src/vim.h<br>
<br>
Patch 8.1.2146 (after 8.1.2145)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure.<br>
Solution:&nbsp;&nbsp; Include omitted changed file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/optionstr.c<br>
<br>
Patch 8.1.2147<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when allocating memory fails. (Zu-Ming Jiang)<br>
Solution:&nbsp;&nbsp; Check that&nbsp;<a class="Type" href="options.html#'spellcapcheck'">'spellcapcheck'</a>&nbsp;is not NULL. (closes #5048)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c<br>
<br>
Patch 8.1.2148<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for right click extending Visual area.<br>
Solution:&nbsp;&nbsp; Add a test. (Dominique Pelle, closes #5018)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.2149<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when running out of memory very early.<br>
Solution:&nbsp;&nbsp; Do not use IObuff when it's NULL. (closes #5052)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c<br>
<br>
Patch 8.1.2150<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for&nbsp;<a class="Type" href="options.html#'ttymouse'">'ttymouse'</a>&nbsp;set from xterm version response.<br>
Solution:&nbsp;&nbsp; Test the three possible values.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.2151<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;State test is a bit flaky.<br>
Solution:&nbsp;&nbsp; Add to the list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.2152<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Problems navigating tags file on MacOS Catalina.<br>
Solution:&nbsp;&nbsp; Use fseek instead of lseek. (John Lamb, fixes #5061)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c<br>
<br>
Patch 8.1.2153<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Combining text property and syntax highlight is wrong. (Nick<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jensen)<br>
Solution:&nbsp;&nbsp; Compute the syntax highlight attribute much earlier.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #5057)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/testdir/test_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_textprop_syn_1.dump<br>
<br>
Patch 8.1.2154<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix window height wrong when there is a tabline. (Daniel<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hahler)<br>
Solution:&nbsp;&nbsp; Take the tabline height into account. (closes #5058)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.2155<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;In a terminal window&nbsp;<a class="Type" href="options.html#'cursorlineopt'">'cursorlineopt'</a>&nbsp;does not work properly.<br>
Solution:&nbsp;&nbsp; Check the&nbsp;<a class="Type" href="options.html#'cursorlineopt'">'cursorlineopt'</a>&nbsp;value. (closes #5055)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_normal_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_normal_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_normal_3.dump<br>
<br>
Patch 8.1.2156<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;First character after Tab is not highlighted.<br>
Solution:&nbsp;&nbsp; Remember the syntax attribute for a column.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/testdir/test_syntax.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_syntax_c_01.dump<br>
<br>
Patch 8.1.2157<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Libvterm source files missing from distribution.<br>
Solution:&nbsp;&nbsp; Rename source files. (closes #5065)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist<br>
<br>
Patch 8.1.2158<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal attributes missing in Terminal-normal mode.<br>
Solution:&nbsp;&nbsp; Use &quot;syntax_attr&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_terminal_dumpload.dump<br>
<br>
Patch 8.1.2159<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some mappings are listed twice.<br>
Solution:&nbsp;&nbsp; Skip mappings duplicated for modifyOtherKeys. (closes #5064)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/map.c, src/testdir/test_mapping.vim<br>
<br>
Patch 8.1.2160<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with +syntax but without +terminal.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c<br>
<br>
Patch 8.1.2161<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mapping test fails.<br>
Solution:&nbsp;&nbsp; Run the test separately.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_alot.vim<br>
<br>
Patch 8.1.2162<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup resize test is flaky. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Add the function to the list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.2163<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with +spell but without +syntax.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c<br>
<br>
Patch 8.1.2164<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Stuck when using &quot;j&quot; in a popupwin with popup_filter_menu if a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line wraps.<br>
Solution:&nbsp;&nbsp; Check the cursor line is visible. (closes #4577)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_wrap_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_wrap_2.dump<br>
<br>
Patch 8.1.2165<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mapping test fails on Mac.<br>
Solution:&nbsp;&nbsp; Remove the default Mac mapping.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.vim<br>
<br>
Patch 8.1.2166<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Rubyeval() not tested as a method.<br>
Solution:&nbsp;&nbsp; Change a test case.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_ruby.vim<br>
<br>
Patch 8.1.2167<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mapping test fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Remove all the existing Insert-mode mappings.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mapping.vim<br>
<br>
Patch 8.1.2168<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Heredoc assignment not skipped in if block.<br>
Solution:&nbsp;&nbsp; Check if &quot;skip&quot; is set. (closes #5063)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalvars.c, src/testdir/test_let.vim<br>
<br>
Patch 8.1.2169<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal flags are never reset.<br>
Solution:&nbsp;&nbsp; Reset the flags when setting&nbsp;<a class="Type" href="options.html#'term'">'term'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.2170 (after 8.1.2169)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without the +termresponse feature.<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.1.2171<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mouse support not always available.<br>
Solution:&nbsp;&nbsp; Enable mouse support also in tiny version.&nbsp;&nbsp;Do not define<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;FEAT_MOUSE_XTERM on MS-Windows (didn't really work).<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/feature.h, src/edit.c, src/evalfunc.c, src/ex_getln.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/message.c, src/misc1.c, src/mouse.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c, src/normal.c, src/ops.c, src/option.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/optionstr.c, src/os_unix.c, src/os_win32.c, src/register.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/testing.c, src/window.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/optiondefs.h, src/os_win32.h, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c<br>
<br>
Patch 8.1.2172<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Spell highlight is wrong at start of the line.<br>
Solution:&nbsp;&nbsp; Fix setting the &quot;v&quot; variable. (closes #5078)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/testdir/test_spell.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_spell_1.dump<br>
<br>
Patch 8.1.2173<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Searchit() has too many arguments.<br>
Solution:&nbsp;&nbsp; Move optional arguments to a struct.&nbsp;&nbsp;Add the &quot;wrapped&quot; argument.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/proto/search.pro, src/structs.h, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/gui.c, src/quickfix.c, src/spell.c, src/tag.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/insexpand.c, src/normal.c<br>
<br>
Patch 8.1.2174<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Screen not recognized as supporting &quot;sgr&quot; mouse codes.<br>
Solution:&nbsp;&nbsp; Recognize screen 4.7. (Jordan Christiansen, closes #5042)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.2175<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Meson files are not recognized.<br>
Solution:&nbsp;&nbsp; Add the meson filetype. (Liam Beguin, Nirbheek Chauhan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5056)&nbsp;&nbsp;Also recognize hollywood.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim, src/testdir/test_filetype.vim<br>
<br>
Patch 8.1.2176<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syntax attributes not combined with Visual highlighting. (Arseny<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Nasokin)<br>
Solution:&nbsp;&nbsp; Combine the attributes. (closes #5083)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/testdir/test_syntax.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_syntax_c_01.dump<br>
<br>
Patch 8.1.2177<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Dart files are not recognized.<br>
Solution:&nbsp;&nbsp; Add a filetype rule. (Eugene Ciurana, closes #5087)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim, src/testdir/test_filetype.vim<br>
<br>
Patch 8.1.2178<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing uninitialized memory in test.<br>
Solution:&nbsp;&nbsp; Check if there was a match before using the match position.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Dominique Pelle, closes #5088)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 8.1.2179<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Pressing &quot;q&quot; at the more prompt doesn't stop Python output. (Daniel<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hahler)<br>
Solution:&nbsp;&nbsp; Check for got_int in writer(). (closes #5053)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also do this for Lua.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_py_both.h, src/if_lua.c<br>
<br>
Patch 8.1.2180<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error E303 is not useful when&nbsp;<a class="Type" href="options.html#'directory'">'directory'</a>&nbsp;is empty.<br>
Solution:&nbsp;&nbsp; Skip the error message. (Daniel Hahler, #5067)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/testdir/test_recover.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, runtime/doc/message.txt<br>
<br>
Patch 8.1.2181<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Highlighting wrong when item follows tab.<br>
Solution:&nbsp;&nbsp; Don't use syntax attribute when n_extra is non-zero.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Christian Brabandt, closes #5076)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/feature.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_syntax_c_01.dump<br>
<br>
Patch 8.1.2182<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test42 seen as binary by git diff.<br>
Solution:&nbsp;&nbsp; Add .gitattributes file.&nbsp;&nbsp;Make explicit that&nbsp;<a class="Type" href="options.html#'cpo'">'cpo'</a>&nbsp;does not<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;contain 'S'. (Daniel Hahler, closes #5072)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.gitattributes, Filelist, src/testdir/test42.in<br>
<br>
Patch 8.1.2183<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running a test is a bit verbose.<br>
Solution:&nbsp;&nbsp; Silence some messages. (Daniel Hahler, closes #5070)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile<br>
<br>
Patch 8.1.2184<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Option context is not copied when splitting a window. (Daniel<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hahler)<br>
Solution:&nbsp;&nbsp; Copy the option context, so that &quot;:verbose set&quot; works.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #5066)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/testdir/test_options.vim<br>
<br>
Patch 8.1.2185 (after 8.1.2181)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syntax test fails.<br>
Solution:&nbsp;&nbsp; Add missing file patch.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim<br>
<br>
Patch 8.1.2186 (after 8.1.2184)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without the +eval feature.<br>
Solution:&nbsp;&nbsp; Move line inside #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.1.2187<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error for bad regexp even though regexp is not used when writing<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a file. (Arseny Nasokin)<br>
Solution:&nbsp;&nbsp; Ignore regexp errors. (closes #5059)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/cmdexpand.c, src/ex_docmd.c, src/testdir/test_writefile.vim<br>
<br>
Patch 8.1.2188 (after 8.1.2187)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build error for missing define.<br>
Solution:&nbsp;&nbsp; Add missing change.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.1.2189<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syntax highlighting wrong for tab.<br>
Solution:&nbsp;&nbsp; Don't clear syntax attribute n_extra is non-zero.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/testdir/test_syntax.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_syntax_c_01.dump<br>
<br>
Patch 8.1.2190<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syntax test fails on Mac.<br>
Solution:&nbsp;&nbsp; Limit the window size to 20 rows.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_syntax.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_syntax_c_01.dump<br>
<br>
Patch 8.1.2191<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When using modifyOtherKeys&nbsp;<span class="Special">CTRL-X</span>&nbsp;mode may not work.<br>
Solution:&nbsp;&nbsp; Recognize a control character also in the form with a modifier.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.1.2192<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot easily fill the info popup asynchronously.<br>
Solution:&nbsp;&nbsp; Add the &quot;popuphidden&quot; value to&nbsp;<a class="Type" href="options.html#'completeopt'">'completeopt'</a>. (closes #4924)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmenu.c, src/proto/popupmenu.pro, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro, src/vim.h, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/insert.txt, src/ex_cmds.c, src/proto/ex_cmds.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/optionstr.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_hidden_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_hidden_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_hidden_3.dump<br>
<br>
Patch 8.1.2193<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup_setoptions(popup_getoptions()) does not work.<br>
Solution:&nbsp;&nbsp; Also accept a list with three entries for &quot;moved&quot; and<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;mousemoved&quot;. (closes #5081)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.2194<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ModifyOtherKeys is not enabled by default.<br>
Solution:&nbsp;&nbsp; Add t_TI and t_TE to the builtin xterm termcap.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/map.txt, src/term.c<br>
<br>
Patch 8.1.2195<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Vim does not exit when closing a terminal window and it is the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last window.<br>
Solution:&nbsp;&nbsp; Exit Vim if the closed terminal window is the last one.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #4539)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt, src/terminal.c, src/ex_docmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ex_docmd.pro, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.2196<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: running tests with MSVC lacks updates.<br>
Solution:&nbsp;&nbsp; Improve running individual tests on MS-Windows. (closes #4922)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_mvc.mak, src/testdir/Make_dos.mak<br>
<br>
Patch 8.1.2197<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ExitPre autocommand may cause accessing freed memory.<br>
Solution:&nbsp;&nbsp; Check the window pointer is still valid. (closes #5093)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_exit.vim, src/ex_docmd.c<br>
<br>
Patch 8.1.2198<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using :center in autocommand.<br>
Solution:&nbsp;&nbsp; Bail out early for an empty line. (Dominique Pelle, closes #5095)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_textformat.vim<br>
<br>
Patch 8.1.2199<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure when using normal features without GUI and EXITFREE<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defined.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (Dominique Pelle, closes #5106)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/scriptfile.c<br>
<br>
Patch 8.1.2200<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when memory allocation fails.<br>
Solution:&nbsp;&nbsp; Check for NULL curwin and curbuf. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4839)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c<br>
<br>
Patch 8.1.2201<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with dynamically linked Python 3.8.<br>
Solution:&nbsp;&nbsp; Implement py3__Py_DECREF() and py3__Py_XDECREF(). (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4080)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python3.c<br>
<br>
Patch 8.1.2202<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: build failure with GUI and small features.<br>
Solution:&nbsp;&nbsp; Add #ifdef. (Michael Soyka, closes #5097)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.1.2203<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running libvterm tests without the +terminal feature.<br>
Solution:&nbsp;&nbsp; Only add the libvterm test target when building libvterm.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure, src/config.mk.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile<br>
<br>
Patch 8.1.2204<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash on exit when closing terminals. (Corey Hickey)<br>
Solution:&nbsp;&nbsp; Actually wait for the job to stop. (closes #5100)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.2205<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Sign entry structure has confusing name.<br>
Solution:&nbsp;&nbsp; Rename signlist_T to sign_entry_T and prefix se_ to the fields.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h, src/netbeans.c, src/sign.c, src/globals.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c<br>
<br>
Patch 8.1.2206<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for fixed issue #3893.<br>
Solution:&nbsp;&nbsp; Add a test. (Christian Brabandt, #3893)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_display.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_winline_rnu.dump<br>
<br>
Patch 8.1.2207<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;gn&quot; doesn't work quite right. (Jaehwang Jerry Jung)<br>
Solution:&nbsp;&nbsp; Improve and simplify the search logic. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5103, closes #5075)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_gn.vim<br>
<br>
Patch 8.1.2208<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unix: Tabs in output might be expanded to spaces.<br>
Solution:&nbsp;&nbsp; Reset the XTABS flag. (closes #5108)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c<br>
<br>
Patch 8.1.2209<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;LF in escape codes may be expanded to CR-LF.<br>
Solution:&nbsp;&nbsp; Do not expand LF in escape codes to CR-LF. (closes #5107)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c<br>
<br>
Patch 8.1.2210<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using negative offset for popup_create() does not work.<br>
Solution:&nbsp;&nbsp; Use -1 instead of zero. (closes #5111)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/popupwin.vim, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_corners.dump<br>
<br>
Patch 8.1.2211<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Listener callback &quot;added&quot; argument is not the total. (Andy<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Massimino)<br>
Solution:&nbsp;&nbsp; Compute the total. (closes #5105)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/change.c, src/testdir/test_listener.vim<br>
<br>
Patch 8.1.2212<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot see the selection type in :reg output. (Ayberk Aydın)<br>
Solution:&nbsp;&nbsp; Add c/l/b. (Christian Brabandt, closes #5110, closes #4546)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/change.txt, src/register.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_registers.vim<br>
<br>
Patch 8.1.2213<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup_textprop tests fail.<br>
Solution:&nbsp;&nbsp; Adjust the column and line positioning.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c<br>
<br>
Patch 8.1.2214<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Too much is redrawn when&nbsp;<a class="Type" href="options.html#'cursorline'">'cursorline'</a>&nbsp;is set.<br>
Solution:&nbsp;&nbsp; Don't do a complete redraw. (closes #5079)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/change.c, src/drawscreen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_13.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_14.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_15.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_16.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_17.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_Xcursorline_18.dump<br>
<br>
Patch 8.1.2215<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unreachable code in adjusting text prop columns.<br>
Solution:&nbsp;&nbsp; Remove the code. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c<br>
<br>
Patch 8.1.2216<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text property in wrong place after :substitute.<br>
Solution:&nbsp;&nbsp; Pass the new column instead of the old one. (Christian Brabandt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #4427)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.2217<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused variable.<br>
Solution:&nbsp;&nbsp; Move variable inside #ifdef. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.1.2218<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;gN&quot; is off by one in Visual mode.<br>
Solution:&nbsp;&nbsp; Check moving forward. (Christian Brabandt, #5075)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_gn.vim<br>
<br>
Patch 8.1.2219<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No autocommand for open window with terminal.<br>
Solution:&nbsp;&nbsp; Add TerminalWinOpen. (Christian Brabandt)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/autocmd.txt, src/autocmd.c, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/vim.h<br>
<br>
Patch 8.1.2220<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:cfile does not abort like other quickfix commands.<br>
Solution:&nbsp;&nbsp; Abort when desired. Add tests for aborting. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5121)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.2221<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot filter :disp output.<br>
Solution:&nbsp;&nbsp; Support filtering :disp output. (Andy Massimino, closes #5117)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/various.txt, src/register.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_filter_cmd.vim<br>
<br>
Patch 8.1.2222<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Accessing invalid memory. (Dominique Pelle)<br>
Solution:&nbsp;&nbsp; Reset highlight_match every time.&nbsp;&nbsp;(closes #5125)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.1.2223<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot see what buffer an ml_get error is for.<br>
Solution:&nbsp;&nbsp; Add the buffer number and name in the message<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c<br>
<br>
Patch 8.1.2224<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build Amiga version.<br>
Solution:&nbsp;&nbsp; Add dummy mch_setmouse(). (Ola Söder, closes #5126)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_amiga.c, src/proto/os_amiga.pro<br>
<br>
Patch 8.1.2225<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The &quot;last used&quot; info of a buffer is under used.<br>
Solution:&nbsp;&nbsp; Add &quot;lastused&quot; to getbufinfo(). List buffers sorted by last-used<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;field. (Andy Massimino, closes #4722)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/options.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/windows.txt, src/buffer.c, src/evalbuffer.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/misc1.c, src/option.c, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/misc1.pro, src/proto/viminfo.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_bufwintabinfo.vim, src/testdir/test_cmdline.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_excmd.vim, src/undo.c, src/vim.h, src/viminfo.c<br>
<br>
Patch 8.1.2226<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot use system copy/paste in non-xterm terminals.<br>
Solution:&nbsp;&nbsp; Instead of setting&nbsp;<a class="Type" href="options.html#'mouse'">'mouse'</a>&nbsp;to &quot;a&quot; set it to &quot;nvi&quot; in defaults.vim.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/defaults.vim, runtime/doc/term.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt<br>
<br>
Patch 8.1.2227<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Layout wrong if&nbsp;<a class="Type" href="options.html#'lines'">'lines'</a>&nbsp;changes while cmdline window is open.<br>
Solution:&nbsp;&nbsp; Do not restore the window layout if&nbsp;<a class="Type" href="options.html#'lines'">'lines'</a>&nbsp;changed.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #5130)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/window.c, src/testdir/test_cmdline.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_cmdwin_restore_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_cmdwin_restore_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_cmdwin_restore_3.dump<br>
<br>
Patch 8.1.2228<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;screenpos() returns wrong values when&nbsp;<a class="Type" href="options.html#'number'">'number'</a>&nbsp;is set. (Ben<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Jackson)<br>
Solution:&nbsp;&nbsp; Compare the column with the window width. (closes #5133)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c, src/testdir/test_cursor_func.vim<br>
<br>
Patch 8.1.2229<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot color number column above/below cursor differently.<br>
Solution:&nbsp;&nbsp; Add LineNrAbove and LineNrBelow. (Shaun Brady, closes #624)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/syntax.txt, runtime/doc/options.txt, src/optiondefs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/vim.h, src/testdir/test_number.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_relnr_colors_1.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_relnr_colors_2.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_relnr_colors_3.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_relnr_colors_4.dump<br>
<br>
Patch 8.1.2230<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: testing external commands can be improved.<br>
Solution:&nbsp;&nbsp; Adjust tests, remove duplicate test. (closes #4928)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim, src/testdir/test_system.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim, src/testdir/test_undo.vim<br>
<br>
Patch 8.1.2231<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not easy to move to the middle of a text line.<br>
Solution:&nbsp;&nbsp; Add the gM command. (Yasuhiro Matsumoto, closes #2070)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/index.txt, runtime/doc/motion.txt,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/quickref.txt, runtime/doc/usr_25.txt, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim<br>
<br>
Patch 8.1.2232<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: compiler warning for int size.<br>
Solution:&nbsp;&nbsp; Add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 8.1.2233<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get the Vim command line arguments.<br>
Solution:&nbsp;&nbsp; Add v:argv. (Dmitri Vereshchagin, closes #1322)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalvars.c, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/evalvars.pro, src/main.c, src/testdir/test_startup.vim<br>
<br>
Patch 8.1.2234<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;get_short_pathname() fails depending on encoding.<br>
Solution:&nbsp;&nbsp; Use the wide version of the library function. (closes #5129)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/filepath.c, src/testdir/test_shortpathname.vim<br>
<br>
Patch 8.1.2235<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;C&quot; with&nbsp;<a class="Type" href="options.html#'virtualedit'">'virtualedit'</a>&nbsp;set does not include multi-byte char.<br>
Solution:&nbsp;&nbsp; Include the whole multi-byte char. (Nobuhiro Takasaki,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5152)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_virtualedit.vim<br>
<br>
Patch 8.1.2236<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Ml_get error if pattern matches beyond last line.<br>
Solution:&nbsp;&nbsp; Adjust position if needed. (Christian Brabandt, closes #5139)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/testdir/test_substitute.vim<br>
<br>
Patch 8.1.2237<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mode() result after using &quot;r&quot; depends on whether CURSOR_SHAPE is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;defined. (Christian Brabandt)<br>
Solution:&nbsp;&nbsp; Move the #ifdef to only skip ui_cursor_shape().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 8.1.2238<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error in docs tags goes unnoticed.<br>
Solution:&nbsp;&nbsp; Adjust tags build command. (Ken Takata, closes #5158)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, .travis.yml, runtime/doc/Makefile,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/doctags.vim<br>
<br>
Patch 8.1.2239<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;CI fails when running tests without building Vim.<br>
Solution:&nbsp;&nbsp; Skip creating doc tags if the execute does not exist.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/Makefile<br>
<br>
Patch 8.1.2240<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup window width changes when scrolling.<br>
Solution:&nbsp;&nbsp; Also adjust maxwidth when applying minwidth and there is a<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scrollbar.&nbsp;&nbsp;Fix off-by-one error. (closes #5162)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_11.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_scroll_12.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_4.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_5.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_7.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_previewpopup_8.dump,<br>
<br>
Patch 8.1.2241<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Match highlight does not combine with&nbsp;<a class="Type" href="options.html#'wincolor'">'wincolor'</a>.<br>
Solution:&nbsp;&nbsp; Apply&nbsp;<a class="Type" href="options.html#'wincolor'">'wincolor'</a>&nbsp;last on top of any other attribute. (closes #5159)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_matches.dump<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_01.dump<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_02.dump<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_menu_04.dump<br>
<br>
Patch 8.1.2242<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Creating docs tags uses user preferences. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add &quot;--clean&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/Makefile<br>
<br>
Patch 8.1.2243<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typos in comments.<br>
Solution:&nbsp;&nbsp; Fix the typos. (Dominique Pelle, closes #5160)&nbsp;&nbsp;Also adjust<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;formatting a bit.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/autocmd.c, src/buffer.c, src/cindent.c, src/crypt.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/diff.c, src/getchar.c, src/globals.h, src/gui_gtk_x11.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/highlight.c, src/insexpand.c, src/macros.h, src/map.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memline.c, src/message.c, src/option.c, src/os_unix.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/pty.c, src/quickfix.c, src/regexp_nfa.c, src/register.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spellsuggest.c, src/structs.h, src/textprop.c, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/undo.c, src/vim.h, src/viminfo.c<br>
<br>
Patch 8.1.2244<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'wrapscan'">'wrapscan'</a>&nbsp;is not used for &quot;gn&quot;.<br>
Solution:&nbsp;&nbsp; Only reset&nbsp;<a class="Type" href="options.html#'wrapscan'">'wrapscan'</a>&nbsp;for the first search round. (closes #5164)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_gn.vim<br>
<br>
Patch 8.1.2245<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Third character of&nbsp;<a class="Type" href="options.html#'listchars'">'listchars'</a>&nbsp;tab shows in wrong place when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'breakindent'">'breakindent'</a>&nbsp;is set.<br>
Solution:&nbsp;&nbsp; Set c_final to NUL. (Naruhiko Nishino, closes #5165)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/testdir/test_breakindent.vim<br>
<br>
Patch 8.1.2246<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Some tests are still in old style.<br>
Solution:&nbsp;&nbsp; Change a few tests to new style. (Yegappan Lakshmanan)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test49.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test49.vim, src/testdir/test_trycatch.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vimscript.vim<br>
<br>
Patch 8.1.2247<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make vimtags&quot; does not work in runtime/doc.<br>
Solution:&nbsp;&nbsp; Test existence with &quot;which&quot; instead of &quot;test -x&quot;. (Ken Takata)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/Makefile<br>
<br>
Patch 8.1.2248<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-W</span>&nbsp;dot does not work in a terminal when modifyOtherKeys is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;enabled.<br>
Solution:&nbsp;&nbsp; Use the modifier when needed.&nbsp;&nbsp;Pass the modifier along with the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key to avoid mistakes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/proto/terminal.pro, src/mouse.c<br>
<br>
Patch 8.1.2249<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make vimtags&quot; does not print any message.<br>
Solution:&nbsp;&nbsp; Add a message that the tags have been updated.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/Makefile<br>
<br>
Patch 8.1.2250<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-U</span>&nbsp;and&nbsp;<span class="Special">CTRL-D</span>&nbsp;don't work in popup window.<br>
Solution:&nbsp;&nbsp; Initialize&nbsp;<a class="Type" href="options.html#'scroll'">'scroll'</a>.&nbsp;&nbsp;Add &quot;lastline&quot; in popup_getpos().<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #5170)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt<br>
<br>
Patch 8.1.2251<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:term command&quot; may not work without a shell.<br>
Solution:&nbsp;&nbsp; Add the ++shell option to :term. (closes #3340)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/terminal.txt, src/terminal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.c, src/proto/os_unix.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.2252<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for int size.<br>
Solution:&nbsp;&nbsp; Add type cast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/filepath.c<br>
<br>
Patch 8.1.2253<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;which&quot; to check for an executable is not reliable.<br>
Solution:&nbsp;&nbsp; Use &quot;command -v&quot; instead.&nbsp;&nbsp;Also exit with error code when<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating tags has an error. (closes #5174)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/Makefile<br>
<br>
Patch 8.1.2254<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: mouse scroll wheel doesn't work in popup.<br>
Solution:&nbsp;&nbsp; Handle mouse wheel events separately. (closes #5138)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c, src/gui.c, src/proto/gui.pro<br>
<br>
Patch 8.1.2255<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;:term ++shell&quot; does not work on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add MS-Windows support.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.2256 (after 8.1.2255)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test for &quot;:term ++shell&quot; fails on MS-Windows.<br>
Solution:&nbsp;&nbsp; Accept failure of &quot;dir&quot; executable.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.2257<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows GUI: scroll wheel always uses current window.<br>
Solution:&nbsp;&nbsp; Add the&nbsp;<a class="Type" href="options.html#'scrollfocus'">'scrollfocus'</a>&nbsp;option for MS-Windows.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/gui_w32.c, src/optiondefs.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h<br>
<br>
Patch 8.1.2258<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;May get hit-enter prompt after entering a number. (Malcolm Rowe)<br>
Solution:&nbsp;&nbsp; Put back accidentally deleted lines. (closes #5176)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc1.c<br>
<br>
Patch 8.1.2259<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Running tests may leave XfakeHOME behind.<br>
Solution:&nbsp;&nbsp; Source summarize.vim without using setup.vim. (closes #5177)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also fix that on MS-Windows the test log isn't echoed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Makefile, src/testdir/Make_dos.mak<br>
<br>
Patch 8.1.2260<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal test may fail on MS-Windows.<br>
Solution:&nbsp;&nbsp; Catch the situation that &quot;term dir&quot; fails with a CreateProcess<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;error.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.2261<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With modifyOtherKeys set&nbsp;<a class="Type" href="options.html#'noesckeys'">'noesckeys'</a>&nbsp;doesn't work. (James McCoy)<br>
Solution:&nbsp;&nbsp; Disable modifyOtherKeys while in Insert mode when&nbsp;<a class="Type" href="options.html#'noesckeys'">'noesckeys'</a>&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set. (closes #5180)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/testdir/test_edit.vim<br>
<br>
Patch 8.1.2262<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unpack assignment in function not recognized.<br>
Solution:&nbsp;&nbsp; Skip over &quot;[a, b]&quot;. (closes #5051)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/testdir/test_let.vim<br>
<br>
Patch 8.1.2263<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'noesckeys'">'noesckeys'</a>&nbsp;test fails in GUI.<br>
Solution:&nbsp;&nbsp; Skip the test in the GUI.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_edit.vim<br>
<br>
Patch 8.1.2264<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;There are two test files for :let.<br>
Solution:&nbsp;&nbsp; Merge the two files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_assign.vim, src/testdir/test_let.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_alot.vim<br>
<br>
Patch 8.1.2265<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When popup with &quot;botleft&quot; does not fit it flips incorrectly.<br>
Solution:&nbsp;&nbsp; Only flip when there is more space on the other side.&nbsp;&nbsp;Add the<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;posinvert&quot; option to disable flipping and do it in both<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directions if enabled.&nbsp;&nbsp;(closes #5151)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_nospace.dump<br>
<br>
Patch 8.1.2266<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Position unknown for a mouse click in a popup window.<br>
Solution:&nbsp;&nbsp; Set v:mouse_col and v:mouse_lnum. (closes #5171)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.2267<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for uninitialized variable. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Rearrange the code.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c<br>
<br>
Patch 8.1.2268<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Spell file flag zero is not recognized.<br>
Solution:&nbsp;&nbsp; Use -1 as an error value, so that zero can be used as a valid flag<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;number.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spellfile.c, src/testdir/test_spell.vim<br>
<br>
Patch 8.1.2269<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tags file with very long line stops using binary search.<br>
Solution:&nbsp;&nbsp; Reallocate the buffer if needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/testdir/test_tagjump.vim<br>
<br>
Patch 8.1.2270<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;gf&quot; is not tested in Visual mode.<br>
Solution:&nbsp;&nbsp; Add Visual mode test and test errors. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5197)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_gf.vim<br>
<br>
Patch 8.1.2271<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build error if FEAT_TAG_BINS is not defined. (John Marriott)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c<br>
<br>
Patch 8.1.2272<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test may hang at more prompt.<br>
Solution:&nbsp;&nbsp; Reset&nbsp;<a class="Type" href="options.html#'more'">'more'</a>&nbsp;after resetting&nbsp;<a class="Type" href="options.html#'compatible'">'compatible'</a>. (Michael Soyka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_vimscript.vim<br>
<br>
Patch 8.1.2273<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Wrong default when &quot;pos&quot; is changed with popup_atcursor().<br>
Solution:&nbsp;&nbsp; Adjust the default line and col when &quot;pos&quot; is not the default<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value. (#5151)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/structs.h, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_atcursor_pos.dump<br>
<br>
Patch 8.1.2274<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Newlines in&nbsp;<a class="Type" href="options.html#'balloonexpr'">'balloonexpr'</a>&nbsp;result only work in the GUI.<br>
Solution:&nbsp;&nbsp; Also recognize newlines in the terminal. (closes #5193)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmenu.c, src/testdir/test_balloon.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_balloon_eval_term_01.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_balloon_eval_term_01a.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_balloon_eval_term_02.dump<br>
<br>
Patch 8.1.2275<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;seesion&quot; looks like a mistake.<br>
Solution:&nbsp;&nbsp; Use an underscore to make the function sort first.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.2276<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: session test leaves files behind.<br>
Solution:&nbsp;&nbsp; Wipe out buffers before deleting the directory. (closes #5187)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_mksession.vim<br>
<br>
Patch 8.1.2277<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Terminal window is not updated when info popup changes.<br>
Solution:&nbsp;&nbsp; Redraw windows when re-using an info popup. (closes #5192)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c<br>
<br>
Patch 8.1.2278<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using &quot;cd&quot; with &quot;exe&quot; may fail.<br>
Solution:&nbsp;&nbsp; Use chdir() instead.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autochdir.vim, src/testdir/test_autocmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cd.vim, src/testdir/test_expand.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_find_complete.vim, src/testdir/test_findfile.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_getcwd.vim, src/testdir/test_shortpathname.vim<br>
<br>
Patch 8.1.2279<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Computation of highlight attributes is too complicated.<br>
Solution:&nbsp;&nbsp; Simplify the attribute computation and make it more consistent.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #5190)&nbsp;&nbsp;Fix that&nbsp;<span class="MissingTag">'combine'</span>&nbsp;set to zero doesn't work.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/testdir/test_textprop.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_textprop_01.dump<br>
<br>
Patch 8.1.2280<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when passing partial to substitute().<br>
Solution:&nbsp;&nbsp; Take extra arguments into account. (closes #5186)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/structs.h, src/regexp.c, src/proto/regexp.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_substitute.vim<br>
<br>
Patch 8.1.2281<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'showbreak'">'showbreak'</a>&nbsp;cannot be set for one window.<br>
Solution:&nbsp;&nbsp; Make&nbsp;<a class="Type" href="options.html#'showbreak'">'showbreak'</a>&nbsp;global-local.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/optiondefs.h, src/option.c, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/option.pro, src/structs.h, src/charset.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/edit.c, src/move.c, src/normal.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/optionstr.c, src/testdir/test_highlight.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_breakindent.vim, runtime/doc/options.txt<br>
<br>
Patch 8.1.2282<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when passing many arguments through a partial. (Andy<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Massimino)<br>
Solution:&nbsp;&nbsp; Check the number of arguments. (closes #5186)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/proto/userfunc.pro, src/evalfunc.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp.c, src/testdir/test_expr.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_substitute.vim<br>
<br>
Patch 8.1.2283<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missed one use of p_sbr.<br>
Solution:&nbsp;&nbsp; Add missing p_sbr change.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/indent.c<br>
<br>
Patch 8.1.2284<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for unused variable. (Tony Mechelynck)<br>
Solution:&nbsp;&nbsp; Add #ifdef.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c<br>
<br>
Patch 8.1.2285<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Padding in structures wastes memory.<br>
Solution:&nbsp;&nbsp; Move fields to avoid padding. (Dominique Pelle, closes #5202)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/structs.h<br>
<br>
Patch 8.1.2286<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using border highlight in popup window leaks memory.<br>
Solution:&nbsp;&nbsp; Free memory before overwriting. (Dominique Pelle, closes #5203)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c<br>
<br>
Patch 8.1.2287<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using EndOfBuffer highlight in popup does not look good.<br>
Solution:&nbsp;&nbsp; Do not EndOfBuffer highlight. (closes #5204)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawscreen.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_02.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_04.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_04a.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_05.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_06.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_07.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_08.dump<br>
<br>
Patch 8.1.2288<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not using all space when popup with &quot;topleft&quot; flips to above.<br>
Solution:&nbsp;&nbsp; Recompute the height when a popup flips from below to above.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #5151)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_nospace.dump<br>
<br>
Patch 8.1.2289<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;After :diffsplit closing the window does not disable diff.<br>
Solution:&nbsp;&nbsp; Add &quot;closeoff&quot; to&nbsp;<a class="Type" href="options.html#'diffopt'">'diffopt'</a>&nbsp;and add it to the default.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/optiondefs.h, src/diff.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/diff.pro, src/window.c, src/testdir/test_diffmode.vim<br>
<br>
Patch 8.1.2290<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Autocommand test fails.<br>
Solution:&nbsp;&nbsp; Remove&nbsp;<span class="MissingTag">'closeoff'</span>&nbsp;from&nbsp;<a class="Type" href="options.html#'diffopt'">'diffopt'</a>.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.1.2291<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Memory leak when executing command in a terminal.<br>
Solution:&nbsp;&nbsp; Free &quot;argv&quot;. (Dominique Pelle, closes #5208)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c<br>
<br>
Patch 8.1.2292<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;v:mouse_winid not set on click in popup window.<br>
Solution:&nbsp;&nbsp; Set v:mouse_winid. (closes #5171)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.2293<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Join adds trailing space when second line is empty. (Brennan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vincent)<br>
Solution:&nbsp;&nbsp; Do not add a trailing space.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ops.c, src/testdir/test_join.vim<br>
<br>
Patch 8.1.2294<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor position wrong when characters are concealed and a search<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;causes a scroll.<br>
Solution:&nbsp;&nbsp; Fix the cursor column in a concealed line after window scroll.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #5215, closes #5012)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawscreen.c, src/testdir/test_matchadd_conceal.vim<br>
<br>
Patch 8.1.2295<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;If buffer of popup is in another window cursorline sign shows.<br>
Solution:&nbsp;&nbsp; Check the group of the sign.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/proto/option.pro, src/sign.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/sign.pro, src/screen.c, src/drawline.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_cursorline_8.dump<br>
<br>
Patch 8.1.2296<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Text properties are not combined with syntax by default.<br>
Solution:&nbsp;&nbsp; Make it work as documented. (closes #5190)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testprop.c, src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.2297<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The ex_vimgrep() function is too long.<br>
Solution:&nbsp;&nbsp; Split it in three parts. (Yegappan Lakshmanan, closes #5211)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c<br>
<br>
Patch 8.1.2298 (after 8.1.2296)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing part of 8.1.2296.<br>
Solution:&nbsp;&nbsp; s/test/text/<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c<br>
<br>
Patch 8.1.2299<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ConPTY in MS-Windows 1909 is still wrong.<br>
Solution:&nbsp;&nbsp; Use same solution as for 1903. (Nobuhiro Takasaki, closes #5217)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/os_win32.c<br>
<br>
Patch 8.1.2300<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Redraw breaks going through list of popup windows.<br>
Solution:&nbsp;&nbsp; Use different flags for popup_reset_handled(). (closes #5216)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto/popupwin.pro, src/structs.h, src/vim.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mouse.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.2301<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows GUI: drawing error when background color changes.<br>
Solution:&nbsp;&nbsp; Implement gui_mch_new_colors(). (Simon Sadler)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.1.2302<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:lockmarks does not work for '[ and '].<br>
Solution:&nbsp;&nbsp; save and restore '[ and '] marks. (James McCoy, closes #5222)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/motion.txt, src/bufwrite.c, src/diff.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fileio.c, src/indent.c, src/ops.c, src/register.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/testdir/test_diffmode.vim<br>
<br>
Patch 8.1.2303<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cursor in wrong position after horizontal scroll.<br>
Solution:&nbsp;&nbsp; Set w_valid_leftcol.&nbsp;&nbsp;(closes #5214, closes #5224)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/move.c, src/testdir/test_matchadd_conceal.vim<br>
<br>
Patch 8.1.2304<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot get the mouse position when getting a mouse click.<br>
Solution:&nbsp;&nbsp; Add getmousepos().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/popup.txt, src/mouse.c<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/mouse.pro, src/evalfunc.c, src/popupwin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.pro, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.2305<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No warning for wrong entry in translations.<br>
Solution:&nbsp;&nbsp; Check semicolons in keywords entry of desktop file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/po/check.vim<br>
<br>
Patch 8.1.2306<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Double and triple clicks are not tested.<br>
Solution:&nbsp;&nbsp; Test mouse clicks to select text. (closes #5226)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.2307<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Positioning popup doesn't work for buffer-local textprop.<br>
Solution:&nbsp;&nbsp; Make it work. (closes #5225)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin_textprop.vim<br>
<br>
Patch 8.1.2308<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Deleting text before zero-width textprop removes it.<br>
Solution:&nbsp;&nbsp; Keep zero-width textprop when deleting text.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/textprop.c, src/testdir/test_textprop.vim<br>
<br>
Patch 8.1.2309<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for argument type.<br>
Solution:&nbsp;&nbsp; Use linenr_T and cast to varnumber_T. (John Marriott)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mouse.c<br>
<br>
Patch 8.1.2310<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No proper test for directory changes in quickfix.<br>
Solution:&nbsp;&nbsp; Add a test that uses multiple directories. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5230)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.2311<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Warning for missing function prototype.<br>
Solution:&nbsp;&nbsp; Add the proto. (Dominique Pelle, closes #5233)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/popupwin.pro<br>
<br>
Patch 8.1.2312<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;line:&quot; field in tags file not used.<br>
Solution:&nbsp;&nbsp; Recognize the field and use the value. (Andy Massimino, Daniel<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Hahler, closes #5232, closes #2546, closes #1057)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/tag.c, src/testdir/test_tagjump.vim<br>
<br>
Patch 8.1.2313<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Debugging where a delay comes from is not easy.<br>
Solution:&nbsp;&nbsp; Use different values when calling ui_delay().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/change.c, src/fileio.c, src/gui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_xcmdsrv.c, src/insexpand.c, src/main.c, src/normal.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/screen.c, src/search.c, src/tag.c, src/term.c, src/ui.c<br>
<br>
Patch 8.1.2314<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;vi' sometimes does not select anything.<br>
Solution:&nbsp;&nbsp; Recognize an empty selection. (Christian Brabandt, closes #5183)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_textobjects.vim<br>
<br>
Patch 8.1.2315<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not always using the right window when jumping to an error.<br>
Solution:&nbsp;&nbsp; Add the &quot;uselast&quot; flag in&nbsp;<a class="Type" href="options.html#'switchbuf'">'switchbuf'</a>. (closes #1652)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/options.txt, src/option.h, src/optionstr.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.2316<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;FORTIFY_SOURCE can also be present in CPPFLAGS.<br>
Solution:&nbsp;&nbsp; Remove it in configure. (Benedikt Morbach, closes #2786)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/configure.ac, src/auto/configure<br>
<br>
Patch 8.1.2317<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test for spell affix file with flag on suffix.<br>
Solution:&nbsp;&nbsp; Add a test case.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_spell.vim<br>
<br>
Patch 8.1.2318 (after 8.1.2301)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows GUI: main background shows in toolbar.<br>
Solution:&nbsp;&nbsp; Remove transparency from the toolbar. (Simon Sadler)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_w32.c<br>
<br>
Patch 8.1.2319<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Compiler warning for int size.<br>
Solution:&nbsp;&nbsp; Add typecast. (Mike Williams)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mouse.c<br>
<br>
Patch 8.1.2320<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insufficient test coverage for quickfix.<br>
Solution:&nbsp;&nbsp; Add more tests.&nbsp;&nbsp;Fix uncovered problem. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5238)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.2321<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot select all text with the mouse. (John Marriott)<br>
Solution:&nbsp;&nbsp; Move limiting the mouse column to f_getmousepos(). (closes #5242)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mouse.c<br>
<br>
Patch 8.1.2322 (after 8.1.2320)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix test fails in very big terminal.<br>
Solution:&nbsp;&nbsp; Adjust the expected result for the width. (Masato Nishihata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5244)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.2323<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Old MSVC version no longer tested.<br>
Solution:&nbsp;&nbsp; Drop support for MSVC 2008 and older. (Ken Takata, closes #5248)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/INSTALLpc.txt, src/Make_mvc.mak, src/gui_w32.c, src/os_win32.c<br>
<br>
Patch 8.1.2324<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Width of scrollbar in popup menu not taken into account.<br>
Solution:&nbsp;&nbsp; Add the width of the scrollbar.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmenu.c, src/testdir/dumps/Test_popupwin_infopopup_6.dump,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.2325<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when using balloon with empty line.<br>
Solution:&nbsp;&nbsp; Handle empty lines. (Markus Braun)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmenu.c, src/testdir/test_popup.vim<br>
<br>
Patch 8.1.2326<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot parse a date/time string.<br>
Solution:&nbsp;&nbsp; Add strptime(). (Stephen Wall, closes #5250)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, runtime/doc/usr_41.txt, src/auto/configure,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/config.h.in, src/configure.ac, src/evalfunc.c, src/os_unix.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.2327<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with Hangul input.<br>
Solution:&nbsp;&nbsp; Remove Hangul input support.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/Makefile, runtime/doc/hangulin.txt, src/feature.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c, src/gui_x11.c, src/gui.c, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mbyte.c, src/screen.c, src/ui.c, src/hangulin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/proto/hangulin.pro, src/proto.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/version.c, src/configure.ac,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/auto/configure, src/config.h.in, src/config.mk.in<br>
<br>
Patch 8.1.2328<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;A few hangul input pieces remain.<br>
Solution:&nbsp;&nbsp; Update VMS makefile.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms<br>
<br>
Patch 8.1.2329<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Mouse multiple click test is a bit flaky.<br>
Solution:&nbsp;&nbsp; Add it to the list of flaky tests.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim<br>
<br>
Patch 8.1.2330 (after 8.1.2314)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;vi' does not always work when&nbsp;<a class="Type" href="options.html#'selection'">'selection'</a>&nbsp;is exclusive.<br>
Solution:&nbsp;&nbsp; Adjust start position.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c, src/testdir/test_textobjects.vim<br>
<br>
Patch 8.1.2331<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;The option.c file is still very big.<br>
Solution:&nbsp;&nbsp; Move a few functions to where they fit better. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #4895)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c, src/proto/option.pro, src/change.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/change.pro, src/ex_getln.c, src/proto/ex_getln.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/gui.c, src/proto/gui.pro, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/ui.pro, src/term.c, src/proto/term.pro, src/indent.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/indent.pro<br>
<br>
Patch 8.1.2332 (after 8.1.2331)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing file in refactoring.<br>
Solution:&nbsp;&nbsp; Update missing file.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/search.c<br>
<br>
Patch 8.1.2333<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With modifyOtherKeys&nbsp;<span class="Special">CTRL-^</span>&nbsp;doesn't work.<br>
Solution:&nbsp;&nbsp; Handle the exception.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.2334<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Possible NULL pointer dereference in popup_locate(). (Coverity)<br>
Solution:&nbsp;&nbsp; Check for NULL pointer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c<br>
<br>
Patch 8.1.2335<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Error message for function arguments may use NULL pointer.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(Coverity)<br>
Solution:&nbsp;&nbsp; Use the original function name.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.2336<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;When an expr mapping moves the cursor it is not restored.<br>
Solution:&nbsp;&nbsp; Position the cursor after an expr mapping. (closes #5256)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/testdir/test_mapping.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_map_expr_1.dump<br>
<br>
Patch 8.1.2337<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Double-click time sometimes miscomputed.<br>
Solution:&nbsp;&nbsp; Correct time computation. (Dominique Pelle, closes #5259)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/mouse.c, src/testdir/runtest.vim<br>
<br>
Patch 8.1.2338<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using Visual mark with :s gives E20 if not set.<br>
Solution:&nbsp;&nbsp; Ignore errors when handling&nbsp;<a class="Type" href="options.html#'incsearch'">'incsearch'</a>. (closes #3837)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_search.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_incsearch_substitute_14.dump<br>
<br>
Patch 8.1.2339<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Insufficient testing for quickfix.<br>
Solution:&nbsp;&nbsp; Add a few more tests. (Yegappan Lakshmanan, closes #5261)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.2340<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix test fails under valgrind and asan.<br>
Solution:&nbsp;&nbsp; Make sure long line does not overflow IObuff. (Dominique Pelle,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5263)&nbsp;&nbsp;Put back fix for large terminals. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan, closes #5264)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/quickfix.c, src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.2341<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not so easy to interrupt a script programmatically.<br>
Solution:&nbsp;&nbsp; Add the interrupt() function. (Yasuhiro Matsumoto, closes #2834)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/ex_eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/Make_all.mak, src/testdir/test_interrupt.vim<br>
<br>
Patch 8.1.2342<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Random number generator in Vim script is slow.<br>
Solution:&nbsp;&nbsp; Add rand() and srand(). (Yasuhiro Matsumoto, closes #1277)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/Make_all.mak,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_random.vim<br>
<br>
Patch 8.1.2343<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using time() for srand() is not very random.<br>
Solution:&nbsp;&nbsp; use /dev/urandom if available<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/testdir/test_random.vim<br>
<br>
Patch 8.1.2344<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cygwin: warning for using strptime().<br>
Solution:&nbsp;&nbsp; Move defining _XOPEN_SOURCE and __USE_XOPEN to vim.h. (Ken Takata,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5265)&nbsp;&nbsp;Use 700 for _XOPEN_SOURCE for mkdtemp().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_unix.h, src/vim.h<br>
<br>
Patch 8.1.2345<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;.cjs files are not recognized as Javascript.<br>
Solution:&nbsp;&nbsp; Add the *.cjs pattern. (closes #5268)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/filetype.vim, src/testdir/test_filetype.vim<br>
<br>
Patch 8.1.2346<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-R</span>&nbsp;<span class="Special">CTRL-R</span>&nbsp;doesn't work with modifyOtherKeys.<br>
Solution:&nbsp;&nbsp; Allow key codes when fetching argument for&nbsp;<span class="Special">CTRL-R</span>. (closes #5266)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also fix&nbsp;<span class="Special">CTRL-G</span>&nbsp;in Insert mode.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/edit.c, src/ex_getln.c, src/testdir/test_termcodes.vim<br>
<br>
Patch 8.1.2347 (after 8.1.2344)<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MacOS: build fails.<br>
Solution:&nbsp;&nbsp; Don't define _XOPEN_SOURCE for Mac.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.1.2348<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:const cannot be followed by &quot;| endif&quot;.<br>
Solution:&nbsp;&nbsp; Check following command for :const. (closes #5269)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also fix completion after :const.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_let.vim, src/testdir/test_const.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/cmdexpand.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim<br>
<br>
Patch 8.1.2349<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:lockvar and :unlockvar cannot be followed by &quot;| endif&quot;.<br>
Solution:&nbsp;&nbsp; Check for following commands. (closes #5269)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_const.vim, src/ex_docmd.c<br>
<br>
Patch 8.1.2350<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Other text for&nbsp;<span class="Special">CTRL-V</span>&nbsp;in Insert mode with modifyOtherKeys.<br>
Solution:&nbsp;&nbsp; Convert the Escape sequence back to key as if modifyOtherKeys is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;not set, and use&nbsp;<span class="Special">CTRL-S</span>HIFT-V to get the Escape sequence itself.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(closes #5254)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/insert.txt, runtime/doc/cmdline.txt, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/edit.pro, src/term.c, src/proto/term.pro, src/getchar.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/getchar.pro, src/testdir/test_termcodes.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c<br>
<br>
Patch 8.1.2351<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'wincolor'">'wincolor'</a>&nbsp;not used for &gt; for not fitting double width char.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Also: popup drawn on right half of double width character looks<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wrong.<br>
Solution:&nbsp;&nbsp; Adjust color for &gt; character.&nbsp;&nbsp;Clear left half of double width<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;character if right half is being overwritten.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/screen.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_doublewidth_1.dump<br>
<br>
Patch 8.1.2352<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;CI doesn't cover FreeBSD.<br>
Solution:&nbsp;&nbsp; Configure Cirrus-CI. (Christian Brabandt, closes #5273)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.cirrus.yml, README.md<br>
<br>
Patch 8.1.2353<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build failure on FreeBSD.<br>
Solution:&nbsp;&nbsp; Change #ifdef to only check for Linux-like systems.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.1.2354<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cirrus CI runs on another repository.<br>
Solution:&nbsp;&nbsp; Run Cirrus CI on vim/vim.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.cirrus.yml, README.md<br>
<br>
Patch 8.1.2355<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test with &quot;man&quot; fails on FreeBSD.<br>
Solution:&nbsp;&nbsp; Use &quot;-P&quot; instead of &quot;--pager&quot;.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim<br>
<br>
Patch 8.1.2356<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;rand() does not use the best algorithm.<br>
Solution:&nbsp;&nbsp; use xoshiro128** instead of xorshift. (Kaito Udagawa,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5279)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/eval.txt, src/evalfunc.c, src/testdir/test_random.vim<br>
<br>
Patch 8.1.2357<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No test with wrong argument for rand().<br>
Solution:&nbsp;&nbsp; Add a test case.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_random.vim<br>
<br>
Patch 8.1.2358<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Tests fail on Cirrus CI for FreeBSD.<br>
Solution:&nbsp;&nbsp; Fix a test and skip some. (Christian Brabandt, closes #5281)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, .cirrus.yml, src/testdir/check.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim, src/testdir/test_quickfix.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_source_utf8.vim, src/testdir/test_terminal.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_utf8_comparisons.vim<br>
<br>
Patch 8.1.2359<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build without FEAT_FLOAT. (John Marriott)<br>
Solution:&nbsp;&nbsp; Fix #ifdefs around f_srand().<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c<br>
<br>
Patch 8.1.2360<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Quickfix test coverage can still be improved.<br>
Solution:&nbsp;&nbsp; Add more test cases. (Yegappan Lakshmanan, closes #5276)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim<br>
<br>
Patch 8.1.2361<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: test failures related to VIMDLL.<br>
Solution:&nbsp;&nbsp; Adjust code and tests. (Ken Takata, closes #5283)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalfunc.c, src/ex_cmds.c, src/gui_w32.c, src/mbyte.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/menu.c, src/proto.h, src/testdir/test_highlight.vim<br>
<br>
Patch 8.1.2362<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot place signs in a popup window. (Maxim Kim)<br>
Solution:&nbsp;&nbsp; Use the group prefix &quot;PopUp&quot; to specify which signs should show up<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;in a popup window. (closes #5277)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/sign.txt, src/popupwin.c, src/sign.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_sign_1.dump<br>
<br>
Patch 8.1.2363<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;ml_get error when accessing Visual area in&nbsp;<a class="Type" href="options.html#'statusline'">'statusline'</a>.<br>
Solution:&nbsp;&nbsp; Disable Visual mode when using another window. (closes #5278)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_statusline.vim, src/buffer.c<br>
<br>
Patch 8.1.2364<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Termwinscroll test is flaky on FreeBSD.<br>
Solution:&nbsp;&nbsp; Add to list of flaky tests.&nbsp;&nbsp;Rename function.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/runtest.vim, src/testdir/test_terminal.vim<br>
<br>
Patch 8.1.2365<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Missing tests for recent popupwin changes.<br>
Solution:&nbsp;&nbsp; Add test cases.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.2366<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old C style comments.<br>
Solution:&nbsp;&nbsp; Use // comments where appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ascii.h, src/beval.h, src/dosinst.h, src/feature.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/glbl_ime.h, src/globals.h, src/gui_at_sb.h, src/gui_gtk_f.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_vms.h, src/gui.h, src/gui_x11_pm.h, src/gui_xmebwp.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_cscope.h, src/if_mzsch.h, src/if_ole.h, src/if_py_both.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/iscygpty.h, src/keymap.h, src/macros.h, src/nbdebug.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.h, src/os_amiga.h, src/os_beos.h, src/os_dos.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_mac.h, src/os_qnx.h, src/os_unix.h, src/os_unixx.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_vms_conf.h, src/os_win32.h, src/proto.h, src/regexp.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.h, src/structs.h, src/term.h, src/version.h, src/vimio.h<br>
<br>
Patch 8.1.2367<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Registers are not sufficiently tested.<br>
Solution:&nbsp;&nbsp; Add a few more test cases. (Yegappan Lakshmanan, closes #5288)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_registers.vim<br>
<br>
Patch 8.1.2368<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old C style comments.<br>
Solution:&nbsp;&nbsp; Use // comments where appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/autocmd.c, src/beval.c, src/blob.c, src/blowfish.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/change.c, src/channel.c, src/charset.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/cindent.c, src/crypt.c, src/crypt_zip.c<br>
<br>
Patch 8.1.2369<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with quickfix and without text properties.<br>
Solution:&nbsp;&nbsp; Fix typo. (Naruhiko Nishino)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmenu.c<br>
<br>
Patch 8.1.2370<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Build problems on VMS.<br>
Solution:&nbsp;&nbsp; Adjust the build file. (Zoltan Arpadffy)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_vms.mms, src/os_unix.c, src/os_vms.c<br>
<br>
Patch 8.1.2371<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;FEAT_TEXT_PROP is a confusing name.<br>
Solution:&nbsp;&nbsp; Use FEAT_PROP_POPUP. (Naruhiko Nishino, closes #5291)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/doc/popup.txt, src/beval.c, src/buffer.c, src/change.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/drawscreen.c, src/edit.c, src/eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/evalbuffer.c, src/evalfunc.c, src/evalwindow.c, src/ex_cmds.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c, src/feature.h, src/fileio.c, src/getchar.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/globals.h, src/gui.c, src/gui_w32.c, src/indent.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/insexpand.c, src/macros.h, src/main.c, src/memline.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/misc2.c, src/mouse.c, src/move.c, src/ops.c, src/option.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/optiondefs.h, src/optionstr.c, src/popupmenu.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/proto.h, src/screen.c, src/search.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sign.c, src/structs.h, src/tag.c, src/testdir/runtest.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_execute_func.vim, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin_textprop.vim, src/textprop.c, src/ui.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/version.c, src/vim.h, src/window.c<br>
<br>
Patch 8.1.2372<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;VMS: failing realloc leaks memory. (Chakshu Gupta)<br>
Solution:&nbsp;&nbsp; Free the memory. (partly fixes #5292)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_vms.c<br>
<br>
Patch 8.1.2373<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build with +popupwin but without +quickfix. (John Marriott)<br>
Solution:&nbsp;&nbsp; Adjust #ifdefs.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/popupmenu.c, src/popupwin.c, src/fileio.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_compiler.vim, src/testdir/test_tagjump.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test86.in, src/testdir/test87.in,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim, src/testdir/test_bufwintabinfo.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim, src/testdir/test_edit.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_execute_func.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_filter_cmd.vim, src/testdir/test_gui.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_makeencoding.vim, src/testdir/test_mksession.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_normal.vim, src/testdir/test_popup.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_popupwin.vim, src/testdir/test_preview.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_startup.vim, src/testdir/test_statusline.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_tabpage.vim, src/testdir/test_window_cmd.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_window_id.vim<br>
<br>
Patch 8.1.2374<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Unused parts of libvterm are included.<br>
Solution:&nbsp;&nbsp; Delete the unused files.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Filelist, src/libvterm/bin/vterm-ctrl.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/bin/unterm.c, src/libvterm/bin/vterm-dump.c<br>
<br>
Patch 8.1.2375<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;No sufficient testing for registers.<br>
Solution:&nbsp;&nbsp; Add more test cases. (Yegappan Lakshmanan, closes #5296)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fix that &quot;p&quot; on last virtual column of tab inserts spaces.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/register.c, src/testdir/test_registers.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_virtualedit.vim, src/testdir/test_visual.vim<br>
<br>
Patch 8.1.2376<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Preprocessor indents are incorrect.<br>
Solution:&nbsp;&nbsp; Fix the indents. (Ken Takata, closes #5298)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/gui_w32.c, src/os_mswin.c, src/os_win32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto.h<br>
<br>
Patch 8.1.2377<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;GUI: when losing focus a pending operator is executed.<br>
Solution:&nbsp;&nbsp; Do not execute an operator when getting K_IGNORE. (closes #5300)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/normal.c<br>
<br>
Patch 8.1.2378<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old C style comments.<br>
Solution:&nbsp;&nbsp; Use // comments where appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/dict.c, src/diff.c, src/digraph.c, src/dosinst.c, src/edit.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/evalbuffer.c, src/evalfunc.c<br>
<br>
Patch 8.1.2379<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old C style comments.<br>
Solution:&nbsp;&nbsp; Use // comments where appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_cmds.c, src/ex_cmds2.c, src/ex_docmd.c, src/ex_eval.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/fileio.c, src/filepath.c, src/findfile.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/fold.c<br>
<br>
Patch 8.1.2380<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old C style comments.<br>
Solution:&nbsp;&nbsp; Use // comments where appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/getchar.c, src/gui.c, src/gui_at_fs.c, src/gui_at_sb.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_athena.c, src/gui_beval.c, src/gui_gtk.c, src/gui_gtk_f.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_gtk_x11.c<br>
<br>
Patch 8.1.2381<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Not all register related code is covered by tests.<br>
Solution:&nbsp;&nbsp; Add more test cases. (Yegappan Lakshmanan, closes #5301)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_marks.vim, src/testdir/test_registers.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_virtualedit.vim<br>
<br>
Patch 8.1.2382<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: When using VTP bold+inverse doesn't work.<br>
Solution:&nbsp;&nbsp; Compare with the default colors. (Nobuhiro Takasaki, closes #5303)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c, src/proto/os_win32.pro, src/screen.c<br>
<br>
Patch 8.1.2383<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old C style comments.<br>
Solution:&nbsp;&nbsp; Use // comments where appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_mac.c, src/gui_motif.c, src/gui_photon.c, src/gui_w32.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/gui_x11.c, src/gui_xmdlg.c, src/gui_xmebw.c<br>
<br>
Patch 8.1.2384<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test 48 is old style.<br>
Solution:&nbsp;&nbsp; Merge test cases into new style test. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5307)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test48.in, src/testdir/test48.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_virtualedit.vim<br>
<br>
Patch 8.1.2385<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Opening cmdline window with feedkeys() does not work. (Yegappan<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Lakshmanan)<br>
Solution:&nbsp;&nbsp; Recognize K_CMDWIN also when ex_normal_busy is set.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_getln.c, src/testdir/test_cmdline.vim<br>
<br>
Patch 8.1.2386<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'wincolor'">'wincolor'</a>&nbsp;is not used for&nbsp;<a class="Type" href="options.html#'listchars'">'listchars'</a>.<br>
Solution:&nbsp;&nbsp; Combine the colors. (closes #5308)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/drawline.c, src/testdir/test_highlight.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_wincolor_lcs.dump<br>
<br>
Patch 8.1.2387<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old C style comments.<br>
Solution:&nbsp;&nbsp; Use // comments where appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/hardcopy.c, src/hashtab.c, src/if_cscope.c, src/if_lua.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_mzsch.c, src/if_perlsfio.c, src/if_python.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/if_python3.c, src/if_ruby.c, src/if_tcl.c, src/if_xcmdsrv.c<br>
<br>
Patch 8.1.2388<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old C style comments.<br>
Solution:&nbsp;&nbsp; Use // comments where appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/json.c, src/json_test.c, src/kword_test.c, src/list.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/main.c, src/mark.c, src/mbyte.c, src/memfile.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/memfile_test.c, src/memline.c, src/menu.c<br>
<br>
Patch 8.1.2389<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old C style comments.<br>
Solution:&nbsp;&nbsp; Use // comments where appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/screen.c, src/libvterm/src/unicode.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/src/vterm.c, src/libvterm/t/harness.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/libvterm/include/vterm.h, src/xdiff/xdiffi.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xemit.c, src/xdiff/xhistogram.c, src/xdiff/xpatience.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xutils.c, src/xdiff/xdiff.h, src/xdiff/xdiffi.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xemit.h, src/xdiff/xinclude.h, src/xdiff/xmacros.h,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/xdiff/xprepare.h, src/xdiff/xtypes.h, src/xdiff/xutils.h<br>
<br>
Patch 8.1.2390<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test94 is old style, fix 7.4.441 not tested.<br>
Solution:&nbsp;&nbsp; Turn test94 into a new style test.&nbsp;&nbsp;Add tests for the fix in patch<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7.4.441. (Yegappan Lakshmanan, closes #5316)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test94.in, src/testdir/test94.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_cmdline.vim, src/testdir/test_visual.vim<br>
<br>
Patch 8.1.2391<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot build when __QNXNTO__ is defined. (Ian Wayne Larson)<br>
Solution:&nbsp;&nbsp; Move the check for &quot;qansi&quot;. (Ken Takata, closes #5317)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/highlight.c<br>
<br>
Patch 8.1.2392<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old C style comments.<br>
Solution:&nbsp;&nbsp; Use // comments where appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/nbdebug.c, src/netbeans.c, src/normal.c, src/ops.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/option.c<br>
<br>
Patch 8.1.2393<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old C style comments.<br>
Solution:&nbsp;&nbsp; Use // comments where appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_amiga.c, src/os_beos.c, src/os_mac_conv.c, src/os_mswin.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_qnx.c, src/os_unix.c, src/os_vms.c, src/os_win32.c<br>
<br>
Patch 8.1.2394<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old C style comments.<br>
Solution:&nbsp;&nbsp; Use // comments where appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmenu.c, src/pty.c, src/quickfix.c, src/regexp.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/regexp_nfa.c, src/screen.c, src/search.c, src/sha256.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/sign.c<br>
<br>
Patch 8.1.2395<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old C style comments.<br>
Solution:&nbsp;&nbsp; Use // comments where appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/spell.c, src/spellfile.c, src/syntax.c, src/tag.c, src/term.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/terminal.c, src/termlib.c, src/testing.c<br>
<br>
Patch 8.1.2396<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Using old C style comments.<br>
Solution:&nbsp;&nbsp; Use // comments where appropriate.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ui.c, src/undo.c, src/uninstall.c, src/usercmd.c,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/userfunc.c, src/winclip.c, src/window.c, src/xpm_w32.c<br>
<br>
Patch 8.1.2397<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Should not define __USE_XOPEN. _XOPEN_SOURCE is not needed for<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Android.<br>
Solution:&nbsp;&nbsp; Remove __USE_XOPEN and adjust #ifdefs. (Ozaki Kiichi,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5322)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.h<br>
<br>
Patch 8.1.2398<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;strptime() test fails on Japanese Mac.<br>
Solution:&nbsp;&nbsp; Use %T instead of %X.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_functions.vim<br>
<br>
Patch 8.1.2399<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Info popup on top of cursor if it doesn't fit.<br>
Solution:&nbsp;&nbsp; Hide the popup if it doesn't fit.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmenu.c, src/testdir/test_popupwin.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_popupwin_infopopup_wide_1.dump<br>
<br>
Patch 8.1.2400<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test39 is old style.<br>
Solution:&nbsp;&nbsp; Convert the test cases into new style. (Yegappan Lakshmanan,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5324)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test39.in, src/testdir/test39.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_blockedit.vim, src/testdir/test_visual.vim<br>
<br>
Patch 8.1.2401<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;:cexpr does not handle | in expression.<br>
Solution:&nbsp;&nbsp; Remove EX_TRLBAR and set nextcmd pointer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_quickfix.vim, src/ex_cmds.h, src/quickfix.c<br>
<br>
Patch 8.1.2402<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Typos and other small things.<br>
Solution:&nbsp;&nbsp; Small fixes.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.gitignore, src/testdir/shared.vim, src/testdir/test49.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/Makefile<br>
<br>
Patch 8.1.2403<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Autocmd test fails under valgrind.<br>
Solution:&nbsp;&nbsp; Wait a bit longer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_autocmd.vim<br>
<br>
Patch 8.1.2404<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Channel test fails under valgrind.<br>
Solution:&nbsp;&nbsp; Sleep a bit longer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_channel.vim<br>
<br>
Patch 8.1.2405<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;matchadd_conceal test fails under valgrind.<br>
Solution:&nbsp;&nbsp; Use WaitForAssert() and wait a bit longer.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_matchadd_conceal.vim<br>
<br>
Patch 8.1.2406<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Leaking memory in test_paste and test_registers.<br>
Solution:&nbsp;&nbsp; Free the old title.&nbsp;&nbsp;Don't copy expr_line.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/term.c, src/os_unix.c, src/register.c<br>
<br>
Patch 8.1.2407<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;proto file and dependencies outdated.<br>
Solution:&nbsp;&nbsp; Update proto files and dependencies.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/proto/bufwrite.pro, src/proto/cmdhist.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/optionstr.pro, src/proto/popupwin.pro,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/proto/viminfo.pro, src/proto/if_cscope.pro<br>
<br>
Patch 8.1.2408<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Syntax menu and build instructions outdated.<br>
Solution:&nbsp;&nbsp; Update build instructions and syntax menu.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Makefile, runtime/makemenu.vim, runtime/synmenu.vim<br>
<br>
Patch 8.1.2409<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Creating the distribution doesn't work as documented.<br>
Solution:&nbsp;&nbsp; Adjust name of uninstall binary. Create src/auto directory if<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;needed.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tools/rename.bat, src/Make_mvc.mak<br>
<br>
Patch 8.1.2410<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: test_iminsert fails without IME support.<br>
Solution:&nbsp;&nbsp; Skip the test when imgetstatus() doesn't work.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_iminsert.vim<br>
<br>
Patch 8.1.2411<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Function argument copied unnecessarily.<br>
Solution:&nbsp;&nbsp; Use the argument directly.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/ex_docmd.c<br>
<br>
Patch 8.1.2412<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when evaluating expression with error. (Dhiraj Mishra)<br>
Solution:&nbsp;&nbsp; Check parsing failed. (closes #5329)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/eval.c, src/testdir/test_lambda.vim<br>
<br>
Patch 8.1.2413<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Cannot update ex_cmdidxs.h on MS-Windows.<br>
Solution:&nbsp;&nbsp; Add build rules and dependencies. (Ken Takata, closes #5337)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak, src/Make_mvc.mak, src/Make_vms.mms<br>
<br>
Patch 8.1.2414<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: properties dialog box shows wrong character.<br>
Solution:&nbsp;&nbsp; Explicitly specify encoding. (Ken Takata, closes #5338)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.rc<br>
<br>
Patch 8.1.2415<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Popup menu flickers if an info popup is used. (Nick Jensen)<br>
Solution:&nbsp;&nbsp; Set the pum_skip_redraw flag.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupmenu.c<br>
<br>
Patch 8.1.2416<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Loading menus sets v:errmsg.<br>
Solution:&nbsp;&nbsp; Avoid setting v:errmsg and add a test for that. (Jason Franklin)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;runtime/delmenu.vim, runtime/menu.vim, src/testdir/test_menu.vim<br>
<br>
Patch 8.1.2417<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MinGW/Cygwin build does not clean up all files.<br>
Solution:&nbsp;&nbsp; Delete *.map files. (Michael Soyka)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Make_cyg_ming.mak<br>
<br>
Patch 8.1.2418<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;bufnr('$') is wrong after recycling popup buffer.<br>
Solution:&nbsp;&nbsp; Sort the buffer list by buffer number. (closes #5335)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/buffer.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.2419<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;With a long file name the hit-enter prompt appears. (J. Lewis<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Muir)<br>
Solution:&nbsp;&nbsp; When checking for text to wrap don't do this when outputing a CR.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/message.c, src/testdir/test_display.vim,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/dumps/Test_long_file_name_1.dump<br>
<br>
Patch 8.1.2420<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Crash when calling popup_close() in win_execute().<br>
Solution:&nbsp;&nbsp; Disallow popup_close() in popup window. (Yasuhiro Matsumoto,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;closes #5345)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/popupwin.c, src/testdir/test_popupwin.vim<br>
<br>
Patch 8.1.2421<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;Test88 is old style.<br>
Solution:&nbsp;&nbsp; Turn into a new style test. (Yegappan Lakshmanan, closes #5347)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/testdir/Make_all.mak, src/testdir/Make_vms.mms,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test88.in, src/testdir/test88.ok,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_conceal.vim, src/testdir/test_python2.vim<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/testdir/test_python3.vim<br>
<br>
Patch 8.1.2422<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;&quot;make depend&quot; does not work correctly for libvterm.<br>
Solution:&nbsp;&nbsp; Fix build dependencies. And a few minor improvements.<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/Makefile, src/filepath.c, src/insexpand.c, src/main.c<br>
<br>
Patch 8.1.2423<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows properties shows version as &quot;8, 1, 0&quot;.<br>
Solution:&nbsp;&nbsp; Use &quot;8.1.0&quot;. (Ken Takata, closes #5342)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/vim.rc<br>
<br>
Patch 8.1.2424<br>
Problem:&nbsp;&nbsp;&nbsp;&nbsp;MS-Windows: console buffer is resized unnecessarily.<br>
Solution:&nbsp;&nbsp; Only call ResizeConBuf() when the size differs. (Nobuhiro<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takasaki, closes #5343)<br>
Files:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;src/os_win32.c<br>
<br>
<br>
&nbsp;vim:tw=78:ts=8:noet:ft=help:norl:<br>
</div>
