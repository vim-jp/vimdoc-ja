---
layout: vimdoc
helpname: 'os_vms'
---
<div id='vimCodeElement'>
<a class="Constant" href="os_vms.html" name="os_vms.txt">os_vms.txt</a>&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;<span class="Identifier">Vim バージョン 9.0.</span>&nbsp;&nbsp;Last change: 2022 Sep 30<br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Identifier">VIMリファレンスマニュアル</span><br>
<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="os_vms.html#VMS" name="VMS">VMS</a>&nbsp;<a class="Constant" href="os_vms.html#vms" name="vms">vms</a><br>
このファイルにはVMS版のVimについての詳細が書かれている。<br>
この情報へはVimのコマンドプロンプトから:help VMSとキー入力することで辿り着くこ<br>
とができる。<br>
<br>
&nbsp;1. はじめに&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="os_vms.html#vms-started">vms-started</a><br>
&nbsp;2. ファイル入手&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="os_vms.html#vms-download">vms-download</a><br>
&nbsp;3. コンパイル&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="os_vms.html#vms-compiling">vms-compiling</a><br>
&nbsp;4. 問題点&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="os_vms.html#vms-problems">vms-problems</a><br>
&nbsp;5. 配置(インストール)&nbsp;&nbsp;<a class="Identifier" href="os_vms.html#vms-deploy">vms-deploy</a><br>
&nbsp;6. 実践利用&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="os_vms.html#vms-usage">vms-usage</a><br>
&nbsp;7. GUIモードの論点&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="os_vms.html#vms-gui">vms-gui</a><br>
&nbsp;8. 利用時の覚書&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="os_vms.html#vms-notes">vms-notes</a><br>
&nbsp;9. VMS関連の変更点&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="os_vms.html#vms-changes">vms-changes</a><br>
10. 著者&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="os_vms.html#vms-authors">vms-authors</a><br>
<br>
<span class="PreProc">==============================================================================</span><br>
<br>
1. はじめに&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="os_vms.html#vms-started" name="vms-started">vms-started</a><br>
<br>
Vim(Vi IMproved)はVi互換のテキストエディタで、人類にとって既知のほとんど全ての<br>
オペレーティングシステム(以下OS)で動作する。現在ではOpenVMS上でも文字ベース及<br>
びX/Motif環境でVimを使用することができる。Vimの全機能が利用可能で、他のOS上の<br>
Vimと完全な互換性がある。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<br>
2. ファイル入手(ダウンロード)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="os_vms.html#vms-download" name="vms-download">vms-download</a><br>
<br>
Vimのソースコードは公式サイトからftpでダウンロードすることができる:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Constant">ftp://ftp.vim.org/pub/vim/</span><br>
またはミラーサイトを利用しても良い:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Constant">ftp://ftp.vim.org/pub/vim/MIRRORS</span><br>
<br>
コンパイル済み実行可能ファイルは以下のところで入手可能:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Constant"><a href="http://www.polarfox.com/vim/">http://www.polarfox.com/vim/</a></span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Constant">ftp://ftp.polarhome.com/pub/vim/</span><br>
<br>
コンパイル済みバイナリを利用するには、以下のどれか1つのアーカイブが必要:<br>
<br>
&nbsp;&nbsp;vim-XX-exe-ia64-gui.zip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IA64 GUI/Motif用実行可能ファイル<br>
&nbsp;&nbsp;vim-XX-exe-ia64-gtk.zip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; IA64 GUI/GTK用実行可能ファイル<br>
&nbsp;&nbsp;vim-XX-exe-ia64-term.zip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;IA64 console用実行可能ファイル<br>
&nbsp;&nbsp;vim-XX-exe-axp-gui.zip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alpha GUI/Motif用実行可能ファイル<br>
&nbsp;&nbsp;vim-XX-exe-axp-gtk.zip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Alpha GUI/GTK用実行可能ファイル<br>
&nbsp;&nbsp;vim-XX-exe-axp-term.zip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Alpha console用実行可能ファイル<br>
&nbsp;&nbsp;vim-XX-exe-vax-gui.zip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VAX GUI用実行可能ファイル<br>
&nbsp;&nbsp;vim-XX-exe-vax-term.zip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VAX console用実行可能ファイル<br>
<br>
そしてもちろん(これはなくてもよい)<br>
&nbsp;&nbsp;vim-XX-runtime.zip&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Vim用ランタイムファイル<br>
<br>
アーカイブには次のファイルが含まれる: vim.exe, ctags.exe, xxd.exe, mms_vim.exe<br>
<br>
GTK 用実行可能ファイルでは Alpha と IA64 プラットフォームで利用可能な GTKLIB<br>
が必要。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<br>
3. コンパイル&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="os_vms.html#vms-compiling" name="vms-compiling">vms-compiling</a><br>
<br>
ファイル [.SRC]INSTALLVMS.TXT を参照。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<br>
4. 問題点&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="os_vms.html#vms-problems" name="vms-problems">vms-problems</a><br>
<br>
コードはDEC Cコンパイラを用いて、Alpha, VAX, IA64 プラットフォームのOpen VMS<br>
バージョン 6.2 から 8.2 でテストされた。それらでは大きな問題もなく動作するだろ<br>
う。利用しているシステムにインクルードライブラリの欠けがある場合には、ファイル<br>
OS_VMS_CONF.Hを修正することで対応する。<br>
<br>
Vimを+perlや+python、その他のオプションを追加して構築するならば、まず始めに<br>
OpenVMS版のPerlやPythonを入手する必要がある。それらのライブラリを構築しインス<br>
トールしファイルOS_VMS.MMS内の適切な箇所を変更する。Vimの方には何の問題もない<br>
だろう。<br>
<br>
GTK, XPM のライブラリパスも MAKE_VMS.MMS で設定される。<br>
<br>
<span class="Todo">NOTE</span>: VAXではDEC Cコンパイラを使えば問題ない。VAXCコンパイラはプリプロセッサー<br>
命令の構文にANSI C非互換な部分がある。従ってプリプロセッサー部分をVAXCコンパイ<br>
ラの解釈できる形へ変換するプログラムを使用しなければならない。詳細は<br>
INSTALLvms.txt を参照。<br>
<br>
MMS_VIM.EXEはVIM.EXEと一緒に構築されるが、XXD.EXEは手動でサブディレクトリへ<br>
移動して個別に構築しなければならない。<br>
<br>
もはやCTAGSはVimとは独立したソフトウェアになっているが、以下で述べるように<br>
OpenVMS特有のソースコードにはCTAGSのソースコードファイルも含まれている。<br>
<br>
詳しいユーザーならばファイルFEATURE.Hで曲芸的なことに挑戦しても良いだろう。<br>
<br>
+xfontsetと+ximオプションを使用してコンパイルすることも可能だが、その際はGUIの<br>
フォント等その他のものも正しく設定しなければならない。Vimのコマンドプロンプト<br>
から:help ximを参照すること。<br>
<br>
GUIでGTKアイコンを使いたい場合には、OpenVMS用のGTKをダウンロードしてインストー<br>
ルする必要がある。もしくは polarhome.com で提供されるLIBGTKという共有可能なラ<br>
ンタイムイメージが必要になるだろう。<br>
OpenVMS上の最後のGTKが 1.2.10 である傍ら、7.2以降のVimはGTK2+を使用する。その<br>
ため、GTKビルドはもう利用できない。<br>
<br>
これ以上に高度な質問は、Vim on VMSのメーリングリストに送って欲しい。アドレスは<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;vim-vms@polarhome.com&gt;<br>
メーリングリストについての詳しいことは以下を参照すること:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Constant"><a href="http://www.polarhome.com/mailman/listinfo/vim-vms">http://www.polarhome.com/mailman/listinfo/vim-vms</a></span><br>
<br>
<span class="PreProc">==============================================================================</span><br>
<br>
5. 配置(インストール)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="os_vms.html#vms-deploy" name="vms-deploy">vms-deploy</a><br>
<br>
Vimはドキュメントとランタイムファイルを保持するのに特別なディレクトリ構成を採<br>
用している:<br>
<br>
&nbsp;&nbsp; vim (変更可能)<br>
&nbsp;&nbsp;&nbsp;&nbsp;|- tmp<br>
&nbsp;&nbsp;&nbsp;&nbsp;|- vim57<br>
&nbsp;&nbsp;&nbsp;&nbsp;|----- doc<br>
&nbsp;&nbsp;&nbsp;&nbsp;|----- syntax<br>
&nbsp;&nbsp;&nbsp;&nbsp;|- vim62<br>
&nbsp;&nbsp;&nbsp;&nbsp;|----- doc<br>
&nbsp;&nbsp;&nbsp;&nbsp;|----- syntax<br>
&nbsp;&nbsp;&nbsp;&nbsp;|- vim64<br>
&nbsp;&nbsp;&nbsp;&nbsp;|----- doc<br>
&nbsp;&nbsp;&nbsp;&nbsp;|----- syntax<br>
&nbsp;&nbsp;&nbsp;&nbsp;vimrc&nbsp;&nbsp;&nbsp;&nbsp;(システム設定ファイル)<br>
&nbsp;&nbsp;&nbsp;&nbsp;gvimrc<br>
<br>
vim.exeがドキュメントやファイル形式や構文等のファイルを見つけ、どこに一時ファ<br>
イルを作成すべきか知るためには:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;define/nolog VIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;device:[path.vim]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;define/nolog VIMRUNTIME device:[path.vim.vim60]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;define/nolog TMP&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;device:[path.tmp]</div>
<br>
このようにしなければならない。Vimに付属の &quot;runtime&quot; サブディレクトリは<br>
vimruntimeにコピーする。<br>
<br>
論理名$VIMRUNTIMEと$TMPはオプションになるが、推奨される。<br>
<br>
$VIMRUNTIMEが設定されていない時はVimが推測し自動的に設定する。<br>
詳細は:help runtimeを参照。<br>
<br>
$TMPが設定されていない時は、CTAGSやXXDや印刷などの一時ディレクトリを使用する機<br>
能を利用できなくなる。ディレクトリ$TMPはユーザーが読み書き可能でなければいけな<br>
い。一番簡単な$TMPの設定方法は論理名として定義することである。<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;define/nolog TMP SYS$SCRATCH</div>
もしくは:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;define/nolog TMP SYS$LOGIN</div>
<br>
<span class="PreProc">==============================================================================</span><br>
<br>
6. 実践利用&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="os_vms.html#vms-usage" name="vms-usage">vms-usage</a><br>
<br>
通常は1つのバージョンのVimだけが実行するから、Vimのためには1つのディレクトリを<br>
使用するだけで充分である。<br>
全てのVimランタイムディレクトリ構造をインストール位置にコピーする。(SYS$LONG<br>
ディレクトリにある)LOGIN.COMに以下の内容を付け加える。<br>
論理名$VIMを設定:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ define VIM device:&lt;path&gt;</div>
<br>
幾つかシンボルを定義:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ ! viはvimをキャラクタモードで起動する<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ vi*m&nbsp;&nbsp;:== mcr device:&lt;path&gt;VIM.EXE</div>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ ! gviはvimをGUIモードで起動する<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ gv*im :== spawn/nowait mcr device:&lt;path&gt;VIM.EXE -g</div>
<br>
シンボルのカスタマイズとコンフィギュレーションについては以下で述べる&nbsp;<span class="Todo">NOTE</span>&nbsp;も<br>
チェックすること。<br>
<br>
.vimrcと.gvimrcをホームディレクトリ(SYS$LOGIN)に作成する。<br>
<br>
いちばん簡単な方法は設定例のファイルをリネームして利用することである。元の$VIM<br>
ディレクトリにメニューファイル(MENU.VIM)やvimrcやgvimrcを置いても良いだろう。<br>
それらは全てのユーザーにとってデフォルト設定として機能するので、ホームディレク<br>
トリのファイル.vimrcと.gvimrcではユーザー独自の追加設定だけを行えば充分となる。<br>
それらは問題なく動作する。<br>
<br>
<span class="Todo">NOTE</span>: システム設定ファイル(全てのユーザーにとってのデフォルト)には先頭に &quot;.&quot;<br>
が付かない。だからそれらの名前は:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VIM$:vimrc<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VIM$:gvimrc<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;VIM$:menu.vim</div>
<br>
このようになる。そして各ユーザーのカスタマイズ設定ファイルは:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sys$login:.vimrc<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sys$login:.gvimrc</div>
<br>
となる。全てが正しい場所にあるかどうかはコマンド:versionにより確認できる。<br>
<br>
LOGIN.COMの例:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ define/nolog VIM DKA0:[UTIL.VIM81]<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ vi*m :== mcr VIM:VIM.EXE<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ gv*im:== spawn/nowait/input=NLA0 mcr VIM:VIM.EXE -g -GEOMETRY 80x40<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ set disp/create/node=192.168.10.202/trans=tcpip</div>
<br>
<span class="Todo">NOTE</span>: 独立サーバーやクラスタ環境で使用しているならばこの設定で充分であろう。し<br>
かしノード間エディタとしてVimを使用する場合には次のようにした方がより使いやす<br>
いだろう。ただ &quot;完全な&quot; パスを指定する必要がある:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ define VIM &quot;&lt;server_name&gt;[&quot;&quot;user password&quot;&quot;]::device:&lt;path&gt;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ vi*m :== &quot;mcr VIM:VIM.EXE&quot;</div>
<br>
例:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ define VIM &quot;PLUTO::RF10:[UTIL.VIM]&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ define VIM &quot;PLUTO&quot;&quot;ZAY mypass&quot;&quot;::RF10:[UTIL.VIM]&quot; ! if passwd required</div>
<br>
異なるVimのバージョンを同環境にインストールしてあるならば、正しいVimのバージョ<br>
ンを指すように論理名$VIMRUNTIMEを設定することもできる。$VIMRUNTIMEが設定されて<br>
いないときは、Vimは論理名$VIMからその値を借りてくる。論理名$VIMRUNTIMEについて<br>
のより詳しい情報はVimコマンド :help runtime をキー入力することで得ることができ<br>
る。<br>
<br>
システム管理者はシステム全体にVimをインストールしたいかもしれない。その場合に<br>
は SYS$System:SYLOGICALS.COM に追加する。<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ define/nolog/sys VIM device:&lt;path&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ define/nolog/sys TMP SYS$SCRATCH</div>
<br>
SYS$STARTUP:SYLOGIN.COM にも追加する<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ vi*m :== mcr VIM:VIM.EXE<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ gv*im:== spawn/nowait/input=NLA0 mcr VIM:VIM.EXE -g -GEOMETRY 80x40</div>
<br>
<br>
これによりシステム全てのユーザーから通常のVimが利用可能になるだろう。<br>
<br>
重要: OpenVMS (および大文字・小文字を区別しないシステム)上の Vim は、コマンド<br>
ライン引数が小文字であると仮定する。コマンドライン引数が大文字であることを示す<br>
には、記号 &quot;/&quot; を使わねばならない。<br>
<br>
例:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim -R&nbsp;&nbsp;filename&nbsp;&nbsp;! -r と解釈され、スワップファイルを表示して終了する<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim -/r filename&nbsp;&nbsp;! -R と解釈され、読み込み専用モードになる(&quot;view&quot; と<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;同じ)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim -u&nbsp;&nbsp;&lt;vimrc&gt;&nbsp;&nbsp; ! -u と解釈され、.vimrc の代わりに &lt;vimrc&gt; を使う<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim -/u &lt;gvimrc&gt;&nbsp;&nbsp;! -U と解釈され、.gvimrc の代わりに &lt;gvimrc&gt; を使う</div>
<br>
<span class="PreProc">==============================================================================</span><br>
<br>
7. GUIモードの論点&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="os_vms.html#vms-gui" name="vms-gui">vms-gui</a><br>
<br>
OpenVMS は本物のメインフレーム OS であり、したがって、GUI コンソールが備わっ<br>
ていたとしても、大多数のユーザーは日中の通常業務で X/Window 環境を使わない。<br>
Vim を GUI モードで「簡単に」起動することはできないが、しかし、極めて困難と<br>
いうことでもない。<br>
<br>
まず始めに。GUI の機能を有効にしてコンパイルされた実行ファイルが必要だ。<br>
<br>
次に。VMS サーバーに DECW/Motif がインストールされていなければならない。そうし<br>
ないといくつかの共有ライブラリに関してエラーが生じるだろう。<br>
<br>
そして。GUI/GTK 対応の拡張機能を使って Vim を実行したいなら、GTK、もしくは<br>
GTK ランタイム (LIBGTK など) もインストール必要がある。<br>
LIBGTK は&nbsp;<span class="Constant"><a href="http://www.polarhome.com/vim/">http://www.polarhome.com/vim/</a></span>&nbsp;からダウンロードできる。<br>
<br>
1) VMS X/Motifコンソールを利用しているならば:<br>
&nbsp;&nbsp; このコマンドでVimを起動する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ mc device:&lt;path&gt;VIM.EXE -g</div>
<br>
&nbsp;&nbsp; もしくはVimコマンドプロンプトで :gui をキー入力する。詳細は :help gui。<br>
<br>
2) UNIXやリモートX VMSのコンソールなど他のXウィンドウ環境を利用しているならば<br>
&nbsp;&nbsp; ホストの表示設定を行う:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ set disp/create/node=&lt;your IP address&gt;/trans=&lt;transport-name&gt;</div>
<br>
&nbsp;&nbsp; そして1)と同様にVimをスタートする。もっと助けになる情報はVIMの文章かVMSのプ<br>
&nbsp;&nbsp; ロンプトで help set disp とキー入力すれば得ることができる。<br>
&nbsp;&nbsp; 例:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ set disp/create/node=192.168.5.159&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ! デフォルトはDECnet<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ set disp/create/node=192.168.5.159/trans=tcpip ! TCP/IPネットワーク<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ set disp/create/node=192.168.5.159/trans=local ! 同じノードに表示</div>
<br>
<span class="Todo">NOTE</span>: これらのうちからどれか1つを選ぶ必要がある。もっと情報が必要ならばVMS<br>
プロンプトで $help set disp とキー入力する。<br>
<br>
3) 別の簡潔な方法は、すでに OpenVMS に XDM がインストールされているならそれ<br>
&nbsp;&nbsp; を使うことである。GUI コンソールを使うように XDM クライアントから作業でき<br>
&nbsp;&nbsp; る。<br>
<br>
4) MS-Windowや他の非Xウィンドウ環境の場合:<br>
&nbsp;&nbsp; Xサーバーを設定して2)と同様にする。<br>
&nbsp;&nbsp; MS-WindowsではフリーのXサーバーMIXや、Omni X等が利用可能である。<br>
&nbsp;&nbsp; また、DEC により提供されている eXcursion や ReflectionX という素晴らしい<br>
&nbsp;&nbsp; 商用製品もある。<br>
<br>
注意してほしいのだが、CUI での使用時には、GUI を無効にした物のほうが GUI を<br>
有効にした物よりも若干起動時間が短い。したがって、GUI の機能を使わないのな<br>
ら、非 GUI 版の実行ファイルを選ぶ価値はある。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<br>
8. 利用時の覚書&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="os_vms.html#vms-notes" name="vms-notes">vms-notes</a><br>
<br>
8.1 バックスペースとデリート<br>
8.2 フィルタ<br>
8.3 VMSのファイルバージョン番号<br>
8.4 ディレクトリ変換<br>
8.5 リモートホストの実際<br>
8.6 端末の問題<br>
8.7 バイナリ編集とその他のツール<br>
8.8 vimrcとgvimrcの読み込み<br>
8.9 Vimからの印刷<br>
8.10 シンボルの設定<br>
8.11 diff と その他の GNU プログラム<br>
8.12 差分モード<br>
8.13 C 言語のキーワードに '$' を認める<br>
8.14 初心者のための VIMTUTOR<br>
8.15 コンソールモードで起動が遅い問題について<br>
8.16 共通の VIM ディレクトリ - 異なるアーキテクチャ<br>
<br>
8.1 バックスペースとデリート<br>
<br>
VMSにはバックスペースとデリートキーについて矛盾がある。<br>
:fixdel ではこの問題を解決できないので、次のようにする必要がある(<a class="Type" href="options.html#'cpo'">'cpo'</a>&nbsp;が &quot;&lt;&quot;<br>
を含まない):<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:inoremap &lt;C-?&gt; &lt;C-H&gt;&nbsp;&nbsp; &quot; CUI(端末)モード用<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:inoremap &lt;Del&gt; &lt;C-H&gt;&nbsp;&nbsp; &quot; GUIモード用</div>
<br>
詳細は8.6章(端末の問題)を参照。<br>
(Bruce Hunsaker &lt;BNHunsaker@chq.byu.edu&gt; Vim 5.3)<br>
<br>
<br>
8.2 フィルタ<br>
<br>
Vimはフィルタをサポートしている。UNIXのような入出力のリダイレクト<br>
( &lt; infile &gt; outfileの仕組み)を取り扱えるソートプログラムがあれば:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:map \s 0!'aqsort&lt;CR&gt;</div>
<br>
このように使うことができる。<br>
(Charles E. Campbell, Jr. &lt;cec@gryphon.gsfc.nasa.gov&gt; Vim 5.4)<br>
<br>
<br>
8.3 VMSのファイルバージョン番号<br>
<br>
Vimはファイルを1つ上のバージョン番号のファイルとして保存する。次の設定:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set nobackup&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot; バックアップファイル *.*_ backup を作らない<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set nowritebackup&nbsp;&nbsp; &quot; VMSでは意味をなさない。デフォルト値。</div>
<br>
を行うと良い。クラッシュからのリカバリはデフォルトのスワップファイルを使ってい<br>
る時よりも完全に動作する。詳細は :help swapfile を参照。<br>
<br>
(Claude Marinier &lt;ClaudeMarinier@xwavesolutions.com&gt; Vim 5.5, Zoltan Arpadffy<br>
Vim 5.6 )<br>
<br>
<br>
8.4 ディレクトリ変換<br>
<br>
VimはUNIXスタイルのパス名とUNIX/VMS混合スタイルのパス名を内部的にVMSスタイルに<br>
変換している。典型的な変換には共通点がある:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/abc/def/ghi&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; abc:[def]ghi.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/abc/def/ghi.j&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; abc:[def]ghi.j<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/abc/def/ghi.j;2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; abc:[def]ghi.j;2<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/abc/def/ghi/jkl/mno&nbsp;&nbsp;&nbsp;&nbsp;-&gt; abc:[def.ghi.jkl]mno.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;abc:[def.ghi]jkl/mno&nbsp;&nbsp;&nbsp;&nbsp;-&gt; abc:[def.ghi.jkl]mno.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;./&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; 現在のディレクトリ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;../&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -&gt; 相対的な親ディレクトリ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[.def.ghi]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; 相対的な子ディレクトリ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ./def/ghi&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&gt; 相対的な子ディレクトリ<br>
<br>
<span class="Todo">NOTE</span>: 折カッコ&lt;,&gt;を(device:<span class="Special">&lt;path&gt;</span>file.ext;version)のように使うこともできる。<br>
例: rf10:&lt;user.zay.work&gt;test.c;1<br>
<br>
(David Elins &lt;delins@foliage.com&gt;, Jerome Lauret<br>
&lt;JLAURET@mail.chem.sunysb.edu&gt; Vim 5.6)<br>
<br>
<br>
8.5 リモートホストの実際<br>
<br>
Vimをノード間エディタとして使用することができる。<br>
1. リモートノードのファイルを編集する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vi &quot;&lt;server&gt;&quot;&quot;username passwd&quot;&quot;::&lt;device&gt;:&lt;path&gt;&lt;filename&gt;;&lt;version&gt;&quot;</div>
<br>
例:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vi &quot;pluto&quot;&quot;zay passwd&quot;&quot;::RF10:&lt;USER.ZAY.WORK&gt;TEST.C;1&quot;</div>
<br>
<span class="Todo">NOTE</span>: 構文が非常に重要で、間違えるとVMSは複数パラメーターと勘違いしてしまう(結<br>
果的にファイルがみつからない、ということになる)。<br>
<br>
2.&nbsp;&nbsp;Vimをノード間エディタとして設定する。使用しているホストにVimがインストール<br>
されていない場合、IPアドレスを設定し、サーバー名を含んで完全なVimのパスを指定<br>
し下記のようなコマンドプロシージャを実行する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ if (p1 .eqs. &quot;&quot;) .OR. (p2 .eqs. &quot;&quot;) then goto usage<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ set disp/create/node=&lt;your_IP_here&gt;/trans=tcpip<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ define &quot;VIM &quot;&lt;vim_server&gt;&quot;&quot;''p1' ''p2'&quot;&quot;::&lt;device&gt;:&lt;vim_path&gt;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;vi*m :== &quot;mcr VIM:VIM.EXE&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ gv*im :== &quot;spawn/nowait mcr VIM:VIM.EXE -g&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ goto end<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ usage:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ write sys$output &quot; Please enter username and password as a parameter.&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ write sys$output &quot; Example: @SETVIM.COM username passwd&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ end:</div>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{訳注: 例中のコマンドで表示されるメッセージは翻訳していない}</div>
<br>
<span class="Todo">NOTE</span>: これをクラスタ環境では使わない (その必要もない)。これを行うと非常に遅く<br>
なるが、それでもローカルで実行するEmacsよりは速いだろう。 :-)<br>
<br>
(Zoltan Arpadffy, &lt;arpadffy@altavista.net&gt; Vim 5.6)<br>
<br>
<br>
8.6 端末の問題<br>
<br>
利用している端末の名前をVimに指示していない場合、Vimは起動時に以下のメッセージ<br>
を表示してデフォルトの端末を見つけようと試みる:<br>
---<br>
Terminal entry not found in termcap<br>
'unknown-terminal' not known. Available built-in terminals are:<br>
&nbsp;&nbsp;&nbsp;&nbsp;builtin_gui<br>
&nbsp;&nbsp;&nbsp;&nbsp;builtin_riscos<br>
&nbsp;&nbsp;&nbsp;&nbsp;builtin_amiga<br>
&nbsp;&nbsp;&nbsp;&nbsp;builtin_ansi<br>
&nbsp;&nbsp;&nbsp;&nbsp;builtin_vt320<br>
&nbsp;&nbsp;&nbsp;&nbsp;builtin_vt52<br>
&nbsp;&nbsp;&nbsp;&nbsp;builtin_pcansi<br>
&nbsp;&nbsp;&nbsp;&nbsp;builtin_win32<br>
&nbsp;&nbsp;&nbsp;&nbsp;builtin_xterm<br>
&nbsp;&nbsp;&nbsp;&nbsp;builtin_iris-ansi<br>
&nbsp;&nbsp;&nbsp;&nbsp;builtin_debug<br>
&nbsp;&nbsp;&nbsp;&nbsp;builtin_dumb<br>
defaulting to 'vt320'<br>
---<br>
<span class="Special">{訳注: メッセージの翻訳は省略します。実際には翻訳されて表示される可能性があり</span><br>
<span class="Special">ます。}</span><br>
<br>
解決法はデフォルトの端末名を設定することである:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ ! 不明な端末名。代わりにvt320かansiを使用する。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ ! 注意: この名前は大文字小文字が区別される。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ define term &quot;vt320&quot;</div>
<br>
VT100からVT320までの端末(VT300, VT220, VT200)については追加のキーボードマッピ<br>
ングは必要ない。それらはカーソルキー、インサートキー、デリートキー等などを含め<br>
て完全に動作する。ただしGUIモードでのバックスペースは除く。これを解決するには<br>
以下の設定を.gvimrcに追加する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inoremap &lt;Del&gt; &lt;BS&gt;</div>
<br>
Vimはそれらが高速な端末かどうかも認識する:<br>
<br>
ウィンドウ間のスクリーンの行ジャンプにイライラするようならば、次の設定をファイ<br>
ル.vimrcに設定する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set ttyfast&nbsp;&nbsp;&nbsp;&nbsp; &quot; 高速端末を指定</div>
<br>
<span class="Todo">NOTE</span>: Vimをリモートホストで使用しているか接続が非常に低速な場合には、この高速<br>
端末のオプションは設定しないことが推奨される:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set nottyfast&nbsp;&nbsp; &quot; set terminal to slow mode</div>
<br>
(Zoltan Arpadffy, Vim 5.6)<br>
<br>
<br>
8.7 バイナリ編集とその他のツール<br>
<br>
OpenVMSとその他のシステムとの間の重要な違いはVMSが実行ファイルを実行するのに特<br>
別なコマンドを使用しているということである:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;RUN &lt;path&gt;filename<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;MCR &lt;path&gt;filename &lt;parameters&gt;</div>
<br>
OpneVMSのユーザーはVimのコマンド :! が単にDCLプロンプトに落ちているだけだと意<br>
識する必要がある。この機能により全てのDCLコマンドを問題なく実行できるのだが、<br>
XXDやCTAGS、JTAGS等のプログラムを実行する場合には、Vimの文章(:help xxd参照)に<br>
そのまま従ってしまうと問題になる。<br>
<br>
解決方法: MCコマンドを実行し、実行ファイルのフルパスを追加する。<br>
例: コマンド :%!xxd の代わり:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:%!mc vim&#0058;xxd</div>
<br>
…一般化すれば:<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:!mc &lt;path&gt;filename &lt;parameters&gt;</div>
<br>
<span class="Todo">NOTE</span>: XXDやCTAGSをGUIメニューから使うこともできる。<br>
<br>
ctagsをカスタマイズするには論理名$CTAGSに標準的なパラメーターをこのように設定<br>
する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;define/nolog CTAGS &quot;--totals -o sys$login:tags&quot;</div>
<br>
追加の情報は、:help tagsearch及び<span class="Constant"><a href="http://ctags.sourceforge.net/ctags.html">http://ctags.sourceforge.net/ctags.html</a></span>にある<br>
CTAGSの文章を読むこと。<br>
<br>
(Zoltan Arpadffy, &lt;arpadffy@altavista.net&gt; Vim 5.6-70)<br>
<br>
<br>
8.8 vimrcとgvimrcの読み込み<br>
<br>
他のプラットフォーム(例: Windows)で使用している.vimrcと.gvimrcを使うには、その<br>
ファイルをftpで転送すると問題が起こるだろう: VMSは異なる改行記号を採用してい<br>
る。<br>
そのため、次のようにしても.vimrc/.gvimrcは読み込めない:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:so sys$login:.vimrc</div>
<br>
1つのトリックとしては他のプラットフォーム上でファイルを圧縮し(例: zip)VMS上で<br>
伸長する方法がある。それでも同じ現象になるならばファイルをコピー&amp;ペーストで作<br>
成することを試みる (この両操作を行うためには、両方のシステムが1つのマシンから<br>
使えなければならない。例えばWindowsでXtermを使用するか、VMSからWindowsにtelnet<br>
するかのように)。<br>
<br>
(Sandor Kopanyi, &lt;sandor.kopanyi@altavista.net&gt; Vim 6.0a)<br>
<br>
<br>
8.9 Vimからの印刷<br>
<br>
VMSで(GUIモードの)Vimからの印刷を可能にするには論理名$TMPを一時ディレクトリを<br>
指すようにし論理名SYS$PRINTにデフォルトのプリントキューを指定する必要がある。<br>
例:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$define SYS$PRINT HP5ANSI</div>
<br>
バッファ全体を、またマークした範囲だけでも、印刷することができる。<br>
詳細は :help hardcopy にある。<br>
<br>
(Zoltan Arpadffy, &lt;arpadffy@altavista.net&gt; Vim 6.0c)<br>
<br>
8.10 シンボルの設定<br>
<br>
このようにgvimを使用している際に、親となるターミナルで<span class="Special">&lt;CTRL-Y&gt;</span>を押すと、gvimが<br>
終了してしまう問題がある。この問題は異なるシンボルを定義することで回避できるよ<br>
うだ。それは:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ GV*IM:==SPAWN/NOWAIT/INPUT=NLA0: MCR VIM:VIM.EXE -G -GEOMETRY 80X40</div>
<br>
/INPUT=NLA0: が親ウィンドウからの停止信号をブロックするために、親の端末とgvim<br>
のプロセスの標準入力を切り離す。<br>
-GEOMETRYがない場合、gvimウィンドウのサイズは最小となり、大きさを修正したあと<br>
でもメニューが混乱しておかしなことになるだろう。<br>
<br>
(Carlo Mekenkamp, Coen Engelbarts, Vim 6.0ac)<br>
<br>
<br>
8.11 diff と その他の GNU プログラム<br>
<br>
Vim 6.0 から diff 用の機能が実装された。しかし OpenVMS の組込みの diff は<br>
GNU/UNIX 互換ではないので機能しない。<br>
好ましくないが簡単な解決法としては、Unix 互換の diff をインストールすること<br>
である。そうすれば Vim は差分モードでも完全に機能するだろう。それには diff<br>
プログラムを次のように再定義しなければならない:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;define /nolog diff &lt;GNU_PATH&gt;diff.exe</div>
<br>
もう 1 つの面倒な方法は以下の (8.12 差分モード) で説明する。<br>
他に問題の起こりそうなプログラムとして、patch や make などがある。<br>
<span class="Constant">www.polarhome.com</span>&nbsp;では OpenVMS 上での GNU プログラムに関する問題を解決するた<br>
めに、Alpha や VAX 向けの GNU パッケージを配布している。<br>
(Zoltan Arpadffy, Vim 6.1)<br>
<br>
<br>
8.12 差分モード<br>
<br>
Vim 6.0 以降では差分モードがサポートされている (<a class="ExternalTaglink" href="https://vim-jp.org/vimdoc-en/version6.html#new-diff-mode">new-diff-mode</a>、<br>
<a class="Identifier" href="diff.html#diff-mode">diff-mode</a>、<a class="Identifier" href="usr_08.html#08.7">08.7</a>を参照)。これは&nbsp;<a class="Type" href="options.html#'diff'">'diff'</a>&nbsp;で指定した外部プログラムを使用し、<br>
その出力が Unix 互換であると想定している。しかし VMS 標準の diff はそれとは<br>
違った書式で出力する。VMS で vim の差分モードを使うには、次のようにする:<br>
&nbsp;&nbsp;&nbsp;&nbsp;1 Unix 互換の diff をインストールする。例えば GNU diff。<br>
&nbsp;&nbsp;&nbsp;&nbsp;2 vim に差分モードで Unix 互換の diff を使うことを教える。<br>
<br>
GNU diff は VIM-VMS のウェブサイトからダウンロードできる。これは<br>
<span class="Constant"><a href="http://www.polarhome.com/vim/files/gnu_tools.zip">http://www.polarhome.com/vim/files/gnu_tools.zip</a></span>&nbsp;に含まれている GNU ツールの<br>
1 つである。このアーカイブの中身を &quot;GNU&quot; というディレクトリに入れ、論理名<br>
GNU: をそのディレクトリを指すよう作成するといいだろう。例:<br>
<br>
<div class="helpExample">&nbsp;&nbsp; DEFINE GNU&nbsp;&nbsp;&nbsp;&nbsp;&lt;DISK&gt;:[&lt;DIRECTORY&gt;.BIN.GNU]</div>
<br>
シンボル GDIFF を定義して、DCL プロンプトから GNU diff を使いたい場合には:<br>
<br>
<div class="helpExample">&nbsp;&nbsp; GDIFF :==&nbsp;&nbsp;&nbsp;&nbsp; $GNU:DIFF.EXE</div>
<br>
そして、vim に新しい diff プログラムを使うことを教える必要がある。<br>
<a class="Identifier" href="diff.html#diff-diffexpr">diff-diffexpr</a>&nbsp;から設定例を持ってきて、外部の diff を呼び出す部分を VMS 上<br>
の新しい diff を呼び出すように変更する。これを .vimrc ファイルに加える:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp; &quot; Set up vimdiff options<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if v:version &gt;= 600<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot; Use GNU diff on VMS<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set diffexpr=MyDiff()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function MyDiff()<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; let opt = &quot;&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if &amp;diffopt =~ &quot;icase&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; let opt = opt .. &quot;-i &quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endif<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if &amp;diffopt =~ &quot;iwhite&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; let opt = opt .. &quot;-b &quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; endif<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; silent execute &quot;!mc GNU:diff.exe -a &quot; .. opt .. v:fname_in .. &quot; &quot; ..&nbsp;&nbsp;v:fname_new ..<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;\&nbsp;&nbsp;&quot; &gt; &quot; .. v:fname_out<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endfunction<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endif</div>
<br>
これで vim の差分モードを使うことができる。例えば 2 つのファイルを読み込み<br>
専用で開いて比較する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;$ VIM -D/R &lt;FILE1&gt; &lt;FILE2&gt;</div>
<br>
vimdiff として新しいシンボルを定義することもできる。例:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;$ VIMDIFF&nbsp;&nbsp;&nbsp;&nbsp; :== 'VIM' -D/R<br>
&nbsp;&nbsp;&nbsp;&nbsp;$ GVIMDIFF&nbsp;&nbsp;&nbsp;&nbsp;:== 'GVIM' -D/R</div>
<br>
これでファイルを比較するのに 4 つの方法が利用できる:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;1. VMS&nbsp;&nbsp;diff:&nbsp;&nbsp;$ DIFF&nbsp;&nbsp;&nbsp;&nbsp; &lt;FILE1&gt; &lt;FILE2&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;2. GNU&nbsp;&nbsp;diff:&nbsp;&nbsp;$ GDIFF&nbsp;&nbsp;&nbsp;&nbsp;&lt;FILE1&gt; &lt;FILE2&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;3. VIM&nbsp;&nbsp;diff:&nbsp;&nbsp;$ VIMDIFF&nbsp;&nbsp;&lt;FILE1&gt; &lt;FILE2&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;4. GVIM diff:&nbsp;&nbsp;$ GVIMDIFF &lt;FILE1&gt; &lt;FILE2&gt;</div>
<br>
(Coen Engelbarts, Vim 6.1)<br>
<br>
<br>
8.13 C 言語のキーワードに '$' を認める<br>
<br>
DEC C では識別子に '$' を使用できる。ANSI C では使用できない。また、vim は識<br>
別子の終わりを示す '$' を認めている。<a class="Type" href="options.html#'iskeyword'">'iskeyword'</a>&nbsp;を設定して取り扱いを変更で<br>
きる。<br>
次のコマンドを .vimrc ファイルに追加する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;autocmd FileType c,cpp,cs&nbsp;&nbsp;set iskeyword+=$</div>
<br>
もしくは $VIM/FTPLUGIN/C.VIM (あるいは CPP.VIM や CS.VIM) を作成してこのコマ<br>
ンドを追加する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;set iskeyword+=$</div>
<br>
これで、単語に基づくコマンド、例えば '*' 検索コマンドや&nbsp;<span class="Special">CTRL-]</span>&nbsp;タグ検索で正<br>
しい識別子を選択することができる。(VMS 上の Ctags もバージョン 5.1 から C 言<br>
語のキーワードに '$' を認めている)<br>
<br>
(Coen Engelbarts, Vim 6.1)<br>
<br>
8.14 初心者のための VIMTUTOR<br>
<br>
OpenVMS 上で Vim 初心者の最初の一歩を手助けするために DCL スクリプトの<br>
VIMTUTOR.COM が用意されている。バイナリ配布物によっては次のようにして開始でき<br>
るだろう:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@vim:vimtutor</div>
<br>
(Thomas.R.Wyant III, Vim 6.1)<br>
<br>
8.16 コンソールモードでの起動が遅い問題について<br>
<br>
GUI/GTK 版の Vim はコンソールモードでも同じように動作するので、多くの管理者は<br>
それをシステムワイドでデプロイする。<br>
不幸なことに、回線が遅い環境で GUI/GTK 版の実行ファイルを使ってコンソールモー<br>
ドで起動しようとすると、X 環境を検出しようとしてタイムアウト待ちになるため、か<br>
なり遅くなってしまう。<br>
<br>
幸いなことに、簡単な解決法がある。GUI/GTK 版の実行ファイルとコンソール用にビル<br>
ドした実行ファイルの両方をデプロイするのである。次のように:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;|- vim73<br>
&nbsp;&nbsp;&nbsp;&nbsp;|----- doc<br>
&nbsp;&nbsp;&nbsp;&nbsp;|----- syntax<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vimrc&nbsp;&nbsp;&nbsp;&nbsp;(system rc files)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gvimrc<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gvim.exe (GUI/GTK 版の vim.exe をリネームしたもの)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vim.exe&nbsp;&nbsp;(コンソール版の実行ファイル)</div>
<br>
以下のようなシステムシンボルを LOGIN.COM または SYLOGIN.COM で定義する:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ define/nolog VIM RF10:[UTIL.VIM73] ! where you VIM directory is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ vi*m&nbsp;&nbsp;:== mcr VIM:VIM.EXE<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ gvi*m :== mcr VIM:GVIM.EXE<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ ! or you can try to spawn with<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ gv*im :== spawn/nowait/input=NLA0 mcr VIM:GVIM.EXE -g -GEOMETRY 80x40</div>
<br>
<br>
このようにすれば、X 環境を持たずコンソールモードで使用したいユーザーも速度の問<br>
題を回避できる。<br>
<br>
(Zoltan Arpadffy, Vim 7.2)<br>
<br>
8.16 共通の VIM ディレクトリ - 異なるアーキテクチャ<br>
<br>
次のような異なるアーキテクチャのノードを含むクラスタにおいては:<br>
<br>
$show cluster<br>
View of Cluster from system ID 11655&nbsp;&nbsp;node: TOR&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 18-AUG-2008 11:58:31<br>
+---------------------------------+<br>
|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SYSTEMS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| MEMBERS |<br>
+-----------------------+---------|<br>
|&nbsp;&nbsp;NODE&nbsp;&nbsp;|&nbsp;&nbsp; SOFTWARE&nbsp;&nbsp; |&nbsp;&nbsp;STATUS |<br>
+--------+--------------+---------|<br>
| TOR&nbsp;&nbsp;&nbsp;&nbsp;| VMS V7.3-2&nbsp;&nbsp; | MEMBER&nbsp;&nbsp;|<br>
| TITAN2 | VMS V8.3&nbsp;&nbsp;&nbsp;&nbsp; | MEMBER&nbsp;&nbsp;|<br>
| ODIN&nbsp;&nbsp; | VMS V7.3-2&nbsp;&nbsp; | MEMBER&nbsp;&nbsp;|<br>
+---------------------------------+<br>
<br>
VIM ディレクトリは共通にし、実行ファイルだけ異なるようにすると便利である。この<br>
問題に対しては、以下のようにいくつかの解決法がある:<br>
<br>
解決法 1. すべての実行ファイルを同じディレクトリに違う名前で入れる<br>
これは以下のスクリプトを login.com か sylogin.com に入れることで簡単にできる:<br>
<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ if f$getsyi(&quot;NODE_HWTYPE&quot;) .eqs. &quot;VAX&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;VAX platform&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vi*m:== mcr vim&#0058;VIM.EXE_VAX<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ endif<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ if f$getsyi(&quot;NODE_HWTYPE&quot;) .eqs. &quot;ALPH&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;ALPHA platform&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; vi*m :== mcr vim&#0058;VIM.EXE_AXP<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ endif<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ if f$getsyi(&quot;ARCH_NAME&quot;) .eqs. &quot;IA64&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;IA64 platform&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vi*m :== mcr vim&#0058;VIM.EXE_IA64<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ endif</div>
<br>
解決法 2. 別々のディレクトリにする:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ if f$getsyi(&quot;NODE_HWTYPE&quot;) .eqs. &quot;VAX&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;VAX platform&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; define/nolog VIM RF10:[UTIL.VAX_EXE] ! VAX executables<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ endif<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ if f$getsyi(&quot;NODE_HWTYPE&quot;) .eqs. &quot;ALPH&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; say &quot;ALPHA platform&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; define/nolog VIM RF10:[UTIL.AXP_EXE] ! AXP executables<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ endif<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ if f$getsyi(&quot;ARCH_NAME&quot;) .eqs. &quot;IA64&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ then<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;say &quot;IA64 platform&quot;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;define/nolog VIM RF10:[UTIL.IA64_EXE] ! IA64 executables<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ endif<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$! VIMRUNTIME must be defined in order to find runtime files<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$ define/nolog VIMRUNTIME RF10:[UTIL.VIM73]</div>
<br>
このアプローチの良い例が&nbsp;<span class="Constant"><a href="http://www.polarhome.com/vim/">http://www.polarhome.com/vim/</a></span>&nbsp;からダウンロードできる<br>
GNU_TOOLS.ZIP の&nbsp;<span class="Special">[GNU]</span>gnu_tools.com スクリプトである。<br>
<br>
(Zoltan Arpadffy, Vim 7.2)<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<br>
9. VMS関連の変更点&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="os_vms.html#vms-changes" name="vms-changes">vms-changes</a><br>
<br>
Version 8.2<br>
- 全プラットフォームの VMS Vim 8.2 クリーンビルドで必要となる全ての変更を実施<br>
- mkdir 呼び出しバグの修正 (vicente_polo@yahoo.es)<br>
- VSI OpenVMS Alpha と Itanium プラットフォーム上のテスト<br>
- LUA サポートを追加<br>
- XPM サポートを追加 - すべてのプラットフォームのツールバー付きMotif GUI<br>
- XPM v3.4.11 ライブラリの IA64、AXP、VAX 版を追加<br>
- 新テストスクリプト統合を開始<br>
<br>
Version 8.1<br>
- VMSで v8.1 をビルドするために必要な変更<br>
<br>
Version 8.0<br>
- キーストロークを待っている間、CPU使用率 100% の問題を解決<br>
- INFINITY(json.c で使用)の取り扱いに関するVMSの警告とエラーを修正<br>
- 小さなVMSの移植に関連した変更<br>
- make_vms.mms file を 8.0用に修正<br>
- [.TESTDIR]make_vms.mms を 8.0用に修正<br>
<br>
Version 7.4<br>
- Undo: VMS はファイル名に複数のドットを使えないので &quot;dir/name&quot; -&gt; &quot;dir/_un_name&quot; とする<br>
&nbsp;&nbsp;先頭に _un_ を追加して拡張子を維持する<br>
- スワップファイル名のワイルドカードの扱いを修正<br>
- iconv を正しく扱う<br>
- vax で最適化しない - そうしないと crypto ファイルのコンパイルでハングする<br>
- fileio.c のコメント修正<br>
- RealWaitForChar の修正<br>
- 7.4-119 以降で別の関数 lib$cvtf_to_internal_time を使う。Alpha と VAX は<br>
&nbsp;&nbsp;G_FLOAT を持っているが IA64 は IEEE 浮動小数点数を使うので Vim がクラッシュ<br>
&nbsp;&nbsp;するため<br>
- 複数ファイル名によるクラッシュを防ぐ<br>
-&nbsp;<span class="Special">[TESTDIR]</span>make_vms.mms 出力ファイルを見るように変更<br>
- テスト改善。既知の問題の更新<br>
- マイナーなコンパイラ警告の修正<br>
- CTAGS 5.8 +regex 取り込み<br>
<br>
バージョン 7.3<br>
- CTAGS 5.8 の取り込み<br>
- VMS コンパイル警告の修正 - VAX の浮動小数点数オーバーフローの警告を直した<br>
- ファイルパス補完の修正 - ファイル名とシェルコマンドにおいて余計な文字がエス<br>
&nbsp;&nbsp;ケープされていた<br>
- 以下のプラグインが VMS の runtime に追加された:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;genutils 2.4, multiselect 2.2, multvals 3.1, selectbuf 4.3,<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bufexplorer 7.1.7, taglist 4.5<br>
- vimrc の小さな変更 (VMS runtime 内のみ)<br>
- make_vms.mms - HUGE がデフォルト<br>
-&nbsp;<span class="Special">[TESTDIR]</span>make_vms.mms にできるだけ多くのテストを含めた<br>
- test30 と test54 を VMS 用に修正した<br>
- VMS ポートで FLOAT 機能を有効にした<br>
- os_vms.txt を更新した<br>
<br>
Version 7.2 (2008 Aug 9)<br>
- VCF ファイルの書き込みを修正<br>
- CTAGS 5.7 を含めた<br>
- make_vms.mms を修正 (VAX で構文エラーになっていた)<br>
<br>
Version 7.1 (2007 Jun 15)<br>
- TAGS ファイルをメニューから作成<br>
<br>
Version 7 (2006 May 8)<br>
- 低レベルの文字入力を改良 (コンソールモードにのみ影響する)<br>
- プラグインのバグを修正<br>
- CTAGS 5.6 を含めた<br>
<br>
<span class="Special">{訳注: 翻訳対象から除外}</span><br>
<br>
Version 6.4 (2005 Oct 15)<br>
- GTKLIB and Vim build on IA64<br>
- colors in terminal mode<br>
- syntax highlighting in terminal mode<br>
- write problem fixed (extra CR)<br>
- ESC and ESC sequence recognition in terminal mode<br>
- make file changed to support new MMS version<br>
- env variable expansion in path corrected<br>
- printing problems corrected<br>
- help text added for case insensitive arguments<br>
<br>
Version 6.3 (2004 May 10)<br>
- Improved vms_read function<br>
- CTAGS v5.5.4 included<br>
- Documentation corrected and updated<br>
<br>
Version 6.2 (2003 May 7)<br>
- Corrected VMS system call results<br>
- Low level character input is rewritten<br>
- Correction in tag and quickfix handling<br>
- First GTK build<br>
- Make file changes<br>
&nbsp;&nbsp;&nbsp;&nbsp;- GTK feature added<br>
&nbsp;&nbsp;&nbsp;&nbsp;- Define for OLD_VMS<br>
&nbsp;&nbsp;&nbsp;&nbsp;- OpenVMS version 6.2 or older<br>
- Documentation updated with GTK features<br>
- CTAGS v5.5 included<br>
- VMS VIM tutor created<br>
<br>
Version 6.1 (2002 Mar 25)<br>
- TCL init_tcl() problem fixed<br>
- CTAGS v5.4 included<br>
- GNU tools binaries for OpenVMS<br>
- Make file changes<br>
&nbsp;&nbsp;&nbsp;&nbsp;- PERL, PYTHON and TCL support improved<br>
&nbsp;&nbsp;&nbsp;&nbsp;- InstallVMS.txt has a detailed description HOWTO build<br>
- VMS/Unix file handling rewritten<br>
- Minor casting and bug fixes<br>
<br>
Version 6.0 (2001 Sep 28)<br>
- Unix and VMS code has been merged<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- separated &quot;really&quot; VMS related code<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- included all possible Unix functionality<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- simplified or deleted the configuration files<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- makefile MAKE_VMS.MMS reviewed<br>
- menu changes (fixed printing, CTAGS and XXD usage)<br>
- fixed variable RMS record format handling anomaly<br>
- corrected syntax, ftplugin etc files load<br>
- changed expand_wildcards and expandpath functions to work more general<br>
- created OS_VMS_FILTER.COM - DECC-&gt;VAXC pre-processor directive convert<br>
&nbsp;&nbsp;script.<br>
- Improved code's VAXC and new DECC compilers compatibility<br>
- changed quickfix parameters:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- errormessage format to suite DECC<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- search, make and other commands to suite VMS system<br>
- updated and renamed MMS make files for Vim and CTAGS.<br>
- CTAGS has been removed from source distribution of Vim but it will remain<br>
&nbsp;&nbsp;in OpenVMS binary distributions.<br>
- simplified build/configuration procedure<br>
- created INSTALLvms.txt - detailed compiling instructions under VMS.<br>
- updated test scripts.<br>
<br>
Version 5.8 (2001 Jun 1)<br>
- OS_VMS.TXT updated with new features.<br>
- other minor fixes.<br>
- documentation updated<br>
- this version had been tested much more than any other OpenVMS version<br>
&nbsp;&nbsp;earlier<br>
<br>
Version 5.7 (2000 Jun 24)<br>
- New CTAGS v5.0 in distribution<br>
- Documentation updated<br>
<br>
Version 5.6 (2000 Jan 17)<br>
- VMS filename related changes:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- version handling (open everything, save to new version)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- correct file extension matching for syntax (version problem)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- handle &lt;,&gt; characters and passwords in directory definition<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- handle internode/remote invocation and editing with passwords<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- OpenVMS files will be treated case insensitive from now<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- corrected response of expand(&quot;%:.&quot;) etc path related functions<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(in one word: VMS directory handling internally)<br>
- version command<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- corrected (+,-) information data<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- added compiler and OS version<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- added user and host information<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- resolving $VIM and $VIMRUNTIME logicals<br>
- VMS port is in MAX_FEAT (maximum features) club with Unix, Win32 and OS/2.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- enabled farsi, rightleft etc. features<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- undo level raised up to 1000<br>
- Updated OS_VMS.MMS file.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- maximum features ON is default<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- Vim is compilable with +perl, +python and +tcl features.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- improved MMK compatibility<br>
- Created MAKEFILE_VMS.MMS, makefile for testing Vim during development.<br>
- Defined DEC terminal VT320<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- compatibility for VT3*0, VT2*0 and VT1*0 - ANSI terminals<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;backwards, but not VT340 and newer with colour capability.<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- VT320 is default terminal for OpenVMS<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- these new terminals are also fast ttys (default for OpenVMS).<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- allowed dec_mouse ttym<br>
- Updated files vimrc and gvimrc with VMS specific suggestions.<br>
- OS_VMS.TXT updated with new features.<br>
<br>
Version 5.5 (1999 Dec 3)<br>
- Popup menu line crash corrected.<br>
- Handle full file names with version numbers.<br>
- Directory handling (CD command etc.)<br>
- Corrected file name conversion VMS to Unix and v.v.<br>
- Correct response of expand wildcards<br>
- Recovery is working from this version under VMS as well.<br>
- Improved terminal and signal handing.<br>
- Improved OS_VMS.TXT<br>
<br>
Version 5.4 (1999 Sep 9)<br>
- Cut and paste mismatch corrected.<br>
- Motif directories during open and save are corrected.<br>
<br>
Version 5.3 (1998 Oct 12)<br>
- Minor changes in the code<br>
- Standard distribution with +GUI option<br>
<br>
Version 5.1 (1998 Apr 21)<br>
- Syntax and DEC C changes in the code<br>
- Fixing problems with the /doc subdirectory<br>
- Improve OS_VMS.MMS<br>
<br>
Version 4.5 (1996 Dec 16)<br>
- First VMS port by Henk Elbers &lt;henk@xs4all.nl&gt;<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<br>
10. 著者&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="os_vms.html#vms-authors" name="vms-authors">vms-authors</a><br>
<br>
OpenVMSの文章とコンパイル済みバイナリは以下がメンテナンスしている:<br>
Zoltan Arpadffy &lt;arpadffy@polarhome.com&gt;<br>
OpenVMS Vim page:&nbsp;<span class="Constant"><a href="http://www.polarhome.com/vim/">http://www.polarhome.com/vim/</a></span><br>
<br>
この文章には、初期の著者や貢献者の書いた部分や記述が含まれている:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Charles E. Campbell, Jr. &lt;cec@gryphon.gsfc.nasa.gov&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Bruce Hunsaker &lt;BNHunsaker@chq.byu.edu&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sandor Kopanyi &lt;sandor.kopanyi@altavista.net&gt;<br>
<br>
&nbsp;vim:tw=78:ts=8:noet:ft=help:norl:<br>
</div>
