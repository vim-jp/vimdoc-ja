---
layout: vimdoc
helpname: 'usr_09'
---
<div id='vimCodeElement'>
<a class="Constant" href="usr_09.html" name="usr_09.txt">usr_09.txt</a>&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;<span class="Identifier">Vim バージョン 9.0.</span>&nbsp;&nbsp;Last change: 2017 Aug 11<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VIM USER MANUAL - by Bram Moolenaar<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;GUI を使う<br>
<br>
<br>
Vimは通常の端末で動作しますが、gVimはグラフィカルユーザーインターフェイス (GUI)<br>
を持っています。それはVimと同じこととさらにいくつかのことができます。GUIは、メ<br>
ニュー、ツールバー、スクロールバー、およびその他のアイテムを提供します。この章<br>
では、GUIが提供するこれらの機能について説明します。<br>
<br>
<a class="Identifier" href="usr_09.html#09.1">09.1</a>&nbsp;&nbsp;GUI の部品<br>
<a class="Identifier" href="usr_09.html#09.2">09.2</a>&nbsp;&nbsp;マウスを使う<br>
<a class="Identifier" href="usr_09.html#09.3">09.3</a>&nbsp;&nbsp;クリップボード<br>
<a class="Identifier" href="usr_09.html#09.4">09.4</a>&nbsp;&nbsp;選択モード<br>
<br>
次章:&nbsp;<a class="Identifier" href="usr_10.html">usr_10.txt</a>&nbsp;&nbsp;大規模な編集<br>
前章:&nbsp;<a class="Identifier" href="usr_08.html">usr_08.txt</a>&nbsp;&nbsp;ウィンドウの分割<br>
目次:&nbsp;<a class="Identifier" href="usr_toc.html">usr_toc.txt</a><br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_09.html#09.1" name="09.1">09.1</a>&nbsp;&nbsp;GUI の部品<br>
<br>
おそらく、gvim を起動するためのアイコンがデスクトップにあるはずです。ない場合<br>
は、次のコマンドのどちらかで起動できます:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gvim file.txt<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim -g file.txt</div>
<br>
GUI 版の Vim がインストールされていない場合は起動できません。まず最初に GUI 版<br>
の Vim をインストールしてください。<br>
起動すると、ウィンドウが開き、そこに &quot;file.txt&quot; が表示されます。ウィンドウの外<br>
見は Vim のバージョンによって違うかもしれませんが、だいたい次のような画面が表<br>
示されるはずです (この図は ASCII で正しく表示されます)。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+----------------------------------------------------+<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| file.txt + (~/dir) - VIM&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; X |&nbsp;&nbsp;&lt;- ウィンドウ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+----------------------------------------------------+&nbsp;&nbsp;&nbsp;&nbsp; タイトル<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| File&nbsp;&nbsp;Edit&nbsp;&nbsp;Tools&nbsp;&nbsp;Syntax&nbsp;&nbsp;Buffers&nbsp;&nbsp;Window&nbsp;&nbsp;Help&nbsp;&nbsp; |&nbsp;&nbsp;&lt;- メニューバー<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+----------------------------------------------------+<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| aaa&nbsp;&nbsp;bbb&nbsp;&nbsp;ccc&nbsp;&nbsp;ddd&nbsp;&nbsp;eee&nbsp;&nbsp;fff&nbsp;&nbsp;ggg&nbsp;&nbsp;hhh&nbsp;&nbsp;iii&nbsp;&nbsp;jjj&nbsp;&nbsp; |&nbsp;&nbsp;&lt;- ツールバー<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| aaa&nbsp;&nbsp;bbb&nbsp;&nbsp;ccc&nbsp;&nbsp;ddd&nbsp;&nbsp;eee&nbsp;&nbsp;fff&nbsp;&nbsp;ggg&nbsp;&nbsp;hhh&nbsp;&nbsp;iii&nbsp;&nbsp;jjj&nbsp;&nbsp; |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+----------------------------------------------------+<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| file text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ^ |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ~&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| # |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ~&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| # |&nbsp;&nbsp;&lt;- スクロール<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ~&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| # |&nbsp;&nbsp;&nbsp;&nbsp; バー<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ~&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| # |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| ~&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| # |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| V |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+----------------------------------------------------+<br>
<br>
一番大きな領域にはファイルのテキストが表示されています。その部分は端末での表示<br>
と同じです。色やフォントは違うかもしれません。<br>
<br>
<br>
<span class="Statement">ウィンドウタイトル</span><br>
<br>
最上部はウィンドウタイトルです。この部分はウィンドウシステム (Windows や X の<br>
ウィンドウマネージャーなど) によって描画されます。Vim はカレントファイルの名前<br>
をタイトルに設定します。ファイル名が先頭に表示され、それから、記号、カッコで囲<br>
まれたディレクトリ名が表示されます。記号には次の意味があります。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ファイルは変更不可。(例: ヘルプファイル)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ファイルは変更された。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ファイルは読み込み専用。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ファイルは読み込み専用だが、変更された。<br>
<br>
何も表示されていなければ、変更されていない通常のファイルです。<br>
<br>
<br>
<span class="Statement">メニューバー</span><br>
<br>
メニューの使い方はわかりますよね？ 一般的な項目に加え、Vim 特有の項目が少しあ<br>
ります。メニューをざっと眺めてどんなものがあるか確認してください。この章に関連<br>
したサブメニューが [編集]-[全体設定] にあります。次のような項目です:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ツールバー表示切替&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ツールバーの表示のon/off<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;スクロールバー(下)表示切替 スクロールバー(下)の表示のon/off<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;スクロールバー(左)表示切替 スクロールバー(左)の表示のon/off<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;スクロールバー(右)表示切替 スクロールバー(右)の表示のon/off<br>
<br>
ほとんどのシステムではメニューの切り離しができます。メニューの最上部にある点線<br>
のような項目を選択すると、メニューが別ウィンドウで表示されます。明示的に閉じる<br>
まで、ウィンドウは開いたままです。<br>
<br>
<br>
<span class="Statement">ツールバー</span><br>
<br>
ツールバーには、よく使われる機能がアイコンの形で格納されています。アイコンを見<br>
ればその機能を連想できると思います。マウスをアイコンの上に動かしてクリックせず<br>
に一秒ほど待つと、機能の説明がツールチップで表示されます。<br>
<br>
メニューの [編集]-[全体設定]-[ツールバー表示切換] を使うとツールバーを非表示に<br>
できます。ツールバーを全く使わないのであれば、次のコマンドを vimrc に書いてく<br>
ださい:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set guioptions-=T</div>
<br>
これは&nbsp;<a class="Type" href="options.html#'guioptions'">'guioptions'</a>&nbsp;オプションから &quot;T&quot; フラグを取り除くコマンドです。GUI の他<br>
の部品もこのオプションを使って、表示/非表示を指定できます。詳しくはオプション<br>
のヘルプを参照してください。<br>
<br>
<br>
<span class="Statement">スクロールバー</span><br>
<br>
初期設定では右側にスクロールバーが表示されます。動作は一般的なアプリケーション<br>
と同じです。ウィンドウを分割するとウィンドウごとにスクロールバーが作られます。<br>
メニューの [編集]-[全体設定]-[スクロールバー(下)表示切換] を使うと横スクロール<br>
バーを表示できます。差分モードのときや&nbsp;<a class="Type" href="options.html#'wrap'">'wrap'</a>&nbsp;オプションをオフにしているときに<br>
便利です。(詳しくは後で説明します)<br>
<br>
ウィンドウを垂直分割していて、右側のウィンドウにだけスクロールバーが付いている<br>
場合は、左側のウィンドウにカーソルを移動すれば、スクロールバーはそのウィンドウ<br>
に作用するようになります。<br>
垂直分割をよく使うなら、左側にもスクロールバーを付けるといいかもしれません。メ<br>
ニューから選択するか、<a class="Type" href="options.html#'guioptions'">'guioptions'</a>&nbsp;を設定してください:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set guioptions+=l</div>
<br>
これは&nbsp;<a class="Type" href="options.html#'guioptions'">'guioptions'</a>&nbsp;に 'l' フラグを追加しています。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_09.html#09.2" name="09.2">09.2</a>&nbsp;&nbsp;マウスを使う<br>
<br>
標準は素晴らしい。Microsoft Windows では、マウスを使った標準的な操作方法でテキ<br>
ストを選択できます。X ウィンドウシステムにもマウスの操作方法の標準があります。<br>
残念ながら、この二つの標準は別物です。<br>
幸運なことに Vim はカスタマイズできます。マウスの振る舞いを X ウィンドウシステ<br>
ム方式か Microsoft Windows 方式のどちらかに変更できます。次のコマンドでマウス<br>
の振る舞いを X ウィンドウシステム方式に設定できます:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:behave xterm</div>
<br>
次のコマンドでマウスの振る舞いを Microsoft Windows 方式に設定できます:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:behave mswin</div>
<br>
UNIX での初期設定は xterm です。Microsoft Windows での初期設定はインストール時<br>
に選択できます。二つの振る舞いの詳細については<a class="Identifier" href="gui.html#:behave">:behave</a>をご覧ください。ここで<br>
は概要だけ説明します。<br>
<br>
<br>
<span class="Statement">xterm 方式のマウスの振る舞い</span><br>
<br>
左クリック&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;カーソル移動<br>
左ドラッグ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ビジュアルモードでテキストを選択<br>
中クリック&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;クリップボードからテキストを貼り付け<br>
右クリック&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;マウスポインタで指した場所まで選択範囲を拡張<br>
<br>
<br>
<span class="Statement">MS-Windows 方式のマウスの振る舞い</span><br>
<br>
左クリック&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;カーソル移動<br>
左ドラッグ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;選択モードでテキストを選択 (<a class="Identifier" href="usr_09.html#09.4">09.4</a>&nbsp;参照)<br>
シフトキー + 左クリック&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; マウスポインタで指した場所まで選択範囲を拡張<br>
中クリック&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;クリップボードからテキストを貼り付け<br>
右クリック&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ポップアップメニューを表示<br>
<br>
<br>
マウスの動作はさらに細かく設定できます。マウスの動作を変更したい場合は、以下の<br>
オプションを確認してください。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'mouse'">'mouse'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Vim のどのモードでマウスを使うのか<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'mousemodel'">'mousemodel'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;クリックしたときの動作<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'mousetime'">'mousetime'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ダブルクリックのクリック間隔<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'mousehide'">'mousehide'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 入力している間、マウスを隠す<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'selectmode'">'selectmode'</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;マウスで選択したときにビジュアルモードとセレク<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;トモードのどちらを開始するか<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_09.html#09.3" name="09.3">09.3</a>&nbsp;&nbsp;クリップボード<br>
<br>
<a class="Identifier" href="usr_04.html#04.7">04.7</a>&nbsp;ではクリップボードの基本的な使い方を説明しました。ここでは X-windows で<br>
の必須事項を説明します。X-windows にはプログラム間でテキストを交換するための空<br>
間が二つあります。MS-Windows にはそういうのはありません。<br>
<br>
X-Windows にはカレントセレクション (&quot;current selection&quot;) があります。これは選<br>
択中のテキストのことです。Vim において、それはビジュアル選択している範囲のこと<br>
です (初期設定の場合)。選択しているテキストは特に何もしなくても他のアプリケー<br>
ションにペーストできます。<br>
例えば、この文章のどこかを適当にマウスで選択したとします。Vim は自動的にビジュ<br>
アルモードに切り替わり、選択したテキストが強調表示されます。ここで、別の gvim<br>
を引数なしで起動し、空のウィンドウを開きます。中央ボタンをクリックすると、選択<br>
したテキストが挿入されます。<br>
<br>
カレントセレクションは他のテキストを選択するまで有効です。他の gvim にペースト<br>
した後、そのウィンドウのテキストを選択すると、直前に別の gvim で選択していたテ<br>
キストの表示が変わるのが確認できると思います。その選択範囲はもうカレントセレク<br>
ションではないのです。<br>
<br>
テキストの選択はマウスでなくても構いません。ビジュアルモードのコマンドをキー<br>
ボードで入力しても同じことになります。<br>
<br>
<br>
<span class="Statement">真のクリップボード</span><br>
<br>
さて、テキストを交換するためのもう一つの空間を説明します。今までの説明との混同<br>
を避けるために、ここでは真のクリップボード (&quot;real clipboard&quot;) と呼びます。普通<br>
はカレントセレクションと真のクリップボードはどちらもクリップボードと呼ばれます<br>
が、慣れてください。<br>
真のクリップボードにテキストをプットするために、動作中の gvim で適当なテキスト<br>
を選択し、メニューの [編集]-[コピー] コマンドを実行してください。これで、テキ<br>
ストが真のクリップボードにコピーされました。クリップボードの内容は専用のアプリ<br>
ケーション (例えば KDE の Klipper) がなければ見ることはできません。<br>
次に、別の gvim に移り、カーソルを適当なところに移動し、メニューの [編集]-[貼<br>
り付け] コマンドを実行します。真のクリップボードからテキストが挿入されます。<br>
<br>
<br>
<span class="Statement">両方を使う</span><br>
<br>
カレントセレクションと真のクリップボードを両方使うのは少し複雑ですが、でもこれ<br>
はとても便利なのです。例を挙げましょう。<br>
gvim でテキストファイルを開いて以下の操作を実行してください:<br>
<br>
-&nbsp;&nbsp;単語をビジュアルモードで選択する。<br>
-&nbsp;&nbsp;[編集]-[コピー] メニューを実行して単語をクリップボードに入れる。<br>
-&nbsp;&nbsp;ビジュアルモードで別の単語を選択する。<br>
-&nbsp;&nbsp;[編集]-[貼り付け] メニューを実行する。選択している単語がクリップボードにあ<br>
&nbsp;&nbsp; る単語で置き換えられます。<br>
-&nbsp;&nbsp;マウスポインタを他のところに動かして中央ボタンを押す。直前にクリップボード<br>
&nbsp;&nbsp; のテキストで上書きされた単語がその場所に挿入されます。<br>
<br>
カレントセレクションと真のクリップボードは気をつけて使いさえすれば、非常に役立<br>
つテクニックになります。<br>
<br>
<br>
<span class="Statement">キーボードを使う</span><br>
<br>
マウスが嫌いなあなたでも、二つのレジスタを使って、カレントセレクションと真のク<br>
リップボードにアクセスできます。カレントセレクションには &quot;* レジスタでアクセス<br>
します。<br>
テキストをカレントセレクションにするにはビジュアルモードを使います。例えば、<br>
&quot;V&quot; を押せば行全体を選択できます。<br>
次のコマンドでカレントセレクションのテキストをカーソルの直前に挿入できます:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;*P</div>
<br>
大文字の &quot;P&quot; であることに注意してください。小文字の &quot;p&quot; だとカーソルの直後に<br>
プットされます。<br>
<br>
真のクリップボードには &quot;+ レジスタでアクセスします。例えば、カーソル位置から行<br>
末までを真のクリップボードにコピーするには、次のようにします:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;+y$</div>
<br>
&quot;y&quot; はヤンク、つまり Vim のコピーコマンドのことでしたね。<br>
次のコマンドで真のクリップボードのテキストをカーソルの直前に挿入できます:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;+P</div>
<br>
カレントセレクションの場合とコマンドは同じですが、スター (*) ではなくプラス<br>
(+) レジスタを使っています。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_09.html#09.4" name="09.4">09.4</a>&nbsp;&nbsp;選択モード<br>
<br>
これは X Window よりも MS-Windows でよく利用される機能です。しかし、どちらの環<br>
境でも利用できます。ビジュアルモードについては既に知っていますね。選択モードは<br>
ビジュアルモードに似ています。選択モードもテキストを選択するための機能です。違<br>
いは、文字を入力すると、選択されていたテキストが削除され、入力した文字に置き換<br>
わることです。<br>
<br>
選択モードを使うには、最初にそれを有効にする必要があります。(MS-Windows では、<br>
既に有効になっていると思いますが、これを実行しても問題ありません):<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set selectmode+=mouse</div>
<br>
設定したら、マウスを使ってテキストを選択してみてください。ビジュアルモードのよ<br>
うにテキストが強調表示されます。そして、文字を入力してください。選択されていた<br>
テキストが削除され、入力した文字に置き換わります。挿入モードに入るので、続けて<br>
文字を入力することができます。<br>
<br>
普通に文字を入力すると選択中のテキストが削除されてしまうので、通常の移動コマン<br>
ドの &quot;hjkl&quot; や &quot;w&quot; などは使えません。代わりに、シフト + 特殊キーの組み合わせを<br>
使ってください。<span class="Special">&lt;S-Left&gt;</span>&nbsp;(シフト + 左矢印キー) でカーソルが左に移動します。ビ<br>
ジュアルモードと同じように選択範囲が変化します。他の矢印キーも同様に使えます。<br>
<span class="Special">&lt;S-End&gt;</span>&nbsp;と&nbsp;<span class="Special">&lt;S-Home&gt;</span>&nbsp;も使えます。<br>
<br>
選択モードの動作は&nbsp;<a class="Type" href="options.html#'selectmode'">'selectmode'</a>&nbsp;オプションで変更できます。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<br>
次章:&nbsp;<a class="Identifier" href="usr_10.html">usr_10.txt</a>&nbsp;&nbsp;大規模な編集<br>
<br>
Copyright: see&nbsp;<a class="Identifier" href="usr_01.html#manual-copyright">manual-copyright</a>&nbsp;&nbsp;vim:tw=78:ts=8:noet:ft=help:norl:<br>
</div>
