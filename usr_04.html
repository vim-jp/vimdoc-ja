---
layout: vimdoc
helpname: 'usr_04'
---
<div id='vimCodeElement'>
<a class="Constant" href="usr_04.html" name="usr_04.txt">usr_04.txt</a>&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;<span class="Identifier">Vim バージョン 8.2.</span>&nbsp;&nbsp;Last change: 2019 Nov 21<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VIM USER MANUAL - by Bram Moolenaar<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;簡単な編集<br>
<br>
<br>
本章では、テキストの修正方法や他の場所への移動方法をいくつか説明します。テキス<br>
トを変更するための三つの基本操作方法 (オペレータとモーション、ビジュアルモー<br>
ド、テキストオブジェクト) についても説明します。<br>
<br>
<a class="Identifier" href="usr_04.html#04.1">04.1</a>&nbsp;&nbsp;オペレータとモーション<br>
<a class="Identifier" href="usr_04.html#04.2">04.2</a>&nbsp;&nbsp;テキストの変更<br>
<a class="Identifier" href="usr_04.html#04.3">04.3</a>&nbsp;&nbsp;変更の繰り返し<br>
<a class="Identifier" href="usr_04.html#04.4">04.4</a>&nbsp;&nbsp;ビジュアルモード<br>
<a class="Identifier" href="usr_04.html#04.5">04.5</a>&nbsp;&nbsp;テキストの移動<br>
<a class="Identifier" href="usr_04.html#04.6">04.6</a>&nbsp;&nbsp;テキストのコピー<br>
<a class="Identifier" href="usr_04.html#04.7">04.7</a>&nbsp;&nbsp;クリップボード<br>
<a class="Identifier" href="usr_04.html#04.8">04.8</a>&nbsp;&nbsp;テキストオブジェクト<br>
<a class="Identifier" href="usr_04.html#04.9">04.9</a>&nbsp;&nbsp;置換モード<br>
<a class="Identifier" href="usr_04.html#04.10">04.10</a>&nbsp;終わりに<br>
<br>
次章:&nbsp;<a class="Identifier" href="usr_05.html">usr_05.txt</a>&nbsp;&nbsp;設定の変更<br>
前章:&nbsp;<a class="Identifier" href="usr_03.html">usr_03.txt</a>&nbsp;&nbsp;カーソルの移動<br>
目次:&nbsp;<a class="Identifier" href="usr_toc.html">usr_toc.txt</a><br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_04.html#04.1" name="04.1">04.1</a>&nbsp;&nbsp;オペレータとモーション<br>
<br>
二章で学んだように、&quot;x&quot; は 1 文字削除するコマンドです。カウンタを使って、&quot;4x&quot;<br>
とすれば 4 文字削除されます。<br>
&quot;dw&quot; コマンドで単語を削除できます。&quot;w&quot; が単語単位で移動するコマンドであること<br>
を思い出してください。&quot;d&quot; コマンドにモーション (移動) コマンドを続けることで、<br>
現在の場所から、モーションコマンドで移動した場所までを削除できます。<br>
例えば、&quot;4w&quot; コマンドはカーソルを 4 単語分、動かします。ということは、&quot;d4w&quot; は<br>
4 つの単語を削除するコマンドなわけです。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">To err is human. To really foul up you need a computer.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ------------------&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d4w<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">To err is human. you need a computer.</span><br>
<br>
モーションコマンドでカーソルが移動した場所までが削除されます。移動先の単語の先<br>
頭文字が削除されないのは、そのほうが便利だからです。しかし、&quot;e&quot; コマンドで単語<br>
の末尾まで移動した場合は、末尾の文字も削除したほうが便利ですよね:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">To err is human. you need a computer.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--------&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d2e<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">To err is human. a computer.</span><br>
<br>
カーソル下の文字が範囲に含まれるかどうかは、移動に使ったコマンドによって異なり<br>
ます。リファレンスマニュアルでは、移動先の文字が含まれないことを &quot;exclusive&quot;<br>
(排他的)、含まれることを &quot;inclusive&quot; (包括的) と呼んでいます。<br>
<br>
&quot;$&quot; コマンドで行末まで移動できます。&quot;d$&quot; コマンドならカーソル位置から行末まで<br>
が削除されます。これは包括的モーションなので行末の文字は削除処理の対象となりま<br>
す。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">To err is human. a computer.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ------------&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d$<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">To err is human</span><br>
<br>
オペレータとモーションを組み合わせるときは、最初にオペレータコマンドを入力しま<br>
す。例えば、&quot;d&quot; は削除オペレータです。次に &quot;4l&quot; や &quot;w&quot; といったモーションコマ<br>
ンドを入力します。この方法ならテキストのどんな範囲でも操作できます。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_04.html#04.2" name="04.2">04.2</a>&nbsp;&nbsp;テキストの変更<br>
<br>
&quot;c&quot; は「変更」オペレータです。&quot;d&quot; オペレータと同じように使えますが、挿入モード<br>
に入る点が違います。例えば、&quot;cw&quot; は単語を変更します。正確に言うと、単語を削除<br>
してから挿入モードに入ります。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">To err is human</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -------&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; c2wbe<span class="Special">&lt;Esc&gt;</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">To be human</span><br>
<br>
&quot;c2wbe<span class="Special">&lt;Esc&gt;</span>&quot; は次の部分から成ります:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 変更オペレータ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2w&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;2 単語進む (単語が削除され、挿入モードに入る)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;be&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;この文字列を挿入する<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;Esc&gt;</span>&nbsp;&nbsp; ノーマルモードに戻る<br>
<br>
ちょっと変だと感じるかも知れません。&quot;human&quot; の前の空白が削除されていないので<br>
す。&quot;どんな問題に関しても単純で、明解で、間違った答えがある&quot; という格言があり<br>
ます。この &quot;cw&quot; コマンドを使った例がまさにそれです。&quot;c&quot; オペレータは &quot;d&quot; オペ<br>
レータと全く同じように使えますが、&quot;cw&quot; はその例外なのです。実際にはこれは &quot;ce&quot;<br>
と同じく、単語末までを変更します。ですから、単語の後ろの空白は含まれないので<br>
す。これはかつての Vi までさかのぼる例外です。多くの人々がこれを使っているの<br>
で、Vim でも不本意ながら残してあるのです。<br>
<br>
<br>
その他の変更コマンド<br>
<span class="PreProc">--------------------</span><br>
<br>
&quot;dd&quot; で行が削除できるのと同じように、&quot;cc&quot; で行全体を変更できます。ただし、イン<br>
デント(行頭の空白類)は残されます。<br>
<br>
&quot;d$&quot; で行末まで削除できるのと同じように、&quot;c$&quot; で行末まで変更できます。この機能<br>
は &quot;d$&quot; で行末まで削除してから &quot;a&quot; で挿入モードに入り、文を追加するのと同じで<br>
す。<br>
<br>
<br>
ショートカット<br>
<span class="PreProc">--------------</span><br>
<br>
いくつかのオペレータとモーションの組合せは頻繁に使われるため、1 文字コマンドと<br>
して用意されています。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;x&nbsp;&nbsp;は&nbsp;&nbsp;dl (カーソル下の文字を削除)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;X&nbsp;&nbsp;は&nbsp;&nbsp;dh (カーソルの左側の文字を削除)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D&nbsp;&nbsp;は&nbsp;&nbsp;d$ (行末まで削除)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;C&nbsp;&nbsp;は&nbsp;&nbsp;c$ (行末まで変更)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;&nbsp;は&nbsp;&nbsp;cl (１文字変更)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;S&nbsp;&nbsp;は&nbsp;&nbsp;cc (１行変更)<br>
<br>
<br>
カウンタの使い方<br>
<span class="PreProc">----------------</span><br>
<br>
&quot;3dw&quot; も &quot;d3w&quot; も 3 つの単語を削除するコマンドです。細かいことが気になる方のた<br>
めに補足しておくと、最初の例(3dw)は 1 単語削除を 3 回実行し、2 つ目の例(d3w)は<br>
3 単語の削除を 1 度だけ実行します。2 つの違いは区別できません。カウンタを 2 個<br>
所で指定することもできます。例えば、&quot;3d2w&quot; は 2 単語の削除を 3 回繰り返し、結<br>
果として 6 単語が削除されます。<br>
<br>
<br>
1 文字の置き換え<br>
<span class="PreProc">----------------</span><br>
<br>
&quot;r&quot; コマンドはオペレータではありません。文字が入力されるまで待機し、入力された<br>
文字で、カーソル下の文字を置き換えます。&quot;cl&quot; や &quot;s&quot; でも同じ事ができますが、<br>
&quot;r&quot; の場合は&nbsp;<span class="Special">&lt;Esc&gt;</span>&nbsp;を押して挿入モードを終了する必要はありません。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">there is somerhing grong here</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;rT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; rt&nbsp;&nbsp;&nbsp;&nbsp;rw<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">There is something wrong here</span><br>
<br>
&quot;r&quot; にカウンタを指定すると、指定した数の文字がすべて、同じ文字に置き換えられま<br>
す。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">There is something wrong here</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 5rx<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">There is something xxxxx here</span><br>
<br>
文字を改行に置き換えたい場合は &quot;r<span class="Special">&lt;Enter&gt;</span>&quot; を使います。1 文字削除され、改行が挿<br>
入されます。ただし、改行に対してカウンタは適用されません。削除する文字にのみ適<br>
用されます。&quot;4r<span class="Special">&lt;Enter&gt;</span>&quot; は 4 文字削除し、1 つの改行を挿入します。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_04.html#04.3" name="04.3">04.3</a>&nbsp;&nbsp;変更の繰り返し<br>
<br>
&quot;.&quot; コマンドはもっともシンプルでありながらパワフルなコマンドの一つです。これは<br>
直前の変更コマンドを繰り返します。例えば、HTMLファイルの編集中に、全ての<span class="Special">&lt;B&gt;</span>タ<br>
グを削除するとしましょう。カーソルを最初の &quot;&lt;&quot; に移動し、&quot;df&gt;&quot; コマンドで<span class="Special">&lt;B&gt;</span>を<br>
削除します。次に&lt;/B&gt;の &quot;&lt;&quot; を探し、それを削除するのに &quot;.&quot; コマンドを使いま<br>
す。&quot;.&quot; コマンドは直前の変更コマンド(この場合なら &quot;df&gt;&quot;)を実行します。他のタグ<br>
の削除がしたければ、カーソルを &quot;&lt;&quot; の上に置いて、&quot;.&quot; を打てばよいのです。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">To &lt;B&gt;generate&lt;/B&gt; a table of &lt;B&gt;contents</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&lt;&nbsp;&nbsp; 最初の &lt; を検索&nbsp;&nbsp;---&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;df&gt;&nbsp;&nbsp;&gt; まで削除&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&lt;&nbsp;&nbsp; 次の &lt; を検索&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---------&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;df&gt; を繰り返し&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&lt;&nbsp;&nbsp; 次の &lt; を検索&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -------------&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;df&gt; を繰り返し&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --&gt;<br>
<br>
&quot;.&quot; コマンドではすべての変更を繰り返すことができますが、&quot;u&quot; (undo)、<span class="Special">CTRL-R</span><br>
(redo)、先頭が &quot;:&quot; のコマンド、は繰り返せません。<br>
<br>
例2: 文中に何度も出てくる単語 &quot;four&quot; を &quot;five&quot; に変更したいとします。次の手順<br>
&nbsp;&nbsp;&nbsp;&nbsp; で変更できます。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/four<span class="Special">&lt;Enter&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;最初の &quot;four&quot; を探す。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cwfive<span class="Special">&lt;Esc&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp; その単語を &quot;five&quot; に変更する。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 次の &quot;four&quot; を探す<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 直前の &quot;five&quot; への変更を繰り返す。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 次の &quot;four&quot; を探す<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 直前の変更を繰り返す。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;以下繰り返し。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_04.html#04.4" name="04.4">04.4</a>&nbsp;&nbsp;ビジュアルモード<br>
<br>
単純なものならオペレータ-モーション方式で簡単に変更できますが、変更する範囲に<br>
適したコマンドを選択するのが難しいこともあります。そんなときはビジュアルモード<br>
を使ってください。<br>
<br>
ビジュアルモードに入るには &quot;v&quot; を押します。そしてカーソルを動かして変更したい<br>
領域を選択します。選択中はその領域が強調表示されます。最後にオペレータコマンド<br>
を入力します。<br>
例えば、単語の途中から次の単語の途中までを削除するには、次のようにします。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">This is an examination sample of visual mode</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----------&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; velllld<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">This is an example of visual mode</span><br>
<br>
この方法なら、&quot;l&quot; を何回押せば目的の場所まで移動できるか？ などと考える必要が<br>
全くありません。削除する範囲を確認してから &quot;d&quot; を押すことができます。<br>
<br>
選択した範囲を変更したくなくなった場合は&nbsp;<span class="Special">&lt;Esc&gt;</span>&nbsp;キーを押してください。ビジュア<br>
ルモードが終了し、何も変更されません。<br>
<br>
<br>
行選択<br>
<span class="PreProc">------</span><br>
<br>
行全体を選択するには &quot;V&quot; コマンドでビジュアルモードを開始します。行全体が選択<br>
されます。左右に移動しても選択範囲は変更されません。上下に移動すると、選択範囲<br>
が行単位で拡張されます。<br>
例えば、&quot;Vjj&quot; で 3 行を選択してみましょう。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+------------------------+<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| text more text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &gt;&gt; | more text more text&nbsp;&nbsp;&nbsp;&nbsp;| |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;選択された行 &gt;&gt; | text text text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | | Vjj<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &gt;&gt; | text more&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| V<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| more text more&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+------------------------+<br>
<br>
<br>
ブロック選択<br>
<span class="PreProc">------------</span><br>
<br>
四角いブロック (矩形、くけい) の範囲を変更したい場合は&nbsp;<span class="Special">CTRL-V</span>&nbsp;でビジュアルモー<br>
ドを開始します。このモードは表を編集するような場合に非常に便利です。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Q3<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pierre&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;123&nbsp;&nbsp;&nbsp;&nbsp; 455&nbsp;&nbsp;&nbsp;&nbsp; 234<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;john&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 90&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;39<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;steve&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 392&nbsp;&nbsp;&nbsp;&nbsp; 63&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;334<br>
<br>
例えば、中央の Q2 の列を削除するには、カーソルを &quot;Q2&quot; の &quot;Q&quot; に移動します。<br>
<span class="Special">CTRL-V</span>&nbsp;を押し、矩形ビジュアルモードに入ります。次にカーソルを &quot;3j&quot; で 3 行下に<br>
動かし、&quot;w&quot; を押して 1 単語分右に移動します。この状態では、最後の列の先頭が範<br>
囲に含まれているので、&quot;h&quot; でそれをはずします。&quot;d&quot; を押すと、選択範囲が削除され<br>
ます。<br>
<br>
<br>
反対側に移動<br>
<span class="PreProc">------------</span><br>
<br>
ビジュアルモードで選択中に、選択範囲の反対側(始点)にカーソルを動かしたいとき<br>
は、&quot;o&quot; を押します (o は &quot;other end&quot; の意味です)。カーソルは始点に動き、始点<br>
を自由に変更できるようになります。もう一度 &quot;o&quot; を押すと、元の終点側に戻ります。<br>
<br>
矩形選択のときは 4 隅が存在します。&quot;o&quot; は始点と終点を斜めに動くだけです。同じ<br>
行の反対側に移動するには &quot;O&quot; を使ってください。<br>
<br>
<span class="Todo">Note</span>: ビジュアルモードの &quot;o&quot; と &quot;O&quot; はノーマルモードのコマンドとはまったく違う<br>
動作なので注意してください。ノーマルモードではカーソル行の上や下に空行を作る機<br>
能です。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_04.html#04.5" name="04.5">04.5</a>&nbsp;&nbsp;テキストの移動<br>
<br>
&quot;d&quot; や &quot;x&quot; または別のコマンドで何かを削除すると、そのテキストは記録されます。&quot;p&quot;<br>
コマンドを使うと、そのテキストをペースト (貼り付け。Vimではこれをプットと呼び<br>
ます) できます。<br>
どのように動くかを見てみましょう。まず、削除したい行にカーソルを移動し、&quot;dd&quot;<br>
コマンドでその行を削除します。次に、プットしたい場所にカーソルを動かして &quot;p&quot;<br>
を押します。先ほど削除した行がカーソルの下に挿入されます。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 最初&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 削除後&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; プット後<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a line&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a line&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a line<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line 2&nbsp;&nbsp;&nbsp;&nbsp;dd&nbsp;&nbsp;&nbsp;&nbsp;line 3&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp; line 3<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line 3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line 2<br>
<br>
行全体を削除したので、&quot;p&quot; コマンドにより行が挿入されました。行の一部 (単語な<br>
ど) を削除した場合は、&quot;p&quot; コマンドはカーソルの直後にそれがプットされます。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">Some more boring try text to out commands.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ----&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dw<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">Some more boring text to out commands.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -------&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;welp<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">Some more boring text to try out commands.</span><br>
<br>
<br>
<br>
その他のプット<br>
<span class="PreProc">--------------</span><br>
<br>
&quot;P&quot; コマンドは &quot;p&quot; と同じですが、カーソルの前にプットします。直前に &quot;dd&quot; コマ<br>
ンドで行を削除したなら、カーソルの上にその行がプットされます。&quot;dw&quot; で単語を削<br>
除した場合は、カーソルの直前にプットされます。<br>
<br>
プットは何回でも好きなだけ繰り返せます。同じ文が毎回使われます。<br>
<br>
&quot;p&quot; も &quot;P&quot; もカウンタを指定できます。指定しただけ、プット処理が繰り返されます。<br>
例えば、&quot;dd&quot; の後に &quot;3p&quot; を実行すると、削除した行のコピーが 3 つプットされま<br>
す。<br>
<br>
<br>
2文字の入れ換え<br>
<span class="PreProc">---------------</span><br>
<br>
入力しているときに、指が頭を追い越してしまうことがしばしばあります。その結果、<br>
&quot;the&quot; を &quot;teh&quot; とタイポ (打ち間違い) したりすることがあります。Vim ではこの種<br>
の間違いを簡単に修正できます。カーソルを &quot;teh&quot; の &quot;e&quot; の上に置いて、&quot;xp&quot; と打<br>
てばよいのです。&quot;x&quot; で &quot;e&quot; の文字を削除してレジスタに入れ、&quot;p&quot; で (&quot;h&quot; の上に<br>
ある) カーソル の後ろにレジスタ内容をプットするのです。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">teh&nbsp;&nbsp;&nbsp;&nbsp; th&nbsp;&nbsp;&nbsp;&nbsp; the</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_04.html#04.6" name="04.6">04.6</a>&nbsp;&nbsp;テキストのコピー<br>
<br>
テキストを別の場所にコピーするには、それを削除して、&quot;u&quot; で削除を取り消し、他の<br>
場所で &quot;p&quot; を使いプットすることもできますが、ヤンク (yank) を使えばもっと簡単<br>
です。&quot;y&quot; オペレータで文字列をレジスタにコピーできます。その文字列は &quot;p&quot; コマ<br>
ンドでプットできます。<br>
コピーのことを Vim ではヤンクと呼びます。文字 &quot;c&quot; は既に変更オペレータのために<br>
使われていたので &quot;y&quot; を使うことになったわけですが、&quot;y&quot; キーを覚えやすくするた<br>
めにコピー操作をヤンク (yank) と読んでいます。<br>
<br>
&quot;y&quot; はオペレータなので、&quot;yw&quot; とすれば単語をヤンクできます。カウンタも当然指定<br>
できます。2 単語をヤンクするには、&quot;y2w&quot; とします。例を示しましょう。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">let sqr = LongVariable *</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --------------&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; y2w<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">let sqr = LongVariable *</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">let sqr = LongVariable * LongVariable</span><br>
<br>
&quot;yw&quot; は単語の後の空白まで含まれるので注意してください。それが嫌なら、&quot;ye&quot; を<br>
使ってください。<br>
<br>
&quot;yy&quot; コマンドは &quot;dd&quot; が行削除するのと同様に、行全体をヤンクします。ただ、&quot;D&quot;<br>
が行末まで削除するのに対して、&quot;Y&quot; は &quot;yy&quot; と同じ動きになります。この点は気をつ<br>
けてください。行末までヤンクしたい時には &quot;y$&quot; を使ってください。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a text line&nbsp;&nbsp; yy&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a text line&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a text line<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line 2<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last line&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; last line&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a text line<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; last line<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_04.html#04.7" name="04.7">04.7</a>&nbsp;&nbsp;クリップボード<br>
<br>
GUI版の Vim (gvim) を使っている場合は、[編集] メニューに [コピー] コマンドがあ<br>
ります。ビジュアルモードで文字列を選択してから、メニューの [編集]-[コピー] を<br>
使ってください。選択文字列がクリップボードにコピーされるので、それを他のプログ<br>
ラムにペーストできます。もちろん Vim 自身でも使えます。<br>
<br>
他のアプリケーションでクリップボードに文字列をコピーすれば、Vim の [編集]-[貼<br>
り付け] メニューでそれをペーストできます。これはノーマルモードでも挿入モードで<br>
も機能します。ビジュアルモードでは、選択文字列がペーストされた文字列に置換され<br>
ます。<br>
<br>
メニューの [編集]-[切り取り] はクリップボードにプットする前に文字列が削除され<br>
ます。[コピー]、[切り取り]、[貼り付け] の 3 つはポップアップメニューでも使えま<br>
す (ポップアップメニューが利用可能な場合のみ)。ツールバーが利用可能なら、そこ<br>
にも同じ項目があるはずです。<br>
<br>
GUI を使っていない場合やメニューを使いたくない場合は他の方法を使うしかありませ<br>
ん。普通の &quot;y&quot; や &quot;p&quot; コマンドを使う前に &quot;* (ダブルクォート + アスタリスク)を<br>
指定するのです。行を丸ごとクリップボードにコピーするには次のようにします:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;*yy</div>
<br>
クリップボードからプットするにはこうします:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;*p</div>
<br>
この機能はクリップボードをサポートした Vim でのみ動きます。クリップボードにつ<br>
いての詳細は<a class="Identifier" href="usr_09.html#09.3">09.3</a>章 と&nbsp;<a class="Identifier" href="gui.html#clipboard">clipboard</a>にあります。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_04.html#04.8" name="04.8">04.8</a>&nbsp;&nbsp;テキストオブジェクト<br>
<br>
単語の真ん中にカーソルがある場合、その単語を削除するには &quot;dw&quot; を実行する前に<br>
カーソルを単語の先頭に戻す必要があります。&quot;daw&quot; を使うともっと簡単です。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">this is some example text.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; daw<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">this is some text.</span><br>
<br>
&quot;daw&quot; の &quot;d&quot; は削除オペレータです。&quot;aw&quot; はテキストオブジェクトです。&quot;aw&quot; は &quot;A<br>
Word&quot; の意味です。つまり &quot;daw&quot; は &quot;Delete A Word&quot; という意味になります。正確に<br>
は、単語の後の空白も削除されます (単語が行末にある場合は、行末までのすべての空<br>
白が削除されます)。<br>
<br>
テキストオブジェクトは基本操作方法の一つです。オペレータ-モーション方式とビジュ<br>
アルモードは既に述べました。そこにオペレータ + テキストオブジェクト方式が加わ<br>
ります。<br>
これはオペレータ-モーション方式と非常に似ていますが、オペレータ-モーション方式<br>
では移動コマンドの前と後のカーソル位置がオペレータの範囲となっていたのに対し、<br>
テキストオブジェクトではオブジェクト全体を対象とします。オブジェクトのどこに<br>
カーソルがあっても構いません。<br>
<br>
文全体を変更するのは &quot;cis&quot; です。次の文を使いましょう:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">Hello there.&nbsp;&nbsp;This</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">is an example.&nbsp;&nbsp;Just</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">some text.</span><br>
<br>
2 行目の先頭、&quot;is an&quot; の上に移動し、&quot;cis&quot; を実行してください:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">Hello there.&nbsp;&nbsp;&nbsp;&nbsp;Just</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">some text.</span><br>
<br>
カーソルは 1 行目の空白の間にあります。ここで新たな文 &quot;Another line.&quot; を入力し<br>
ます:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">Hello there.&nbsp;&nbsp;Another line.&nbsp;&nbsp;Just</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">some text.</span><br>
<br>
&quot;cis&quot; は変更オペレータの &quot;c&quot; とテキストオブジェクトの &quot;is&quot; から成ります。&quot;is&quot;<br>
は &quot;Inner Sentence&quot; の意味です。&quot;as&quot; (&quot;A Sentence&quot;) オブジェクトというのもあり<br>
ます。&quot;as&quot; は文の後の空白を含みますが、&quot;is&quot; は含みません。文を削除するときに、<br>
前後の空白も同時に消したい場合は &quot;das&quot; を使います。文を修正するため、空白を残<br>
しておきたい場合は &quot;cis&quot; を使えばよいでしょう。<br>
<br>
テキストオブジェクトはビジュアルモードでも使えます。テキストオブジェクトを選択<br>
範囲に含めることができます。テキストオブジェクトを指定してもビジュアルモードは<br>
終了しないので、何度でもテキストオブジェクトを使えます。例えば、&quot;v&quot; でビジュア<br>
ルモードを開始して、&quot;as&quot; で文を選択した後に、&quot;as&quot; を繰り返してたくさんの文を追<br>
加できます。最後にオペレータを使って、選択した文を対象として、何らかの処理を行<br>
います。<br>
<br>
テキストオブジェクトの機能一覧は&nbsp;<a class="Identifier" href="motion.html#text-objects">text-objects</a>&nbsp;を参照してください。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_04.html#04.9" name="04.9">04.9</a>&nbsp;&nbsp;置換モード<br>
<br>
&quot;R&quot; コマンドを使うと置換モードに入ります。このモードでは、入力した文字が、カー<br>
ソル下の文字を置き換えます。このモードは&nbsp;<span class="Special">&lt;Esc&gt;</span>&nbsp;を押すまで続きます。<br>
例えば、&quot;text&quot; の 1 つ目の &quot;t&quot; で置換モードを開始したとします:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">This is text.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Rinteresting.<span class="Special">&lt;Esc&gt;</span><br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">This is interesting.</span><br>
<br>
末尾の 5 文字が 12 文字の他の文字に置き換えられています。&quot;R&quot; コマンドは置換す<br>
る文字がなくなると自動的に行末をずらします。次の行へ移動したりはしません。<br>
<br>
<span class="Special">&lt;Insert&gt;</span>&nbsp;キーで挿入モードと置換モードを切り換えることができます。<br>
<br>
<span class="Special">&lt;BS&gt;</span>&nbsp;キーで修正をしようとすると、元の文字が復元されます。直前に打った文字を<br>
undo するような働きをします。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_04.html#04.10" name="04.10">04.10</a>&nbsp;終わりに<br>
<br>
オペレータ、移動コマンド、テキストオブジェクトを組み合せると、とてつもない数<br>
のコンビネーションを生み出すことができます。<span class="Special">N</span>&nbsp;個のオペレータと M 個の移動コマ<br>
ンドを組み合わせれば&nbsp;<span class="Special">N</span>&nbsp;* M 個のコマンドが作れるのです！<br>
<br>
オペレータの一覧は&nbsp;<a class="Identifier" href="motion.html#operator">operator</a>&nbsp;を参照してください。<br>
<br>
テキストの一部を削除するには数多くの方法があります。ほんの一部ですが、一般的な<br>
ものを挙げておきましょう。<br>
<br>
x&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; カーソル位置の文字を削除 (&quot;dl&quot; と同じ)<br>
X&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; カーソル位置の直前の文字を削除 (&quot;dh&quot; と同じ)<br>
D&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; カーソル位置から行末までを削除 (&quot;d$&quot; と同じ)<br>
dw&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;カーソル位置から次の単語の先頭までを削除<br>
db&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;カーソル位置から直前の単語の先頭までを削除<br>
diw&nbsp;&nbsp;&nbsp;&nbsp; カーソル位置の単語を削除 (文の後の空白は除く)<br>
daw&nbsp;&nbsp;&nbsp;&nbsp; カーソル位置の単語を削除 (文の後の空白を含む)<br>
dG&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ファイルの末尾まで削除<br>
dgg&nbsp;&nbsp;&nbsp;&nbsp; ファイルの先頭まで削除<br>
<br>
&quot;d&quot; の代わりに &quot;c&quot; を使うと削除ではなく、変更コマンドになります。&quot;y&quot; にすれ<br>
ばヤンクコマンドです。他のオペレータも同様です。<br>
<br>
<br>
他の章では特に説明されない雑多な変更コマンドをいくつか挙げておきます:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;~&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; カーソル位置の大文字/小文字を変更し、カーソルを次に進めます。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;これは(<a class="Type" href="options.html#'tildeop'">'tildeop'</a>&nbsp;がオフの場合は)オペレータではありません。つま<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;りモーションコマンドと組み合わせることができません。ビジュアル<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;モードで使うと選択範囲のテキスト全体が変更されます。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;I&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (大文字の &quot;i&quot; です) カーソルを行の最初の非空白文字に移動して<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;挿入モードを開始します。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 行末にカーソルを動かして、挿入モードを開始します。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<br>
次章:&nbsp;<a class="Identifier" href="usr_05.html">usr_05.txt</a>&nbsp;&nbsp;設定の変更<br>
<br>
Copyright: see&nbsp;<a class="Identifier" href="usr_01.html#manual-copyright">manual-copyright</a>&nbsp;&nbsp;vim:tw=78:ts=8:noet:ft=help:norl:<br>
</div>
