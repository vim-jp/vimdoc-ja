---
layout: vimdoc
helpname: 'usr_22'
---
<div id='vimCodeElement'>
<a class="Constant" href="usr_22.html" name="usr_22.txt">usr_22.txt</a>&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;<span class="Identifier">Vim バージョン 9.0.</span>&nbsp;&nbsp;Last change: 2020 Mar 28<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VIM USER MANUAL - by Bram Moolenaar<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ファイルを探す<br>
<br>
<br>
ファイルはどこにでもありますが、どうやって目的のファイルを見つければいいので<br>
しょうか。Vim ではさまざまな方法でディレクトリツリーをブラウズできます。ファイ<br>
ルにジャンプするコマンドもあります。開いたことのあるファイルは後から参照できま<br>
す。<br>
<br>
<a class="Identifier" href="usr_22.html#22.1">22.1</a>&nbsp;&nbsp;ファイルブラウザー<br>
<a class="Identifier" href="usr_22.html#22.2">22.2</a>&nbsp;&nbsp;カレントディレクトリ<br>
<a class="Identifier" href="usr_22.html#22.3">22.3</a>&nbsp;&nbsp;ファイルを探す<br>
<a class="Identifier" href="usr_22.html#22.4">22.4</a>&nbsp;&nbsp;バッファリスト<br>
<br>
次章:&nbsp;<a class="Identifier" href="usr_23.html">usr_23.txt</a>&nbsp;&nbsp;特殊なファイルを編集する<br>
前章:&nbsp;<a class="Identifier" href="usr_21.html">usr_21.txt</a>&nbsp;&nbsp;中断と再開<br>
目次:&nbsp;<a class="Identifier" href="usr_toc.html">usr_toc.txt</a><br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_22.html#22.1" name="22.1">22.1</a>&nbsp;&nbsp;ファイルブラウザー<br>
<br>
ディレクトリを編集するためのプラグインがあります。試してみましょう:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:edit .</div>
<br>
自動コマンドと Vim script の魔法により、ディレクトリの内容がウィンドウに表<br>
示されます。例えばこんな具合です:<br>
<br>
<span class="PreProc">&quot; ============================================================================</span><br>
<span class="PreProc">&quot; Netrw Directory Listing&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(netrw v109)</span><br>
<span class="PreProc">&quot;&nbsp;&nbsp; Sorted by&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name</span><br>
<span class="PreProc">&quot;&nbsp;&nbsp; Sort sequence: [\/]$,\.h$,\.c$,\.cpp$,*,\.info$,\.swp$,\.o$\.obj$,\.bak$</span><br>
<span class="PreProc">&quot;&nbsp;&nbsp; Quick Help: &lt;F1&gt;:help&nbsp;&nbsp;-:go up dir&nbsp;&nbsp;D:delete&nbsp;&nbsp;R:rename&nbsp;&nbsp;s:sort-by&nbsp;&nbsp;x:exec</span><br>
<span class="PreProc">&quot; ============================================================================</span><br>
<span class="PreProc">../</span><br>
<span class="PreProc">./</span><br>
<span class="PreProc">check/</span><br>
<span class="PreProc">Makefile</span><br>
<span class="PreProc">autocmd.txt</span><br>
<span class="PreProc">change.txt</span><br>
<span class="PreProc">eval.txt~</span><br>
<span class="PreProc">filetype.txt~</span><br>
<span class="PreProc">help.txt.info</span><br>
<br>
次の項目が表示されます:<br>
<br>
1. ブラウジングツールの名前とバージョン番号<br>
2. 表示しているディレクトリ<br>
3. ソート方法 (name、time、sizeなど)<br>
4. 名前のソート方法 (最初はディレクトリで、続いて *.h、*.c、などなど)<br>
5. ヘルプの表示方法 (<span class="Special">&lt;F1&gt;</span>キーを使ってください)。利用可能なコマンド抜粋。<br>
6. ファイル一覧。&quot;../&quot; は親ディレクトリを示す。<br>
<br>
構文強調表示が有効な場合は各項目が別々の色で表示され、視認性が上がります。<br>
<br>
一覧の中はノーマルモードコマンドで移動できます。ファイル名の上にカーソルを動か<br>
して&nbsp;<span class="Special">&lt;Enter&gt;</span>&nbsp;を押すとファイルが開きます。もう一度 &quot;:edit .&quot; と入力すればエクス<br>
プローラーに戻れます。<span class="Special">CTRL-O</span>&nbsp;で戻ることもできます。<br>
<br>
ディレクトリ名の上にカーソルを動かして&nbsp;<span class="Special">&lt;Enter&gt;</span>&nbsp;を押すと、ファイルブラウザーが<br>
そのディレクトリに移動し、新たなファイル一覧が表示されます。&quot;../&quot; ディレクトリ<br>
の上で&nbsp;<span class="Special">&lt;Enter&gt;</span>&nbsp;を押すと上の階層に移動できます。あるいは、&quot;../&quot; までカーソルを<br>
移動しなくても、&quot;-&quot; を押すだけで上の階層に移動できます。<br>
<br>
<span class="Special">&lt;F1&gt;</span>&nbsp;を押すと netrw ファイルブラウザーのヘルプが表示されます。表示は次のような<br>
ものです:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;9. Directory Browsing&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;netrw-browse&nbsp;&nbsp; netrw-dir&nbsp;&nbsp; netrw-list&nbsp;&nbsp; netrw-help</div>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;MAPS&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; netrw-maps<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;F1&gt;.............ヘルプ.....................................|netrw-help|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;cr&gt;.............ブラウジング...............................|netrw-cr|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;del&gt;............ファイル/ディレクトリを削除................|netrw-delete|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -................親ディレクトリに移動.......................|netrw--|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; a................ファイル/ディレクトリを隠す................|netrw-a|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mb...............ディレクトリをブックマークする.............|netrw-mb|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gb...............ブックマークしたディレクトリに移動.........|netrw-gb|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cd...............表示ディレクトリをカレントディレクトリに...|netrw-c|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; d................ディレクトリ作成...........................|netrw-d|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; D................ファイル/ディレクトリを削除................|netrw-D|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;c-h&gt;............ファイル/ディレクトリ隠し設定編集..........|netrw-ctrl-h|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; i................表示スタイル変更...........................|netrw-i|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;c-l&gt;............最新情報に更新.............................|netrw-ctrl-l|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; o................水平分割してファイルを開く.................|netrw-o|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; p................プレビューウィンドウを使う.................|netrw-p|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; P................プレビューウィンドウで開く.................|netrw-p|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; q................ブックマークと履歴を表示する...............|netrw-qb|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; r................ソート順序を逆にする.......................|netrw-r|</div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; (etc)<br>
<br>
<span class="Special">&lt;F1&gt;</span>&nbsp;キーを押すと netrw プラグインのヘルプに飛びます。これは通常のヘルプページ<br>
です。<a class="Identifier" href="tagsrch.html#CTRL-]">CTRL-]</a>&nbsp;でタグジャンプして&nbsp;<a class="Identifier" href="motion.html#CTRL-O">CTRL-O</a>&nbsp;で戻ることができます。<br>
<br>
ファイルを選択してファイルを開きます: (カーソルをファイル名の上に移動してから)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">&lt;enter&gt;</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; カレントウィンドウでファイルを開く&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="pi_netrw.html#netrw-cr">netrw-cr</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ウィンドウを水平分割してファイルを表示する&nbsp;<a class="Identifier" href="pi_netrw.html#netrw-o">netrw-o</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;v&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ウィンドウを垂直分割してファイルを表示する&nbsp;<a class="Identifier" href="pi_netrw.html#netrw-v">netrw-v</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="windows.html#preview-window">preview-window</a>&nbsp;を使う&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="pi_netrw.html#netrw-p">netrw-p</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;P&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 直前のウィンドウで開く&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="pi_netrw.html#netrw-P">netrw-P</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;t&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 新しいタブページで開く&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Identifier" href="pi_netrw.html#netrw-t">netrw-t</a><br>
<br>
ノーマルモードでは次のコマンドを使ってブラウザーの表示をコントロールできます:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 表示スタイルを変更する (thin, long, wide, tree)。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;long ではファイルのサイズと日付が表示されます。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;s&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ファイルのソート方法を切り替える。名前、更新時間、サイ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ズでソート可。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;r&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ソート順序を逆にする。<br>
<br>
次のようなコマンドもあります:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cd&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;表示しているディレクトリをカレントディレクトリにする。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="Identifier" href="pi_netrw.html#g:netrw_keepdir">g:netrw_keepdir</a>&nbsp;で動作を変更できます)<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;R&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; カーソルの下のファイル/ディレクトリの名前を変更する。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;表示されるプロンプトに新しい名前を入力してください。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;D&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; カーソルの下のファイル/ディレクトリを削除する。確認ダ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;イアログが表示されます。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mb gb&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ブックマークを設定/ブックマークに移動<br>
<br>
<br>
次のような Ex コマンドもあります (他にもあります):<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:Explore&nbsp;<span class="Special">[directory]</span>&nbsp;&nbsp;&nbsp;&nbsp;カレントディレクトリ、または指定したディレクト<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;リをブラウズする。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:NetrwSettings&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;netrw の現在の設定一覧。ヘルプリンク付き。<br>
<br>
netrw ブラウザーの機能はローカルマシンに限定されません。次のように url を使う<br>
こともできます:&nbsp;&nbsp;&nbsp;&nbsp;(末尾の / は重要)<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:Explore&nbsp;<span class="Constant">ftp://somehost/path/to/dir/</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:e scp://somehost/path/to/dir/<br>
<br>
詳細は&nbsp;<a class="Identifier" href="pi_netrw.html#netrw-browse">netrw-browse</a>&nbsp;を参照してください。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_22.html#22.2" name="22.2">22.2</a>&nbsp;&nbsp;カレントディレクトリ<br>
<br>
シェルと同じように Vim にもカレントディレクトリという概念があります。例えば、<br>
ホームディレクトリにいるときに &quot;VeryLongFileName&quot; ディレクトリにあるファイルを<br>
開きたい場合、そのまま実行することもできますが:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:edit VeryLongFileName/file1.txt<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:edit VeryLongFileName/file2.txt<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:edit VeryLongFileName/file3.txt</div>
<br>
次のようにすれば、入力が簡単です:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cd VeryLongFileName<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:edit file1.txt<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:edit file2.txt<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:edit file3.txt</div>
<br>
&quot;:cd&quot; コマンドでカレントディレクトリを変更できます。現在のカレントディレクトリ<br>
を確認するには &quot;:pwd&quot; コマンドを使います:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pwd<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/home/Bram/VeryLongFileName</div>
<br>
直前のカレントディレクトリは記録されているので &quot;:cd -&quot; で元の場所に戻れます。<br>
例:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pwd<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/home/Bram/VeryLongFileName<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cd /etc<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pwd<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/etc<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cd -<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pwd<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/home/Bram/VeryLongFileName<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:cd -<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pwd<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/etc</div>
<br>
<br>
<span class="Statement">ウィンドウローカルディレクトリ</span><br>
<br>
ウィンドウを分割した直後、二つのウィンドウは同じカレントディレクトリを使ってい<br>
ます。カレントディレクトリはウィンドウ毎に設定できるので、新しいウィンドウだけ<br>
カレントディレクトリを変更して別の場所で作業できます。これを、ローカルディレク<br>
トリといいます。<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pwd<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/home/Bram/VeryLongFileName<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:split<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:lcd /etc<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pwd<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/etc<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CTRL-W w<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:pwd<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/home/Bram/VeryLongFileName</div>
<br>
<a class="Comment" href="editing.html#:lcd">:lcd</a>&nbsp;コマンドを使うまでは、すべてのウィンドウが共通のカレントディレクトリを<br>
使っています。一つのウィンドウで&nbsp;<a class="Comment" href="editing.html#:cd">:cd</a>&nbsp;コマンドを実行すると、他のウィンドウの<br>
カレントディレクトリも変更されます。<br>
<a class="Comment" href="editing.html#:lcd">:lcd</a>&nbsp;を使ってカレントディレクトリを変更したウィンドウは、固有のカレントディ<br>
レクトリを持ちます。固有のカレントディレクトリは、他のウィンドウで&nbsp;<a class="Comment" href="editing.html#:cd">:cd</a>&nbsp;また<br>
は&nbsp;<a class="Comment" href="editing.html#:lcd">:lcd</a>&nbsp;を使っても変更されません。<br>
固有のカレントディレクトリを持っているウィンドウで&nbsp;<a class="Comment" href="editing.html#:cd">:cd</a>&nbsp;コマンドを使うと、再<br>
び共通のカレントディレクトリを使うようになります。<br>
<br>
<br>
<span class="Statement">タブローカルディレクトリ</span><br>
<br>
新しいタブページを開くと、新しいタブページが開かれた以前のタブページのウィンド<br>
ウのディレクトリが使用されます。カレントタブページのディレクトリは&nbsp;<a class="Comment" href="editing.html#:tcd">:tcd</a>&nbsp;コマ<br>
ンドで変更できます。タブページ内のすべてのウィンドウは、ウィンドウローカルディ<br>
レクトリを持つウィンドウを除いて、このディレクトリを共有します。このタブページ<br>
で新しいウィンドウを開くと、このディレクトリが現在の作業ディレクトリとして使用<br>
されます。タブページで&nbsp;<a class="Comment" href="editing.html#:cd">:cd</a>&nbsp;コマンドを使ってもタブローカルディレクトリを持つ<br>
タブページの作業ディレクトリは変わりません。タブページで&nbsp;<a class="Comment" href="editing.html#:cd">:cd</a>&nbsp;コマンドを使用<br>
してグローバル作業ディレクトリを変更すると、カレントタブページ作業ディレクトリ<br>
も変更されます。<br>
<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_22.html#22.3" name="22.3">22.3</a>&nbsp;&nbsp;ファイルを探す<br>
<br>
C 言語のファイルを編集していて、次のような行があったとします:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">#include &quot;inits.h&quot;</span><br>
<br>
&quot;inits.h&quot; を開いて内容を確認したい場合は、カーソルをファイル名の上に動かして、<br>
次のように入力します:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;gf</div>
<br>
ファイルが検索され、開かれます。<br>
ファイルがカレントディレクトリにない場合は&nbsp;<a class="Type" href="options.html#'path'">'path'</a>&nbsp;オプションが使われます。この<br>
オプションはディレクトリ名のリストです。指定されたディレクトリからファイルが検<br>
索されます。<br>
例えば、&quot;c:/prog/include&quot; にインクルードファイルがある場合は次のコマンドでディ<br>
レクトリを追加できます:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set path+=c:/prog/include</div>
<br>
ディレクトリを絶対パスで指定した場合は、どこで作業していても同じディレクトリが<br>
参照されます。開いているファイル以下のサブディレクトリにインクルードファイルが<br>
ある場合は相対パスを指定してください。相対パスの先頭はドットです:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set path+=./proto</div>
<br>
この場合、ファイルが保存されているディレクトリの &quot;proto&quot; ディレクトリからファ<br>
イルが検索されます。つまり、&quot;inits.h&quot; の上で &quot;gf&quot; を使うと、同じディレクトリの<br>
&quot;inits.h&quot; が検索された後に、&quot;proto/inits.h&quot; が検索されます。<br>
&quot;./&quot; を付けなかった場合、つまり &quot;proto&quot; と指定した場合は、カレントディレクトリ<br>
の &quot;proto&quot; ディレクトリが検索されます。ファイルのディレクトリとカレントディレ<br>
クトリは意味が異なるので注意してください。<br>
<br>
ディレクトリの指定方法は他にもあります。<a class="Type" href="options.html#'path'">'path'</a>&nbsp;オプションのヘルプを参照してく<br>
ださい。<br>
<a class="Type" href="options.html#'isfname'">'isfname'</a>&nbsp;オプションには、ファイル名として使える文字、あるいは使えない文字を設<br>
定できます (例えば上の例では &quot; 文字がファイル名に含まれてませんね)。<br>
<br>
ファイルの名前がわかっている場合は、その名前がファイル内で使われていなくても、<br>
検索することができます:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:find inits.h</div>
<br>
<a class="Type" href="options.html#'path'">'path'</a>&nbsp;オプションを使ってファイルが検索されます。<a class="Type" href="options.html#'path'">'path'</a>&nbsp;が使われる以外は<br>
&quot;:edit&quot; コマンドと同じです。<br>
<br>
検索したファイルを新しいウィンドウで開くには、&quot;gf&quot; &quot;:find&quot; ではなく &quot;<span class="Special">CTRL-W</span>&nbsp;f&quot;<br>
&quot;:sfind&quot; を使います。<br>
<br>
<br>
Vim を起動して&nbsp;<a class="Type" href="options.html#'path'">'path'</a>&nbsp;の中からファイルを開くには、次の方法が便利です:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vim &quot;+find stdio.h&quot;</div>
<br>
<a class="Type" href="options.html#'path'">'path'</a>&nbsp;内の &quot;stdio.h&quot; が検索されます。引数はクォート (&quot;) で囲む必要があります<br>
<a class="Identifier" href="starting.html#-+c">-+c</a>。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_22.html#22.4" name="22.4">22.4</a>&nbsp;&nbsp;バッファリスト<br>
<br>
Vim では編集中のファイルのことをバッファといいます。バッファはファイルのコピー<br>
です。編集を終えて保存したときに、バッファの内容がファイルに書き込まれます。<br>
バッファにはファイルのテキストの他に、マークやオプション設定などのファイルに関<br>
連した情報も記録されます。<br>
<br>
<br>
<span class="Statement">隠れバッファ</span><br>
<br>
例えば、one.txt を編集しているときに two.txt を編集したくなったとします。<br>
one.txt は変更されているので &quot;:edit two.txt&quot; は使えません。しかも、あなたはま<br>
だ one.txt を保存したくはありません。次のコマンドで解決できます:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:hide edit two.txt</div>
<br>
&quot;one.txt&quot; というバッファは画面から消えます。しかしバッファの内容が失われるわけ<br>
ではありません。未保存のテキストはまだ残っています。このようなバッファを隠れ<br>
バッファといいます。<br>
&quot;:hide&quot; コマンドの引数はコマンドです。指定されたコマンドは、<a class="Type" href="options.html#'hidden'">'hidden'</a>&nbsp;オプショ<br>
ンがオンに設定されているかのように動作します。もちろん、自分で&nbsp;<a class="Type" href="options.html#'hidden'">'hidden'</a>&nbsp;オプ<br>
ションを設定しても構いません。バッファが破棄されたとき、<a class="Type" href="options.html#'hidden'">'hidden'</a>&nbsp;がオンなら、<br>
そのバッファは隠れバッファになります。<br>
隠れバッファを使ったときは、すべてのバッファが保存されたのを確認してから Vim<br>
を終了してください。<br>
<br>
<br>
<span class="Statement">非アクティブバッファ</span><br>
<br>
バッファを閉じてもいくつかの情報は失われずに残ります。バッファリストに入ってい<br>
るバッファの内、画面に表示されず、隠れバッファでもないバッファのことを休眠バッ<br>
ファといいます:<br>
<br>
&nbsp;&nbsp; アクティブバッファ&nbsp;&nbsp; ウィンドウに表示されている。テキストはメモリの中。<br>
&nbsp;&nbsp; 隠れバッファ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 表示されていない。テキストはメモリの中。<br>
&nbsp;&nbsp; 休眠バッファ&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 表示されていない。テキストは保持されていない。<br>
<br>
休眠バッファにはファイル名やマークなどの情報が保存されています。ファイル名が保<br>
存されているので、編集したことのあるファイルを確認し、それを再び開くことができ<br>
ます。<br>
<br>
<br>
<span class="Statement">バッファリストの表示</span><br>
<br>
次のコマンドでバッファリストを表示できます:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:buffers</div>
<br>
次のコマンドも同じです。コマンドの名前と機能が連想しずらいかもしれませんが、入<br>
力は簡単です:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:ls</div>
<br>
コマンドの出力例:<br>
<br>
&nbsp;&nbsp;<span class="PreProc">1 #h&nbsp;&nbsp; &quot;help.txt&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; line 62</span><br>
&nbsp;&nbsp;<span class="PreProc">2 %a + &quot;usr_21.txt&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; line 1</span><br>
&nbsp;&nbsp;<span class="PreProc">3&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;usr_toc.txt&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;line 1</span><br>
<br>
行頭の数字はバッファ番号です。バッファを開くときに名前の代わりにバッファ番号を<br>
指定することもできます。下記参照。<br>
バッファ番号に続いてフラグ、ファイル名、最後にカーソルが位置していた行番号、が<br>
表示されます。<br>
フラグ部分には以下の文字が (左から右へ) 表示されます。<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;u&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 非列挙バッファ (<a class="Identifier" href="windows.html#unlisted-buffer">unlisted-buffer</a>)。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;カレントバッファ。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;オルタネートバッファ。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a&nbsp;&nbsp;&nbsp;&nbsp; テキストを持っている。表示されている。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h&nbsp;&nbsp;&nbsp;&nbsp; テキストを持っている。隠れバッファ。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; =&nbsp;&nbsp;&nbsp;&nbsp;読み込み専用。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -&nbsp;&nbsp;&nbsp;&nbsp;変更不可 (<a class="Type" href="options.html#'modifiable'">'modifiable'</a>&nbsp;オプションがオフ)。<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+&nbsp;&nbsp; 変更あり。<br>
<br>
<br>
<span class="Statement">バッファを開く</span><br>
<br>
バッファ番号を指定してバッファを開くことができます。ファイル名を入力する必要は<br>
ありません:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:buffer 2</div>
<br>
しかし、バッファ番号を知るためにはバッファリストを表示しなければなりません。名<br>
前の一部分だけを指定して開くこともできます:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:buffer help</div>
<br>
指定された名前に近いバッファが検索され、名前が一致したバッファが一つだけなら、<br>
そのバッファが使われます。この例なら &quot;help.txt&quot; など。<br>
バッファを新しいウィンドウで開くには、次のコマンドを使います:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:sbuffer 3</div>
<br>
もちろん名前も指定できます。<br>
<br>
<br>
<span class="Statement">バッファリストを使う</span><br>
<br>
次のコマンドでバッファリストの中を移動できます:<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:bnext&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;次のバッファを開く<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:bprevious&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;前のバッファを開く<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:bfirst&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 最初のバッファを開く<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:blast&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最後のバッファを開く<br>
<br>
次のコマンドでバッファリストからバッファを削除できます:<br>
<br>
<div class="helpExample">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:bdelete 3</div>
<br>
もちろん名前も指定できます。<br>
アクティブバッファ (ウィンドウに表示されているバッファ) を削除すると、表示して<br>
いたウィンドウも閉じます。カレントバッファを削除するば、カレントウィンドウが閉<br>
じます。ウィンドウが一つしかなかった場合は、他のバッファに切り替わります。何も<br>
ないを開くことはできません!<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Todo">Note</span>:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;:bdelete&quot; でバッファを削除してもバッファの情報は失われません。バッ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ファが &quot;unlisted&quot; 状態になり、&quot;:buffers&quot; コマンドで表示されなくなるだ<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;けです。&quot;:buffers!&quot; コマンドを使えば unlisted バッファも表示されます<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(そう、Vim は不可能を可能にするのです)。バッファの情報を完全に消去する<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;には &quot;:bwipe&quot; を使ってください。<a class="Type" href="options.html#'buflisted'">'buflisted'</a>&nbsp;オプション参照。<br>
<br>
<span class="PreProc">==============================================================================</span><br>
<br>
次章:&nbsp;<a class="Identifier" href="usr_23.html">usr_23.txt</a>&nbsp;&nbsp;特殊なファイルを編集する<br>
<br>
Copyright: see&nbsp;<a class="Identifier" href="usr_01.html#manual-copyright">manual-copyright</a>&nbsp;&nbsp;vim:tw=78:ts=8:noet:ft=help:norl:<br>
</div>
