<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>Vim documentation: usr_03</title>
<meta name="Generator" content="Vim/7.3">
<meta name="plugin-version" content="vim7.3_v10">
<meta name="syntax" content="help">
<meta name="settings" content="no_pre,use_css,expand_tabs">
<link rel="stylesheet" href="style.css" type="text/css" />
</head>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.4/jquery.min.js" type="text/javascript"></script>
<script src="vimdoc-ja.js" type="text/javascript"></script>
<body>
<div id="cse-search-form" style="float:right;">Loading</div>
<script src="//www.google.com/jsapi" type="text/javascript"></script>
<script type="text/javascript"> 
  google.load("search", "1", {language : "ja"});
  google.setOnLoadCallback(function() {
    var customSearchControl = new google.search.CustomSearchControl("001325159752250591701:65aunpq8rlg");
    customSearchControl.setResultSetSize(google.search.Search.FILTERED_CSE_RESULTSET);
    var options = new google.search.DrawOptions();
    options.enableSearchboxOnly("http://www.google.com/cse?cx=001325159752250591701:65aunpq8rlg");
    customSearchControl.draw("cse-search-form", options);
  }, true);
</script>
<link rel="stylesheet" href="//www.google.com/cse/style/look/default.css" type="text/css" />

<a name="top"></a><h1>Vim documentation: usr_03</h1>
<a href="index.html">main help file</a>
<hr>
<a class="Constant" href="usr_03.html" name="usr_03.txt">*usr_03.txt*</a>&nbsp;&nbsp;&nbsp;&nbsp;For&nbsp;<span class="Identifier">Vim バージョン 7.3.</span>&nbsp;&nbsp;Last change: 2006 Jun 21<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; VIM USER MANUAL - by Bram Moolenaar<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;カーソルの移動<br>
<div><br></div>
<div><br></div>
文の入力したり削除したりするには、カーソルを目的の場所に動かさなくてはなりませ<br>
ん。Vim にはカーソル移動のためのコマンドがたくさんあります。本章では、その中で<br>
も重要なコマンドの使い方を述べます。コマンドの一覧は&nbsp;<a class="Identifier" href="quickref.html#Q_lr">|Q_lr|</a>&nbsp;を参照してくださ<br>
い。<br>
<div><br></div>
<a class="Identifier" href="usr_03.html#03.1">|03.1|</a>&nbsp;&nbsp;単語ごとの移動<br>
<a class="Identifier" href="usr_03.html#03.2">|03.2|</a>&nbsp;&nbsp;行頭、行末への移動<br>
<a class="Identifier" href="usr_03.html#03.3">|03.3|</a>&nbsp;&nbsp;文字への移動<br>
<a class="Identifier" href="usr_03.html#03.4">|03.4|</a>&nbsp;&nbsp;カッコの対応<br>
<a class="Identifier" href="usr_03.html#03.5">|03.5|</a>&nbsp;&nbsp;特定の行への移動<br>
<a class="Identifier" href="usr_03.html#03.6">|03.6|</a>&nbsp;&nbsp;現在の場所を表示<br>
<a class="Identifier" href="usr_03.html#03.7">|03.7|</a>&nbsp;&nbsp;スクロール<br>
<a class="Identifier" href="usr_03.html#03.8">|03.8|</a>&nbsp;&nbsp;簡単な検索<br>
<a class="Identifier" href="usr_03.html#03.9">|03.9|</a>&nbsp;&nbsp;簡単なパターン検索<br>
<a class="Identifier" href="usr_03.html#03.10">|03.10|</a>&nbsp;マークの使用<br>
<div><br></div>
次章:&nbsp;<a class="Identifier" href="usr_04.html">|usr_04.txt|</a>&nbsp;&nbsp;簡単な編集<br>
前章:&nbsp;<a class="Identifier" href="usr_02.html">|usr_02.txt|</a>&nbsp;&nbsp;初めての Vim<br>
目次:&nbsp;<a class="Identifier" href="usr_toc.html">|usr_toc.txt|</a><br>
<div><br></div>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_03.html#03.1" name="03.1">*03.1*</a>&nbsp;&nbsp;単語ごとの移動<br>
<div><br></div>
カーソルを 1 単語先に進めるには、&quot;w&quot;コマンドを使います。他の Vim コマンドもそ<br>
うですが、複数の単語を一気に進めるために数値 (カウンタ) による回数指定ができま<br>
す。例えば、&quot;3w&quot;では 3 単語進みます。図で示すと次のようになります。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">This is a line with example text</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---&gt;--&gt;-&gt;-----------------&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; w&nbsp;&nbsp;w&nbsp;&nbsp;w&nbsp;&nbsp;&nbsp;&nbsp;3w<br>
<div><br></div>
&quot;w&quot; で次の単語の先頭に移動します。既にカーソルが単語の先頭にある場合は、その次<br>
の単語の先頭に移動します。<br>
逆に &quot;b&quot; コマンドで直前の単語の先頭に戻ります。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">This is a line with example text</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;----&lt;--&lt;-&lt;---------&lt;---<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; b&nbsp;&nbsp; b b&nbsp;&nbsp;&nbsp;&nbsp;2b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b<br>
<div><br></div>
&quot;e&quot; コマンドで次の単語の末尾に移動します。&quot;ge&quot; で直前の単語の末尾に移動します。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">This is a line with example text</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;-&nbsp;&nbsp; &lt;--- -----&gt;&nbsp;&nbsp; ----&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ge&nbsp;&nbsp;&nbsp;&nbsp;ge&nbsp;&nbsp;&nbsp;&nbsp; e&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e<br>
<div><br></div>
カーソルが行末の単語にある場合、&quot;w&quot; コマンドは次の行の最初の単語に進みます。こ<br>
れを使うと &quot;l&quot; よりもずっと速く文章の中を動けます。&quot;b&quot; は &quot;w&quot; の逆方向に同じ<br>
ルールで動きます。<br>
<div><br></div>
単語は&quot;.&quot;や&quot;-&quot;、&quot;)&quot;といったアルファベット以外の文字で区切られます。Vimが何を単<br>
語とみなすかは、<a class="Type" href="options.html#'iskeyword'">'iskeyword'</a>オプションの設定で変更できます。<br>
空白を区切りとした単語(WORD)を移動することもできます。これは普段意識する単語<br>
(word)とは若干違うため、大文字を使っています。WORD単位で動くコマンドは全部大<br>
文字です。図で示すと次の通りです。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ge&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;w&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; e<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;-&nbsp;&nbsp;&nbsp;&nbsp; &lt;-&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ---&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">This is-a line, with special/separated/words (and some more).</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;----- &lt;-----&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; --------------------&gt;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; -----&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; gE&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;B&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; W&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; E<br>
<div><br></div>
小文字と大文字のコマンドを両方使うと、文章中をより素早く動けるようになります。<br>
<div><br></div>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_03.html#03.2" name="03.2">*03.2*</a>&nbsp;&nbsp;行頭、行末への移動<br>
<div><br></div>
&quot;$&quot;コマンドでカーソルを行末に移動します。キーボードに<span class="Special">&lt;End&gt;</span>キーがあれば、それも<br>
同じ意味で使えます。<br>
<div><br></div>
&quot;^&quot;コマンドでカーソルを行頭から最初の非空白文字に移動します。&quot;0&quot;(数字のゼロ)コ<br>
マンドは行頭に移動します。<span class="Special">&lt;Home&gt;</span>キーも同じです。図で示しましょう。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;^<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;------------<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">.....This is a line with example text</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-----------------&nbsp;&nbsp; ---------------&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$<br>
<div><br></div>
(&quot;.....&quot; は空白文字があることを示します)<br>
<div><br></div>
&quot;$&quot;コマンドでも他の移動コマンドのようにカウンタの指定ができます。行末への移動<br>
を何度やっても意味がありませんので、&quot;$&quot;コマンドでのカウンタは他の行の行末への<br>
移動の意味になります。例えば、&quot;1$&quot;は&quot;$&quot;と同じで現在行の行末への移動ですが、<br>
&quot;2$&quot;は次の行末への移動、&quot;3$&quot;は 2 行下の行末への移動、となります。<br>
&quot;0&quot;コマンドは回数指定できません。これは、&quot;0&quot;自身が回数指定の一部になってしまう<br>
からです。&quot;^&quot;に回数指定をした場合は単に無視されます。<br>
<div><br></div>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_03.html#03.3" name="03.3">*03.3*</a>&nbsp;&nbsp;文字への移動<br>
<div><br></div>
特に便利な移動コマンドはいくつかありますが、一文字検索コマンドもその一つです。<br>
コマンド &quot;fx&quot; はその行にある文字 x を前方検索します。(f は Find の意味です)。<br>
例えば、次の文の先頭にカーソルがあり、 human の h に移動したいとします。&quot;fh&quot;コ<br>
マンドを実行すると、'h'の上にカーソルが進みます。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">To err is human.&nbsp;&nbsp;To really foul up you need a computer.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;----------&gt;---------------&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fh&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; fy<br>
<div><br></div>
続いて、&quot;fy&quot;コマンドで really の y まで移動できます。<br>
これもカウンタ指定ができます。例えば次の文の foul の l に進むには &quot;3fl&quot; です。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">To err is human.&nbsp;&nbsp;To really foul up you need a computer.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---------------------&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3fl<br>
<div><br></div>
&quot;F&quot;コマンドで左向きに検索できます。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">To err is human.&nbsp;&nbsp;To really foul up you need a computer.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;---------------------<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Fh<br>
<div><br></div>
&quot;tx&quot;コマンドは&quot;fx&quot;コマンドに似た動きをしますが、検索した文字の上ではなく、その<br>
直前で止まります。(tはToの意味です)<br>
このコマンドの逆方向版は&quot;Tx&quot;です。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">To err is human.&nbsp;&nbsp;To really foul up you need a computer.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;------------&nbsp;&nbsp;-------------&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Th&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tn<br>
<div><br></div>
この 4 つのコマンドは &quot;;&quot; コマンドで繰り返せます。反対方向に繰り返すには &quot;,&quot;<br>
コマンドです。このコマンドは、カーソルが他の行に移動することはありません。文が<br>
次行に続いていても移動しません。<br>
<div><br></div>
検索をしようとして、コマンドを打ち間違うこともあるでしょう。例えば、逆方向検索<br>
のつもりで(&quot;F&quot;と打つべきところを)&quot;f&quot;と打ってしまったとしましょう。コマンドの実<br>
行を取り止めるには<span class="Special">&lt;Esc&gt;</span>を押します。&quot;f<span class="Special">&lt;Esc&gt;</span>&quot;は<span class="Special">&lt;Esc&gt;</span>を探すのではなく、コマンドを<br>
キャンセルします。<span class="Todo">Note</span>:<span class="Special">&lt;Esc&gt;</span>は検索に限らず、ほとんどのコマンドをキャンセルする<br>
のに使えます。<br>
<div><br></div>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_03.html#03.4" name="03.4">*03.4*</a>&nbsp;&nbsp;カッコの対応<br>
<div><br></div>
プログラムを書いていると、入れ子になった () を書くことがよくあります。そのよう<br>
な場合には、&quot;%&quot; コマンドがとても便利です。このコマンドを使うと対応するカッコに<br>
移動できます。カーソルが &quot;(&quot; の上なら対応する &quot;)&quot; に、&quot;)&quot; の上なら対応する &quot;(&quot;<br>
に移動できます。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;-----&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">if (a == (b * c) / d)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;----------------&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;%<br>
<div><br></div>
このコマンドは [] や {} のペアでも機能します。(これは<a class="Type" href="options.html#'matchpairs'">'matchpairs'</a>オプションで<br>
定義できます)<br>
<div><br></div>
カーソルがカッコの上にない場合、&quot;%&quot;はまず前方検索をしてカッコを探します。上記<br>
の例文で行頭にカーソルがあった場合、&quot;%&quot; は前方検索をして &quot;(&quot; を見つけ、それか<br>
ら、対応するカッコ &quot;)&quot; に移動します。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">if (a == (b * c) / d)</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;---+----------------&gt;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; %<br>
<div><br></div>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_03.html#03.5" name="03.5">*03.5*</a>&nbsp;&nbsp;特定の行に移動<br>
<div><br></div>
CやC++のプログラマであれば、次のようなパターンのエラーメッセージはおなじみで<br>
しょう。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">prog.c:33: j&nbsp;&nbsp; undeclared (first use in this function)</span><br>
<div><br></div>
何か33行目に修正しないといけない点がありそうです。では、どうやって33行目に移動<br>
しましょうか？&quot;9999k&quot;などとしてファイルの先頭まで移動してから、&quot;32j&quot;で32行下に<br>
移動するやり方もあります。確かに目的は達しますが、あまりいい方法とは思えませ<br>
ん。そこで&quot;G&quot;というコマンドを使います。このコマンドにカウンタを指定すると、そ<br>
の行にジャンプできます。例えば、&quot;33G&quot;とすれば、33行目にジャンプできます。(実は<br>
コンパイラのエラーリストを使ってもっと簡単に移動する方法もあります。<br>
<a class="Identifier" href="usr_30.html">|usr_30.txt|</a>&nbsp;の&quot;:make&quot;コマンドをご覧ください。)<br>
カウンタを指定しなかった場合はファイルの最終行にジャンプします。ファイルの先頭<br>
にジャンプするには&quot;gg&quot;を使います。&quot;1G&quot;でも同じですが、ちょっと打ちにくいですか<br>
ら。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp; first line of a file&nbsp;&nbsp; ^<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp; text text text text&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp; text text text text&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;gg<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;7G&nbsp;&nbsp;|&nbsp;&nbsp; text text text text&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp; text text text text<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp; text text text text<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V&nbsp;&nbsp; text text text text&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text text text text&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;G<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text text text text&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;last line of a file&nbsp;&nbsp;&nbsp;&nbsp;V<br>
<div><br></div>
特定行に移動するもう一つの方法はカウンタ付きの&quot;%&quot;コマンドです。例えば、&quot;50%&quot;<br>
でファイルの真ん中に移動できます。&quot;90%&quot;ならファイルのほぼ最後(90%の場所) に移<br>
動します。<br>
<div><br></div>
以上述べたのは、画面上に見えているかどうかに関係なくファイルの特定行に移動した<br>
い場合のコマンドでした。では画面上に見えている行に移動したい場合はどうしましょ<br>
うか？そういう時に使える 3 つのコマンドを下図に示します。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+---------------------------+<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;H --&gt;&nbsp;&nbsp; | text sample text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| sample text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| text sample text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| sample text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;M --&gt;&nbsp;&nbsp; | text sample text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| sample text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| text sample text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| sample text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;L --&gt;&nbsp;&nbsp; | text sample text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+---------------------------+<br>
<div><br></div>
(&quot;H&quot;はHome、&quot;M&quot;はMiddle、&quot;L&quot;はLastの意味です）<br>
<div><br></div>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_03.html#03.6" name="03.6">*03.6*</a>&nbsp;&nbsp;現在の場所を表示<br>
<div><br></div>
ファイル中の現在の場所を知るには、次の 3 つの方法があります。<br>
<div><br></div>
1.&nbsp;&nbsp;<span class="Special">CTRL-G</span>コマンド。次のようなメッセージが表示されます。(<a class="Type" href="options.html#'ruler'">'ruler'</a>オプション<br>
&nbsp;&nbsp;&nbsp;&nbsp;がオフの場合)<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">&quot;usr_03.txt&quot; line 233 of 650 --35%-- col 45-52</span><br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;編集中のファイル名、カーソルのある行番号、全体の行数、ファイル全体を<br>
&nbsp;&nbsp;&nbsp;&nbsp;通してのパーセント、カーソル桁位置、を表示します。<br>
&nbsp;&nbsp;&nbsp;&nbsp;場合によっては、カーソル桁位置が 2 つに分けて表示されます。例えば、<br>
&nbsp;&nbsp;&nbsp;&nbsp;&quot;col 2-9&quot; の場合、カーソルは 2 文字目にあります。2 文字のうち、1 文字がタ<br>
&nbsp;&nbsp;&nbsp;&nbsp;ブ文字で、8 文字分で表示されているため、画面上では 9 桁目にある、というこ<br>
&nbsp;&nbsp;&nbsp;&nbsp;とです。<br>
<div><br></div>
2.&nbsp;&nbsp;<a class="Type" href="options.html#'number'">'number'</a>オプションを設定する。行頭に行番号が表示されるようになります:<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set number</span><br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;オプションをオフに戻すには:<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set nonumber</span><br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="Type" href="options.html#'number'">'number'</a>は論理値オプションなので、オプション名の先頭に&quot;no&quot;をつければオフに<br>
&nbsp;&nbsp;&nbsp;&nbsp;できます。論理値オプションにはオンかオフの 2 つの状態しかありません。<br>
&nbsp;&nbsp;&nbsp;&nbsp;Vimには多数のオプションがあります。論理値オプションの他に、数値オプション<br>
&nbsp;&nbsp;&nbsp;&nbsp;と文字列オプションがあります。それらのオプションの設定方法はそのうち説明し<br>
&nbsp;&nbsp;&nbsp;&nbsp;ます。<br>
<div><br></div>
3.&nbsp;&nbsp;<a class="Type" href="options.html#'ruler'">'ruler'</a>オプションを設定する。現在のカーソル位置が、Vimウィンドウの右下隅に<br>
&nbsp;&nbsp;&nbsp;&nbsp;表示されるようになります:<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set ruler</span><br>
<div><br></div>
<a class="Type" href="options.html#'ruler'">'ruler'</a>&nbsp;は表示に場所を取らないので、画面を広く使えます。<br>
<div><br></div>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_03.html#03.7" name="03.7">*03.7*</a>&nbsp;&nbsp;スクロール<br>
<div><br></div>
<span class="Special">CTRL-U</span>&nbsp;コマンドで画面の半分だけ下にスクロールします。窓を通してテキストを見て<br>
いて、その窓を高さの半分だけ上に動かす、と考えてください。窓が上に動き、さっき<br>
より上の位置のテキストが表示されます。どっちが上でどっちが下かわかりにくいかと<br>
思いますが、気にすることはありません。みんな同じように悩むことですから。<br>
<span class="Special">CTRL-D</span>コマンドは窓を半分だけ下げます。つまりテキストが画面の半分だけスクロール<br>
することになります。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------------+<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | some text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | some text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | some text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+---------------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| some text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| some text&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;<span class="Special">CTRL-U</span>&nbsp;&nbsp;--&gt; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 123456&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 123456&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+----------------+<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| 7890&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+----------------+<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| example&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;<span class="Special">CTRL-D</span>&nbsp;--&gt;&nbsp;&nbsp;| 7890&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+---------------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | example&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | example&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | example&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | example&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +----------------+<br>
<div><br></div>
1 行だけスクロールするには<span class="Special">CTRL-E</span>(スクロールアップ)と<span class="Special">CTRL-Y</span>（スクロールダウン)<br>
を使います。(MS-Windows互換のキーマップをお使いの場合、<span class="Special">CTRL-Y</span>はスクロールでは<br>
なく、redo コマンドとなります)<br>
<div><br></div>
1 画面分スクロールするには<span class="Special">CTRL-F</span>を使います(2行は重複します)。逆方向へのスク<br>
ロールは<span class="Special">CTRL-B</span>コマンドを使います。<span class="Special">CTRL-F</span>はForward、<span class="Special">CTRL-B</span>はBackward、ですから<br>
覚えやすいでしょう。<br>
<div><br></div>
&quot;j&quot; で何行も下に移動して、カーソルが画面の最下段にあるとします。カーソル前後の<br>
行を表示したい場合は &quot;zz&quot; コマンドを使います。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+------------------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +------------------+<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| some text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | some text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| some text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | some text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| some text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | some text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| some text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp; zz&nbsp;&nbsp;--&gt;&nbsp;&nbsp; | line with cursor |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| some text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | some text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| some text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | some text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| line with cursor |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | some text&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;+------------------+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +------------------+<br>
<div><br></div>
&quot;zt&quot; コマンドでカーソル行を画面の 1 行目として表示できます。&quot;zb&quot; コマンドなら<br>
画面の最下段です。これ以外にもいくつかスクロールコマンドがあります。<a class="Identifier" href="quickref.html#Q_sc">|Q_sc|</a>を参<br>
照してください。カーソル近辺の数行を常に表示させたい場合は、<a class="Type" href="options.html#'scrolloff'">'scrolloff'</a>オプショ<br>
ンを使ってください。<br>
<div><br></div>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_03.html#03.8" name="03.8">*03.8*</a>&nbsp;&nbsp;簡単な検索<br>
<div><br></div>
文字列を検索するには&quot;/string&quot;コマンドを使います。例えば、&quot;include&quot;という単語<br>
を探したいのであれば、次のように使います。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/include</span><br>
<div><br></div>
&quot;/&quot;を押すと、コマンドラインモードのときのように、カーソルがVimウィンドウの最下<br>
段に移動します。そこで検索したい単語を入力します。入力した文字を訂正するには、<br>
バックスペースキー (左矢印 または&nbsp;<span class="Special">&lt;BS&gt;</span>) を使います。必要に応じて<span class="Special">&lt;Left&gt;</span>や<br>
<span class="Special">&lt;Right&gt;</span>の矢印キーを使ってください。<br>
<span class="Special">&lt;Enter&gt;</span>を押すとコマンドが実行されます。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Todo">Note</span>:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;文字のうち、 .*[]^%/\?~$ には特別な意味があります。検索時にこれらを<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;使う場合はその文字の直前に \ を置いてください。これは後(<a class="Identifier" href="usr_03.html#03.9">|03.9|</a>の<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;最後)で述べます。<br>
<div><br></div>
同じ文字列をもう一度探したい場合には&quot;n&quot;コマンドを使います。今のカーソル位置<br>
の後ろにある#includeを探すには次のコマンドを使います。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/#include</span><br>
<div><br></div>
次に&quot;n&quot;を数回押すと、順々に #include にジャンプします。移動したい場所が何個目<br>
かわかっているなら、カウンタも使えます。例えば、&quot;3n&quot;なら 3 つ目の #include を<br>
探します。&quot;/&quot; にはカウンタを指定できません。<br>
<div><br></div>
&quot;?&quot;コマンドは&quot;/&quot;と同じですが、逆方向に検索します。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;?word</span><br>
<div><br></div>
&quot;<span class="Special">N</span>&quot;コマンドは直前の検索とは反対の方向に検索を繰り返します。&quot;/&quot;の後で&quot;<span class="Special">N</span>&quot;を使う<br>
と後方検索になり、&quot;?&quot;の後で&quot;<span class="Special">N</span>&quot;を使うと前方検索になります。<br>
<div><br></div>
<div><br></div>
大文字/小文字の無視<br>
<span class="PreProc">-------------------</span><br>
<div><br></div>
普通は探したい文字列の大文字/小文字を正確に指定しなければなりません。大文字と<br>
小文字を区別したくないのであれば、<a class="Type" href="options.html#'ignorecase'">'ignorecase'</a>オプションを設定します。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set ignorecase</span><br>
<div><br></div>
これで、&quot;word&quot;を検索すると、&quot;Word&quot;も&quot;WORD&quot;もヒットします。大文字/小文字を区<br>
別するように戻すのは次のコマンドです。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set noignorecase</span><br>
<div><br></div>
<div><br></div>
ヒストリ(履歴)<br>
<span class="PreProc">--------------</span><br>
<div><br></div>
次のような３つの検索を行ったとします。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/one</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/two</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/three</span><br>
<div><br></div>
さて、&quot;/&quot; だけを入力し、まだ&nbsp;<span class="Special">&lt;Enter&gt;</span>&nbsp;を押さないでください。<span class="Special">&lt;Up&gt;</span>（上矢印キー）<br>
を押すと、コマンド行に /three と表示されます。ここで&nbsp;<span class="Special">&lt;Enter&gt;</span>&nbsp;を押すと、<br>
&quot;three&quot;が検索されます。<span class="Special">&lt;Enter&gt;</span>を押さずに<span class="Special">&lt;Up&gt;</span>を押すとコマンド行には&quot;/two&quot;と表示<br>
されます。さらに<span class="Special">&lt;Up&gt;</span>を押すと&quot;/one&quot;となります。<br>
同じように<span class="Special">&lt;Down&gt;</span>キーを使って逆方向に検索ヒストリを移動できます。<br>
<div><br></div>
以前に使ったパターンを覚えていて、それをまた使いたい場合には、そのパターンの先<br>
頭文字を入力してから&nbsp;<span class="Special">&lt;Up&gt;</span>&nbsp;を押してください。上の例で言えば、&quot;/o<span class="Special">&lt;Up&gt;</span>&quot;と入力する<br>
と、コマンドラインに&quot;/one&quot;と表示されます。<br>
<div><br></div>
&quot;:&quot;で始まるコマンドにもヒストリがあります。以前のコマンドを呼び出して、再実行<br>
できます。検索用ヒストリと&quot;:&quot;コマンドヒストリは分かれています。<br>
<div><br></div>
<div><br></div>
文章中の単語の検索<br>
<span class="PreProc">------------------</span><br>
<div><br></div>
&quot;TheLongFunctionName&quot; という単語が文章中にあり、次に現れる場所を探したいと<br>
します。もちろん、&quot;/TheLongFunctionName&quot;として検索もできますが、たくさんの打鍵<br>
が必要です。それに、打ち間違えてしまうとうまく検索できません。<br>
もっと簡単な方法があります。探したい単語の上にカーソルを置いて、&quot;*&quot;コマンドを<br>
使うのです。カーソル位置の単語が抜き出され、それが検索文字列として使われます。<br>
&quot;#&quot;コマンドは同じことを逆方向に実行します。このコマンドもカウンタが指定でき<br>
ます。例えば、&quot;3*&quot;はカーソル位置の単語が 3 回目に現われる場所を探します。<br>
<div><br></div>
<div><br></div>
単語全体を一致させる検索<br>
<span class="PreProc">------------------------</span><br>
<div><br></div>
&quot;/the&quot;と検索を行うと、&quot;there&quot;などもヒットします。&quot;the&quot;で終わる単語だけを探<br>
したい場合には次のようにします。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/the\&gt;</span><br>
<div><br></div>
&quot;\&gt;&quot;というのは特別なマーカで、単語がここで終わっている時だけヒットします。<br>
同じように&quot;\&lt;&quot;は単語がここで始まっている時にだけヒットします。つまり、&quot;the&quot;<br>
という単語だけを探したい場合は、次のようにします。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/\&lt;the\&gt;</span><br>
<div><br></div>
これだと、&quot;there&quot;とか&quot;soothe&quot;にはヒットしません。なお、&quot;*&quot;と&quot;#&quot;コマンドは<br>
上の「単語の先頭」と「単語の末尾」マーカを使って、完全に一致する単語だけを<br>
探します。（単語の一部として検索したい時は&quot;g*&quot;と&quot;g#&quot;コマンドを使います)<br>
<div><br></div>
<div><br></div>
検索結果の強調表示<br>
<span class="PreProc">------------------</span><br>
<div><br></div>
プログラムの編集中に、&quot;nr&quot;という変数を見つけ、その変数がどこで使われているか<br>
を知りたいとします。&quot;nr&quot;の上にカーソルを移動して、&quot;*&quot;と&quot;n&quot;コマンドで片っ端<br>
から探すのもいいですが、他にも方法があります。次のコマンドを入力してください。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set hlsearch</span><br>
<div><br></div>
&quot;nr&quot;を検索すると、ヒットした全てのパターンが強調表示されます。これなら余計なコ<br>
マンド入力が必要ないので、変数の使用箇所を確認したいときには便利です。<br>
このオプションは次のコマンドでオフにできます。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set nohlsearch</span><br>
<div><br></div>
さて上のやり方では、検索を行うたびに、いちいちオプションの切替えが必要になりま<br>
す。単に強調表示を止めるだけなら、次のコマンドを使ってください。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:nohlsearch</span><br>
<div><br></div>
これならオプションはオフになりません。強調表示だけを取り消せます。次に検索コマ<br>
ンドを実行すると、ふたたび強調表示されます。&quot;n&quot;や&quot;<span class="Special">N</span>&quot;を使ったときも同様です。<br>
<div><br></div>
<div><br></div>
検索のチューニング<br>
<span class="PreProc">------------------</span><br>
<div><br></div>
検索の挙動を変更するオプションがいくつかあります。重要なのは次のものです:<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set incsearch</span><br>
<div><br></div>
これはいわゆるインクリメンタルサーチです。検索したい文字を入力している間にも<br>
ヒットする文字列を探して画面に表示してくれます。これはヒットするパターンがある<br>
かどうかのチェックに使えます。<span class="Special">&lt;Enter&gt;</span>を押すと実際にその場所にカーソルがジャン<br>
プします。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:set nowrapscan</span><br>
<div><br></div>
ファイルの末尾まで進んだら(後方検索の場合はファイルの先頭まで戻ったら)検索を停<br>
止します。<a class="Type" href="options.html#'wrapscan'">'wrapscan'</a>オプションの初期設定はオンです。オンの場合は、ファイルの末<br>
尾まで進んだら先頭に戻って検索を続けます。<br>
<div><br></div>
<div><br></div>
ところで...<br>
<span class="PreProc">-----------</span><br>
<div><br></div>
これまでに出てきたオプションを毎回設定したい場合は、スタートアップファイルにそ<br>
のコマンドを書いてください。<br>
<a class="Identifier" href="usr_01.html#not-compatible">|not-compatible|</a>の説明のとおりにファイルを編集するか、次のコマンドを入力して、<br>
ファイルがどこにあるか確認してください。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:scriptnames</span><br>
<div><br></div>
ファイルを編集するには、例えば次のようにします。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:edit ~/.vimrc</span><br>
<div><br></div>
そして、オプションを設定するためにVim上で実行したのと同じコマンドを書き加えま<br>
す。例えば、次のようにします。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Go:set hlsearch&lt;Esc&gt;</span><br>
<div><br></div>
&quot;G&quot; でファイルの末尾まで移動し、&quot;o&quot; で新しい行を挿入して &quot;:set&quot; コマンドを書く<br>
ための空行を作っています。挿入モードの終了は<span class="Special">&lt;Esc&gt;</span>です。そして、ファイルを保存<br>
しましょう。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ZZ</span><br>
<div><br></div>
次にVimを起動すると、<a class="Type" href="options.html#'hlsearch'">'hlsearch'</a>オプションが最初からオンになっています。<br>
<div><br></div>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_03.html#03.9" name="03.9">*03.9*</a>&nbsp;&nbsp;簡単なパターン検索<br>
<div><br></div>
Vimでは、検索に正規表現(regular expressions)を使います。<br>
正規表現というのは検索パターンを指定するための、極めてパワフルでシンプルな方法<br>
です。残念ながら、これの実力を発揮させるには少々苦労していただくことになりま<br>
す。というのも、正規表現はちょっとばかりトリッキーなんです。<br>
ここでは本当に基本的なものだけを述べます。パターン検索とコマンドについては<br>
27章<a class="Identifier" href="usr_27.html">|usr_27.txt|</a>でもっと詳しく説明します。完全な説明は<a class="Identifier" href="pattern.html#pattern">|pattern|</a>にあります。<br>
<div><br></div>
<div><br></div>
行頭と行末<br>
<span class="PreProc">----------</span><br>
<div><br></div>
&quot;^&quot;は行頭を示します。英語(ASCII)キーボードでは 6 のキーに、日本語(JIS)キーボー<br>
ドでは 0 のキーの 2 つ右側に刻印してあります。<br>
例えば、&quot;include&quot;というパターンは 行のどこかに include という単語を含んでいれ<br>
ば、ヒットします。一方、&quot;^include&quot; は行頭にある include にだけマッチします。<br>
&quot;$&quot;は同様に行末にヒットします。ですから、パターン&quot;was$&quot; は、行末が was で終<br>
わっている場合だけヒットします。<br>
<div><br></div>
下の例では、&quot;the&quot;にマッチする箇所を&quot;xxx&quot;で示しています。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">the solder holding one of the chips melted and the</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xxx<br>
<div><br></div>
&quot;/the$&quot;の場合は次のようになります。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">the solder holding one of the chips melted and the</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xxx<br>
<div><br></div>
&quot;/^the&quot;の場合はこうです。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">the solder holding one of the chips melted and the</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xxx<br>
<div><br></div>
&quot;/^the$&quot;という指定もできます。この指定だと、&quot;the&quot;という単語だけの行にヒット<br>
します。なお空白文字も意味を持ちます。ですから、&quot;the &quot;のように行末に空白文<br>
字を含んでいた場合は、&quot;/the$&quot;のパターンではヒットしません。<br>
<div><br></div>
<div><br></div>
任意の 1 文字<br>
<span class="PreProc">-------------</span><br>
<div><br></div>
&quot;.&quot; はあらゆる文字にヒットします。例えば、&quot;c.m&quot;は最初が&quot;c&quot;で始まり、2 文字目は<br>
何でも良くて、3 文字目が&quot;m&quot;であるパターンにヒットします。例を示します。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">We use a computer that became the cummin winter.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; xxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xxx<br>
<div><br></div>
<div><br></div>
特殊文字<br>
<span class="PreProc">--------</span><br>
<div><br></div>
例えば&quot;.&quot;という文字自体を探す時は、上で述べたような特殊な意味を&quot;\&quot;文字を<br>
使って無効にします。<br>
&quot;ter.&quot;というパターンで検索をすると、次の&quot;xxx&quot;の箇所でヒットします。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="PreProc">We use a computer that became the cummin winter.</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xxxx&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xxxx<br>
<div><br></div>
これを&quot;ter\.&quot;で検索すると、上図の 2 つ目だけがヒットします。<br>
<div><br></div>
<span class="PreProc">==============================================================================</span><br>
<a class="Constant" href="usr_03.html#03.10" name="03.10">*03.10*</a>&nbsp;マークの使用<br>
<div><br></div>
&quot;G&quot;コマンドでジャンプすると、その直前のカーソル位置が記録されます。これをマー<br>
クと呼びます。元の場所に戻るには、次のコマンドを使います。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;``</span><br>
<div><br></div>
この ` は backtick とか open single-quote と呼ばれる(日本では「バッククオート」<br>
が多いでしょうか)ものです。<br>
このコマンドを 2 回実行すると、元の場所に戻ります。これは ` コマンドもジャンプ<br>
コマンドなので、実行前の場所が記録されるためです。<br>
<div><br></div>
通常、現在行以外にカーソルが動くようなコマンドを実行した場合、それをジャンプ<br>
と呼びます。&quot;/&quot;や&quot;n&quot;もジャンプの一種です(ジャンプ先がどれだけ離れているかは<br>
関係ありません)。逆に、文字検索である&quot;fx&quot;や&quot;tx&quot;、単語移動である&quot;w&quot;や&quot;e&quot;は<br>
ジャンプではありません。<br>
&quot;j&quot;や&quot;k&quot;はカウンタを指定すればカーソルをはるか彼方に移動できますが、これも<br>
ジャンプ扱いではありません。<br>
<div><br></div>
``コマンドは 2 個所の間を交互にジャンプします。<span class="Special">CTRL-O</span>コマンドはより古いマーク<br>
(O は Older の意味です)にジャンプします。<span class="Special">CTRL-I</span>はより新しいマーク(&quot;I&quot;キーは<br>
&quot;O&quot;キーのすぐ左隣りです)にジャンプします。次のコマンドを例にしましょう。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33G</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;/^The</span><br>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CTRL-O</span><br>
<div><br></div>
まず33行目にジャンプします。次に&quot;The&quot;で始まる行を探します。ここで<span class="Special">CTRL-O</span>を使う<br>
と、33行目に戻ります。もう一度<span class="Special">CTRL-O</span>を使うと、最初の場所に戻ります。そして、<br>
<span class="Special">CTRL-I</span>を使うと33行目にジャンプし、さらに<span class="Special">CTRL-I</span>を使うと行頭が&quot;The&quot;で始まる行に<br>
ジャンプします。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;example text&nbsp;&nbsp; ^&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;33G&nbsp;&nbsp;|&nbsp;&nbsp;example text&nbsp;&nbsp; |&nbsp;&nbsp;<span class="Special">CTRL-O</span>&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;<span class="Special">CTRL-I</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;example text&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; V&nbsp;&nbsp;line 33 text&nbsp;&nbsp; ^&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; V<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;example text&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; /^The |&nbsp;&nbsp;example text&nbsp;&nbsp; |&nbsp;&nbsp;<span class="Special">CTRL-O</span>&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;<span class="Special">CTRL-I</span><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; V&nbsp;&nbsp;There you are&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; V<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;example text<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Todo">Note</span>:<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="Special">CTRL-I</span>は<span class="Special">&lt;Tab&gt;</span>キーと同じです。<br>
<div><br></div>
&quot;:jumps&quot;コマンドで今までにジャンプした場所の一覧を表示できます。最後に使ったエ<br>
ントリには&quot;&gt;&quot;記号がついています。<br>
<div><br></div>
<div><br></div>
名前付きマーク&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="Constant" href="usr_03.html#bookmark" name="bookmark">*bookmark*</a><br>
<span class="PreProc">--------------</span><br>
<div><br></div>
文章中にマークを付けることができます。&quot;ma&quot;コマンドで現在のカーソル位置をマーク<br>
a に記録します。文章には 26 個 (aからzまで) のマークを付けられます。マークは<br>
Vim が記録している位置情報です。画面に何かが表示されるわけではありません。<br>
マークへの移動は `<span class="Special">{mark}</span>&nbsp;コマンドを使います。<span class="Special">{mark}</span>はマーク文字のことです。<br>
マーク a に移動するには次のようにします。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;`a</span><br>
<div><br></div>
'<span class="Special">{mark}</span>(アポストロフィ + マーク名)コマンドで<span class="Special">{mark}</span>を設定してある行の行頭に移動<br>
できます。`<span class="Special">{mark}</span>の場合は<span class="Special">{mark}</span>を設定した桁位置に移動します。<br>
<div><br></div>
マーク機能はファイル中の関連している 2 箇所で作業をする場合に便利です。例えば、<br>
ファイルの最後の方を編集している時に、ファイルの最初の方の内容を確認する必要が<br>
生じた場合を考えてみましょう。<br>
まずファイルの最初の方に移動して、マーク s (startのつもり) を付けます。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ms</span><br>
<div><br></div>
次に編集したい場所に移動して、マーク e (endのつもり) を付けます。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;me</span><br>
<div><br></div>
これで自由に行き来ができます。ファイルの先頭に移動したい時は、次のコマンドで<br>
ジャンプできます。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'s</span><br>
<div><br></div>
ここで、 '' を使って戻ることもできますし、 'e を使って末尾のマークまでジャン<br>
プすることもできます。<br>
先頭にマーク s を、末尾にマーク e を使いましたが、その名前に特別な意味はありま<br>
せん。単に覚えやすいから使っただけです。<br>
<div><br></div>
次のコマンドは設定してあるマークの一覧を表示します。<br>
<div><br></div>
<span class="Comment">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;:marks</span><br>
<div><br></div>
この一覧には次のような特殊なマークも表示されます。<br>
<div><br></div>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ジャンプする直前のカーソル位置<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 直前にファイルを編集した時のカーソル位置<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 直前の変更の開始位置<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 直前の変更の終了位置<br>
<div><br></div>
<span class="PreProc">==============================================================================</span><br>
<div><br></div>
次章:&nbsp;<a class="Identifier" href="usr_04.html">|usr_04.txt|</a>&nbsp;&nbsp;簡単な編集<br>
<div><br></div>
Copyright: see&nbsp;<a class="Identifier" href="usr_01.html#manual-copyright">|manual-copyright|</a>&nbsp;&nbsp;vim&#0058;tw=78:ts=8:ft=help:norl:<br>
<hr>
<a href="#top">top</a> - <a href="index.html">main help file</a><br>

<div style="text-align:right;">
<a href="https://github.com/vim-jp/vimdoc-ja">Vim日本語ドキュメント</a><br>
</div>
</body>
</html>
